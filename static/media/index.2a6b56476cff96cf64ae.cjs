"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,r,t)=>r in e?__defProp(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,__spreadValues=(e,r)=>{for(var t in r||(r={}))__hasOwnProp.call(r,t)&&__defNormalProp(e,t,r[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(r))__propIsEnum.call(r,t)&&__defNormalProp(e,t,r[t]);return e},__spreadProps=(e,r)=>__defProps(e,__getOwnPropDescs(r)),__name=(e,r)=>__defProp(e,"name",{value:r,configurable:!0}),_bearing=require("@turf/bearing"),_distance=require("@turf/distance"),_destination=require("@turf/destination"),_lineintersect=require("@turf/line-intersect"),_meta=require("@turf/meta"),_helpers=require("@turf/helpers"),_invariant=require("@turf/invariant");function nearestPointOnLine(e,r,t={}){if(!e||!r)throw new Error("lines and pt are required arguments");let i=_helpers.point.call(void 0,[1/0,1/0],{dist:1/0,index:-1,location:-1}),s=0;return _meta.flattenEach.call(void 0,e,(function(e){const o=_invariant.getCoords.call(void 0,e);for(let n=0;n<o.length-1;n++){const e=_helpers.point.call(void 0,o[n]);e.properties.dist=_distance.distance.call(void 0,r,e,t);const a=_helpers.point.call(void 0,o[n+1]);a.properties.dist=_distance.distance.call(void 0,r,a,t);const p=_distance.distance.call(void 0,e,a,t),_=Math.max(e.properties.dist,a.properties.dist),l=_bearing.bearing.call(void 0,e,a),d=_destination.destination.call(void 0,r,_,l+90,t),c=_destination.destination.call(void 0,r,_,l-90,t),u=_lineintersect.lineIntersect.call(void 0,_helpers.lineString.call(void 0,[d.geometry.coordinates,c.geometry.coordinates]),_helpers.lineString.call(void 0,[e.geometry.coordinates,a.geometry.coordinates]));let f;u.features.length>0&&u.features[0]&&(f=__spreadProps(__spreadValues({},u.features[0]),{properties:{dist:_distance.distance.call(void 0,r,u.features[0],t),location:s+_distance.distance.call(void 0,e,u.features[0],t)}})),e.properties.dist<i.properties.dist&&(i=__spreadProps(__spreadValues({},e),{properties:__spreadProps(__spreadValues({},e.properties),{index:n,location:s})})),a.properties.dist<i.properties.dist&&(i=__spreadProps(__spreadValues({},a),{properties:__spreadProps(__spreadValues({},a.properties),{index:n+1,location:s+p})})),f&&f.properties.dist<i.properties.dist&&(i=__spreadProps(__spreadValues({},f),{properties:__spreadProps(__spreadValues({},f.properties),{index:n})})),s+=p}})),i}__name(nearestPointOnLine,"nearestPointOnLine");var turf_nearest_point_on_line_default=nearestPointOnLine;exports.default=turf_nearest_point_on_line_default,exports.nearestPointOnLine=nearestPointOnLine;