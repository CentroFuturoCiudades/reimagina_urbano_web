/*! For license information please see main.5f9c97fc.js.LICENSE.txt */
(()=>{var t={93719:(t,e,n)=>{"use strict";n.d(e,{A:()=>A});var r=n(54705),i=n(7394),o=n(49147);const s={transitionDuration:0},a=t=>1-(1-t)*(1-t),l=["wheel"],c=["panstart","panmove","panend"],u=["pinchstart","pinchmove","pinchend"],h=["tripanstart","tripanmove","tripanend"],f=["doubletap"],d=["keydown"],p={};class A{constructor(t){(0,r.A)(this,"props",void 0),(0,r.A)(this,"state",{}),(0,r.A)(this,"transitionManager",void 0),(0,r.A)(this,"eventManager",void 0),(0,r.A)(this,"onViewStateChange",void 0),(0,r.A)(this,"onStateChange",void 0),(0,r.A)(this,"makeViewport",void 0),(0,r.A)(this,"_controllerState",void 0),(0,r.A)(this,"_events",{}),(0,r.A)(this,"_interactionState",{isDragging:!1}),(0,r.A)(this,"_customEvents",[]),(0,r.A)(this,"_eventStartBlocked",null),(0,r.A)(this,"_panMove",!1),(0,r.A)(this,"invertPan",!1),(0,r.A)(this,"dragMode","rotate"),(0,r.A)(this,"inertia",0),(0,r.A)(this,"scrollZoom",!0),(0,r.A)(this,"dragPan",!0),(0,r.A)(this,"dragRotate",!0),(0,r.A)(this,"doubleClickZoom",!0),(0,r.A)(this,"touchZoom",!0),(0,r.A)(this,"touchRotate",!1),(0,r.A)(this,"keyboard",!0),this.transitionManager=new i.A({...t,getControllerState:t=>new this.ControllerState(t),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=t.eventManager,this.onViewStateChange=t.onViewStateChange||(()=>{}),this.onStateChange=t.onStateChange||(()=>{}),this.makeViewport=t.makeViewport}set events(t){this.toggleEvents(this._customEvents,!1),this.toggleEvents(t,!0),this._customEvents=t,this.props&&this.setProps(this.props)}finalize(){for(const e in this._events){var t;if(this._events[e])null===(t=this.eventManager)||void 0===t||t.off(e,this.handleEvent)}this.transitionManager.finalize()}handleEvent(t){this._controllerState=void 0;const e=this._eventStartBlocked;switch(t.type){case"panstart":return!e&&this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return!e&&this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchend":return this._onPinchEnd(t);case"tripanstart":return!e&&this._onTriplePanStart(t);case"tripanmove":return this._onTriplePan(t);case"tripanend":return this._onTriplePanEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(t){const{x:e,y:n}=this.props,{offsetCenter:r}=t;return[r.x-e,r.y-n]}isPointInBounds(t,e){const{width:n,height:r}=this.props;if(e&&e.handled)return!1;const i=t[0]>=0&&t[0]<=n&&t[1]>=0&&t[1]<=r;return i&&e&&e.stopPropagation(),i}isFunctionKeyPressed(t){const{srcEvent:e}=t;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(t){const e=setTimeout((()=>{this._eventStartBlocked===e&&(this._eventStartBlocked=null)}),t);this._eventStartBlocked=e}setProps(t){t.dragMode&&(this.dragMode=t.dragMode),this.props=t,"transitionInterpolator"in t||(t.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(t);const{inertia:e}=t;this.inertia=Number.isFinite(e)?e:!0===e?300:0;const{scrollZoom:n=!0,dragPan:r=!0,dragRotate:i=!0,doubleClickZoom:o=!0,touchZoom:s=!0,touchRotate:a=!1,keyboard:p=!0}=t,A=Boolean(this.onViewStateChange);this.toggleEvents(l,A&&n),this.toggleEvents(c,A),this.toggleEvents(u,A&&(s||a)),this.toggleEvents(h,A&&a),this.toggleEvents(f,A&&o),this.toggleEvents(d,A&&p),this.scrollZoom=n,this.dragPan=r,this.dragRotate=i,this.doubleClickZoom=o,this.touchZoom=s,this.touchRotate=a,this.keyboard=p}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(t,e){this.eventManager&&t.forEach((t=>{this._events[t]!==e&&(this._events[t]=e,e?this.eventManager.on(t,this.handleEvent):this.eventManager.off(t,this.handleEvent))}))}updateViewport(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={...t.getViewportProps(),...e},i=this.controllerState!==t;if(this.state=t.getState(),this._setInteractionState(n),i){const t=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:t})}}_onTransition(t){this.onViewStateChange({...t,interactionState:this._interactionState})}_setInteractionState(t){Object.assign(this._interactionState,t),this.onStateChange(this._interactionState)}_onPanStart(t){const e=this.getCenter(t);if(!this.isPointInBounds(e,t))return!1;let n=this.isFunctionKeyPressed(t)||t.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(n=!n);const r=this.controllerState[n?"panStart":"rotateStart"]({pos:e});return this._panMove=n,this.updateViewport(r,s,{isDragging:!0}),!0}_onPan(t){return!!this.isDragging()&&(this._panMove?this._onPanMove(t):this._onPanRotate(t))}_onPanEnd(t){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(t):this._onPanRotateEnd(t))}_onPanMove(t){if(!this.dragPan)return!1;const e=this.getCenter(t),n=this.controllerState.pan({pos:e});return this.updateViewport(n,s,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(t){const{inertia:e}=this;if(this.dragPan&&e&&t.velocity){const n=this.getCenter(t),r=[n[0]+t.velocityX*e/2,n[1]+t.velocityY*e/2],i=this.controllerState.pan({pos:r}).panEnd();this.updateViewport(i,{...this._getTransitionProps(),transitionDuration:e,transitionEasing:a},{isDragging:!1,isPanning:!0})}else{const t=this.controllerState.panEnd();this.updateViewport(t,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(t){if(!this.dragRotate)return!1;const e=this.getCenter(t),n=this.controllerState.rotate({pos:e});return this.updateViewport(n,s,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(t){const{inertia:e}=this;if(this.dragRotate&&e&&t.velocity){const n=this.getCenter(t),r=[n[0]+t.velocityX*e/2,n[1]+t.velocityY*e/2],i=this.controllerState.rotate({pos:r}).rotateEnd();this.updateViewport(i,{...this._getTransitionProps(),transitionDuration:e,transitionEasing:a},{isDragging:!1,isRotating:!0})}else{const t=this.controllerState.rotateEnd();this.updateViewport(t,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(t){if(!this.scrollZoom)return!1;const e=this.getCenter(t);if(!this.isPointInBounds(e,t))return!1;t.srcEvent.preventDefault();const{speed:n=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:i}=t;let o=2/(1+Math.exp(-Math.abs(i*n)));i<0&&0!==o&&(o=1/o);const s=this.controllerState.zoom({pos:e,scale:o});return this.updateViewport(s,{...this._getTransitionProps({around:e}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(t){const e=this.getCenter(t);if(!this.isPointInBounds(e,t))return!1;const n=this.controllerState.rotateStart({pos:e});return this.updateViewport(n,s,{isDragging:!0}),!0}_onTriplePan(t){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;const e=this.getCenter(t);e[0]-=t.deltaX;const n=this.controllerState.rotate({pos:e});return this.updateViewport(n,s,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(t){if(!this.isDragging())return!1;const{inertia:e}=this;if(this.touchRotate&&e&&t.velocityY){const n=this.getCenter(t),r=[n[0],n[1]+=t.velocityY*e/2],i=this.controllerState.rotate({pos:r});this.updateViewport(i,{...this._getTransitionProps(),transitionDuration:e,transitionEasing:a},{isDragging:!1,isRotating:!0}),this.blockEvents(e)}else{const t=this.controllerState.rotateEnd();this.updateViewport(t,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(t){const e=this.getCenter(t);if(!this.isPointInBounds(e,t))return!1;const n=this.controllerState.zoomStart({pos:e}).rotateStart({pos:e});return p._startPinchRotation=t.rotation,p._lastPinchEvent=t,this.updateViewport(n,s,{isDragging:!0}),!0}_onPinch(t){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let e=this.controllerState;if(this.touchZoom){const{scale:n}=t,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){const{rotation:n}=t;e=e.rotate({deltaAngleX:p._startPinchRotation-n})}return this.updateViewport(e,s,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),p._lastPinchEvent=t,!0}_onPinchEnd(t){if(!this.isDragging())return!1;const{inertia:e}=this,{_lastPinchEvent:n}=p;if(this.touchZoom&&e&&n&&t.scale!==n.scale){const r=this.getCenter(t);let i=this.controllerState.rotateEnd();const o=Math.log2(t.scale),s=(o-Math.log2(n.scale))/(t.deltaTime-n.deltaTime),l=Math.pow(2,o+s*e/2);i=i.zoom({pos:r,scale:l}).zoomEnd(),this.updateViewport(i,{...this._getTransitionProps({around:r}),transitionDuration:e,transitionEasing:a},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(e)}else{const t=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return p._startPinchRotation=null,p._lastPinchEvent=null,!0}_onDoubleTap(t){if(!this.doubleClickZoom)return!1;const e=this.getCenter(t);if(!this.isPointInBounds(e,t))return!1;const n=this.isFunctionKeyPressed(t),r=this.controllerState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,this._getTransitionProps({around:e}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(t){if(!this.keyboard)return!1;const e=this.isFunctionKeyPressed(t),{zoomSpeed:n,moveSpeed:r,rotateSpeedX:i,rotateSpeedY:o}=!0===this.keyboard?{}:this.keyboard,{controllerState:s}=this;let a;const l={};switch(t.srcEvent.code){case"Minus":a=e?s.zoomOut(n).zoomOut(n):s.zoomOut(n),l.isZooming=!0;break;case"Equal":a=e?s.zoomIn(n).zoomIn(n):s.zoomIn(n),l.isZooming=!0;break;case"ArrowLeft":e?(a=s.rotateLeft(i),l.isRotating=!0):(a=s.moveLeft(r),l.isPanning=!0);break;case"ArrowRight":e?(a=s.rotateRight(i),l.isRotating=!0):(a=s.moveRight(r),l.isPanning=!0);break;case"ArrowUp":e?(a=s.rotateUp(o),l.isRotating=!0):(a=s.moveUp(r),l.isPanning=!0);break;case"ArrowDown":e?(a=s.rotateDown(o),l.isRotating=!0):(a=s.moveDown(r),l.isPanning=!0);break;default:return!1}return this.updateViewport(a,this._getTransitionProps(),l),!0}_getTransitionProps(t){const{transition:e}=this;return e&&e.transitionInterpolator?t?{...e,transitionInterpolator:new o.A({...t,...e.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:e:s}}},742:(t,e,n)=>{"use strict";n.d(e,{A:()=>h,y:()=>u});var r=n(54705),i=n(67567),o=n(93719),s=n(72914),a=n(17844),l=n(45497),c=n(49147);class u extends s.A{constructor(t){const{width:e,height:n,latitude:i,longitude:o,zoom:s,bearing:a=0,pitch:c=0,altitude:u=1.5,position:h=[0,0,0],maxZoom:f=20,minZoom:d=0,maxPitch:p=60,minPitch:A=0,startPanLngLat:g,startZoomLngLat:y,startRotatePos:m,startBearing:v,startPitch:b,startZoom:_,normalize:w=!0}=t;(0,l.A)(Number.isFinite(o)),(0,l.A)(Number.isFinite(i)),(0,l.A)(Number.isFinite(s)),super({width:e,height:n,latitude:i,longitude:o,zoom:s,bearing:a,pitch:c,altitude:u,maxZoom:f,minZoom:d,maxPitch:p,minPitch:A,normalize:w,position:h},{startPanLngLat:g,startZoomLngLat:y,startRotatePos:m,startBearing:v,startPitch:b,startZoom:_}),(0,r.A)(this,"makeViewport",void 0),this.makeViewport=t.makeViewport}panStart(t){let{pos:e}=t;return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan(t){let{pos:e,startPos:n}=t;const r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;const i=this.makeViewport(this.getViewportProps()).panByPosition(r,e);return this._getUpdatedState(i)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart(t){let{pos:e}=t;return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate(t){let{pos:e,deltaAngleX:n=0,deltaAngleY:r=0}=t;const{startRotatePos:i,startBearing:o,startPitch:s}=this.getState();if(!i||void 0===o||void 0===s)return this;let a;return a=e?this._getNewRotation(e,i,s,o):{bearing:o+n,pitch:s+r},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart(t){let{pos:e}=t;return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom(t){let{pos:e,startPos:n,scale:r}=t,{startZoom:o,startZoomLngLat:s}=this.getState();if(s||(o=this.getViewportProps().zoom,s=this._unproject(n)||this._unproject(e)),!s)return this;const{maxZoom:a,minZoom:l}=this.getViewportProps();let c=o+Math.log2(r);c=(0,i.qE)(c,l,a);const u=this.makeViewport({...this.getViewportProps(),zoom:c});return this._getUpdatedState({zoom:c,...u.panByPosition(s,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(t)}zoomOut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(1/t)}moveLeft(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([t,0])}moveRight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([-t,0])}moveUp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,t])}moveDown(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,-t])}rotateLeft(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-t})}rotateRight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+t})}rotateUp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+t})}rotateDown(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-t})}shortestPathFrom(t){const e=t.getViewportProps(),n={...this.getViewportProps()},{bearing:r,longitude:i}=n;return Math.abs(r-e.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(i-e.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}applyConstraints(t){const{maxZoom:e,minZoom:n,zoom:r}=t;t.zoom=(0,i.qE)(r,n,e);const{maxPitch:o,minPitch:s,pitch:l}=t;t.pitch=(0,i.qE)(l,s,o);const{normalize:c=!0}=t;return c&&Object.assign(t,(0,a.CK)(t)),t}_zoomFromCenter(t){const{width:e,height:n}=this.getViewportProps();return this.zoom({pos:[e/2,n/2],scale:t})}_panFromCenter(t){const{width:e,height:n}=this.getViewportProps();return this.pan({startPos:[e/2,n/2],pos:[e/2+t[0],n/2+t[1]]})}_getUpdatedState(t){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...t})}_unproject(t){const e=this.makeViewport(this.getViewportProps());return t&&e.unproject(t)}_getNewRotation(t,e,n,r){const o=t[0]-e[0],s=t[1]-e[1],a=t[1],l=e[1],{width:c,height:u}=this.getViewportProps(),h=o/c;let f=0;s>0?Math.abs(u-l)>5&&(f=s/(l-u)*1.2):s<0&&l>5&&(f=1-a/l),f=(0,i.qE)(f,-1,1);const{minPitch:d,maxPitch:p}=this.getViewportProps();let A=n;return f>0?A=n+f*(p-n):f<0&&(A=n-f*(d-n)),{pitch:A,bearing:r+180*h}}}class h extends o.A{constructor(){super(...arguments),(0,r.A)(this,"ControllerState",u),(0,r.A)(this,"transition",{transitionDuration:300,transitionInterpolator:new c.A({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),(0,r.A)(this,"dragMode","pan")}setProps(t){t.position=t.position||[0,0,0];const e=this.props;super.setProps(t);(!e||e.height!==t.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...t,...this.state}))}}},7394:(t,e,n)=>{"use strict";n.d(e,{A:()=>c,w:()=>s});var r=n(54705),i=n(3071);const o=()=>{},s={BREAK:1,SNAP_TO_END:2,IGNORE:3},a=t=>t,l=s.BREAK;class c{constructor(t){(0,r.A)(this,"getControllerState",void 0),(0,r.A)(this,"props",void 0),(0,r.A)(this,"propsInTransition",void 0),(0,r.A)(this,"transition",void 0),(0,r.A)(this,"onViewStateChange",void 0),(0,r.A)(this,"onStateChange",void 0),(0,r.A)(this,"_onTransitionUpdate",(t=>{const{time:e,settings:{interpolator:n,startProps:r,endProps:i,duration:o,easing:s}}=t,a=s(e/o),l=n.interpolateProps(r,i,a);this.propsInTransition=this.getControllerState({...this.props,...l}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})})),this.getControllerState=t.getControllerState,this.propsInTransition=null,this.transition=new i.A(t.timeline),this.onViewStateChange=t.onViewStateChange||o,this.onStateChange=t.onStateChange||o}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(t){let e=!1;const n=this.props;if(this.props=t,!n||this._shouldIgnoreViewportChange(n,t))return!1;if(this._isTransitionEnabled(t)){let r=n;if(this.transition.inProgress){const{interruption:t,endProps:e}=this.transition.settings;r={...n,...t===s.SNAP_TO_END?e:this.propsInTransition||n}}this._triggerTransition(r,t),e=!0}else this.transition.cancel();return e}updateTransition(){this.transition.update()}_isTransitionEnabled(t){const{transitionDuration:e,transitionInterpolator:n}=t;return(e>0||"auto"===e)&&Boolean(n)}_isUpdateDueToCurrentTransition(t){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(t,this.propsInTransition)}_shouldIgnoreViewportChange(t,e){return this.transition.inProgress?this.transition.settings.interruption===s.IGNORE||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e)}_triggerTransition(t,e){const n=this.getControllerState(t),r=this.getControllerState(e).shortestPathFrom(n),i=e.transitionInterpolator,o=i.getDuration?i.getDuration(t,e):e.transitionDuration;if(0===o)return;const s=i.initializeProps(t,r);this.propsInTransition={};const c={duration:o,easing:e.transitionEasing||a,interpolator:i,interruption:e.transitionInterruption||l,startProps:s.start,endProps:s.end,onStart:e.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(e.onTransitionInterrupt),onEnd:this._onTransitionEnd(e.onTransitionEnd)};this.transition.start(c),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(t){return e=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),null===t||void 0===t||t(e)}}}},72914:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(54705);class i{constructor(t,e){(0,r.A)(this,"_viewportProps",void 0),(0,r.A)(this,"_state",void 0),this._viewportProps=this.applyConstraints(t),this._state=e}getViewportProps(){return this._viewportProps}getState(){return this._state}}},40249:(t,e,n)=>{"use strict";n.d(e,{A:()=>s,k:()=>o});var r=n(96649);let i={};function o(t){i=t}function s(t,e,n,o){r.A.level>0&&i[t]&&i[t].call(null,e,n,o)}},34976:(t,e,n)=>{"use strict";n.d(e,{$:()=>a});var r=n(54705);const i=[255,255,255],o=1;let s=0;class a{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.A)(this,"id",void 0),(0,r.A)(this,"color",void 0),(0,r.A)(this,"intensity",void 0),(0,r.A)(this,"type","ambient");const{color:e=i}=t,{intensity:n=o}=t;this.id=t.id||"ambient-".concat(s++),this.color=e,this.intensity=n}}},81556:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r=n(54705),i=n(83051);const o=[255,255,255],s=1,a=[0,0,-1];let l=0;class c{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.A)(this,"id",void 0),(0,r.A)(this,"color",void 0),(0,r.A)(this,"intensity",void 0),(0,r.A)(this,"type","directional"),(0,r.A)(this,"direction",void 0),(0,r.A)(this,"shadow",void 0);const{color:e=o}=t,{intensity:n=s}=t,{direction:c=a}=t,{_shadow:u=!1}=t;this.id=t.id||"directional-".concat(l++),this.color=e,this.intensity=n,this.type="directional",this.direction=new i.A(c).normalize().toArray(),this.shadow=u}getProjectedLight(t){return this}}},26895:(t,e,n)=>{"use strict";n.d(e,{A:()=>v});var r=n(54705),i=n(51844),o=n(59375),s=n(34976),a=n(81556),l=n(92684),c=n(83051),u=n(33711),h=n(40507),f=n(38349),d=n(45882);class p extends u.A{constructor(t,e){super(t,e),(0,r.A)(this,"shadowMap",void 0),(0,r.A)(this,"depthBuffer",void 0),(0,r.A)(this,"fbo",void 0),this.shadowMap=new o.A(t,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new h.A(t,{format:33189,width:1,height:1}),this.fbo=new f.A(t,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(t){const e=this.fbo;(0,d.zv)(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(()=>{const n=t.viewports[0],r=(0,d.o0)(this.gl),i=n.width*r,o=n.height*r;i===e.width&&o===e.height||e.resize({width:i,height:o}),super.render({...t,target:e,pass:"shadow"})}))}shouldDrawLayer(t){return!1!==t.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}var A=n(95247);const g={color:[255,255,255],intensity:1},y=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],m=[0,0,0,200/255];class v{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.A)(this,"id","lighting-effect"),(0,r.A)(this,"props",void 0),(0,r.A)(this,"shadowColor",m),(0,r.A)(this,"shadow",void 0),(0,r.A)(this,"ambientLight",void 0),(0,r.A)(this,"directionalLights",void 0),(0,r.A)(this,"pointLights",void 0),(0,r.A)(this,"shadowPasses",[]),(0,r.A)(this,"shadowMaps",[]),(0,r.A)(this,"dummyShadowMap",null),(0,r.A)(this,"programManager",void 0),(0,r.A)(this,"shadowMatrices",void 0),this.setProps(t)}setProps(t){this.ambientLight=null,this.directionalLights=[],this.pointLights=[];for(const e in t){const n=t[e];switch(n.type){case"ambient":this.ambientLight=n;break;case"directional":this.directionalLights.push(n);break;case"point":this.pointLights.push(n)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((t=>t.shadow)),this.props=t}preRender(t,e){let{layers:n,layerFilter:r,viewports:s,onViewportActive:a,views:l}=e;if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(t),this.programManager||(this.programManager=i.A.getDefaultProgramManager(t),A.A&&this.programManager.addDefaultModule(A.A)),this.dummyShadowMap||(this.dummyShadowMap=new o.A(t,{width:1,height:1}));for(let t=0;t<this.shadowPasses.length;t++){this.shadowPasses[t].render({layers:n,layerFilter:r,viewports:s,onViewportActive:a,views:l,moduleParameters:{shadowLightId:t,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}getModuleParameters(t){const e=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return e.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((e=>e.getProjectedLight({layer:t}))),pointLights:this.pointLights.map((e=>e.getProjectedLight({layer:t})))},e}cleanup(){for(const t of this.shadowPasses)t.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(A.A),this.programManager=null)}_calculateMatrices(){const t=[];for(const e of this.directionalLights){const n=(new l.A).lookAt({eye:new c.A(e.direction).negate()});t.push(n)}return t}_createShadowPasses(t){for(let e=0;e<this.directionalLights.length;e++){const n=new p(t);this.shadowPasses[e]=n,this.shadowMaps[e]=n.shadowMap}}_applyDefaultLights(){const{ambientLight:t,pointLights:e,directionalLights:n}=this;t||0!==e.length||0!==n.length||(this.ambientLight=new s.$(g),this.directionalLights.push(new a.Z(y[0]),new a.Z(y[1])))}}},1047:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AmbientLight:()=>s.$,AttributeManager:()=>Y.A,COORDINATE_SYSTEM:()=>i.rf,CompositeLayer:()=>K.A,Controller:()=>bt.A,Deck:()=>q.A,DeckRenderer:()=>J.A,DirectionalLight:()=>a.Z,FirstPersonController:()=>Ct,FirstPersonView:()=>Pt,FirstPersonViewport:()=>ft,FlyToInterpolator:()=>Vt,Layer:()=>Q.A,LayerExtension:()=>Ft.A,LayerManager:()=>X.A,LightingEffect:()=>o.A,LinearInterpolator:()=>xt.A,MapController:()=>kt.A,MapView:()=>vt.A,OPERATION:()=>i.qR,OrbitController:()=>Tt,OrbitView:()=>Ot,OrbitViewport:()=>ot,OrthographicController:()=>Rt,OrthographicView:()=>Lt,OrthographicViewport:()=>ut,PointLight:()=>A,PostProcessEffect:()=>U,TRANSITION_EVENTS:()=>jt.w,Tesselator:()=>Xt.A,TransitionInterpolator:()=>Ut.A,UNIT:()=>i.p5,VERSION:()=>r.x,View:()=>mt.A,Viewport:()=>Z.A,WebMercatorViewport:()=>$.A,_CameraLight:()=>y,_GlobeController:()=>Nt,_GlobeView:()=>Dt,_GlobeViewport:()=>tt.A,_LayersPass:()=>H.A,_PickLayersPass:()=>W.A,_SunLight:()=>L,_compareProps:()=>$t.Me,_count:()=>Qt.U,_deepEqual:()=>Kt.b,_fillArray:()=>Yt.R,_flatten:()=>Yt.B,_memoize:()=>Jt.A,_mergeShaders:()=>Zt.n,assert:()=>Wt.A,createIterable:()=>qt.X,fp64LowPart:()=>wt.qk,gouraudLighting:()=>gt.K,log:()=>Ht.A,phongLighting:()=>gt.p,picking:()=>dt.A,project:()=>pt.A,project32:()=>At.A,shadow:()=>yt.A});var r=n(23575),i=n(77044),o=n(26895),s=n(34976),a=n(81556),l=n(54705),c=n(76557);const u=[255,255,255],h=1,f=[0,0,1],d=[0,0,1];let p=0;class A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.A)(this,"id",void 0),(0,l.A)(this,"color",void 0),(0,l.A)(this,"intensity",void 0),(0,l.A)(this,"type","point"),(0,l.A)(this,"position",void 0),(0,l.A)(this,"attenuation",void 0),(0,l.A)(this,"projectedLight",void 0);const{color:e=u}=t,{intensity:n=h}=t,{position:r=d}=t;this.id=t.id||"point-".concat(p++),this.color=e,this.intensity=n,this.type="point",this.position=r,this.attenuation=function(t){if(t.attenuation)return t.attenuation;if("intensity"in t)return[0,0,t.intensity||0];return f}(t),this.projectedLight={...this}}getProjectedLight(t){let{layer:e}=t;const{projectedLight:n}=this,r=e.context.viewport,{coordinateSystem:o,coordinateOrigin:s}=e.props,a=(0,c.R)(this.position,{viewport:r,coordinateSystem:o,coordinateOrigin:s,fromCoordinateSystem:r.isGeospatial?i.rf.LNGLAT:i.rf.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return n.color=this.color,n.intensity=this.intensity,n.position=a,n}}var g=n(51700);class y extends A{getProjectedLight(t){let{layer:e}=t;const{projectedLight:n}=this,r=e.context.viewport,{coordinateSystem:i,coordinateOrigin:o,modelMatrix:s}=e.props,{project_uCameraPosition:a}=(0,g.a)({viewport:r,modelMatrix:s,coordinateSystem:i,coordinateOrigin:o});return n.color=this.color,n.intensity=this.intensity,n.position=a,n}}const m=Math.PI/180,v=864e5,b=2440588,_=2451545,w=23.4397*m,x=357.5291,E=.98560028,S=280.147,C=360.9856235;function P(t,e,n){const r=m*-n,i=m*e,o=function(t){return function(t){const e="number"===typeof t?t:t.getTime();return e/v-.5+b}(t)-_}(t),s=function(t){const e=function(t){const e=t,n=m*(1.9148*Math.sin(e)+.02*Math.sin(2*e)+3e-4*Math.sin(3*e));return e+n+102.9372*m+Math.PI}((n=t,m*(x+E*n)));var n;return{declination:O(e,0),rightAscension:T(e,0)}}(o),a=function(t,e){return m*(S+C*t)-e}(o,r)-s.rightAscension;return{azimuth:I(a,i,s.declination),altitude:R(a,i,s.declination)}}function M(t,e,n){const{azimuth:r,altitude:i}=P(t,e,n);return[Math.sin(r)*Math.cos(i),Math.cos(r)*Math.cos(i),-Math.sin(i)]}function T(t,e){const n=t;return Math.atan2(Math.sin(n)*Math.cos(w)-Math.tan(e)*Math.sin(w),Math.cos(n))}function O(t,e){const n=t;return Math.asin(Math.sin(e)*Math.cos(w)+Math.cos(e)*Math.sin(w)*Math.sin(n))}function I(t,e,n){const r=t,i=e,o=n;return Math.atan2(Math.sin(r),Math.cos(r)*Math.sin(i)-Math.tan(o)*Math.cos(i))}function R(t,e,n){const r=t,i=e,o=n;return Math.asin(Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos(r))}class L extends a.Z{constructor(t){super(t),(0,l.A)(this,"timestamp",void 0),this.timestamp=t.timestamp}getProjectedLight(t){let{layer:e}=t;const{viewport:n}=e.context;if(n.resolution&&n.resolution>0){const[t,e,n]=M(this.timestamp,0,0);this.direction=[t,-n,e]}else{const{latitude:t,longitude:e}=n;this.direction=M(this.timestamp,t,e)}return this}}var k=n(84303),B=n(45882),N=n(73091),D=n(52450);class F extends D.A{constructor(t,e){super(t,e),(0,l.A)(this,"model",void 0);const{module:n,fs:r,id:i}=e;this.model=new k.A(t,{id:i,fs:r,modules:[n]})}render(t){const e=this.gl;(0,B.Rz)(e,{viewport:[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}),(0,B.zv)(e,{framebuffer:t.outputBuffer,clearColor:[0,0,0,0]},(()=>this._renderPass(e,t)))}delete(){this.model.delete(),this.model=null}_renderPass(t,e){const{inputBuffer:n}=e;(0,N.I)(t,{color:!0}),this.model.draw({moduleSettings:e.moduleSettings,uniforms:{texture:n,texSize:[n.width,n.height]},parameters:{depthWrite:!1,depthTest:!1}})}}var j=n(88066);class U{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,l.A)(this,"id",void 0),(0,l.A)(this,"props",void 0),(0,l.A)(this,"module",void 0),(0,l.A)(this,"passes",void 0),this.id="".concat(t.name,"-pass"),this.props=e,(0,j.b)(t),this.module=t}setProps(t){this.props=t}preRender(){}postRender(t,e){const n=this.passes||function(t,e,n){if(!e.passes){const r=V(e);return[new F(t,{id:n,module:e,fs:r})]}return e.passes.map(((r,i)=>{const o=V(e,r),s="".concat(n,"-").concat(i);return new F(t,{id:s,module:e,fs:o})}))}(t,this.module,this.id);this.passes=n;const{target:r}=e;let i=e.inputBuffer,o=e.swapBuffer;for(let s=0;s<this.passes.length;s++){r&&s===this.passes.length-1&&(o=r),this.passes[s].render({inputBuffer:i,outputBuffer:o,moduleSettings:this.props});const t=o;o=i,i=t}return i}cleanup(){if(this.passes){for(const t of this.passes)t.delete();this.passes=void 0}}}const z=t=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ".concat(t,"(gl_FragColor, texSize, texCoord);\n}\n"),G=t=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ".concat(t,"(texture, texSize, texCoord);\n}\n");function V(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(e.filter){const n="string"===typeof e.filter?e.filter:"".concat(t.name,"_filterColor");return z(n)}if(e.sampler){const n="string"===typeof e.sampler?e.sampler:"".concat(t.name,"_sampleColor");return G(n)}return null}var H=n(33711),W=n(57203),q=n(89816),X=n(13891),Y=n(8892),Q=n(43203),K=n(32478),J=n(7376),Z=n(45867),$=n(18020),tt=n(49815),et=n(92684),nt=n(17844);const rt=Math.PI/180;function it(t){let{height:e,focalDistance:n,orbitAxis:r,rotationX:i,rotationOrbit:o,zoom:s}=t;const a="Z"===r?[0,0,1]:[0,1,0],l="Z"===r?[0,-n,0]:[0,0,n],c=(new et.A).lookAt({eye:l,up:a});c.rotateX(i*rt),"Z"===r?c.rotateZ(o*rt):c.rotateY(o*rt);const u=Math.pow(2,s)/e;return c.scale(u),c}class ot extends Z.A{constructor(t){const{height:e,projectionMatrix:n,fovy:r=50,orbitAxis:i="Z",target:o=[0,0,0],rotationX:s=0,rotationOrbit:a=0,zoom:c=0}=t,u=n?n[5]/2:(0,nt.wZ)(r);super({...t,longitude:void 0,viewMatrix:it({height:e||1,focalDistance:u,orbitAxis:i,rotationX:s,rotationOrbit:a,zoom:c}),fovy:r,focalDistance:u,position:o,zoom:c}),(0,l.A)(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(t){let{topLeft:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r,i=this.projectedCenter[2]]=t,o=e?r:this.height-r,[s,a,l]=(0,nt.xJ)([n,o,i],this.pixelUnprojectionMatrix);return[s,a,l]}panByPosition(t,e){const n=this.project(t),r=[this.width/2+n[0]-e[0],this.height/2+n[1]-e[1],this.projectedCenter[2]];return{target:this.unproject(r)}}}var st=n(67567),at=n(10355);const lt=(new et.A).lookAt({eye:[0,0,1]});function ct(t){let{width:e,height:n,near:r,far:i,padding:o}=t,s=-e/2,a=e/2,l=-n/2,c=n/2;if(o){const{left:t=0,right:r=0,top:i=0,bottom:u=0}=o,h=(0,st.qE)((t+e-r)/2,0,e)-e/2,f=(0,st.qE)((i+n-u)/2,0,n)-n/2;s-=h,a-=h,l+=f,c+=f}return(new et.A).ortho({left:s,right:a,bottom:l,top:c,near:r,far:i})}class ut extends Z.A{constructor(t){const{width:e,height:n,near:r=.1,far:i=1e3,zoom:o=0,target:s=[0,0,0],padding:a=null,flipY:l=!0}=t,c=Array.isArray(o)?o[0]:o,u=Array.isArray(o)?o[1]:o,h=Math.min(c,u),f=Math.pow(2,h);let d;if(c!==u){const t=Math.pow(2,c),e=Math.pow(2,u);d={unitsPerMeter:[t/f,e/f,1],metersPerUnit:[f/t,f/e,1]}}super({...t,longitude:void 0,position:s,viewMatrix:lt.clone().scale([f,f*(l?-1:1),f]),projectionMatrix:ct({width:e||1,height:n||1,padding:a,near:r,far:i}),zoom:h,distanceScales:d})}projectFlat(t){let[e,n]=t;const{unitsPerMeter:r}=this.distanceScales;return[e*r[0],n*r[1]]}unprojectFlat(t){let[e,n]=t;const{metersPerUnit:r}=this.distanceScales;return[e*r[0],n*r[1]]}panByPosition(t,e){const n=(0,nt.xJ)(e,this.pixelUnprojectionMatrix),r=this.projectFlat(t),i=at.WQ([],r,at.ze([],n)),o=at.WQ([],this.center,i);return{target:this.unprojectFlat(o)}}}var ht=n(69694);class ft extends Z.A{constructor(t){const{longitude:e,latitude:n,modelMatrix:r,bearing:i=0,pitch:o=0,up:s=[0,0,1]}=t,a=new ht.A({bearing:i,pitch:-90===o?1e-4:90+o}).toVector3().normalize(),c=r?new et.A(r).transformAsVector(a):a,u=Number.isFinite(n)?(0,nt.fO)({latitude:n}):0,h=Math.pow(2,u),f=(new et.A).lookAt({eye:[0,0,0],center:c,up:s}).scale(h);super({...t,zoom:u,viewMatrix:f}),(0,l.A)(this,"longitude",void 0),(0,l.A)(this,"latitude",void 0),this.latitude=n,this.longitude=e}}var dt=n(71289),pt=n(8757),At=n(68281),gt=n(70574),yt=n(95247),mt=n(72505),vt=n(14242),bt=n(93719),_t=n(72914),wt=n(10665),xt=n(49147),Et=n(83051);class St extends _t.A{constructor(t){const{width:e,height:n,position:r=[0,0,0],bearing:i=0,pitch:o=0,longitude:s=null,latitude:a=null,maxPitch:l=90,minPitch:c=-90,startRotatePos:u,startBearing:h,startPitch:f,startZoomPosition:d}=t;super({width:e,height:n,position:r,bearing:i,pitch:o,longitude:s,latitude:a,maxPitch:l,minPitch:c},{startRotatePos:u,startBearing:h,startPitch:f,startZoomPosition:d})}panStart(){return this}pan(){return this}panEnd(){return this}rotateStart(t){let{pos:e}=t;return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate(t){let{pos:e,deltaAngleX:n=0,deltaAngleY:r=0}=t;const{startRotatePos:i,startBearing:o,startPitch:s}=this.getState(),{width:a,height:l}=this.getViewportProps();if(!i||void 0===o||void 0===s)return this;let c;if(e){c={bearing:o-180*((e[0]-i[0])/a),pitch:s-90*((e[1]-i[1])/l)}}else c={bearing:o-n,pitch:s-r};return this._getUpdatedState(c)}rotateEnd(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}zoomStart(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}zoom(t){let{scale:e}=t,{startZoomPosition:n}=this.getState();n||(n=this.getViewportProps().position);const r=this.getDirection();return this._move(r,20*Math.log2(e),n)}zoomEnd(){return this._getUpdatedState({startZoomPosition:null})}moveLeft(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;const e=this.getDirection(!0);return this._move(e.rotateZ({radians:Math.PI/2}),t)}moveRight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;const e=this.getDirection(!0);return this._move(e.rotateZ({radians:-Math.PI/2}),t)}moveUp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;const e=this.getDirection(!0);return this._move(e,t)}moveDown(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;const e=this.getDirection(!0);return this._move(e.negate(),t)}rotateLeft(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-t})}rotateRight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+t})}rotateUp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+t})}rotateDown(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-t})}zoomIn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.zoom({scale:t})}zoomOut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.zoom({scale:1/t})}shortestPathFrom(t){const e=t.getViewportProps(),n={...this.getViewportProps()},{bearing:r,longitude:i}=n;return Math.abs(r-e.bearing)>180&&(n.bearing=r<0?r+360:r-360),null!==i&&null!==e.longitude&&Math.abs(i-e.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}_move(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getViewportProps().position;const r=t.scale(e);return this._getUpdatedState({position:new Et.A(n).add(r)})}getDirection(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new ht.A({bearing:this.getViewportProps().bearing,pitch:t?90:90+this.getViewportProps().pitch}).toVector3().normalize()}_getUpdatedState(t){return new St({...this.getViewportProps(),...this.getState(),...t})}applyConstraints(t){const{pitch:e,maxPitch:n,minPitch:r,longitude:i,bearing:o}=t;return t.pitch=(0,st.qE)(e,r,n),null!==i&&(i<-180||i>180)&&(t.longitude=(0,wt.zi)(i+180,360)-180),(o<-180||o>180)&&(t.bearing=(0,wt.zi)(o+180,360)-180),t}}class Ct extends bt.A{constructor(){super(...arguments),(0,l.A)(this,"ControllerState",St),(0,l.A)(this,"transition",{transitionDuration:300,transitionInterpolator:new xt.A(["position","pitch","bearing"])})}}class Pt extends mt.A{get ViewportType(){return ft}get ControllerType(){return Ct}}(0,l.A)(Pt,"displayName","FirstPersonView");class Mt extends _t.A{constructor(t){const{width:e,height:n,rotationX:r=0,rotationOrbit:i=0,target:o=[0,0,0],zoom:s=0,minRotationX:a=-90,maxRotationX:c=90,minZoom:u=-1/0,maxZoom:h=1/0,startPanPosition:f,startRotatePos:d,startRotationX:p,startRotationOrbit:A,startZoomPosition:g,startZoom:y}=t;super({width:e,height:n,rotationX:r,rotationOrbit:i,target:o,zoom:s,minRotationX:a,maxRotationX:c,minZoom:u,maxZoom:h},{startPanPosition:f,startRotatePos:d,startRotationX:p,startRotationOrbit:A,startZoomPosition:g,startZoom:y}),(0,l.A)(this,"makeViewport",void 0),this.makeViewport=t.makeViewport}panStart(t){let{pos:e}=t;return this._getUpdatedState({startPanPosition:this._unproject(e)})}pan(t){let{pos:e,startPosition:n}=t;const r=this.getState().startPanPosition||n;if(!r)return this;const i=this.makeViewport(this.getViewportProps()).panByPosition(r,e);return this._getUpdatedState(i)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart(t){let{pos:e}=t;return this._getUpdatedState({startRotatePos:e,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate(t){let{pos:e,deltaAngleX:n=0,deltaAngleY:r=0}=t;const{startRotatePos:i,startRotationX:o,startRotationOrbit:s}=this.getState(),{width:a,height:l}=this.getViewportProps();if(!i||void 0===o||void 0===s)return this;let c;if(e){let t=(e[0]-i[0])/a;(o<-90||o>90)&&(t*=-1),c={rotationX:o+180*((e[1]-i[1])/l),rotationOrbit:s+180*t}}else c={rotationX:o+r,rotationOrbit:s+n};return this._getUpdatedState(c)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(t){const e=t.getViewportProps(),n={...this.getViewportProps()},{rotationOrbit:r}=n;return Math.abs(r-e.rotationOrbit)>180&&(n.rotationOrbit=r<0?r+360:r-360),n}zoomStart(t){let{pos:e}=t;return this._getUpdatedState({startZoomPosition:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom(t){let{pos:e,startPos:n,scale:r}=t,{startZoom:i,startZoomPosition:o}=this.getState();if(o||(i=this.getViewportProps().zoom,o=this._unproject(n)||this._unproject(e)),!o)return this;const s=this._calculateNewZoom({scale:r,startZoom:i}),a=this.makeViewport({...this.getViewportProps(),zoom:s});return this._getUpdatedState({zoom:s,...a.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:t})})}zoomOut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/t})})}moveLeft(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([-t,0])}moveRight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([t,0])}moveUp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,-t])}moveDown(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,t])}rotateLeft(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-t})}rotateRight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+t})}rotateUp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-t})}rotateDown(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+t})}_unproject(t){const e=this.makeViewport(this.getViewportProps());return t&&e.unproject(t)}_calculateNewZoom(t){let{scale:e,startZoom:n}=t;const{maxZoom:r,minZoom:i}=this.getViewportProps();void 0===n&&(n=this.getViewportProps().zoom);const o=n+Math.log2(e);return(0,st.qE)(o,i,r)}_panFromCenter(t){const{width:e,height:n,target:r}=this.getViewportProps();return this.pan({startPosition:r,pos:[e/2+t[0],n/2+t[1]]})}_getUpdatedState(t){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...t})}applyConstraints(t){const{maxZoom:e,minZoom:n,zoom:r,maxRotationX:i,minRotationX:o,rotationOrbit:s}=t;return t.zoom=Array.isArray(r)?[(0,st.qE)(r[0],n,e),(0,st.qE)(r[1],n,e)]:(0,st.qE)(r,n,e),t.rotationX=(0,st.qE)(t.rotationX,o,i),(s<-180||s>180)&&(t.rotationOrbit=(0,wt.zi)(s+180,360)-180),t}}class Tt extends bt.A{constructor(){super(...arguments),(0,l.A)(this,"ControllerState",Mt),(0,l.A)(this,"transition",{transitionDuration:300,transitionInterpolator:new xt.A({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})})}}class Ot extends mt.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.props.orbitAxis=t.orbitAxis||"Z"}get ViewportType(){return ot}get ControllerType(){return Tt}}(0,l.A)(Ot,"displayName","OrbitView");class It extends Mt{constructor(t){super(t),(0,l.A)(this,"zoomAxis",void 0),this.zoomAxis=t.zoomAxis||"all"}_calculateNewZoom(t){let{scale:e,startZoom:n}=t;const{maxZoom:r,minZoom:i}=this.getViewportProps();void 0===n&&(n=this.getViewportProps().zoom);let o=Math.log2(e);if(Array.isArray(n)){let[t,e]=n;switch(this.zoomAxis){case"X":t=(0,st.qE)(t+o,i,r);break;case"Y":e=(0,st.qE)(e+o,i,r);break;default:let n=Math.min(t+o,e+o);n<i&&(o+=i-n),n=Math.max(t+o,e+o),n>r&&(o+=r-n),t+=o,e+=o}return[t,e]}return(0,st.qE)(n+o,i,r)}}class Rt extends bt.A{constructor(){super(...arguments),(0,l.A)(this,"ControllerState",It),(0,l.A)(this,"transition",{transitionDuration:300,transitionInterpolator:new xt.A(["target","zoom"])}),(0,l.A)(this,"dragMode","pan")}_onPanRotate(){return!1}}class Lt extends mt.A{get ViewportType(){return ut}get ControllerType(){return Rt}}(0,l.A)(Lt,"displayName","OrthographicView");var kt=n(742);class Bt extends kt.y{applyConstraints(t){const{maxZoom:e,minZoom:n,zoom:r}=t;t.zoom=(0,st.qE)(r,n,e);const{longitude:i,latitude:o}=t;return(i<-180||i>180)&&(t.longitude=(0,wt.zi)(i+180,360)-180),t.latitude=(0,st.qE)(o,-89,89),t}}class Nt extends bt.A{constructor(){super(...arguments),(0,l.A)(this,"ControllerState",Bt),(0,l.A)(this,"transition",{transitionDuration:300,transitionInterpolator:new xt.A(["longitude","latitude","zoom"])}),(0,l.A)(this,"dragMode","pan")}setProps(t){super.setProps(t),this.dragRotate=!1,this.touchRotate=!1}}class Dt extends mt.A{get ViewportType(){return tt.A}get ControllerType(){return Nt}}(0,l.A)(Dt,"displayName","GlobeView");var Ft=n(40712),jt=n(7394),Ut=n(34773);const zt={bearing:0,pitch:0,position:[0,0,0]},Gt={speed:1.2,curve:1.414};class Vt extends Ut.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({compare:["longitude","latitude","zoom","bearing","pitch","position"],extract:["width","height","longitude","latitude","zoom","bearing","pitch","position"],required:["width","height","latitude","longitude","zoom"]}),(0,l.A)(this,"opts",void 0),this.opts={...Gt,...t}}interpolateProps(t,e,n){const r=(0,nt.rj)(t,e,n,this.opts);for(const i in zt)r[i]=(0,st.Cc)(t[i]||zt[i],e[i]||zt[i],n);return r}getDuration(t,e){let{transitionDuration:n}=e;return"auto"===n&&(n=(0,nt.v7)(t,e,this.opts)),n}}var Ht=n(96649),Wt=n(45497),qt=n(82133),Xt=n(98991),Yt=n(29877),Qt=n(93712),Kt=n(80572),Jt=n(63503),Zt=n(25086),$t=n(54144)},8892:(t,e,n)=>{"use strict";n.d(e,{A:()=>R});var r=n(54705),i=n(51934),o=n(34551),s=n(8858);class a{constructor(t,e){(0,r.A)(this,"opts",void 0),(0,r.A)(this,"source",void 0),this.opts=e,this.source=t}get value(){return this.source.value}getValue(){const t=this.source.getBuffer(),e=this.getAccessor();if(t)return[t,e];const{value:n}=this.source,{size:r}=e;let i=n;if(n&&n.length!==r){i=new Float32Array(r);const t=e.elementOffset||0;for(let e=0;e<r;++e)i[e]=n[t+e]}return i}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}var l=n(55405),c=n(10665),u=n(96649);function h(t){return t.stride||t.size*t.bytesPerElement}function f(t,e){e.offset&&u.A.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const n=h(t),r=(void 0!==e.vertexOffset?e.vertexOffset:t.vertexOffset||0)*n+(e.elementOffset||0)*t.bytesPerElement+(t.offset||0);return{...e,offset:r,stride:n}}class d{constructor(t,e,n){(0,r.A)(this,"gl",void 0),(0,r.A)(this,"id",void 0),(0,r.A)(this,"size",void 0),(0,r.A)(this,"settings",void 0),(0,r.A)(this,"value",void 0),(0,r.A)(this,"doublePrecision",void 0),(0,r.A)(this,"_buffer",void 0),(0,r.A)(this,"state",void 0),this.gl=t,this.id=e.id||"",this.size=e.size||1;const s=e.logicalType||e.type,a=5130===s;let l,{defaultValue:c}=e;c=Number.isFinite(c)?[c]:c||new Array(this.size).fill(0),l=a?5126:!s&&e.isIndexed?t&&(0,i.jI)(t,o.G.ELEMENT_INDEX_UINT32)?5125:5123:s||5126;let u=function(t){switch(t){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(s||l||5126);this.doublePrecision=a,a&&!1===e.fp64&&(u=Float32Array),this.value=null,this.settings={...e,defaultType:u,defaultValue:c,logicalType:s,type:l,size:this.size,bytesPerElement:u.BYTES_PER_ELEMENT},this.state={...n,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:t,type:e}=this.settings;this._buffer=new s.A(this.gl,{id:this.id,target:t?34963:34962,accessor:{type:e}})}return this._buffer}get byteOffset(){const t=this.getAccessor();return t.vertexOffset?t.vertexOffset*h(t):0}get numInstances(){return this.state.numInstances}set numInstances(t){this.state.numInstances=t}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),l.A.release(this.state.allocatedValue)}getShaderAttributes(t,e){if(this.doublePrecision){const n={},r=this.value instanceof Float64Array,i=function(t,e){const n=f(t,e);return{high:n,low:{...n,offset:n.offset+4*t.size}}}(this.getAccessor(),e||{});return n[t]=new a(this,i.high),n["".concat(t,"64Low")]=r?new a(this,i.low):new Float32Array(this.size),n}if(e){const n=f(this.getAccessor(),e);return{[t]:new a(this,n)}}return{[t]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let t=null;if(this.state.constant&&this.value){const e=Array.from(this.value);t=[e,e]}else{const{value:e,numInstances:n,size:r}=this,i=n*r;if(e&&i&&e.length>=i){const n=new Array(r).fill(1/0),o=new Array(r).fill(-1/0);for(let t=0;t<i;)for(let i=0;i<r;i++){const r=e[t++];r<n[i]&&(n[i]=r),r>o[i]&&(o[i]=r)}t=[n,o]}}return this.state.bounds=t,t}setData(t){const{state:e}=this;let n;n=ArrayBuffer.isView(t)?{value:t}:t instanceof s.A?{buffer:t}:t;const r={...this.settings,...n};if(e.bufferAccessor=r,e.bounds=null,n.constant){let t=n.value;t=this._normalizeValue(t,[],0),this.settings.normalized&&(t=this.normalizeConstant(t));if(!(!e.constant||!this._areValuesEqual(t,this.value)))return!1;e.externalBuffer=null,e.constant=!0,this.value=t}else if(n.buffer){const t=n.buffer;e.externalBuffer=t,e.constant=!1,this.value=n.value||null;const i=n.value instanceof Float64Array;r.type=n.type||t.accessor.type,r.bytesPerElement=t.accessor.BYTES_PER_ELEMENT*(i?2:1),r.stride=h(r)}else if(n.value){this._checkExternalBuffer(n);let t=n.value;e.externalBuffer=null,e.constant=!1,this.value=t,r.bytesPerElement=t.BYTES_PER_ELEMENT,r.stride=h(r);const{buffer:i,byteOffset:o}=this;this.doublePrecision&&t instanceof Float64Array&&(t=(0,c.cT)(t,r));const s=t.byteLength+o+2*r.stride;i.byteLength<s&&i.reallocate(s),i.setAccessor(null),i.subData({data:t,offset:o}),r.type=n.type||i.accessor.type}return!0}updateSubBuffer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.bounds=null;const e=this.value,{startOffset:n=0,endOffset:r}=t;this.buffer.subData({data:this.doublePrecision&&e instanceof Float64Array?(0,c.cT)(e,{size:this.size,startIndex:n,endIndex:r}):e.subarray(n,r),offset:n*e.BYTES_PER_ELEMENT+this.byteOffset})}allocate(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{state:n}=this,r=n.allocatedValue,i=l.A.allocate(r,t+1,{size:this.size,type:this.settings.defaultType,copy:e});this.value=i;const{buffer:o,byteOffset:s}=this;return o.byteLength<i.byteLength+s&&(o.reallocate(i.byteLength+s),e&&r&&o.subData({data:r instanceof Float64Array?(0,c.cT)(r,this):r,offset:s})),n.allocatedValue=i,n.constant=!1,n.externalBuffer=null,n.bufferAccessor=this.settings,!0}_checkExternalBuffer(t){const{value:e}=t;if(!ArrayBuffer.isView(e))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const n=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=e.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(e.constructor.name));e instanceof n||!this.settings.normalized||"normalized"in t||u.A.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(t){switch(this.settings.type){case 5120:return new Float32Array(t).map((t=>(t+128)/255*2-1));case 5122:return new Float32Array(t).map((t=>(t+32768)/65535*2-1));case 5121:return new Float32Array(t).map((t=>t/255));case 5123:return new Float32Array(t).map((t=>t/65535));default:return t}}_normalizeValue(t,e,n){const{defaultValue:r,size:i}=this.settings;if(Number.isFinite(t))return e[n]=t,e;if(!t){let t=i;for(;--t>=0;)e[n+t]=r[t];return e}switch(i){case 4:e[n+3]=Number.isFinite(t[3])?t[3]:r[3];case 3:e[n+2]=Number.isFinite(t[2])?t[2]:r[2];case 2:e[n+1]=Number.isFinite(t[1])?t[1]:r[1];case 1:e[n+0]=Number.isFinite(t[0])?t[0]:r[0];break;default:let o=i;for(;--o>=0;)e[n+o]=Number.isFinite(t[o])?t[o]:r[o]}return e}_areValuesEqual(t,e){if(!t||!e)return!1;const{size:n}=this;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}}var p=n(45497),A=n(82133),g=n(29877);const y=[],m=[[0,1/0]];var v=n(39240);class b extends d{constructor(t,e){super(t,e,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:m}),(0,r.A)(this,"constant",!1),this.settings.update=e.update||(e.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(t){this.state.startIndices=t}needsUpdate(){return this.state.needsUpdate}needsRedraw(){let{clearChangedFlags:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this.state.needsRedraw;return this.state.needsRedraw=e&&!t,e}getUpdateTriggers(){const{accessor:t}=this.settings;return[this.id].concat("function"!==typeof t&&t||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting(t){if(!t||!this.supportsTransition())return null;const{accessor:e}=this.settings,n=this.settings.transition,r=Array.isArray(e)?t[e.find((e=>t[e]))]:t[e];return(0,v.K$)(r,n)}setNeedsUpdate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,e=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||t,this.setNeedsRedraw(t),e){const{startRow:t=0,endRow:n=1/0}=e;this.state.updateRanges=function(t,e){if(t===m)return t;if(e[0]<0&&(e[0]=0),e[0]>=e[1])return t;const n=[],r=t.length;let i=0;for(let o=0;o<r;o++){const r=t[o];r[1]<e[0]?(n.push(r),i=o+1):r[0]>e[1]?n.push(r):e=[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}return n.splice(i,0,e),n}(this.state.updateRanges,[t,n])}else this.state.updateRanges=m}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=y}setNeedsRedraw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||t}allocate(t){const{state:e,settings:n}=this;return!n.noAlloc&&(!!n.update&&(super.allocate(t,e.updateRanges!==m),!0))}updateBuffer(t){let{numInstances:e,data:n,props:r,context:i}=t;if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:s,noAlloc:a}}=this;let l=!0;if(s){for(const[t,a]of o)s.call(i,this,{data:n,startRow:t,endRow:a,props:r,numInstances:e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[t,n]of o){const r=Number.isFinite(t)?this.getVertexOffset(t):0,i=Number.isFinite(n)?this.getVertexOffset(n):a||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:r,endOffset:i})}else;this._checkAttributeArray()}else l=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),l}setConstantValue(t){if(void 0===t||"function"===typeof t)return!1;return this.setData({constant:!0,value:t})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(t){const{state:e}=this;return t?(this.clearNeedsUpdate(),e.lastExternalBuffer===t||(e.lastExternalBuffer=t,this.setNeedsRedraw(),this.setData(t)),!0):(e.lastExternalBuffer=null,!1)}setBinaryValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{state:n,settings:r}=this;if(!t)return n.binaryValue=null,n.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(n.binaryValue===t)return this.clearNeedsUpdate(),!0;n.binaryValue=t,this.setNeedsRedraw();if(r.transform||e!==this.startIndices){ArrayBuffer.isView(t)&&(t={value:t});const i=t;(0,p.A)(ArrayBuffer.isView(i.value),"invalid ".concat(r.accessor));const o=Boolean(i.size)&&i.size!==this.size;return n.binaryAccessor=(0,A.I)(i.value,{size:i.size||this.size,stride:i.stride,offset:i.offset,startIndices:e,nested:o}),!1}return this.clearNeedsUpdate(),this.setData(t),!0}getVertexOffset(t){const{startIndices:e}=this;return(e?t<e.length?e[t]:this.numInstances:t)*this.size}getShaderAttributes(){const t=this.settings.shaderAttributes||{[this.id]:null},e={};for(const n in t)Object.assign(e,super.getShaderAttributes(n,t[n]));return e}_autoUpdater(t,e){let{data:n,startRow:r,endRow:i,props:o,numInstances:s}=e;if(t.constant)return;const{settings:a,state:l,value:c,size:u,startIndices:h}=t,{accessor:f,transform:d}=a,y=l.binaryAccessor||("function"===typeof f?f:o[f]);(0,p.A)("function"===typeof y,'accessor "'.concat(f,'" is not a function'));let m=t.getVertexOffset(r);const{iterable:v,objectInfo:b}=(0,A.X)(n,r,i);for(const p of v){b.index++;let e=y(p,b);if(d&&(e=d.call(this,e)),h){const n=(b.index<h.length-1?h[b.index+1]:s)-h[b.index];if(e&&Array.isArray(e[0])){let n=m;for(const r of e)t._normalizeValue(r,c,n),n+=u}else e&&e.length>u?c.set(e,m):(t._normalizeValue(e,b.target,0),(0,g.R)({target:c,source:b.target,start:m,count:n}));m+=n*u}else t._normalizeValue(e,c,m),m+=u}}_validateAttributeUpdaters(){const{settings:t}=this;if(!(t.noAlloc||"function"===typeof t.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:t}=this,e=Math.min(4,this.size);if(t&&t.length>=e){let n=!0;switch(e){case 4:n=n&&Number.isFinite(t[3]);case 3:n=n&&Number.isFinite(t[2]);case 2:n=n&&Number.isFinite(t[1]);case 1:n=n&&Number.isFinite(t[0]);break;default:n=!1}if(!n)throw new Error("Illegal attribute generated for ".concat(this.id))}}}var _=n(63503),w=n(40249),x=n(26425),E=n(3071);const S="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";var C=n(72059),P=n(59375),M=n(38349);const T={interpolation:class{constructor(t){let{gl:e,attribute:n,timeline:i}=t;(0,r.A)(this,"gl",void 0),(0,r.A)(this,"type","interpolation"),(0,r.A)(this,"attributeInTransition",void 0),(0,r.A)(this,"settings",void 0),(0,r.A)(this,"attribute",void 0),(0,r.A)(this,"transition",void 0),(0,r.A)(this,"currentStartIndices",void 0),(0,r.A)(this,"currentLength",void 0),(0,r.A)(this,"transform",void 0),(0,r.A)(this,"buffers",void 0),this.gl=e,this.transition=new E.A(i),this.attribute=n,this.attributeInTransition=new b(e,n.settings),this.currentStartIndices=n.startIndices,this.currentLength=0,this.transform=function(t,e){const n=(0,v.A3)(e.size);return new x.A(t,{vs:S,defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}(e,n);const o={byteLength:0,usage:35050};this.buffers=[new s.A(e,o),new s.A(e,o)]}get inProgress(){return this.transition.inProgress}start(t,e){if(t.duration<=0)return void this.transition.cancel();this.settings=t;const{gl:n,buffers:r,attribute:i}=this;(0,v.yY)(r);const o={numInstances:e,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:t.enter};for(const s of r)(0,v.aI)({buffer:s,...o});this.currentStartIndices=i.startIndices,this.currentLength=(0,v.Pu)(i,e),this.attributeInTransition.setData({buffer:r[1],value:i.value}),this.transition.start(t),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aFrom:r[0],aTo:(0,v.EX)(n,i)},feedbackBuffers:{vCurrent:r[1]}})}update(){const t=this.transition.update();if(t){const{duration:t,easing:e}=this.settings,{time:n}=this.transition;let r=n/t;e&&(r=e(r)),this.transform.run({uniforms:{time:r}})}return t}cancel(){this.transition.cancel(),this.transform.delete();for(const t of this.buffers)t.delete();this.buffers.length=0}},spring:class{constructor(t){let{gl:e,attribute:n,timeline:i}=t;(0,r.A)(this,"gl",void 0),(0,r.A)(this,"type","spring"),(0,r.A)(this,"attributeInTransition",void 0),(0,r.A)(this,"settings",void 0),(0,r.A)(this,"attribute",void 0),(0,r.A)(this,"transition",void 0),(0,r.A)(this,"currentStartIndices",void 0),(0,r.A)(this,"currentLength",void 0),(0,r.A)(this,"texture",void 0),(0,r.A)(this,"framebuffer",void 0),(0,r.A)(this,"transform",void 0),(0,r.A)(this,"buffers",void 0),this.gl=e,this.type="spring",this.transition=new E.A(i),this.attribute=n,this.attributeInTransition=new b(e,{...n.settings,normalized:!1}),this.currentStartIndices=n.startIndices,this.currentLength=0,this.texture=function(t){return new P.A(t,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(e),this.framebuffer=function(t,e){return new M.A(t,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:e}})}(e,this.texture),this.transform=function(t,e,n){const r=(0,v.A3)(e.size);return new x.A(t,{framebuffer:n,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:r},varyings:["vNext"]})}(e,n,this.framebuffer);const o={byteLength:0,usage:35050};this.buffers=[new s.A(e,o),new s.A(e,o),new s.A(e,o)]}get inProgress(){return this.transition.inProgress}start(t,e){const{gl:n,buffers:r,attribute:i}=this,o={numInstances:e,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:t.enter};for(const s of r)(0,v.aI)({buffer:s,...o});this.settings=t,this.currentStartIndices=i.startIndices,this.currentLength=(0,v.Pu)(i,e),this.attributeInTransition.setData({buffer:r[1],value:i.value}),this.transition.start({...t,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aTo:(0,v.EX)(n,i)}})}update(){const{buffers:t,transform:e,framebuffer:n,transition:r}=this;if(!r.update())return!1;const i=this.settings;e.update({sourceBuffers:{aPrev:t[0],aCur:t[1]},feedbackBuffers:{vNext:t[2]}}),e.run({framebuffer:n,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:i.stiffness,damping:i.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),(0,v.yY)(t),this.attributeInTransition.setData({buffer:t[1],value:this.attribute.value});return(0,C.sy)(n)[0]>0||r.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const t of this.buffers)t.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class O{constructor(t,e){let{id:n,timeline:i}=e;(0,r.A)(this,"id",void 0),(0,r.A)(this,"isSupported",void 0),(0,r.A)(this,"gl",void 0),(0,r.A)(this,"timeline",void 0),(0,r.A)(this,"transitions",void 0),(0,r.A)(this,"needsRedraw",void 0),(0,r.A)(this,"numInstances",void 0),this.id=n,this.gl=t,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=x.A.isSupported(t)}finalize(){for(const t in this.transitions)this._removeTransition(t)}update(t){let{attributes:e,transitions:n,numInstances:r}=t;this.numInstances=r||1;for(const i in e){const t=e[i],r=t.getTransitionSetting(n);r&&this._updateAttribute(i,t,r)}for(const i in this.transitions){const t=e[i];t&&t.getTransitionSetting(n)||this._removeTransition(i)}}hasAttribute(t){const e=this.transitions[t];return e&&e.inProgress}getAttributes(){const t={};for(const e in this.transitions){const n=this.transitions[e];n.inProgress&&(t[e]=n.attributeInTransition)}return t}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const e in this.transitions){this.transitions[e].update()&&(this.needsRedraw=!0)}const t=this.needsRedraw;return this.needsRedraw=!1,t}_removeTransition(t){this.transitions[t].cancel(),delete this.transitions[t]}_updateAttribute(t,e,n){const r=this.transitions[t];let i=!r||r.type!==n.type;if(i){if(!this.isSupported)return void u.A.warn("WebGL2 not supported by this browser. Transition for ".concat(t," is disabled."))();r&&this._removeTransition(t);const o=T[n.type];o?this.transitions[t]=new o({attribute:e,timeline:this.timeline,gl:this.gl}):(u.A.error("unsupported transition type '".concat(n.type,"'"))(),i=!1)}(i||e.needsRedraw())&&(this.needsRedraw=!0,this.transitions[t].start(n,this.numInstances))}}const I="attributeManager.invalidate";class R{constructor(t){let{id:e="attribute-manager",stats:n,timeline:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.A)(this,"id",void 0),(0,r.A)(this,"gl",void 0),(0,r.A)(this,"attributes",void 0),(0,r.A)(this,"updateTriggers",void 0),(0,r.A)(this,"needsRedraw",void 0),(0,r.A)(this,"userData",void 0),(0,r.A)(this,"stats",void 0),(0,r.A)(this,"attributeTransitionManager",void 0),(0,r.A)(this,"mergeBoundsMemoized",(0,_.A)(c._Z)),this.id=e,this.gl=t,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=n,this.attributeTransitionManager=new O(t,{id:"".concat(e,"-transitions"),timeline:i}),Object.seal(this)}finalize(){for(const t in this.attributes)this.attributes[t].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const e=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!t.clearRedrawFlags,e&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(t){this._add(t)}addInstanced(t){this._add(t,{instanced:1})}remove(t){for(const e of t)void 0!==this.attributes[e]&&(this.attributes[e].delete(),delete this.attributes[e])}invalidate(t,e){const n=this._invalidateTrigger(t,e);(0,w.A)(I,this,t,n)}invalidateAll(t){for(const e in this.attributes)this.attributes[e].setNeedsUpdate(e,t);(0,w.A)(I,this,"all")}update(t){let{data:e,numInstances:n,startIndices:r=null,transitions:i,props:o={},buffers:s={},context:a={}}=t,l=!1;(0,w.A)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const c in this.attributes){const t=this.attributes[c],i=t.settings.accessor;t.startIndices=r,t.numInstances=n,o[c]&&u.A.removed("props.".concat(c),"data.attributes.".concat(c))(),t.setExternalBuffer(s[c])||t.setBinaryValue("string"===typeof i?s[i]:void 0,e.startIndices)||"string"===typeof i&&!s[i]&&t.setConstantValue(o[i])||t.needsUpdate()&&(l=!0,this._updateAttribute({attribute:t,numInstances:n,data:e,props:o,context:a})),this.needsRedraw=this.needsRedraw||t.needsRedraw()}l&&(0,w.A)("attributeManager.updateEnd",this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:i})}updateTransition(){const{attributeTransitionManager:t}=this,e=t.run();return this.needsRedraw=this.needsRedraw||e,e}getAttributes(){return this.attributes}getBounds(t){const e=t.map((t=>{var e;return null===(e=this.attributes[t])||void 0===e?void 0:e.getBounds()}));return this.mergeBoundsMemoized(e)}getChangedAttributes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1};const{attributes:e,attributeTransitionManager:n}=this,r={...n.getAttributes()};for(const i in e){const o=e[i];o.needsRedraw(t)&&!n.hasAttribute(i)&&(r[i]=o)}return r}getShaderAttributes(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t||(t=this.getAttributes());const n={};for(const r in t)e[r]||Object.assign(n,t[r].getShaderAttributes());return n}_add(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n in t){const r=t[n];this.attributes[n]=this._createAttribute(n,r,e)}this._mapUpdateTriggersToAttributes()}_createAttribute(t,e,n){const r={...e,id:t,size:(e.isIndexed?1:e.size)||1,divisor:n.instanced?1:e.divisor||0};return new b(this.gl,r)}_mapUpdateTriggersToAttributes(){const t={};for(const e in this.attributes){this.attributes[e].getUpdateTriggers().forEach((n=>{t[n]||(t[n]=[]),t[n].push(e)}))}this.updateTriggers=t}_invalidateTrigger(t,e){const{attributes:n,updateTriggers:r}=this,i=r[t];return i&&i.forEach((t=>{const r=n[t];r&&r.setNeedsUpdate(r.id,e)})),i}_updateAttribute(t){const{attribute:e,numInstances:n}=t;if((0,w.A)("attribute.updateStart",e),e.constant)return void e.setConstantValue(e.value);e.allocate(n)&&(0,w.A)("attribute.allocate",e,n);e.updateBuffer(t)&&(this.needsRedraw=!0,(0,w.A)("attribute.updateEnd",e,n))}}},39240:(t,e,n)=>{"use strict";function r(t){const{source:e,target:n,start:r=0,size:i,getData:o}=t,s=t.end||n.length,a=e.length,l=s-r;if(a>l)return void n.set(e.subarray(0,l),r);if(n.set(e,r),!o)return;let c=a;for(;c<l;){const t=o(c,e);for(let e=0;e<i;e++)n[r+c]=t[e]||0,c++}}n.d(e,{yY:()=>l,Pu:()=>c,A3:()=>a,EX:()=>s,K$:()=>o,aI:()=>u});const i={interpolation:{duration:0,easing:t=>t},spring:{stiffness:.05,damping:.5}};function o(t,e){if(!t)return null;Number.isFinite(t)&&(t={type:"interpolation",duration:t});const n=t.type||"interpolation";return{...i[n],...e,...t,type:n}}function s(t,e){const n=e.getBuffer();return n?[n,{divisor:0,size:e.size,normalized:e.settings.normalized}]:e.value}function a(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(t,'"'))}}function l(t){t.push(t.shift())}function c(t,e){const{doublePrecision:n,settings:r,value:i,size:o}=t,s=n&&i instanceof Float64Array?2:1;return(r.noAlloc?i.length:e*o)*s}function u(t){let{buffer:e,numInstances:n,attribute:i,fromLength:o,fromStartIndices:s,getData:a=t=>t}=t;const l=i.doublePrecision&&i.value instanceof Float64Array?2:1,u=i.size*l,h=i.byteOffset,f=i.startIndices,d=s&&f,p=c(i,n),A=i.isConstant;if(!d&&o>=p)return;const g=A?i.value:i.getBuffer().getData({srcByteOffset:h});if(i.settings.normalized&&!A){const t=a;a=(e,n)=>i.normalizeConstant(t(e,n))}const y=A?(t,e)=>a(g,e):(t,e)=>a(g.subarray(t,t+u),e),m=e.getData({length:o}),v=new Float32Array(p);!function(t){let{source:e,target:n,size:i,getData:o,sourceStartIndices:s,targetStartIndices:a}=t;if(!Array.isArray(a))return r({source:e,target:n,size:i,getData:o}),n;let l=0,c=0;const u=o&&((t,e)=>o(t+c,e)),h=Math.min(s.length,a.length);for(let f=1;f<h;f++){const t=s[f]*i,o=a[f]*i;r({source:e.subarray(l,t),target:n,start:c,end:o,size:i,getData:u}),l=t,c=o}c<n.length&&r({source:[],target:n,start:c,size:i,getData:u})}({source:m,target:v,sourceStartIndices:s,targetStartIndices:f,size:u,getData:y}),e.byteLength<v.byteLength+h&&e.reallocate(v.byteLength+h),e.subData({data:v,offset:h})}},32478:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(54705),i=n(43203),o=n(40249),s=n(29877),a=n(93311);class l extends i.A{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every((t=>t.isLoaded))}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(t){}setState(t){super.setState(t),this.setNeedsUpdate()}getPickingInfo(t){let{info:e}=t;const{object:n}=e;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id?(e.object=n.__source.object,e.index=n.__source.index,e):e}filterSubLayer(t){return!0}shouldRenderSubLayer(t,e){return e&&e.length}getSubLayerClass(t,e){const{_subLayerProps:n}=this.props;return n&&n[t]&&n[t].type||e}getSubLayerRow(t,e,n){return t.__source={parent:this,object:e,index:n},t}getSubLayerAccessor(t){if("function"===typeof t){const e={index:-1,data:this.props.data,target:[]};return(n,r)=>n&&n.__source?(e.index=n.__source.index,t(n.__source.object,e)):t(n,r)}return t}getSubLayerProps(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e;const{opacity:n,pickable:r,visible:i,parameters:o,getPolygonOffset:s,highlightedObjectIndex:l,autoHighlight:c,highlightColor:u,coordinateSystem:h,coordinateOrigin:f,wrapLongitude:d,positionFormat:p,modelMatrix:A,extensions:g,fetch:y,operation:m,_subLayerProps:v}=this.props,b={id:"",updateTriggers:{},opacity:n,pickable:r,visible:i,parameters:o,getPolygonOffset:s,highlightedObjectIndex:l,autoHighlight:c,highlightColor:u,coordinateSystem:h,coordinateOrigin:f,wrapLongitude:d,positionFormat:p,modelMatrix:A,extensions:g,fetch:y,operation:m},_=v&&t.id&&v[t.id],w=_&&_.updateTriggers,x=t.id||"sublayer";if(_){const e=this.props[a.fW],n=t.type?t.type._propTypes:{};for(const t in _){const r=n[t]||e[t];r&&"accessor"===r.type&&(_[t]=this.getSubLayerAccessor(_[t]))}}Object.assign(b,t,_),b.id="".concat(this.props.id,"-").concat(x),b.updateTriggers={all:null===(e=this.props.updateTriggers)||void 0===e?void 0:e.all,...t.updateTriggers,...w};for(const a of g){const t=a.getSubLayerProps.call(this,a);t&&Object.assign(b,t,{updateTriggers:Object.assign(b.updateTriggers,t.updateTriggers)})}return b}_updateAutoHighlight(t){for(const e of this.getSubLayers())e.updateAutoHighlight(t)}_getAttributeManager(){return null}_postUpdate(t,e){let n=this.internalState.subLayers;const r=!n||this.needsUpdate();if(r){const t=this.renderLayers();n=(0,s.B)(t,Boolean),this.internalState.subLayers=n}(0,o.A)("compositeLayer.renderLayers",this,r,n);for(const i of n)i.parent=this}}(0,r.A)(l,"layerName","CompositeLayer")},77044:(t,e,n)=>{"use strict";n.d(e,{Kx:()=>o,p5:()=>s,qR:()=>l,qY:()=>a,rf:()=>i});var r=n(96649);const i={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(i,"IDENTITY",{get:()=>(r.A.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const o={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},s={common:0,meters:1,pixels:2},a={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},l={DRAW:"draw",MASK:"mask",TERRAIN:"terrain"}},7376:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(54705),i=n(40249),o=n(33711);class s extends o.A{shouldDrawLayer(t){const{operation:e}=t.props;return e.includes("draw")||e.includes("terrain")}}var a=n(57203),l=n(38349);class c{constructor(t){(0,r.A)(this,"gl",void 0),(0,r.A)(this,"layerFilter",void 0),(0,r.A)(this,"drawPickingColors",void 0),(0,r.A)(this,"drawLayersPass",void 0),(0,r.A)(this,"pickLayersPass",void 0),(0,r.A)(this,"renderCount",void 0),(0,r.A)(this,"_needsRedraw",void 0),(0,r.A)(this,"renderBuffers",void 0),(0,r.A)(this,"lastPostProcessEffect",void 0),this.gl=t,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new s(t),this.pickLayersPass=new a.A(t),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(t){this.layerFilter!==t.layerFilter&&(this.layerFilter=t.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==t.drawPickingColors&&(this.drawPickingColors=t.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(t){if(!t.viewports.length)return;const e=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,n={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...t,target:t.target||l.A.getDefaultFramebuffer(this.gl)};n.effects&&this._preRender(n.effects,n);const r=this.lastPostProcessEffect?this.renderBuffers[0]:n.target,o=e.render({...n,target:r});n.effects&&this._postRender(n.effects,n),this.renderCount++,(0,i.A)("deckRenderer.renderLayers",this,o,t)}needsRedraw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const e=this._needsRedraw;return t.clearRedrawFlags&&(this._needsRedraw=!1),e}finalize(){const{renderBuffers:t}=this;for(const e of t)e.delete();t.length=0}_preRender(t,e){this.lastPostProcessEffect=null,e.preRenderStats=e.preRenderStats||{};for(const n of t)e.preRenderStats[n.id]=n.preRender(this.gl,e),n.postRender&&(this.lastPostProcessEffect=n.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:t}=this;0===t.length&&t.push(new l.A(this.gl),new l.A(this.gl));for(const e of t)e.resize()}_postRender(t,e){const{renderBuffers:n}=this,r={...e,inputBuffer:n[0],swapBuffer:n[1],target:null};for(const i of t)if(i.postRender){if(i.id===this.lastPostProcessEffect){r.target=e.target,i.postRender(this.gl,r);break}const t=i.postRender(this.gl,r);r.inputBuffer=t,r.swapBuffer=t===n[0]?n[1]:n[0]}}}},89816:(t,e,n)=>{"use strict";n.d(e,{A:()=>Et});var r=n(54705),i=n(13891),o=n(80572),s=n(96649),a=n(29877);class l{constructor(t){(0,r.A)(this,"width",void 0),(0,r.A)(this,"height",void 0),(0,r.A)(this,"views",void 0),(0,r.A)(this,"viewState",void 0),(0,r.A)(this,"controllers",void 0),(0,r.A)(this,"timeline",void 0),(0,r.A)(this,"_viewports",void 0),(0,r.A)(this,"_viewportMap",void 0),(0,r.A)(this,"_isUpdating",void 0),(0,r.A)(this,"_needsRedraw",void 0),(0,r.A)(this,"_needsUpdate",void 0),(0,r.A)(this,"_eventManager",void 0),(0,r.A)(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=t.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=t.eventManager,this._eventCallbacks={onViewStateChange:t.onViewStateChange,onInteractionStateChange:t.onInteractionStateChange},Object.seal(this),this.setProps(t)}finalize(){for(const t in this.controllers){const e=this.controllers[t];e&&e.finalize()}this.controllers={}}needsRedraw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const e=this._needsRedraw;return t.clearRedrawFlags&&(this._needsRedraw=!1),e}setNeedsUpdate(t){this._needsUpdate=this._needsUpdate||t,this._needsRedraw=this._needsRedraw||t}updateViewStates(){for(const t in this.controllers){const e=this.controllers[t];e&&e.updateTransition()}}getViewports(t){return t?this._viewports.filter((e=>e.containsPixel(t))):this._viewports}getViews(){const t={};return this.views.forEach((e=>{t[e.id]=e})),t}getView(t){return this.views.find((e=>e.id===t))}getViewState(t){const e="string"===typeof t?this.getView(t):t,n=e&&this.viewState[e.getViewStateId()]||this.viewState;return e?e.filterViewState(n):n}getViewport(t){return this._viewportMap[t]}unproject(t,e){const n=this.getViewports(),r={x:t[0],y:t[1]};for(let i=n.length-1;i>=0;--i){const o=n[i];if(o.containsPixel(r)){const n=t.slice();return n[0]-=o.x,n[1]-=o.y,o.unproject(n,e)}}return null}setProps(t){t.views&&this._setViews(t.views),t.viewState&&this._setViewState(t.viewState),("width"in t||"height"in t)&&this._setSize(t.width,t.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(t,e){t===this.width&&e===this.height||(this.width=t,this.height=e,this.setNeedsUpdate("Size changed"))}_setViews(t){t=(0,a.B)(t,Boolean);this._diffViews(t,this.views)&&this.setNeedsUpdate("views changed"),this.views=t}_setViewState(t){if(t){!(0,o.b)(t,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=t}else s.A.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(t,e){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...e,viewId:t})}_createController(t,e){return new(0,e.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,e.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:e=>{var n;return null===(n=this.getView(t.id))||void 0===n?void 0:n.makeViewport({viewState:e,width:this.width,height:this.height})}})}_updateController(t,e,n,r){const i=t.controller;if(i&&n){const o={...e,...i,id:t.id,x:n.x,y:n.y,width:n.width,height:n.height};return r&&r.constructor===i.type||(r=this._createController(t,o)),r&&r.setProps(o),r}return null}_rebuildViewports(){const{views:t}=this,e=this.controllers;this._viewports=[],this.controllers={};let n=!1;for(let r=t.length;r--;){const i=t[r],o=this.getViewState(i),s=i.makeViewport({viewState:o,width:this.width,height:this.height});let a=e[i.id];const l=Boolean(i.controller);l&&!a&&(n=!0),!n&&l||!a||(a.finalize(),a=null),this.controllers[i.id]=this._updateController(i,o,s,a),s&&this._viewports.unshift(s)}for(const r in e){const t=e[r];t&&!this.controllers[r]&&t.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach((t=>{t.id&&(this._viewportMap[t.id]=this._viewportMap[t.id]||t)}))}_diffViews(t,e){return t.length!==e.length||t.some(((n,r)=>!t[r].equals(e[r])))}}var c=n(14242),u=n(26895);const h=new u.A;class f{constructor(){(0,r.A)(this,"effects",void 0),(0,r.A)(this,"_resolvedEffects",[]),(0,r.A)(this,"_defaultEffects",[]),(0,r.A)(this,"_needsRedraw",void 0),this.effects=[],this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(t){const e=this._defaultEffects;if(!e.find((e=>e.id===t.id))){const n=e.findIndex((e=>function(t,e){var n,r;return(null!==(n=t.order)&&void 0!==n?n:1/0)-(null!==(r=e.order)&&void 0!==r?r:1/0)}(e,t)>0));n<0?e.push(t):e.splice(n,0,t),this._setEffects(this.effects)}}setProps(t){"effects"in t&&((0,o.b)(t.effects,this.effects,1)||this._setEffects(t.effects))}needsRedraw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const e=this._needsRedraw;return t.clearRedrawFlags&&(this._needsRedraw=!1),e}getEffects(){return this._resolvedEffects}_setEffects(t){const e={};for(const r of this.effects)e[r.id]=r;const n=[];for(const r of t){const t=e[r.id];t&&t!==r?t.setProps?(t.setProps(r.props),n.push(t)):(t.cleanup(),n.push(r)):n.push(r),delete e[r.id]}for(const r in e)e[r].cleanup();this.effects=n,this._resolvedEffects=n.concat(this._defaultEffects),t.some((t=>t instanceof u.A))||this._resolvedEffects.push(h),this._needsRedraw="effects changed"}finalize(){for(const t of this._resolvedEffects)t.cleanup();this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}var d=n(7376),p=n(38349),A=n(59375),g=n(45882),y=n(72059),m=n(57203);const v={pickedColor:null,pickedObjectIndex:-1};function b(t){let{pickedColors:e,decodePickingColor:n,deviceX:r,deviceY:i,deviceRadius:o,deviceRect:a}=t;const{x:l,y:c,width:u,height:h}=a;let f=o*o,d=-1,p=0;for(let s=0;s<h;s++){const t=s+c-i,n=t*t;if(n>f)p+=4*u;else for(let i=0;i<u;i++){if(e[p+3]-1>=0){const t=i+l-r,e=t*t+n;e<=f&&(f=e,d=p)}p+=4}}if(d>=0){const t=e.slice(d,d+4),r=n(t);if(r){const e=Math.floor(d/4/u),n=d/4-e*u;return{...r,pickedColor:t,pickedX:l+n,pickedY:c+e}}s.A.error("Picked non-existent layer. Is picking buffer corrupt?")()}return v}function _(t){let e,{pickInfo:n,viewports:r,pixelRatio:i,x:o,y:s,z:a}=t,l=r[0];if(r.length>1&&(l=function(t,e){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.containsPixel(e))return r}return t[0]}((null===n||void 0===n?void 0:n.pickedViewports)||r,{x:o,y:s})),l){const t=[o-l.x,s-l.y];void 0!==a&&(t[2]=a),e=l.unproject(t)}return{color:null,layer:null,viewport:l,index:-1,picked:!1,x:o,y:s,pixel:[o,s],coordinate:e,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:i}}function w(t){const{pickInfo:e,lastPickedInfo:n,mode:r,layers:i}=t,{pickedColor:o,pickedLayer:s,pickedObjectIndex:a}=e,l=s?[s]:[];if("hover"===r){const t=n.index,e=n.layerId,r=s?s.props.id:null;if(r!==e||a!==t){if(r!==e){const t=i.find((t=>t.props.id===e));t&&l.unshift(t)}n.layerId=r,n.index=a,n.info=null}}const c=_(t),u=new Map;return u.set(null,c),l.forEach((t=>{let e={...c};t===s&&(e.color=o,e.index=a,e.picked=!0),e=x({layer:t,info:e,mode:r});const i=e.layer;t===s&&"hover"===r&&(n.info=e),u.set(i.id,e),"hover"===r&&i.updateAutoHighlight(e)})),u}function x(t){let{layer:e,info:n,mode:r}=t;for(;e&&n;){const t=n.layer||null;n.sourceLayer=t,n.layer=e,n=e.getPickingInfo({info:n,mode:r,sourceLayer:t}),e=e.parent}return n}class E{constructor(t){(0,r.A)(this,"gl",void 0),(0,r.A)(this,"pickingFBO",void 0),(0,r.A)(this,"depthFBO",void 0),(0,r.A)(this,"pickLayersPass",void 0),(0,r.A)(this,"layerFilter",void 0),(0,r.A)(this,"lastPickedInfo",void 0),(0,r.A)(this,"_pickable",!0),this.gl=t,this.pickLayersPass=new m.A(t),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(t){"layerFilter"in t&&(this.layerFilter=t.layerFilter),"_pickable"in t&&(this._pickable=t._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(t){return this._pickClosestObject(t)}pickObjects(t){return this._pickVisibleObjects(t)}getLastPickedObject(t){let{x:e,y:n,layers:r,viewports:i}=t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPickedInfo.info;const s=o&&o.layer&&o.layer.id,a=o&&o.viewport&&o.viewport.id,l=s?r.find((t=>t.id===s)):null,c=a&&i.find((t=>t.id===a))||i[0],u=c&&c.unproject([e-c.x,n-c.y]),h={x:e,y:n,viewport:c,coordinate:u,layer:l};return{...o,...h}}_resizeBuffer(){var t,e;const{gl:n}=this;if(!this.pickingFBO&&(this.pickingFBO=new p.A(n),p.A.isSupported(n,{colorBufferFloat:!0}))){const t=new p.A(n);t.attach({36064:new A.A(n,{format:(0,g.C6)(n)?34836:6408,type:5126})}),this.depthFBO=t}null===(t=this.pickingFBO)||void 0===t||t.resize({width:n.canvas.width,height:n.canvas.height}),null===(e=this.depthFBO)||void 0===e||e.resize({width:n.canvas.width,height:n.canvas.height})}_getPickable(t){if(!1===this._pickable)return null;const e=t.filter((t=>this.pickLayersPass.shouldDrawLayer(t)&&!t.isComposite));return e.length?e:null}_pickClosestObject(t){let{layers:e,views:n,viewports:r,x:i,y:o,radius:s=0,depth:a=1,mode:l="query",unproject3D:c,onViewportActive:u,effects:h}=t;const f=this._getPickable(e),d=(0,g.o0)(this.gl);if(!f)return{result:[],emptyInfo:_({viewports:r,x:i,y:o,pixelRatio:d})};this._resizeBuffer();const p=(0,g.w8)(this.gl,[i,o],!0),A=[p.x+Math.floor(p.width/2),p.y+Math.floor(p.height/2)],y=Math.round(s*d),{width:m,height:v}=this.pickingFBO,x=this._getPickingRect({deviceX:A[0],deviceY:A[1],deviceRadius:y,deviceWidth:m,deviceHeight:v}),E={x:i-s,y:o-s,width:2*s+1,height:2*s+1};let S;const C=[],P=new Set;for(let g=0;g<a;g++){let t,e;if(x){t=b({...this._drawAndSample({layers:f,views:n,viewports:r,onViewportActive:u,deviceRect:x,cullRect:E,effects:h,pass:"picking:".concat(l)}),deviceX:A[0],deviceY:A[1],deviceRadius:y,deviceRect:x})}else t={pickedColor:null,pickedObjectIndex:-1};if(t.pickedLayer&&c&&this.depthFBO){const{pickedColors:i}=this._drawAndSample({layers:[t.pickedLayer],views:n,viewports:r,onViewportActive:u,deviceRect:{x:t.pickedX,y:t.pickedY,width:1,height:1},cullRect:E,effects:h,pass:"picking:".concat(l,":z")},!0);i[3]&&(e=i[0])}t.pickedLayer&&g+1<a&&(P.add(t.pickedLayer),t.pickedLayer.disablePickingIndex(t.pickedObjectIndex)),S=w({pickInfo:t,lastPickedInfo:this.lastPickedInfo,mode:l,layers:f,viewports:r,x:i,y:o,z:e,pixelRatio:d});for(const n of S.values())n.layer&&C.push(n);if(!t.pickedColor)break}for(const g of P)g.restorePickingColors();return{result:C,emptyInfo:S.get(null)}}_pickVisibleObjects(t){let{layers:e,views:n,viewports:r,x:i,y:o,width:a=1,height:l=1,mode:c="query",maxObjects:u=null,onViewportActive:h,effects:f}=t;const d=this._getPickable(e);if(!d)return[];this._resizeBuffer();const p=(0,g.o0)(this.gl),A=(0,g.w8)(this.gl,[i,o],!0),y=A.x,m=A.y+A.height,v=(0,g.w8)(this.gl,[i+a,o+l],!0),b=v.x+v.width,_=v.y,w={x:y,y:_,width:b-y,height:m-_},E=function(t){let{pickedColors:e,decodePickingColor:n}=t;const r=new Map;if(e)for(let i=0;i<e.length;i+=4)if(e[i+3]-1>=0){const t=e.slice(i,i+4),o=t.join(",");if(!r.has(o)){const e=n(t);e?r.set(o,{...e,color:t}):s.A.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(r.values())}(this._drawAndSample({layers:d,views:n,viewports:r,onViewportActive:h,deviceRect:w,cullRect:{x:i,y:o,width:a,height:l},effects:f,pass:"picking:".concat(c)})),S=new Map,C=Number.isFinite(u);for(let s=0;s<E.length;s++){var P;if(C&&u&&S.size>=u)break;const t=E[s];let e={color:t.pickedColor,layer:null,index:t.pickedObjectIndex,picked:!0,x:i,y:o,pixelRatio:p};e=x({layer:t.pickedLayer,info:e,mode:c});const n=null!==(P=e.object)&&void 0!==P?P:"".concat(e.layer.id,"[").concat(e.index,"]");S.has(n)||S.set(n,e)}return Array.from(S.values())}_drawAndSample(t){let{layers:e,views:n,viewports:r,onViewportActive:i,deviceRect:o,cullRect:s,effects:a,pass:l}=t,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const u=c?this.depthFBO:this.pickingFBO,h={layers:e,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:i,pickingFBO:u,deviceRect:o,cullRect:s,effects:a,pass:l,pickZ:c,preRenderStats:{}};for(const y of a)y.useInPicking&&(h.preRenderStats[y.id]=y.preRender(this.gl,h));const{decodePickingColor:f}=this.pickLayersPass.render(h),{x:d,y:p,width:A,height:g}=o,m=new(c?Float32Array:Uint8Array)(A*g*4);return(0,y.sy)(u,{sourceX:d,sourceY:p,sourceWidth:A,sourceHeight:g,target:m}),{pickedColors:m,decodePickingColor:f}}_getPickingRect(t){let{deviceX:e,deviceY:n,deviceRadius:r,deviceWidth:i,deviceHeight:o}=t;const s=Math.max(0,e-r),a=Math.max(0,n-r),l=Math.min(i,e+r+1)-s,c=Math.min(o,n+r+1)-a;return l<=0||c<=0?null:{x:s,y:a,width:l,height:c}}}const S={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class C{constructor(t){(0,r.A)(this,"el",null),(0,r.A)(this,"isVisible",!1);const e=t.parentElement;e&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,S),e.appendChild(this.el))}setTooltip(t,e,n){const r=this.el;if(r){if("string"===typeof t)r.innerText=t;else{if(!t)return this.isVisible=!1,void(r.style.display="none");t.text&&(r.innerText=t.text),t.html&&(r.innerHTML=t.html),t.className&&(r.className=t.className)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(e,"px, ").concat(n,"px)"),t&&"object"===typeof t&&"style"in t&&Object.assign(r.style,t.style)}}remove(){this.el&&(this.el.remove(),this.el=null)}}var P=n(55405),M=n(23575),T=n(18653),O=n(84362),I=n(79068),R=n(58547),L=n(12041),k=n(6895);const B={mousedown:1,mousemove:2,mouseup:4};!function(t){const e=t.prototype.handler;t.prototype.handler=function(t){const n=this.store;t.button>0&&"pointerdown"===t.type&&(function(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(n,(e=>e.pointerId===t.pointerId))||n.push(t)),e.call(this,t)}}(k.PointerEventInput),k.MouseInput.prototype.handler=function(t){let e=B[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.buttons&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};const N=k.Manager,D=k;class F{constructor(t,e,n){this.element=t,this.callback=e,this.options={enable:!0,...n}}}const j=D?[[D.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[D.Rotate,{enable:!1}],[D.Pinch,{enable:!1}],[D.Swipe,{enable:!1}],[D.Pan,{threshold:0,enable:!1}],[D.Press,{enable:!1}],[D.Tap,{event:"doubletap",taps:2,enable:!1}],[D.Tap,{event:"anytap",enable:!1}],[D.Tap,{enable:!1}]]:null,U={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},z={doubletap:["tap"]},G={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},V={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},H={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},W={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},q="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",X="undefined"!==typeof window?window:n.g;"undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document&&document;let Y=!1;try{const t={get passive(){return Y=!0,!0}};X.addEventListener("test",null,t),X.removeEventListener("test",null)}catch(St){Y=!1}const Q=-1!==q.indexOf("firefox"),{WHEEL_EVENTS:K}=V,J="wheel",Z=4.000244140625;class $ extends F{constructor(t,e,n){super(t,e,n),this.handleEvent=t=>{if(!this.options.enable)return;let e=t.deltaY;X.WheelEvent&&(Q&&t.deltaMode===X.WheelEvent.DOM_DELTA_PIXEL&&(e/=X.devicePixelRatio),t.deltaMode===X.WheelEvent.DOM_DELTA_LINE&&(e*=40)),0!==e&&e%Z===0&&(e=Math.floor(e/Z)),t.shiftKey&&e&&(e*=.25),this.callback({type:J,center:{x:t.clientX,y:t.clientY},delta:-e,srcEvent:t,pointerType:"mouse",target:t.target})},this.events=(this.options.events||[]).concat(K),this.events.forEach((e=>t.addEventListener(e,this.handleEvent,!!Y&&{passive:!1})))}destroy(){this.events.forEach((t=>this.element.removeEventListener(t,this.handleEvent)))}enableEventType(t,e){t===J&&(this.options.enable=e)}}const{MOUSE_EVENTS:tt}=V,et="pointermove",nt="pointerover",rt="pointerout",it="pointerenter",ot="pointerleave";class st extends F{constructor(t,e,n){super(t,e,n),this.handleEvent=t=>{this.handleOverEvent(t),this.handleOutEvent(t),this.handleEnterEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(tt),this.events.forEach((e=>t.addEventListener(e,this.handleEvent)))}destroy(){this.events.forEach((t=>this.element.removeEventListener(t,this.handleEvent)))}enableEventType(t,e){t===et&&(this.enableMoveEvent=e),t===nt&&(this.enableOverEvent=e),t===rt&&(this.enableOutEvent=e),t===it&&(this.enableEnterEvent=e),t===ot&&(this.enableLeaveEvent=e)}handleOverEvent(t){this.enableOverEvent&&"mouseover"===t.type&&this._emit(nt,t)}handleOutEvent(t){this.enableOutEvent&&"mouseout"===t.type&&this._emit(rt,t)}handleEnterEvent(t){this.enableEnterEvent&&"mouseenter"===t.type&&this._emit(it,t)}handleLeaveEvent(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this._emit(ot,t)}handleMoveEvent(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.buttons&&(this.pressed=!1),this.pressed||this._emit(et,t);break;case"mouseup":this.pressed=!1}}_emit(t,e){this.callback({type:t,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})}}const{KEY_EVENTS:at}=V,lt="keydown",ct="keyup";class ut extends F{constructor(t,e,n){super(t,e,n),this.handleEvent=t=>{const e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:lt,srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:ct,srcEvent:t,key:t.key,target:t.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(at),t.tabIndex=this.options.tabIndex||0,t.style.outline="none",this.events.forEach((e=>t.addEventListener(e,this.handleEvent)))}destroy(){this.events.forEach((t=>this.element.removeEventListener(t,this.handleEvent)))}enableEventType(t,e){t===lt&&(this.enableDownEvent=e),t===ct&&(this.enableUpEvent=e)}}const ht="contextmenu";class ft extends F{constructor(t,e,n){super(t,e,n),this.handleEvent=t=>{this.options.enable&&this.callback({type:ht,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})},t.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(t,e){t===ht&&(this.options.enable=e)}}const dt={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function pt(t){const e=dt[t.srcEvent.type];if(!e)return null;const{buttons:n,button:r}=t.srcEvent;let i=!1,o=!1,s=!1;return 2===e?(i=Boolean(1&n),o=Boolean(4&n),s=Boolean(2&n)):(i=0===r,o=1===r,s=2===r),{leftButton:i,middleButton:o,rightButton:s}}function At(t,e){const n=t.center;if(!n)return null;const r=e.getBoundingClientRect(),i=r.width/e.offsetWidth||1,o=r.height/e.offsetHeight||1;return{center:n,offsetCenter:{x:(n.x-r.left-e.clientLeft)/i,y:(n.y-r.top-e.clientTop)/o}}}const gt={srcElement:"root",priority:0};class yt{constructor(t){this.handleEvent=t=>{if(this.isEmpty())return;const e=this._normalizeEvent(t);let n=t.srcEvent.target;for(;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,"root")},this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{handlers:o,handlersByElement:s}=this;let a=gt;"string"===typeof n||n&&n.addEventListener?a={...gt,srcElement:n}:n&&(a={...gt,...n});let l=s.get(a.srcElement);l||(l=[],s.set(a.srcElement,l));const c={type:t,handler:e,srcElement:a.srcElement,priority:a.priority};r&&(c.once=!0),i&&(c.passive=!0),o.push(c),this._active=this._active||!c.passive;let u=l.length-1;for(;u>=0&&!(l[u].priority>=c.priority);)u--;l.splice(u+1,0,c)}remove(t,e){const{handlers:n,handlersByElement:r}=this;for(let i=n.length-1;i>=0;i--){const o=n[i];if(o.type===t&&o.handler===e){n.splice(i,1);const t=r.get(o.srcElement);t.splice(t.indexOf(o),1),0===t.length&&r.delete(o.srcElement)}}this._active=n.some((t=>!t.passive))}_emit(t,e){const n=this.handlersByElement.get(e);if(n){let e=!1;const r=()=>{t.handled=!0},i=()=>{t.handled=!0,e=!0},o=[];for(let s=0;s<n.length;s++){const{type:a,handler:l,once:c}=n[s];if(l({...t,type:a,stopPropagation:r,stopImmediatePropagation:i}),c&&o.push(n[s]),e)break}for(let t=0;t<o.length;t++){const{type:e,handler:n}=o[t];this.remove(e,n)}}}_normalizeEvent(t){const e=this.eventManager.getElement();return{...t,...pt(t),...At(t,e),preventDefault:()=>{t.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:e}}}const mt={events:null,recognizers:null,recognizerOptions:{},Manager:N,touchAction:"none",tabIndex:0};class vt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;this._onBasicInput=t=>{const{srcEvent:e}=t,n=G[e.type];n&&this.manager.emit(n,t)},this._onOtherEvent=t=>{this.manager.emit(t.type,t)},this.options={...mt,...e},this.events=new Map,this.setElement(t);const{events:n}=this.options;n&&this.on(n)}getElement(){return this.element}setElement(t){if(this.element&&this.destroy(),this.element=t,!t)return;const{options:e}=this,n=e.Manager;this.manager=new n(t,{touchAction:e.touchAction,recognizers:e.recognizers||j}).on("hammer.input",this._onBasicInput),e.recognizers||Object.keys(U).forEach((t=>{const e=this.manager.get(t);e&&U[t].forEach((t=>{e.recognizeWith(t)}))}));for(const r in e.recognizerOptions){const t=this.manager.get(r);if(t){const n=e.recognizerOptions[r];delete n.enable,t.set(n)}}this.wheelInput=new $(t,this._onOtherEvent,{enable:!1}),this.moveInput=new st(t,this._onOtherEvent,{enable:!1}),this.keyInput=new ut(t,this._onOtherEvent,{enable:!1,tabIndex:e.tabIndex}),this.contextmenuInput=new ft(t,this._onOtherEvent,{enable:!1});for(const[r,i]of this.events)i.isEmpty()||(this._toggleRecognizer(i.recognizerName,!0),this.manager.on(r,i.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(t,e,n){this._addEventHandler(t,e,n,!1)}once(t,e,n){this._addEventHandler(t,e,n,!0)}watch(t,e,n){this._addEventHandler(t,e,n,!1,!0)}off(t,e){this._removeEventHandler(t,e)}_toggleRecognizer(t,e){const{manager:n}=this;if(!n)return;const r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});const i=z[t];i&&!this.options.recognizers&&i.forEach((i=>{const o=n.get(i);e?(o.requireFailure(t),r.dropRequireFailure(i)):o.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}_addEventHandler(t,e,n,r,i){if("string"!==typeof t){n=e;for(const e in t)this._addEventHandler(e,t[e],n,r,i);return}const{manager:o,events:s}=this,a=W[t]||t;let l=s.get(a);l||(l=new yt(this),s.set(a,l),l.recognizerName=H[a]||a,o&&o.on(a,l.handleEvent)),l.add(t,e,n,r,i),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(t,e){if("string"!==typeof t){for(const e in t)this._removeEventHandler(e,t[e]);return}const{events:n}=this,r=W[t]||t,i=n.get(r);if(i&&(i.remove(t,e),i.isEmpty())){const{recognizerName:t}=i;let e=!1;for(const r of n.values())if(r.recognizerName===t&&!r.isEmpty()){e=!0;break}e||this._toggleRecognizer(t,!1)}}}var bt=n(45497),_t=n(77044);function wt(){}const xt={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:wt,onResize:wt,onViewStateChange:wt,onInteractionStateChange:wt,onBeforeRender:wt,onAfterRender:wt,onLoad:wt,onError:t=>s.A.error(t.message,t.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:t=>{let{isDragging:e}=t;return e?"grabbing":"grab"},getTooltip:null,debug:!1,drawPickingColors:!1};class Et{constructor(t){(0,r.A)(this,"props",void 0),(0,r.A)(this,"width",0),(0,r.A)(this,"height",0),(0,r.A)(this,"userData",{}),(0,r.A)(this,"canvas",null),(0,r.A)(this,"viewManager",null),(0,r.A)(this,"layerManager",null),(0,r.A)(this,"effectManager",null),(0,r.A)(this,"deckRenderer",null),(0,r.A)(this,"deckPicker",null),(0,r.A)(this,"eventManager",null),(0,r.A)(this,"tooltip",null),(0,r.A)(this,"metrics",void 0),(0,r.A)(this,"animationLoop",void 0),(0,r.A)(this,"stats",void 0),(0,r.A)(this,"viewState",void 0),(0,r.A)(this,"cursorState",void 0),(0,r.A)(this,"_needsRedraw",void 0),(0,r.A)(this,"_pickRequest",void 0),(0,r.A)(this,"_lastPointerDownInfo",null),(0,r.A)(this,"_metricsCounter",void 0),(0,r.A)(this,"_onPointerMove",(t=>{const{_pickRequest:e}=this;if("pointerleave"===t.type)e.x=-1,e.y=-1,e.radius=0;else{if(t.leftButton||t.rightButton)return;{const n=t.offsetCenter;if(!n)return;e.x=n.x,e.y=n.y,e.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:e.x,y:e.y}),e.event=t})),(0,r.A)(this,"_onEvent",(t=>{const e=_t.qY[t.type],n=t.offsetCenter;if(!e||!n||!this.layerManager)return;const r=this.layerManager.getLayers(),i=this.deckPicker.getLastPickedObject({x:n.x,y:n.y,layers:r,viewports:this.getViewports(n)},this._lastPointerDownInfo),{layer:o}=i,s=o&&(o[e.handler]||o.props[e.handler]),a=this.props[e.handler];let l=!1;s&&(l=s.call(o,i,t)),!l&&a&&a(i,t)})),(0,r.A)(this,"_onPointerDown",(t=>{const e=t.offsetCenter,n=this._pick("pickObject","pickObject Time",{x:e.x,y:e.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=n.result[0]||n.emptyInfo})),this.props={...xt,...t},t=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},t.viewState&&t.initialViewState&&s.A.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===(0,T.A)()&&s.A.warn("IE 11 is not supported")(),this.viewState=t.initialViewState,t.gl||"undefined"!==typeof document&&(this.canvas=this._createCanvas(t)),this.animationLoop=this._createAnimationLoop(t),this.stats=new L.A({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(t),t._typedArrayManagerProps&&P.A.setOptions(t._typedArrayManagerProps),this.animationLoop.start()}finalize(){var t,e,n,r,i,o,s,a,l;(null===(t=this.animationLoop)||void 0===t||t.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(n=this.viewManager)||void 0===n||n.finalize(),this.viewManager=null,null===(r=this.effectManager)||void 0===r||r.finalize(),this.effectManager=null,null===(i=this.deckRenderer)||void 0===i||i.finalize(),this.deckRenderer=null,null===(o=this.deckPicker)||void 0===o||o.finalize(),this.deckPicker=null,null===(s=this.eventManager)||void 0===s||s.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas)||(null===(l=this.canvas.parentElement)||void 0===l||l.removeChild(this.canvas),this.canvas=null)}setProps(t){this.stats.get("setProps Time").timeStart(),"onLayerHover"in t&&s.A.removed("onLayerHover","onHover")(),"onLayerClick"in t&&s.A.removed("onLayerClick","onClick")(),t.initialViewState&&!(0,o.b)(this.props.initialViewState,t.initialViewState,3)&&(this.viewState=t.initialViewState),Object.assign(this.props,t),this._setCanvasSize(this.props);const e=Object.create(this.props);Object.assign(e,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(e),this.layerManager&&(this.viewManager.setProps(e),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(e),this.effectManager.setProps(e),this.deckRenderer.setProps(e),this.deckPicker.setProps(e)),this.stats.get("setProps Time").timeEnd()}needsRedraw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let e=this._needsRedraw;t.clearRedrawFlags&&(this._needsRedraw=!1);const n=this.viewManager.needsRedraw(t),r=this.layerManager.needsRedraw(t),i=this.effectManager.needsRedraw(t),o=this.deckRenderer.needsRedraw(t);return e=e||n||r||i||o,e}redraw(t){if(!this.layerManager)return;let e=this.needsRedraw({clearRedrawFlags:!0});e=t||e,e&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(e):this._drawLayers(e))}get isInitialized(){return null!==this.viewManager}getViews(){return(0,bt.A)(this.viewManager),this.viewManager.views}getViewports(t){return(0,bt.A)(this.viewManager),this.viewManager.getViewports(t)}getCanvas(){return this.canvas}pickObject(t){const e=this._pick("pickObject","pickObject Time",t).result;return e.length?e[0]:null}pickMultipleObjects(t){return t.depth=t.depth||10,this._pick("pickObject","pickMultipleObjects Time",t).result}pickObjects(t){return this._pick("pickObjects","pickObjects Time",t)}_addResources(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const n in t)this.layerManager.resourceManager.add({resourceId:n,data:t[n],forceUpdate:e})}_removeResources(t){for(const e of t)this.layerManager.resourceManager.remove(e)}_addDefaultEffect(t){this.effectManager.addDefaultEffect(t)}_pick(t,e,n){(0,bt.A)(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(e).timeStart();const i=this.deckPicker[t]({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...n});return r.get(e).timeEnd(),i}_createCanvas(t){let e=t.canvas;if("string"===typeof e&&(e=document.getElementById(e),(0,bt.A)(e)),!e){e=document.createElement("canvas"),e.id=t.id||"deckgl-overlay";(t.parent||document.body).appendChild(e)}return Object.assign(e.style,t.style),e}_setCanvasSize(t){if(!this.canvas)return;const{width:e,height:n}=t;if(e||0===e){const t=Number.isFinite(e)?"".concat(e,"px"):e;this.canvas.style.width=t}if(n||0===n){var r;const e=Number.isFinite(n)?"".concat(n,"px"):n;this.canvas.style.position=(null===(r=t.style)||void 0===r?void 0:r.position)||"absolute",this.canvas.style.height=e}}_updateCanvasSize(){var t,e;const{canvas:n}=this;if(!n)return;const r=null!==(t=n.clientWidth)&&void 0!==t?t:n.width,i=null!==(e=n.clientHeight)&&void 0!==e?e:n.height;var o,s;r===this.width&&i===this.height||(this.width=r,this.height=i,null===(o=this.viewManager)||void 0===o||o.setProps({width:r,height:i}),null===(s=this.layerManager)||void 0===s||s.activateViewport(this.getViewports()[0]),this.props.onResize({width:r,height:i}))}_createAnimationLoop(t){const{width:e,height:n,gl:r,glOptions:i,debug:o,onError:s,onBeforeRender:a,onAfterRender:l,useDevicePixels:c}=t;return new O.A({width:e,height:n,useDevicePixels:c,autoResizeDrawingBuffer:!r,autoResizeViewport:!1,gl:r,onCreateContext:t=>(0,g.XZ)({...i,...t,canvas:this.canvas,debug:o,onContextLost:()=>this._onContextLost()}),onInitialize:t=>this._setGLContext(t.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:a,onAfterRender:l,onError:s})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let t=this.props.views||[new c.A({id:"default-view"})];return t=Array.isArray(t)?t:[t],t.length&&this.props.controller&&(t[0].props.controller=this.props.controller),t}_onContextLost(){const{onError:t}=this.props;this.animationLoop&&t&&t(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:t}=this;if(t.event){const{result:n,emptyInfo:r}=this._pick("pickObject","pickObject Time",t);this.cursorState.isHovering=n.length>0;let i=r,o=!1;for(const s of n){var e;i=s,o=(null===(e=s.layer)||void 0===e?void 0:e.onHover(s,t.event))||o}if(!o&&this.props.onHover&&this.props.onHover(i,t.event),this.props.getTooltip&&this.tooltip){const t=this.props.getTooltip(i);this.tooltip.setTooltip(t,i.x,i.y)}t.event=null}}_updateCursor(){const t=this.props.parent||this.canvas;t&&(t.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(t){if(this.layerManager)return;this.canvas||(this.canvas=t.canvas,(0,g.uZ)(t,{enable:!0,copyState:!0})),this.tooltip=new C(this.canvas),(0,g.Rz)(t,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(t);const e=new I.K;e.play(),this.animationLoop.attachTimeline(e),this.eventManager=new vt(this.props.parent||t.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const r in _t.qY)this.eventManager.on(r,this._onEvent);this.viewManager=new l({timeline:e,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const n=this.viewManager.getViewports()[0];this.layerManager=new i.A(t,{deck:this,stats:this.stats,viewport:n,timeline:e}),this.effectManager=new f,this.deckRenderer=new d.A(t),this.deckPicker=new E(t),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(t,e){const{gl:n}=this.layerManager.context;(0,g.Rz)(n,this.props.parameters),this.props.onBeforeRender({gl:n}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...e}),this.props.onAfterRender({gl:n})}_onRenderFrame(t){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),s.A.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(t){const e=this.props.onViewStateChange(t)||t.viewState;this.viewState&&(this.viewState={...this.viewState,[t.viewId]:e},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(t){this.cursorState.isDragging=t.isDragging||!1,this.props.onInteractionStateChange(t)}_getFrameStats(){const{stats:t}=this;t.get("frameRate").timeEnd(),t.get("frameRate").timeStart();const e=this.animationLoop.stats;t.get("GPU Time").addTime(e.get("GPU Time").lastTiming),t.get("CPU Time").addTime(e.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:t,stats:e}=this;t.fps=e.get("frameRate").getHz(),t.setPropsTime=e.get("setProps Time").time,t.updateAttributesTime=e.get("Update Attributes").time,t.framesRedrawn=e.get("Redraw Count").count,t.pickTime=e.get("pickObject Time").time+e.get("pickMultipleObjects Time").time+e.get("pickObjects Time").time,t.pickCount=e.get("Pick Count").count,t.gpuTime=e.get("GPU Time").time,t.cpuTime=e.get("CPU Time").time,t.gpuTimePerFrame=e.get("GPU Time").getAverageTime(),t.cpuTimePerFrame=e.get("CPU Time").getAverageTime();const n=R.dJ.get("Memory Usage");t.bufferMemory=n.get("Buffer Memory").count,t.textureMemory=n.get("Texture Memory").count,t.renderbufferMemory=n.get("Renderbuffer Memory").count,t.gpuMemory=n.get("GPU Memory").count}}(0,r.A)(Et,"defaultProps",xt),(0,r.A)(Et,"VERSION",M.x)},23575:(t,e,n)=>{"use strict";n.d(e,{x:()=>l});var r=n(12373),i=n(71778),o=n(96649),s=n(40249);const a={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(t){const e=t[0],n=t[t.length-1];return"{"===e&&"}"===n||"["===e&&"]"===n},parseTextSync:JSON.parse};const l=function(){const t="8.9.36",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==t)throw new Error("deck.gl - multiple versions detected: ".concat(e," vs ").concat(t));return e||(o.A.log(1,"deck.gl ".concat(t))(),globalThis.deck={...globalThis.deck,VERSION:t,version:t,log:o.A,_registerLoggers:s.k},(0,r.mk)([a,[i.$,{imagebitmap:{premultiplyAlpha:"none"}}]])),t}()},40712:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var r=n(54705),i=n(80572);class o{static get componentName(){return Object.prototype.hasOwnProperty.call(this,"extensionName")?this.extensionName:""}constructor(t){(0,r.A)(this,"opts",void 0),t&&(this.opts=t)}equals(t){return this===t||this.constructor===t.constructor&&(0,i.b)(this.opts,t.opts,1)}getShaders(t){return null}getSubLayerProps(t){const{defaultProps:e}=t.constructor,n={updateTriggers:{}};for(const r in e)if(r in this.props){const t=e[r],i=this.props[r];n[r]=i,t&&"accessor"===t.type&&(n.updateTriggers[r]=this.props.updateTriggers[r],"function"===typeof i&&(n[r]=this.getSubLayerAccessor(i)))}return n}initializeState(t,e){}updateState(t,e){}onNeedsRedraw(t){}getNeedsPickingBuffer(t){return!1}draw(t,e){}finalizeState(t,e){}}(0,r.A)(o,"defaultProps",{}),(0,r.A)(o,"extensionName","LayerExtension")},13891:(t,e,n)=>{"use strict";n.d(e,{A:()=>m});var r=n(54705),i=n(79068),o=n(93311),s=n(96649),a=n(40249),l=n(29877),c=n(12041),u=n(17574);class h{constructor(t,e,n){(0,r.A)(this,"id",void 0),(0,r.A)(this,"context",void 0),(0,r.A)(this,"isLoaded",void 0),(0,r.A)(this,"persistent",void 0),(0,r.A)(this,"_loadCount",0),(0,r.A)(this,"_subscribers",new Set),(0,r.A)(this,"_data",void 0),(0,r.A)(this,"_loader",void 0),(0,r.A)(this,"_error",void 0),(0,r.A)(this,"_content",void 0),this.id=t,this.context=n,this.setData(e)}subscribe(t){this._subscribers.add(t)}unsubscribe(t){this._subscribers.delete(t)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((()=>this.getData()))}setData(t,e){if(t===this._data&&!e)return;this._data=t;const n=++this._loadCount;let r=t;"string"===typeof t&&(r=(0,u.H)(t)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then((t=>{this._loadCount===n&&(this.isLoaded=!0,this._error=void 0,this._content=t)})).catch((t=>{this._loadCount===n&&(this.isLoaded=!0,this._error=t||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=t);for(const i of this._subscribers)i.onChange(this.getData())}}class f{constructor(t){let{gl:e,protocol:n}=t;(0,r.A)(this,"protocol",void 0),(0,r.A)(this,"_context",void 0),(0,r.A)(this,"_resources",void 0),(0,r.A)(this,"_consumers",void 0),(0,r.A)(this,"_pruneRequest",void 0),this.protocol=n||"resource://",this._context={gl:e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(t){return!!t.startsWith(this.protocol)||t in this._resources}add(t){let{resourceId:e,data:n,forceUpdate:r=!1,persistent:i=!0}=t,o=this._resources[e];o?o.setData(n,r):(o=new h(e,n,this._context),this._resources[e]=o),o.persistent=i}remove(t){const e=this._resources[t];e&&(e.delete(),delete this._resources[t])}unsubscribe(t){let{consumerId:e}=t;const n=this._consumers[e];if(n){for(const t in n){const e=n[t],r=this._resources[e.resourceId];r&&r.unsubscribe(e)}delete this._consumers[e],this.prune()}}subscribe(t){let{resourceId:e,onChange:n,consumerId:r,requestId:i="default"}=t;const{_resources:o,protocol:s}=this;e.startsWith(s)&&(e=e.replace(s,""),o[e]||this.add({resourceId:e,data:null,persistent:!1}));const a=o[e];if(this._track(r,i,a,n),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout((()=>this._prune()),0))}finalize(){for(const t in this._resources)this._resources[t].delete()}_track(t,e,n,r){const i=this._consumers,o=i[t]=i[t]||{},s=o[e]||{},a=s.resourceId&&this._resources[s.resourceId];a&&(a.unsubscribe(s),this.prune()),n&&(o[e]=s,s.onChange=r,s.resourceId=n.id,n.subscribe(s))}_prune(){this._pruneRequest=null;for(const t of Object.keys(this._resources)){const e=this._resources[t];e.persistent||e.inUse()||(e.delete(),delete this._resources[t])}}}var d=n(45867),p=n(51844);const A=[n(8757).A],g=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function y(t){const e=p.A.getDefaultProgramManager(t);for(const n of A)e.addDefaultModule(n);for(const n of g)e.addShaderHook(n);return e}class m{constructor(t){let{deck:e,stats:n,viewport:o,timeline:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.A)(this,"layers",void 0),(0,r.A)(this,"context",void 0),(0,r.A)(this,"resourceManager",void 0),(0,r.A)(this,"_lastRenderedLayers",[]),(0,r.A)(this,"_needsRedraw",!1),(0,r.A)(this,"_needsUpdate",!1),(0,r.A)(this,"_nextLayers",null),(0,r.A)(this,"_debug",!1),(0,r.A)(this,"activateViewport",(t=>{(0,a.A)("layerManager.activateViewport",this,t),t&&(this.context.viewport=t)})),this.layers=[],this.resourceManager=new f({gl:t,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:t,deck:e,programManager:t&&y(t),stats:n||new c.A({id:"deck.gl"}),viewport:o||new d.A({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:s||new i.K,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const t of this.layers)this._finalizeLayer(t)}needsRedraw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},e=this._needsRedraw;t.clearRedrawFlags&&(this._needsRedraw=!1);for(const n of this.layers){const r=n.getNeedsRedraw(t);e=e||r}return e}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(t){this._needsRedraw=this._needsRedraw||t}setNeedsUpdate(t){this._needsUpdate=this._needsUpdate||t}getLayers(){let{layerIds:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t?this.layers.filter((e=>t.find((t=>0===e.id.indexOf(t))))):this.layers}setProps(t){"debug"in t&&(this._debug=t.debug),"userData"in t&&(this.context.userData=t.userData),"layers"in t&&(this._nextLayers=t.layers),"onError"in t&&(this.context.onError=t.onError)}setLayers(t,e){(0,a.A)("layerManager.setLayers",this,e,t),this._lastRenderedLayers=t;const n=(0,l.B)(t,Boolean);for(const r of n)r.context=this.context;this._updateLayers(this.layers,n)}updateLayers(){const t=this.needsUpdate();t&&(this.setNeedsRedraw("updating layers: ".concat(t)),this.setLayers(this._nextLayers||this._lastRenderedLayers,t)),this._nextLayers=null}_handleError(t,e,n){n.raiseError(e,"".concat(t," of ").concat(n))}_updateLayers(t,e){const n={};for(const o of t)n[o.id]?s.A.warn("Multiple old layers with same id ".concat(o.id))():n[o.id]=o;const r=[];this._updateSublayersRecursively(e,n,r),this._finalizeOldLayers(n);let i=!1;for(const o of r)if(o.hasUniformTransition()){i="Uniform transition in ".concat(o);break}this._needsUpdate=i,this.layers=r}_updateSublayersRecursively(t,e,n){for(const i of t){i.context=this.context;const t=e[i.id];null===t&&s.A.warn("Multiple new layers with same id ".concat(i.id))(),e[i.id]=null;let o=null;try{this._debug&&t!==i&&i.validateProps(),t?(this._transferLayerState(t,i),this._updateLayer(i)):this._initializeLayer(i),n.push(i),o=i.isComposite?i.getSubLayers():null}catch(r){this._handleError("matching",r,i)}o&&this._updateSublayersRecursively(o,e,n)}}_finalizeOldLayers(t){for(const e in t){const n=t[e];n&&this._finalizeLayer(n)}}_initializeLayer(t){try{t._initialize(),t.lifecycle=o.VD.INITIALIZED}catch(e){this._handleError("initialization",e,t)}}_transferLayerState(t,e){e._transferState(t),e.lifecycle=o.VD.MATCHED,e!==t&&(t.lifecycle=o.VD.AWAITING_GC)}_updateLayer(t){try{t._update()}catch(e){this._handleError("update",e,t)}}_finalizeLayer(t){this._needsRedraw=this._needsRedraw||"finalized ".concat(t),t.lifecycle=o.VD.AWAITING_FINALIZATION;try{t._finalize(),t.lifecycle=o.VD.FINALIZED}catch(e){this._handleError("finalization",e,t)}}}},43203:(t,e,n)=>{"use strict";n.d(e,{A:()=>tt});var r=n(54705),i=n(77044),o=n(8892),s=n(39240),a=n(67567),l=n(3071);class c extends l.A{get value(){return this._value}_onUpdate(){const{time:t,settings:{fromValue:e,toValue:n,duration:r,easing:i}}=this,o=i(t/r);this._value=(0,a.Cc)(e,n,o)}}const u=1e-5;function h(t,e,n,r,i){const o=e-t;return(n-e)*i+-o*r+o+e}function f(t,e){if(Array.isArray(t)){let n=0;for(let r=0;r<t.length;r++){const i=t[r]-e[r];n+=i*i}return Math.sqrt(n)}return Math.abs(t-e)}class d extends l.A{get value(){return this._currValue}_onUpdate(){const{fromValue:t,toValue:e,damping:n,stiffness:r}=this.settings,{_prevValue:i=t,_currValue:o=t}=this;let s=function(t,e,n,r,i){if(Array.isArray(n)){const o=[];for(let s=0;s<n.length;s++)o[s]=h(t[s],e[s],n[s],r,i);return o}return h(t,e,n,r,i)}(i,o,e,n,r);const a=f(s,e),l=f(s,o);a<u&&l<u&&(s=e,this.end()),this._prevValue=o,this._currValue=s}}var p=n(96649);const A={interpolation:c,spring:d};class g{constructor(t){this.transitions=new Map,this.timeline=t}get active(){return this.transitions.size>0}add(t,e,n,r){const{transitions:i}=this;if(i.has(t)){const n=i.get(t),{value:r=n.settings.fromValue}=n;e=r,this.remove(t)}if(!(r=(0,s.K$)(r)))return;const o=A[r.type];if(!o)return void p.A.error("unsupported transition type '".concat(r.type,"'"))();const a=new o(this.timeline);a.start({...r,fromValue:e,toValue:n}),i.set(t,a)}remove(t){const{transitions:e}=this;e.has(t)&&(e.get(t).cancel(),e.delete(t))}update(){const t={};for(const[e,n]of this.transitions)n.update(),t[e]=n.value,n.inProgress||this.remove(e);return t}clear(){for(const t of this.transitions.keys())this.remove(t)}}var y=n(54144),m=n(93311),v=n(93712),b=n(40249),_=n(45882),w=n(45497),x=n(63503),E=n(25086),S=n(76557),C=n(55405),P=n(82133),M=n(59375);const T={10241:9987,10240:9729,10242:33071,10243:33071},O={};var I=n(80572);const R={boolean:{validate:(t,e)=>!0,equal:(t,e,n)=>Boolean(t)===Boolean(e)},number:{validate:(t,e)=>Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)},color:{validate:(t,e)=>e.optional&&!t||B(t)&&(3===t.length||4===t.length),equal:(t,e,n)=>(0,I.b)(t,e,1)},accessor:{validate(t,e){const n=N(t);return"function"===n||n===N(e.value)},equal:(t,e,n)=>"function"===typeof e||(0,I.b)(t,e,1)},array:{validate:(t,e)=>e.optional&&!t||B(t),equal(t,e,n){const{compare:r}=n,i=Number.isInteger(r)?r:r?1:0;return r?(0,I.b)(t,e,i):t===e}},object:{equal(t,e,n){if(n.ignore)return!0;const{compare:r}=n,i=Number.isInteger(r)?r:r?1:0;return r?(0,I.b)(t,e,i):t===e}},function:{validate:(t,e)=>e.optional&&!t||"function"===typeof t,equal:(t,e,n)=>!n.compare&&!1!==n.ignore||t===e},data:{transform:(t,e,n)=>{const{dataTransform:r}=n.props;return r&&t?r(t):t}},image:{transform:(t,e,n)=>{const r=n.context;return r&&r.gl?function(t,e,n,r){if(n instanceof M.A)return n;n.constructor&&"Object"!==n.constructor.name&&(n={data:n});let i=null;n.compressed&&(i={10241:n.data.length>1?9985:9729});const o=new M.A(e,{...n,parameters:{...T,...i,...r}});return O[o.id]=t,o}(n.id,r.gl,t,{...e.parameters,...n.props.textureParameters}):null},release:(t,e,n)=>{var r,i;r=n.id,(i=t)&&i instanceof M.A&&O[i.id]===r&&(i.delete(),delete O[i.id])}}};function L(t,e){switch(N(e)){case"object":return k(t,e);case"array":return k(t,{type:"array",value:e,compare:!1});case"boolean":return k(t,{type:"boolean",value:e});case"number":return k(t,{type:"number",value:e});case"function":return k(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function k(t,e){return"type"in e?{name:t,...R[e.type],...e}:"value"in e?{name:t,type:N(e.value),...e}:{name:t,type:"object",value:e}}function B(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function N(t){return B(t)?"array":null===t?"null":typeof t}const D="_mergedDefaultProps";function F(t,e){let n=D;if(e)for(const i of e){const t=i.constructor;t&&(n+=":".concat(t.extensionName||t.name))}const r=z(t,n);return r||(t[n]=function(t,e){const n=t.prototype;if(!n)return null;const r=Object.getPrototypeOf(t),i=F(r),o=z(t,"defaultProps")||{},s=function(t){const e={},n={},r={};for(const[i,o]of Object.entries(t)){const t=null===o||void 0===o?void 0:o.deprecatedFor;if(t)r[i]=Array.isArray(t)?t:[t];else{const t=L(i,o);e[i]=t,n[i]=t.value}}return{propTypes:e,defaultProps:n,deprecatedProps:r}}(o),a=Object.assign(Object.create(null),i,s.defaultProps),l=Object.assign(Object.create(null),null===i||void 0===i?void 0:i[m.fW],s.propTypes),c=Object.assign(Object.create(null),null===i||void 0===i?void 0:i[m.uH],s.deprecatedProps);for(const u of e){const t=F(u.constructor);t&&(Object.assign(a,t),Object.assign(l,t[m.fW]),Object.assign(c,t[m.uH]))}(function(t,e){const n=function(t){const e=t.componentName;e||p.A.warn("".concat(t.name,".componentName not specified"))();return e||t.name}(e);Object.defineProperties(t,{id:{writable:!0,value:n}})})(a,t),function(t,e){const n={},r={};for(const i in e){const t=e[i],{name:o,value:s}=t;t.async&&(n[o]=s,r[o]=j(o))}t[m.jA]=n,t[m.YN]={},Object.defineProperties(t,r)}(a,l),function(t,e){for(const n in e)Object.defineProperty(t,n,{enumerable:!1,set(t){const r="".concat(this.id,": ").concat(n);for(const i of e[n])U(this,i)||(this[i]=t);p.A.deprecated(r,e[n].join("/"))()}})}(a,c),a[m.fW]=l,a[m.uH]=c,0!==e.length||U(t,"_propTypes")||(t._propTypes=l);return a}(t,e||[]))}function j(t){return{enumerable:!0,set(e){"string"===typeof e||e instanceof Promise||(0,P.Td)(e)?this[m.YN][t]=e:this[m.vf][t]=e},get(){if(this[m.vf]){if(t in this[m.vf]){return this[m.vf][t]||this[m.jA][t]}if(t in this[m.YN]){const e=this[m.r3]&&this[m.r3].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[m.jA][t]}}return this[m.jA][t]}}}function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function z(t,e){return U(t,e)&&t[e]}let G=0;class V{constructor(){(0,r.A)(this,"id",void 0),(0,r.A)(this,"props",void 0),(0,r.A)(this,"count",void 0);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.props=function(t,e){let n;for(let o=e.length-1;o>=0;o--){const t=e[o];"extensions"in t&&(n=t.extensions)}const r=F(t.constructor,n),i=Object.create(r);i[m.r3]=t,i[m.YN]={},i[m.vf]={};for(let o=0;o<e.length;++o){const t=e[o];for(const e in t)i[e]=t[e]}return Object.freeze(i),i}(this,e),this.id=this.props.id,this.count=G++}clone(t){const{props:e}=this,n={};for(const r in e[m.jA])r in e[m.vf]?n[r]=e[m.vf][r]:r in e[m.YN]&&(n[r]=e[m.YN][r]);return new this.constructor({...e,...n,...t})}}(0,r.A)(V,"componentName","Component"),(0,r.A)(V,"defaultProps",{});const H=Object.freeze({});class W{constructor(t){(0,r.A)(this,"component",void 0),(0,r.A)(this,"onAsyncPropUpdated",void 0),(0,r.A)(this,"asyncProps",void 0),(0,r.A)(this,"oldProps",void 0),(0,r.A)(this,"oldAsyncProps",void 0),this.component=t,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const t in this.asyncProps){const e=this.asyncProps[t];e&&e.type&&e.type.release&&e.type.release(e.resolvedValue,e.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||H}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(t){return t in this.asyncProps}getAsyncProp(t){const e=this.asyncProps[t];return e&&e.resolvedValue}isAsyncPropLoading(t){if(t){const e=this.asyncProps[t];return Boolean(e&&e.pendingLoadCount>0&&e.pendingLoadCount!==e.resolvedLoadCount)}for(const e in this.asyncProps)if(this.isAsyncPropLoading(e))return!0;return!1}reloadAsyncProp(t,e){this._watchPromise(t,Promise.resolve(e))}setAsyncProps(t){this.component=t[m.r3]||this.component;const e=t[m.vf]||{},n=t[m.YN]||t,r=t[m.jA]||{};for(const i in e){const t=e[i];this._createAsyncPropData(i,r[i]),this._updateAsyncProp(i,t),e[i]=this.getAsyncProp(i)}for(const i in n){const t=n[i];this._createAsyncPropData(i,r[i]),this._updateAsyncProp(i,t)}}_fetch(t,e){return null}_onResolve(t,e){}_onError(t,e){}_updateAsyncProp(t,e){this._didAsyncInputValueChange(t,e)&&("string"===typeof e&&(e=this._fetch(t,e)),e instanceof Promise?this._watchPromise(t,e):(0,P.Td)(e)?this._resolveAsyncIterable(t,e):this._setPropValue(t,e))}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const t in this.asyncProps)Object.defineProperty(this.oldAsyncProps,t,{enumerable:!0,value:this.oldProps[t]})}}_didAsyncInputValueChange(t,e){const n=this.asyncProps[t];return e!==n.resolvedValue&&e!==n.lastValue&&(n.lastValue=e,!0)}_setPropValue(t,e){this._freezeAsyncOldProps();const n=this.asyncProps[t];n&&(e=this._postProcessValue(n,e),n.resolvedValue=e,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}_setAsyncPropValue(t,e,n){const r=this.asyncProps[t];r&&n>=r.resolvedLoadCount&&void 0!==e&&(this._freezeAsyncOldProps(),r.resolvedValue=e,r.resolvedLoadCount=n,this.onAsyncPropUpdated(t,e))}_watchPromise(t,e){const n=this.asyncProps[t];if(n){n.pendingLoadCount++;const r=n.pendingLoadCount;e.then((e=>{this.component&&(e=this._postProcessValue(n,e),this._setAsyncPropValue(t,e,r),this._onResolve(t,e))})).catch((e=>{this._onError(t,e)}))}}async _resolveAsyncIterable(t,e){if("data"!==t)return void this._setPropValue(t,e);const n=this.asyncProps[t];if(!n)return;n.pendingLoadCount++;const r=n.pendingLoadCount;let i=[],o=0;for await(const s of e){if(!this.component)return;const{dataTransform:e}=this.component.props;i=e?e(s,i):i.concat(s),Object.defineProperty(i,"__diff",{enumerable:!1,value:[{startRow:o,endRow:i.length}]}),o=i.length,this._setAsyncPropValue(t,i,r)}this._onResolve(t,i)}_postProcessValue(t,e){const n=t.type;return n&&this.component&&(n.release&&n.release(t.resolvedValue,n,this.component),n.transform)?n.transform(e,n,this.component):e}_createAsyncPropData(t,e){if(!this.asyncProps[t]){const n=this.component&&this.component.props[m.fW];this.asyncProps[t]={type:n&&n[t],lastValue:null,resolvedValue:e,pendingLoadCount:0,resolvedLoadCount:0}}}}class q extends W{constructor(t){let{attributeManager:e,layer:n}=t;super(n),(0,r.A)(this,"attributeManager",void 0),(0,r.A)(this,"needsRedraw",void 0),(0,r.A)(this,"needsUpdate",void 0),(0,r.A)(this,"subLayers",void 0),(0,r.A)(this,"usesPickingColorCache",void 0),(0,r.A)(this,"hasPickingBuffer",void 0),(0,r.A)(this,"changeFlags",void 0),(0,r.A)(this,"viewport",void 0),(0,r.A)(this,"uniformTransitions",void 0),(0,r.A)(this,"propsInTransition",void 0),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(t,e){const n=this.layer,r=null===n||void 0===n?void 0:n.props.fetch;return r?r(e,{propName:t,layer:n}):super._fetch(t,e)}_onResolve(t,e){const n=this.layer;if(n){const r=n.props.onDataLoad;"data"===t&&r&&r(e,{propName:t,layer:n})}}_onError(t,e){const n=this.layer;n&&n.raiseError(e,"loading ".concat(t," of ").concat(this.layer))}}var X=n(17844),Y=n(17574);const Q=2**24-1,K=Object.freeze([]),J=(0,x.A)((t=>{let{oldViewport:e,viewport:n}=t;return e.equals(n)}));let Z=new Uint8ClampedArray(0);const $={data:{type:"data",value:K,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:t=>t&&t.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(t,e)=>{let{propName:n,layer:r,loaders:i,loadOptions:o,signal:s}=e;const{resourceManager:a}=r.context;var l;(o=o||r.getLoadOptions(),i=i||r.props.loaders,s)&&(o={...o,fetch:{...null===(l=o)||void 0===l?void 0:l.fetch,signal:s}});let c=a.contains(t);return c||o||(a.add({resourceId:t,data:(0,Y.H)(t,i),persistent:!1}),c=!0),c?a.subscribe({resourceId:t,onChange:t=>{var e;return null===(e=r.internalState)||void 0===e?void 0:e.reloadAsyncProp(n,t)},consumerId:r.id,requestId:n}):(0,Y.H)(t,i,o)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:i.rf.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:t=>{let{layerIndex:e}=t;return[0,100*-e]}},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class tt extends V{constructor(){super(...arguments),(0,r.A)(this,"internalState",null),(0,r.A)(this,"lifecycle",m.VD.NO_STATE),(0,r.A)(this,"context",void 0),(0,r.A)(this,"state",void 0),(0,r.A)(this,"parent",null)}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let t=this;for(;t.parent;)t=t.parent;return t}toString(){const t=this.constructor.layerName||this.constructor.name;return"".concat(t,"({id: '").concat(this.props.id,"'})")}project(t){(0,w.A)(this.internalState);const e=this.internalState.viewport||this.context.viewport,n=(0,S.w)(t,{viewport:e,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,i,o]=(0,X.VJ)(n,e.pixelProjectionMatrix);return 2===t.length?[r,i]:[r,i,o]}unproject(t){(0,w.A)(this.internalState);return(this.internalState.viewport||this.context.viewport).unproject(t)}projectPosition(t,e){(0,w.A)(this.internalState);const n=this.internalState.viewport||this.context.viewport;return(0,S.R)(t,{viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...e})}get isComposite(){return!1}setState(t){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,t),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(t){for(const e of this.getModels())e.updateModuleSettings(t)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:t}=this.props;return t===i.rf.DEFAULT||t===i.rf.LNGLAT||t===i.rf.CARTESIAN}onHover(t,e){return this.props.onHover&&this.props.onHover(t,e)||!1}onClick(t,e){return this.props.onClick&&this.props.onClick(t,e)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[0]=t+1&255,e[1]=t+1>>8&255,e[2]=t+1>>8>>8&255,e}decodePickingColor(t){(0,w.A)(t instanceof Uint8Array);const[e,n,r]=t;return e+256*n+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:(0,v.U)(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var t;return null===(t=this.getAttributeManager())||void 0===t?void 0:t.getBounds(["positions","instancePositions"])}getShaders(t){for(const e of this.props.extensions)t=(0,E.n)(t,e.getShaders.call(this,e));return t}shouldUpdateState(t){return t.changeFlags.propsOrDataChanged}updateState(t){const e=this.getAttributeManager(),{dataChanged:n}=t.changeFlags;if(n&&e)if(Array.isArray(n))for(const r of n)e.invalidateAll(r);else e.invalidateAll();if(e){const{props:n}=t,r=this.internalState.hasPickingBuffer,i=Number.isInteger(n.highlightedObjectIndex)||n.pickable||n.extensions.some((t=>t.getNeedsPickingBuffer.call(this,t)));if(r!==i){this.internalState.hasPickingBuffer=i;const{pickingColors:t,instancePickingColors:n}=e.attributes,r=t||n;r&&(i&&r.constant&&(r.constant=!1,e.invalidate(r.id)),r.value||i||(r.constant=!0,r.value=[0,0,0]))}}}finalizeState(t){for(const n of this.getModels())n.delete();const e=this.getAttributeManager();e&&e.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(t){for(const e of this.getModels())e.draw(t)}getPickingInfo(t){let{info:e,mode:n,sourceLayer:r}=t;const{index:i}=e;return i>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[i]),e}raiseError(t,e){var n,r,i,o;(e&&(t=new Error("".concat(e,": ").concat(t.message),{cause:t})),null!==(n=(r=this.props).onError)&&void 0!==n&&n.call(r,t))||(null===(i=this.context)||void 0===i||null===(o=i.onError)||void 0===o||o.call(i,t,this))}getNeedsRedraw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(t)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var t;return(null===(t=this.internalState)||void 0===t?void 0:t.uniformTransitions.active)||!1}activateViewport(t){if(!this.internalState)return;const e=this.internalState.viewport;this.internalState.viewport=t,e&&J({oldViewport:e,viewport:t})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";const e=this.getAttributeManager();e&&("all"===t?e.invalidateAll():e.invalidate(t))}updateAttributes(t){for(const e of this.getModels())this._setModelAttributes(e,t)}_updateAttributes(){const t=this.getAttributeManager();if(!t)return;const e=this.props,n=this.getNumInstances(),r=this.getStartIndices();t.update({data:e.data,numInstances:n,startIndices:r,props:e,transitions:e.transitions,buffers:e.data.attributes,context:this});const i=t.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}_updateAttributeTransition(){const t=this.getAttributeManager();t&&t.updateTransition()}_updateUniformTransition(){const{uniformTransitions:t}=this.internalState;if(t.active){const e=t.update(),n=Object.create(this.props);for(const t in e)Object.defineProperty(n,t,{value:e[t]});return n}return this.props}calculateInstancePickingColors(t,e){let{numInstances:n}=e;if(t.constant)return;const r=Math.floor(Z.length/3);if(this.internalState.usesPickingColorCache=!0,r<n){n>Q&&p.A.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Z=C.A.allocate(Z,n,{size:3,copy:!0,maxCount:Math.max(n,Q)});const t=Math.floor(Z.length/3),e=[];for(let n=r;n<t;n++)this.encodePickingColor(n,e),Z[3*n+0]=e[0],Z[3*n+1]=e[1],Z[3*n+2]=e[2]}t.value=Z.subarray(0,3*n)}_setModelAttributes(t,e){const n=this.getAttributeManager(),r=t.userData.excludeAttributes||{},i=n.getShaderAttributes(e,r);t.setAttributes(i)}disablePickingIndex(t){const e=this.props.data;if(!("attributes"in e))return void this._disablePickingIndex(t);const{pickingColors:n,instancePickingColors:r}=this.getAttributeManager().attributes,i=n||r,o=i&&e.attributes&&e.attributes[i.id];if(o&&o.value){const n=o.value,r=this.encodePickingColor(t);for(let t=0;t<e.length;t++){const e=i.getVertexOffset(t);n[e]===r[0]&&n[e+1]===r[1]&&n[e+2]===r[2]&&this._disablePickingIndex(t)}}else this._disablePickingIndex(t)}_disablePickingIndex(t){const{pickingColors:e,instancePickingColors:n}=this.getAttributeManager().attributes,r=e||n;if(!r)return;const i=r.getVertexOffset(t),o=r.getVertexOffset(t+1);r.buffer.subData({data:new Uint8Array(o-i),offset:i})}restorePickingColors(){const{pickingColors:t,instancePickingColors:e}=this.getAttributeManager().attributes,n=t||e;n&&(this.internalState.usesPickingColorCache&&n.value.buffer!==Z.buffer&&(n.value=Z.subarray(0,n.value.length)),n.updateSubBuffer({startOffset:0}))}_initialize(){(0,w.A)(!this.internalState),(0,w.A)(Number.isFinite(this.props.coordinateSystem)),(0,b.A)("layer.initialize",this);const t=this._getAttributeManager();t&&t.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new q({attributeManager:t,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(p.A.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),t)}),this.internalState.uniformTransitions=new g(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const e of this.props.extensions)e.initializeState.call(this,this.context,e);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(t){(0,b.A)("layer.matched",this,this===t);const{state:e,internalState:n}=t;this!==t&&(this.internalState=n,this.state=e,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const t=this.needsUpdate();if((0,b.A)("layer.update",this,t),!t)return;const e=this.props,n=this.context,r=this.internalState,i=n.viewport,o=this._updateUniformTransition();r.propsInTransition=o,n.viewport=r.viewport||i,this.props=o;try{const t=this._getUpdateParams(),e=this.getModels();if(n.gl)this.updateState(t);else try{this.updateState(t)}catch(s){}for(const n of this.props.extensions)n.updateState.call(this,t,n);const r=this.getModels()[0]!==e[0];this._postUpdate(t,r)}finally{n.viewport=i,this.props=e,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){(0,b.A)("layer.finalize",this),this.finalizeState(this.context);for(const t of this.props.extensions)t.finalizeState.call(this,this.context,t)}_drawLayer(t){let{moduleParameters:e=null,uniforms:n={},parameters:r={}}=t;this._updateAttributeTransition();const i=this.props,o=this.context;this.props=this.internalState.propsInTransition||i;const s=this.props.opacity;n.opacity=Math.pow(s,1/2.2);try{e&&this.setModuleParameters(e);const{getPolygonOffset:t}=this.props,i=t&&t(n)||[0,0];(0,_.Rz)(o.gl,{polygonOffset:i}),(0,_.zv)(o.gl,r,(()=>{const t={moduleParameters:e,uniforms:n,parameters:r,context:o};for(const e of this.props.extensions)e.draw.call(this,t,e);this.draw(t)}))}finally{this.props=i}}getChangeFlags(){var t;return null===(t=this.internalState)||void 0===t?void 0:t.changeFlags}setChangeFlags(t){if(!this.internalState)return;const{changeFlags:e}=this.internalState;for(const r in t)if(t[r]){let n=!1;if("dataChanged"===r){const i=t[r],o=e[r];i&&Array.isArray(o)&&(e.dataChanged=Array.isArray(i)?o.concat(i):i,n=!0)}e[r]||(e[r]=t[r],n=!0),n&&(0,b.A)("layer.changeFlag",this,r,t)}const n=Boolean(e.dataChanged||e.updateTriggersChanged||e.propsChanged||e.extensionsChanged);e.propsOrDataChanged=n,e.somethingChanged=n||e.viewportChanged||e.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(t,e){const n=(0,y.mg)(t,e);if(n.updateTriggersChanged)for(const i in n.updateTriggersChanged)n.updateTriggersChanged[i]&&this.invalidateAttribute(i);if(n.transitionsChanged)for(const i in n.transitionsChanged){var r;this.internalState.uniformTransitions.add(i,e[i],t[i],null===(r=t.transitions)||void 0===r?void 0:r[i])}return this.setChangeFlags(n)}validateProps(){(0,y.zo)(this.props)}updateAutoHighlight(t){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(t)}_updateAutoHighlight(t){const e={pickingSelectedColor:t.picked?t.color:null},{highlightColor:n}=this.props;t.picked&&"function"===typeof n&&(e.pickingHighlightColor=n(t)),this.setModuleParameters(e),this.setNeedsRedraw()}_getAttributeManager(){const t=this.context;return new o.A(t.gl,{id:this.props.id,stats:t.stats,timeline:t.timeline})}_postUpdate(t,e){const{props:n,oldProps:r}=t;this.setNeedsRedraw(),this._updateAttributes();const{model:i}=this.state;null===i||void 0===i||i.setInstanceCount(this.getNumInstances());const{autoHighlight:o,highlightedObjectIndex:s,highlightColor:a}=n;if(e||r.autoHighlight!==o||r.highlightedObjectIndex!==s||r.highlightColor!==a){const t={};o||(t.pickingSelectedColor=null),Array.isArray(a)&&(t.pickingHighlightColor=a),(e||s!==r.highlightedObjectIndex)&&(t.pickingSelectedColor=Number.isFinite(s)&&s>=0?this.encodePickingColor(s):null),this.setModuleParameters(t)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(t){if(!this.internalState)return!1;let e=!1;e=e||this.internalState.needsRedraw&&this.id;const n=this.getAttributeManager(),r=!!n&&n.getNeedsRedraw(t);if(e=e||r,e)for(const i of this.props.extensions)i.onNeedsRedraw.call(this,i);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!t.clearRedrawFlags,e}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}(0,r.A)(tt,"defaultProps",$),(0,r.A)(tt,"layerName","Layer")},93311:(t,e,n)=>{"use strict";n.d(e,{VD:()=>r,YN:()=>l,fW:()=>o,jA:()=>a,r3:()=>i,uH:()=>s,vf:()=>c});const r={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},i=Symbol.for("component"),o=Symbol.for("propTypes"),s=Symbol.for("deprecatedProps"),a=Symbol.for("asyncPropDefaults"),l=Symbol.for("asyncPropOriginal"),c=Symbol.for("asyncPropResolved")},54144:(t,e,n)=>{"use strict";n.d(e,{Me:()=>a,mg:()=>o,zo:()=>i});var r=n(93311);function i(t){const e=t[r.fW];for(const n in e){const r=e[n],{validate:i}=r;if(i&&!i(t[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(t[n]))}}function o(t,e){const n=a({newProps:t,oldProps:e,propTypes:t[r.fW],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),i=function(t,e){if(null===e)return"oldProps is null, initial diff";let n=!1;const{dataComparator:r,_dataDiff:i}=t;r?r(t.data,e.data)||(n="Data comparator detected a change"):t.data!==e.data&&(n="A new data container was supplied");n&&i&&(n=i(t.data,e.data)||n);return n}(t,e);let o=!1;return i||(o=function(t,e){if(null===e)return{all:!0};if("all"in t.updateTriggers){if(u(t,e,"all"))return{all:!0}}const n={};let r=!1;for(const i in t.updateTriggers)if("all"!==i){u(t,e,i)&&(n[i]=!0,r=!0)}return!!r&&n}(t,e)),{dataChanged:i,propsChanged:n,updateTriggersChanged:o,extensionsChanged:c(t,e),transitionsChanged:s(t,e)}}function s(t,e){if(!t.transitions)return!1;const n={},i=t[r.fW];let o=!1;for(const r in t.transitions){const s=i[r],a=s&&s.type;("number"===a||"color"===a||"array"===a)&&l(t[r],e[r],s)&&(n[r]=!0,o=!0)}return!!o&&n}function a(t){let{newProps:e,oldProps:n,ignoreProps:r={},propTypes:i={},triggerName:o="props"}=t;if(n===e)return!1;if("object"!==typeof e||null===e)return"".concat(o," changed shallowly");if("object"!==typeof n||null===n)return"".concat(o," changed shallowly");for(const s of Object.keys(e))if(!(s in r)){if(!(s in n))return"".concat(o,".").concat(s," added");const t=l(e[s],n[s],i[s]);if(t)return"".concat(o,".").concat(s," ").concat(t)}for(const s of Object.keys(n))if(!(s in r)){if(!(s in e))return"".concat(o,".").concat(s," dropped");if(!Object.hasOwnProperty.call(e,s)){const t=l(e[s],n[s],i[s]);if(t)return"".concat(o,".").concat(s," ").concat(t)}}return!1}function l(t,e,n){let r=n&&n.equal;return r&&!r(t,e,n)?"changed deeply":r||(r=t&&e&&t.equals,!r||r.call(t,e))?r||e===t?null:"changed shallowly":"changed deeply"}function c(t,e){if(null===e)return!0;const n=e.extensions,{extensions:r}=t;if(r===n)return!1;if(!n||!r)return!0;if(r.length!==n.length)return!0;for(let i=0;i<r.length;i++)if(!r[i].equals(n[i]))return!0;return!1}function u(t,e,n){let r=t.updateTriggers[n];r=void 0===r||null===r?{}:r;let i=e.updateTriggers[n];i=void 0===i||null===i?{}:i;return a({oldProps:i,newProps:r,triggerName:n})}},33711:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(54705),i=n(52450),o=n(45882),s=n(73091);class a extends i.A{constructor(){super(...arguments),(0,r.A)(this,"_lastRenderIndex",-1)}render(t){const e=this.gl;return(0,o.Rz)(e,{framebuffer:t.target}),this._drawLayers(t)}_drawLayers(t){const{target:e,moduleParameters:n,viewports:r,views:i,onViewportActive:s,clearStack:a=!0,clearCanvas:l=!0}=t;t.pass=t.pass||"unknown";const c=this.gl;l&&function(t,e){const n=e?e.width:t.drawingBufferWidth,r=e?e.height:t.drawingBufferHeight;(0,o.Rz)(t,{viewport:[0,0,n,r]}),t.clear(16640)}(c,e),a&&(this._lastRenderIndex=-1);const u=[];for(const o of r){const r=i&&i[o.id];null===s||void 0===s||s(o);const a=this._getDrawLayerParams(o,t),l=o.subViewports||[o];for(const i of l){const o=this._drawLayersInViewport(c,{target:e,moduleParameters:n,viewport:i,view:r,pass:t.pass,layers:t.layers},a);u.push(o)}}return u}_getDrawLayerParams(t,e){let{layers:n,pass:r,isPicking:i=!1,layerFilter:o,cullRect:s,effects:a,moduleParameters:c}=e,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const h=[],f=l(this._lastRenderIndex+1),d={layer:n[0],viewport:t,isPicking:i,renderPass:r,cullRect:s},p={};for(let l=0;l<n.length;l++){const e=n[l],i=this._shouldDrawLayer(e,d,o,p),s={shouldDrawLayer:i};i&&!u&&(s.layerRenderIndex=f(e,i),s.moduleParameters=this._getModuleParameters(e,a,r,c),s.layerParameters=this.getLayerParameters(e,l,t)),h[l]=s}return h}_drawLayersInViewport(t,e,n){let{layers:r,moduleParameters:i,pass:a,target:l,viewport:c,view:u}=e;const h=function(t,e){let{moduleParameters:n,target:r,viewport:i}=e;const s=r&&"default-framebuffer"!==r.id,a=n&&n.devicePixelRatio||(0,o.o0)(t),l=s?r.height:t.drawingBufferHeight,c=i;return[c.x*a,l-(c.y+c.height)*a,c.width*a,c.height*a]}(t,{moduleParameters:i,target:l,viewport:c});if(u&&u.props.clear){const e=!0===u.props.clear?{color:!0,depth:!0}:u.props.clear;(0,o.zv)(t,{scissorTest:!0,scissor:h},(()=>(0,s.I)(t,e)))}const f={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};(0,o.Rz)(t,{viewport:h});for(let o=0;o<r.length;o++){const t=r[o],{shouldDrawLayer:e,layerRenderIndex:i,moduleParameters:s,layerParameters:l}=n[o];if(e&&t.props.pickable&&f.pickableCount++,t.isComposite)f.compositeCount++;else if(e){f.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,i),s.viewport=c;try{t._drawLayer({moduleParameters:s,uniforms:{layerIndex:i},parameters:l})}catch(d){t.raiseError(d,"drawing ".concat(t," to ").concat(a))}}}return f}shouldDrawLayer(t){return!0}getModuleParameters(t,e){return null}getLayerParameters(t,e,n){return t.props.parameters}_shouldDrawLayer(t,e,n,r){if(!(t.props.visible&&this.shouldDrawLayer(t)))return!1;e.layer=t;let i=t.parent;for(;i;){if(!i.props.visible||!i.filterSubLayer(e))return!1;e.layer=i,i=i.parent}if(n){const t=e.layer.id;if(t in r||(r[t]=n(e)),!r[t])return!1}return t.activateViewport(e.viewport),!0}_getModuleParameters(t,e,n,r){var i;const s=Object.assign(Object.create((null===(i=t.internalState)||void 0===i?void 0:i.propsInTransition)||t.props),{autoWrapLongitude:t.wrapLongitude,viewport:t.context.viewport,mousePosition:t.context.mousePosition,pickingActive:0,devicePixelRatio:(0,o.o0)(this.gl)});if(e)for(const o of e){var a;Object.assign(s,null===(a=o.getModuleParameters)||void 0===a?void 0:a.call(o,t))}return Object.assign(s,this.getModuleParameters(t,e),r)}}function l(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={},r=(i,o)=>{const s=i.props._offset,a=i.id,c=i.parent&&i.parent.id;let u;if(c&&!(c in e)&&r(i.parent,!1),c in n){const t=n[c]=n[c]||l(e[c],e);u=t(i,o),n[a]=t}else Number.isFinite(s)?(u=s+(e[c]||0),n[a]=null):u=t;return o&&u>=t&&(t=u+1),e[a]=u,u};return r}},52450:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(54705);class i{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"pass"};(0,r.A)(this,"id",void 0),(0,r.A)(this,"gl",void 0),(0,r.A)(this,"props",void 0);const{id:n}=e;this.id=n,this.gl=t,this.props={...e}}setProps(t){Object.assign(this.props,t)}render(t){}cleanup(){}}},57203:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(54705),i=n(33711),o=n(45882),s=n(96649);const a={blendFunc:[1,0,32771,0],blendEquation:32774};class l extends i.A{constructor(){super(...arguments),(0,r.A)(this,"pickZ",void 0),(0,r.A)(this,"_colorEncoderState",null)}render(t){return"pickingFBO"in t?this._drawPickingBuffer(t):super.render(t)}_drawPickingBuffer(t){let{layers:e,layerFilter:n,views:r,viewports:i,onViewportActive:s,pickingFBO:l,deviceRect:{x:u,y:h,width:f,height:d},cullRect:p,effects:A,pass:g="picking",pickZ:y,moduleParameters:m}=t;const v=this.gl;this.pickZ=y;const b=this._resetColorEncoder(y),_=(0,o.zv)(v,{scissorTest:!0,scissor:[u,h,f,d],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...a,blend:!y},(()=>super.render({target:l,layers:e,layerFilter:n,views:r,viewports:i,onViewportActive:s,cullRect:p,effects:null===A||void 0===A?void 0:A.filter((t=>t.useInPicking)),pass:g,isPicking:!0,moduleParameters:m})));this._colorEncoderState=null;return{decodePickingColor:b&&c.bind(null,b),stats:_}}shouldDrawLayer(t){const{pickable:e,operation:n}=t.props;return e&&n.includes("draw")||n.includes("terrain")||n.includes("mask")}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(t,e,n){const r={...t.props.parameters},{pickable:i,operation:o}=t.props;return this._colorEncoderState?i&&o.includes("draw")&&(Object.assign(r,a),r.blend=!0,r.blendColor=function(t,e,n){const{byLayer:r,byAlpha:i}=t;let o,a=r.get(e);a?(a.viewports.push(n),o=a.a):(o=r.size+1,o<=255?(a={a:o,layer:e,viewports:[n]},r.set(e,a),i[o]=a):(s.A.warn("Too many pickable layers, only picking the first 255")(),o=0));return[0,0,0,o/255]}(this._colorEncoderState,t,n)):r.blend=!1,o.includes("terrain")&&(r.blend=!1),r}_resetColorEncoder(t){return this._colorEncoderState=t?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function c(t,e){const n=t.byAlpha[e[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(e)}}},71289:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:#decl":"\nuniform bool picking_uAttribute;\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},...n(99055).q}},76557:(t,e,n)=>{"use strict";n.d(e,{R:()=>f,w:()=>h});var r=n(77044),i=n(51700),o=n(18020),s=n(45625),a=n(10092),l=n(17844);const c=[0,0,0];function u(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.projectPosition(t);if(n&&e instanceof o.A){const[n,i,o=0]=t,s=e.getDistanceScales([n,i]);r[2]=o*s.unitsPerMeter[2]}return r}function h(t,e){let{viewport:n,modelMatrix:i,coordinateSystem:o,coordinateOrigin:a,offsetMode:c}=e,[h,f,d=0]=t;switch(i&&([h,f,d]=s.Z0([],[h,f,d,1],i)),o){case r.rf.LNGLAT:return u([h,f,d],n,c);case r.rf.LNGLAT_OFFSETS:return u([h+a[0],f+a[1],d+(a[2]||0)],n,c);case r.rf.METER_OFFSETS:return u((0,l.dT)(a,[h,f,d]),n,c);case r.rf.CARTESIAN:default:return n.isGeospatial?[h+a[0],f+a[1],d+a[2]]:n.projectPosition([h,f,d])}}function f(t,e){const{viewport:n,coordinateSystem:o,coordinateOrigin:s,modelMatrix:l,fromCoordinateSystem:u,fromCoordinateOrigin:f}=function(t){const{viewport:e,modelMatrix:n,coordinateOrigin:i}=t;let{coordinateSystem:o,fromCoordinateSystem:s,fromCoordinateOrigin:a}=t;return o===r.rf.DEFAULT&&(o=e.isGeospatial?r.rf.LNGLAT:r.rf.CARTESIAN),void 0===s&&(s=o),void 0===a&&(a=i),{viewport:e,coordinateSystem:o,coordinateOrigin:i,modelMatrix:n,fromCoordinateSystem:s,fromCoordinateOrigin:a}}(e),{autoOffset:d=!0}=e,{geospatialOrigin:p=c,shaderCoordinateOrigin:A=c,offsetMode:g=!1}=d?(0,i.o)(n,o,s):{},y=h(t,{viewport:n,modelMatrix:l,coordinateSystem:u,coordinateOrigin:f,offsetMode:g});if(g){const t=n.projectPosition(p||A);a.jb(y,y,t)}return y}},8757:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var r=n(25503);const i="#define SMOOTH_EDGE_RADIUS 0.5",o={name:"geometry",vs:"\n".concat(i,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(i,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")};var s=n(77044);const a=Object.keys(s.rf).map((t=>"const int COORDINATE_SYSTEM_".concat(t," = ").concat(s.rf[t],";"))).join(""),l=Object.keys(s.Kx).map((t=>"const int PROJECTION_MODE_".concat(t," = ").concat(s.Kx[t],";"))).join(""),c=Object.keys(s.p5).map((t=>"const int UNIT_".concat(t.toUpperCase()," = ").concat(s.p5[t],";"))).join(""),u="".concat(a,"\n").concat(l,"\n").concat(c,"\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0;\nconst float GLOBE_RADIUS = 256.0;\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\nvec3 project_normal(vec3 vector) {\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n  return project_offset_(position_world) + project_offset_(project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n");var h=n(51700);const f={};const d={name:"project",dependencies:[r.i,o],vs:u,getUniforms:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return"viewport"in t?(0,h.a)(t):{}}}},51700:(t,e,n)=>{"use strict";n.d(e,{a:()=>p,o:()=>d});var r=n(36153),i=n(45625),o=n(77044),s=n(63503);const a=[0,0,0,0],l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u=[0,0,0],h=[0,0,0],f=(0,s.A)((function(t){let{viewport:e,devicePixelRatio:n,coordinateSystem:s,coordinateOrigin:h}=t;const{projectionCenter:f,viewProjectionMatrix:p,originCommon:A,cameraPosCommon:g,shaderCoordinateOrigin:y,geospatialOrigin:m}=function(t,e,n){const{viewMatrixUncentered:o,projectionMatrix:s}=t;let{viewMatrix:c,viewProjectionMatrix:u}=t,h=a,f=a,p=t.cameraPosition;const{geospatialOrigin:A,shaderCoordinateOrigin:g,offsetMode:y}=d(t,e,n);y&&(f=t.projectPosition(A||g),p=[p[0]-f[0],p[1]-f[1],p[2]-f[2]],f[3]=1,h=i.Z0([],f,u),c=o||c,u=r.lw([],s,c),u=r.lw([],u,l));return{viewMatrix:c,viewProjectionMatrix:u,projectionCenter:h,originCommon:f,cameraPosCommon:p,shaderCoordinateOrigin:g,geospatialOrigin:A}}(e,s,h),v=e.getDistanceScales(),b=[e.width*n,e.height*n],_=i.Z0([],[0,0,-e.focalDistance,1],e.projectionMatrix)[3]||1,w={project_uCoordinateSystem:s,project_uProjectionMode:e.projectionMode,project_uCoordinateOrigin:y,project_uCommonOrigin:A.slice(0,3),project_uCenter:f,project_uPseudoMeters:Boolean(e._pseudoMeters),project_uViewportSize:b,project_uDevicePixelRatio:n,project_uFocalDistance:_,project_uCommonUnitsPerMeter:v.unitsPerMeter,project_uCommonUnitsPerWorldUnit:v.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:u,project_uScale:e.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:p,project_uModelMatrix:c,project_uCameraPosition:g};if(m){const t=e.getDistanceScales(m);switch(s){case o.rf.METER_OFFSETS:w.project_uCommonUnitsPerWorldUnit=t.unitsPerMeter,w.project_uCommonUnitsPerWorldUnit2=t.unitsPerMeter2;break;case o.rf.LNGLAT:case o.rf.LNGLAT_OFFSETS:e._pseudoMeters||(w.project_uCommonUnitsPerMeter=t.unitsPerMeter),w.project_uCommonUnitsPerWorldUnit=t.unitsPerDegree,w.project_uCommonUnitsPerWorldUnit2=t.unitsPerDegree2;break;case o.rf.CARTESIAN:w.project_uCommonUnitsPerWorldUnit=[1,1,t.unitsPerMeter[2]],w.project_uCommonUnitsPerWorldUnit2=[0,0,t.unitsPerMeter2[2]]}}return w}));function d(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;n.length<3&&(n=[n[0],n[1],0]);let r,i=n,s=!0;switch(r=e===o.rf.LNGLAT_OFFSETS||e===o.rf.METER_OFFSETS?n:t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case o.Kx.WEB_MERCATOR:e!==o.rf.LNGLAT&&e!==o.rf.CARTESIAN||(r=[0,0,0],s=!1);break;case o.Kx.WEB_MERCATOR_AUTO_OFFSET:e===o.rf.LNGLAT?i=r:e===o.rf.CARTESIAN&&(i=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],r=t.unprojectPosition(i),i[0]-=n[0],i[1]-=n[1],i[2]-=n[2]);break;case o.Kx.IDENTITY:i=t.position.map(Math.fround),i[2]=i[2]||0;break;case o.Kx.GLOBE:s=!1,r=null;break;default:s=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:s}}function p(t){let{viewport:e,devicePixelRatio:n=1,modelMatrix:r=null,coordinateSystem:i=o.rf.DEFAULT,coordinateOrigin:s=h,autoWrapLongitude:a=!1}=t;i===o.rf.DEFAULT&&(i=e.isGeospatial?o.rf.LNGLAT:o.rf.CARTESIAN);const l=f({viewport:e,devicePixelRatio:n,coordinateSystem:i,coordinateOrigin:s});return l.project_uWrapLongitude=a,l.project_uModelMatrix=r||c,l}},68281:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={name:"project32",dependencies:[n(8757).A],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},95247:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var r=n(77044),i=n(8757),o=n(92684),s=n(83051),a=n(63503),l=n(17844);const c=(0,a.A)((function(t){let{viewport:e,center:n}=t;return new o.A(e.viewProjectionMatrix).invert().transform(n)})),u=(0,a.A)((function(t){let{viewport:e,shadowMatrices:n}=t;const r=[],i=e.pixelUnprojectionMatrix,a=e.isGeospatial?void 0:1,c=[[0,0,a],[e.width,0,a],[0,e.height,a],[e.width,e.height,a],[0,0,-1],[e.width,0,-1],[0,e.height,-1],[e.width,e.height,-1]].map((t=>function(t,e){const[n,r,i]=t,o=(0,l.xJ)([n,r,i],e);if(Number.isFinite(i))return o;return[o[0],o[1],0]}(t,i)));for(const l of n){const t=l.clone().translate(new s.A(e.center).negate()),n=c.map((e=>t.transform(e))),i=(new o.A).ortho({left:Math.min(...n.map((t=>t[0]))),right:Math.max(...n.map((t=>t[0]))),bottom:Math.min(...n.map((t=>t[1]))),top:Math.max(...n.map((t=>t[1]))),near:Math.min(...n.map((t=>-t[2]))),far:Math.max(...n.map((t=>-t[2])))});r.push(i.multiplyRight(l))}return r})),h=[0,0,0,1],f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];const d={name:"shadow",dependencies:[i.A],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"viewport"in t&&(t.drawToShadowMap||t.shadowMaps&&t.shadowMaps.length>0)?function(t,e){const{shadowEnabled:n=!0}=t;if(!n||!t.shadowMatrices||!t.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const i={shadow_uDrawShadowMap:Boolean(t.drawToShadowMap),shadow_uUseShadowMap:!!t.shadowMaps&&t.shadowMaps.length>0,shadow_uColor:t.shadowColor||h,shadow_uLightId:t.shadowLightId||0,shadow_uLightCount:t.shadowMatrices.length},o=c({viewport:t.viewport,center:e.project_uCenter}),a=[],l=u({shadowMatrices:t.shadowMatrices,viewport:t.viewport}).slice();for(let c=0;c<t.shadowMatrices.length;c++){const n=l[c],i=n.clone().translate(new s.A(t.viewport.center).negate());e.project_uCoordinateSystem===r.rf.LNGLAT&&e.project_uProjectionMode===r.Kx.WEB_MERCATOR?(l[c]=i,a[c]=o):(l[c]=n.clone().multiplyRight(f),a[c]=i.transform(o))}for(let r=0;r<l.length;r++)i["shadow_uViewProjectionMatrices[".concat(r,"]")]=l[r],i["shadow_uProjectCenters[".concat(r,"]")]=a[r],t.shadowMaps&&t.shadowMaps.length>0?i["shadow_uShadowMap".concat(r)]=t.shadowMaps[r]:i["shadow_uShadowMap".concat(r)]=t.dummyShadowMap;return i}(t,e):{}}}},49147:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(54705),i=n(34773),o=n(67567);const s=["longitude","latitude","zoom","bearing","pitch"],a=["longitude","latitude","zoom"];class l extends i.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Array.isArray(t)?t:t.transitionProps,n=Array.isArray(t)?{}:t;n.transitionProps=Array.isArray(e)?{compare:e,required:e}:e||{compare:s,required:a},super(n.transitionProps),(0,r.A)(this,"opts",void 0),this.opts=n}initializeProps(t,e){const n=super.initializeProps(t,e),{makeViewport:r,around:i}=this.opts;if(r&&i){const o=r(t),s=r(e),a=o.unproject(i);n.start.around=i,Object.assign(n.end,{around:s.project(a),aroundPosition:a,width:e.width,height:e.height})}return n}interpolateProps(t,e,n){const r={};for(const i of this._propsToExtract)r[i]=(0,o.Cc)(t[i]||0,e[i]||0,n);if(e.aroundPosition&&this.opts.makeViewport){const i=this.opts.makeViewport({...e,...r});Object.assign(r,i.panByPosition(e.aroundPosition,(0,o.Cc)(t.around,e.around,n)))}return r}}},34773:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(54705),i=n(67567),o=n(45497);class s{constructor(t){(0,r.A)(this,"_propsToCompare",void 0),(0,r.A)(this,"_propsToExtract",void 0),(0,r.A)(this,"_requiredProps",void 0);const{compare:e,extract:n,required:i}=t;this._propsToCompare=e,this._propsToExtract=n||e,this._requiredProps=i}arePropsEqual(t,e){for(const n of this._propsToCompare)if(!(n in t)||!(n in e)||!(0,i.aI)(t[n],e[n]))return!1;return!0}initializeProps(t,e){const n={},r={};for(const i of this._propsToExtract)(i in t||i in e)&&(n[i]=t[i],r[i]=e[i]);return this._checkRequiredProps(n),this._checkRequiredProps(r),{start:n,end:r}}getDuration(t,e){return e.transitionDuration}_checkRequiredProps(t){this._requiredProps&&this._requiredProps.forEach((e=>{const n=t[e];(0,o.A)(Number.isFinite(n)||Array.isArray(n),"".concat(e," is required for transition"))}))}}},3071:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(54705);class i{constructor(t){(0,r.A)(this,"_inProgress",void 0),(0,r.A)(this,"_handle",void 0),(0,r.A)(this,"_timeline",void 0),(0,r.A)(this,"time",void 0),(0,r.A)(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=t,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(t){var e,n;this.cancel(),this.settings=t,this._inProgress=!0,null===(e=(n=this.settings).onStart)||void 0===e||e.call(n,this)}end(){var t,e;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(t=(e=this.settings).onEnd)||void 0===t||t.call(e,this))}cancel(){var t,e;this._inProgress&&(null===(t=(e=this.settings).onInterrupt)||void 0===t||t.call(e,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var t,e;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:t,settings:e}=this;this._handle=t.addChannel({delay:t.getTime(),duration:e.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(t=(e=this.settings).onUpdate)||void 0===t||t.call(e,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}},45497:(t,e,n)=>{"use strict";function r(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}n.d(e,{A:()=>r})},93712:(t,e,n)=>{"use strict";n.d(e,{U:()=>o});const r="count(): argument not an object",i="count(): argument not a container";function o(t){if(null===(e=t)||"object"!==typeof e)throw new Error(r);var e;if("function"===typeof t.count)return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(function(t){return null!==t&&"object"===typeof t&&t.constructor===Object}(t))return Object.keys(t).length;throw new Error(i)}},80572:(t,e,n)=>{"use strict";function r(t,e,n){if(t===e)return!0;if(!n||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!r(t[i],e[i],n-1))return!1;return!0}if(Array.isArray(e))return!1;if("object"===typeof t&&"object"===typeof e){const i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(const s of i){if(!e.hasOwnProperty(s))return!1;if(!r(t[s],e[s],n-1))return!1}return!0}return!1}n.d(e,{b:()=>r})},29877:(t,e,n)=>{"use strict";function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;return Array.isArray(t)?i(t,e,[]):e(t)?[t]:[]}function i(t,e,n){let r=-1;for(;++r<t.length;){const o=t[r];Array.isArray(o)?i(o,e,n):e(o)&&n.push(o)}return n}function o(t){let{target:e,source:n,start:r=0,count:i=1}=t;const o=n.length,s=i*o;let a=0;for(let l=r;a<o;a++)e[l++]=n[a];for(;a<s;)a<s-a?(e.copyWithin(r+a,r,r+a),a*=2):(e.copyWithin(r+a,r,r+s-a),a=s);return e}n.d(e,{B:()=>r,R:()=>o})},82133:(t,e,n)=>{"use strict";n.d(e,{I:()=>a,Td:()=>s,X:()=>o});const r=[],i=[];function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,o=r;const s={index:-1,data:t,target:[]};return t?"function"===typeof t[Symbol.iterator]?o=t:t.length>0&&(i.length=t.length,o=i):o=r,(e>0||Number.isFinite(n))&&(o=(Array.isArray(o)?o:Array.from(o)).slice(e,n),s.index=e-1),{iterable:o,objectInfo:s}}function s(t){return t&&t[Symbol.asyncIterator]}function a(t,e){const{size:n,stride:r,offset:i,startIndices:o,nested:s}=e,a=t.BYTES_PER_ELEMENT,l=r?r/a:n,c=i?i/a:0,u=Math.floor((t.length-c)/l);return(e,r)=>{let{index:i,target:a}=r;if(!o){const e=i*l+c;for(let r=0;r<n;r++)a[r]=t[e+r];return a}const h=o[i],f=o[i+1]||u;let d;if(s){d=new Array(f-h);for(let e=h;e<f;e++){const r=e*l+c;a=new Array(n);for(let e=0;e<n;e++)a[e]=t[r+e];d[e-h]=a}}else if(l===n)d=t.subarray(h*n+c,f*n+c);else{d=new t.constructor((f-h)*n);let e=0;for(let r=h;r<f;r++){const i=r*l+c;for(let r=0;r<n;r++)d[e++]=t[i+r]}}return d}}},96649:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=new(n(60156).t)({id:"deck"})},10665:(t,e,n)=>{"use strict";n.d(e,{$M:()=>o,Vl:()=>a,_Z:()=>p,cT:()=>d,on:()=>l,qk:()=>h,zi:()=>s});var r=n(55405),i=n(83051);function o(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function s(t,e){const n=t%e;return n<0?e+n:n}function a(t){return[t[12],t[13],t[14]]}function l(t){return{left:u(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),right:u(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),bottom:u(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),top:u(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),near:u(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),far:u(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14])}}const c=new i.A;function u(t,e,n,r){c.set(t,e,n);const o=c.len();return{distance:r/o,normal:new i.A(-t/o,-e/o,-n/o)}}function h(t){return t-Math.fround(t)}let f;function d(t,e){const{size:n=1,startIndex:i=0}=e,o=void 0!==e.endIndex?e.endIndex:t.length,s=(o-i)/n;f=r.A.allocate(f,s,{type:Float32Array,size:2*n});let a=i,l=0;for(;a<o;){for(let e=0;e<n;e++){const r=t[a++];f[l+e]=r,f[l+e+n]=h(r)}l+=2*n}return f.subarray(0,s*n*2)}function p(t){let e=null,n=!1;for(const r of t)r&&(e?(n||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],n=!0),e[0][0]=Math.min(e[0][0],r[0][0]),e[0][1]=Math.min(e[0][1],r[0][1]),e[1][0]=Math.max(e[1][0],r[1][0]),e[1][1]=Math.max(e[1][1],r[1][1])):e=r);return e}},63503:(t,e,n)=>{"use strict";function r(t,e){if(t===e)return!0;if(Array.isArray(t)){const n=t.length;if(!e||e.length!==n)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}return!1}function i(t){let e,n={};return i=>{for(const o in i)if(!r(i[o],n[o])){e=t(i),n=i;break}return e}}n.d(e,{A:()=>i})},25086:(t,e,n)=>{"use strict";function r(t,e){if(!e)return t;const n={...t,...e};if("defines"in e&&(n.defines={...t.defines,...e.defines}),"modules"in e&&(n.modules=(t.modules||[]).concat(e.modules),e.modules.some((t=>"project64"===t.name)))){const t=n.modules.findIndex((t=>"project32"===t.name));t>=0&&n.modules.splice(t,1)}if("inject"in e)if(t.inject){const r={...t.inject};for(const t in e.inject)r[t]=(r[t]||"")+e.inject[t];n.inject=r}else n.inject=e.inject;return n}n.d(e,{n:()=>r})},98991:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(54705),i=n(82133),o=n(55405),s=n(45497),a=n(8858);class l{constructor(t){(0,r.A)(this,"opts",void 0),(0,r.A)(this,"typedArrayManager",void 0),(0,r.A)(this,"indexStarts",[0]),(0,r.A)(this,"vertexStarts",[0]),(0,r.A)(this,"vertexCount",0),(0,r.A)(this,"instanceCount",0),(0,r.A)(this,"attributes",void 0),(0,r.A)(this,"_attributeDefs",void 0),(0,r.A)(this,"data",void 0),(0,r.A)(this,"getGeometry",void 0),(0,r.A)(this,"geometryBuffer",void 0),(0,r.A)(this,"buffers",void 0),(0,r.A)(this,"positionSize",void 0),(0,r.A)(this,"normalize",void 0);const{attributes:e={}}=t;this.typedArrayManager=o.A,this.attributes={},this._attributeDefs=e,this.opts=t,this.updateGeometry(t)}updateGeometry(t){Object.assign(this.opts,t);const{data:e,buffers:n={},getGeometry:r,geometryBuffer:i,positionFormat:o,dataChanged:a,normalize:l=!0}=this.opts;if(this.data=e,this.getGeometry=r,this.positionSize=i&&i.size||("XY"===o?2:3),this.buffers=n,this.normalize=l,i&&((0,s.A)(e.startIndices),this.getGeometry=this.getGeometryFromBuffer(i),l||(n.positions=i)),this.geometryBuffer=n.positions,Array.isArray(a))for(const s of a)this._rebuildGeometry(s);else this._rebuildGeometry()}updatePartialGeometry(t){let{startRow:e,endRow:n}=t;this._rebuildGeometry({startRow:e,endRow:n})}getGeometryFromBuffer(t){const e=t.value||t;return ArrayBuffer.isView(e)?(0,i.I)(e,{size:this.positionSize,offset:t.offset,stride:t.stride,startIndices:this.data.startIndices}):null}_allocate(t,e){const{attributes:n,buffers:r,_attributeDefs:i,typedArrayManager:o}=this;for(const s in i)if(s in r)o.release(n[s]),n[s]=null;else{const r=i[s];r.copy=e,n[s]=o.allocate(n[s],t,r)}}_forEachGeometry(t,e,n){const{data:r,getGeometry:o}=this,{iterable:s,objectInfo:a}=(0,i.X)(r,e,n);for(const i of s){a.index++;t(o?o(i,a):null,a.index)}}_rebuildGeometry(t){if(!this.data)return;let{indexStarts:e,vertexStarts:n,instanceCount:r}=this;const{data:i,geometryBuffer:o}=this,{startRow:s=0,endRow:l=1/0}=t||{},c={};if(t||(e=[0],n=[0]),this.normalize||!o)this._forEachGeometry(((t,e)=>{const r=t&&this.normalizeGeometry(t);c[e]=r,n[e+1]=n[e]+(r?this.getGeometrySize(r):0)}),s,l),r=n[n.length-1];else if(n=i.startIndices,r=n[i.length]||0,ArrayBuffer.isView(o))r=r||o.length/this.positionSize;else if(o instanceof a.A){const t=o.accessor.stride||4*this.positionSize;r=r||o.byteLength/t}else if(o.buffer){const t=o.stride||4*this.positionSize;r=r||o.buffer.byteLength/t}else if(o.value){const t=o.value,e=o.stride/t.BYTES_PER_ELEMENT||this.positionSize;r=r||t.length/e}this._allocate(r,Boolean(t)),this.indexStarts=e,this.vertexStarts=n,this.instanceCount=r;const u={};this._forEachGeometry(((t,i)=>{const o=c[i]||t;u.vertexStart=n[i],u.indexStart=e[i];const s=i<n.length-1?n[i+1]:r;u.geometrySize=s-n[i],u.geometryIndex=i,this.updateGeometryAttributes(o,u)}),s,l),this.vertexCount=e[e.length-1]}}},55405:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(54705);const i=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.A)(this,"_pool",[]),(0,r.A)(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(t)}setOptions(t){Object.assign(this.opts,t)}allocate(t,e,n){let{size:r=1,type:i,padding:o=0,copy:s=!1,initialize:a=!1,maxCount:l}=n;const c=i||t&&t.constructor||Float32Array,u=e*r+o;if(ArrayBuffer.isView(t)){if(u<=t.length)return t;if(u*t.BYTES_PER_ELEMENT<=t.buffer.byteLength)return new c(t.buffer,0,u)}let h=1/0;l&&(h=l*r+o);const f=this._allocate(c,u,a,h);return t&&s?f.set(t):a||f.fill(0,0,4),this._release(t),f}release(t){this._release(t)}_allocate(t,e,n,r){let i=Math.max(Math.ceil(e*this.opts.overAlloc),1);i>r&&(i=r);const o=this._pool,s=t.BYTES_PER_ELEMENT*i,a=o.findIndex((t=>t.byteLength>=s));if(a>=0){const e=new t(o.splice(a,1)[0],0,i);return n&&e.fill(0),e}return new t(i)}_release(t){if(!ArrayBuffer.isView(t))return;const e=this._pool,{buffer:n}=t,{byteLength:r}=n,i=e.findIndex((t=>t.byteLength>=r));i<0?e.push(n):(i>0||e.length<this.opts.poolSize)&&e.splice(i,0,n),e.length>this.opts.poolSize&&e.shift()}}},49815:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var r=n(54705),i=n(92684),o=n(45867),s=n(77044),a=n(10092),l=n(45625);const c=Math.PI/180,u=180/Math.PI,h=6370972,f=256;function d(){const t=4018225162502676e-20,e=Math.PI/180*f;return{unitsPerMeter:[t,t,t],unitsPerMeter2:[0,0,0],metersPerUnit:[24886.609375,24886.609375,24886.609375],unitsPerDegree:[e,e,t],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/e,1/e,24886.609375]}}class p extends o.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{latitude:e=0,longitude:n=0,zoom:o=0,nearZMultiplier:s=.1,farZMultiplier:a=2,resolution:l=10}=t;let{height:u,altitude:h=1.5}=t;u=u||1,h=Math.max(.75,h);const f=(new i.A).lookAt({eye:[0,-h,0],up:[0,0,1]}),p=Math.pow(2,o);f.rotateX(e*c),f.rotateZ(-n*c),f.scale(p/u);const A=Math.atan(.5/h),g=512*p/u;super({...t,height:u,viewMatrix:f,longitude:n,latitude:e,zoom:o,distanceScales:d(),fovyRadians:2*A,focalDistance:h,near:s,far:Math.min(2,1/g+1)*h*a}),(0,r.A)(this,"longitude",void 0),(0,r.A)(this,"latitude",void 0),(0,r.A)(this,"resolution",void 0),this.latitude=e,this.longitude=n,this.resolution=l}get projectionMode(){return s.Kx.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(){const t={targetZ:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0},e=this.unproject([0,this.height/2],t),n=this.unproject([this.width/2,0],t),r=this.unproject([this.width,this.height/2],t),i=this.unproject([this.width/2,this.height],t);return r[0]<this.longitude&&(r[0]+=360),e[0]>this.longitude&&(e[0]-=360),[Math.min(e[0],r[0],n[0],i[0]),Math.min(e[1],r[1],n[1],i[1]),Math.max(e[0],r[0],n[0],i[0]),Math.max(e[1],r[1],n[1],i[1])]}unproject(t){let{topLeft:e=!0,targetZ:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[r,i,o]=t,s=e?i:this.height-i,{pixelUnprojectionMatrix:l}=this;let c;if(Number.isFinite(o))c=A(l,[r,s,o,1]);else{const t=A(l,[r,s,-1,1]),e=A(l,[r,s,1,1]),i=((n||0)/h+1)*f,o=a.uE(a.jb([],t,e)),u=a.uE(t),d=a.uE(e),p=4*((4*u*d-(o-u-d)**2)/16)/o,g=(Math.sqrt(u-p)-Math.sqrt(Math.max(0,i*i-p)))/Math.sqrt(o);c=a.Cc([],t,e,g)}const[u,d,p]=this.unprojectPosition(c);return Number.isFinite(o)?[u,d,p]:Number.isFinite(n)?[u,d,n]:[u,d]}projectPosition(t){const[e,n,r=0]=t,i=e*c,o=n*c,s=Math.cos(o),a=(r/h+1)*f;return[Math.sin(i)*s*a,-Math.cos(i)*s*a,Math.sin(o)*a]}unprojectPosition(t){const[e,n,r]=t,i=a.Il(t),o=Math.asin(r/i);return[Math.atan2(e,-n)*u,o*u,(i/f-1)*h]}projectFlat(t){return t}unprojectFlat(t){return t}panByPosition(t,e){const n=this.unproject(e);return{longitude:t[0]-n[0]+this.longitude,latitude:t[1]-n[1]+this.latitude}}}function A(t,e){const n=l.Z0([],e,t);return l.hs(n,n,1/n[3]),n}},45867:(t,e,n)=>{"use strict";n.d(e,{A:()=>g});var r=n(54705),i=n(96649),o=n(10665),s=n(92684),a=n(67567),l=n(83051),c=n(36153),u=n(17844),h=n(77044);const f=Math.PI/180,d=(0,o.$M)(),p=[0,0,0],A={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class g{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.A)(this,"id",void 0),(0,r.A)(this,"x",void 0),(0,r.A)(this,"y",void 0),(0,r.A)(this,"width",void 0),(0,r.A)(this,"height",void 0),(0,r.A)(this,"padding",void 0),(0,r.A)(this,"isGeospatial",void 0),(0,r.A)(this,"zoom",void 0),(0,r.A)(this,"focalDistance",void 0),(0,r.A)(this,"position",void 0),(0,r.A)(this,"modelMatrix",void 0),(0,r.A)(this,"distanceScales",void 0),(0,r.A)(this,"scale",void 0),(0,r.A)(this,"center",void 0),(0,r.A)(this,"cameraPosition",void 0),(0,r.A)(this,"projectionMatrix",void 0),(0,r.A)(this,"viewMatrix",void 0),(0,r.A)(this,"viewMatrixUncentered",void 0),(0,r.A)(this,"viewMatrixInverse",void 0),(0,r.A)(this,"viewProjectionMatrix",void 0),(0,r.A)(this,"pixelProjectionMatrix",void 0),(0,r.A)(this,"pixelUnprojectionMatrix",void 0),(0,r.A)(this,"resolution",void 0),(0,r.A)(this,"_frustumPlanes",{}),this.id=t.id||this.constructor.displayName||"viewport",this.x=t.x||0,this.y=t.y||0,this.width=t.width||1,this.height=t.height||1,this.zoom=t.zoom||0,this.padding=t.padding,this.distanceScales=t.distanceScales||A,this.focalDistance=t.focalDistance||1,this.position=t.position||p,this.modelMatrix=t.modelMatrix||null;const{longitude:e,latitude:n}=t;this.isGeospatial=Number.isFinite(n)&&Number.isFinite(e),this._initProps(t),this._initMatrices(t),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?h.Kx.WEB_MERCATOR:h.Kx.WEB_MERCATOR_AUTO_OFFSET:h.Kx.IDENTITY}equals(t){return t instanceof g&&(this===t||t.width===this.width&&t.height===this.height&&t.scale===this.scale&&(0,a.aI)(t.projectionMatrix,this.projectionMatrix)&&(0,a.aI)(t.viewMatrix,this.viewMatrix))}project(t){let{topLeft:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.projectPosition(t),r=(0,u.VJ)(n,this.pixelProjectionMatrix),[i,o]=r,s=e?o:this.height-o;return 2===t.length?[i,s]:[i,s,r[2]]}unproject(t){let{topLeft:e=!0,targetZ:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[r,i,o]=t,s=e?i:this.height-i,a=n&&n*this.distanceScales.unitsPerMeter[2],l=(0,u.xJ)([r,s,o],this.pixelUnprojectionMatrix,a),[c,h,f]=this.unprojectPosition(l);return Number.isFinite(o)?[c,h,f]:Number.isFinite(n)?[c,h,n]:[c,h]}projectPosition(t){const[e,n]=this.projectFlat(t);return[e,n,(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(t){const[e,n]=this.unprojectFlat(t);return[e,n,(t[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(t){if(this.isGeospatial){const e=(0,u.Gw)(t);return e[1]=(0,a.qE)(e[1],-318,830),e}return t}unprojectFlat(t){return this.isGeospatial?(0,u.iV)(t):t}getBounds(){const t={targetZ:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0},e=this.unproject([0,0],t),n=this.unproject([this.width,0],t),r=this.unproject([0,this.height],t),i=this.unproject([this.width,this.height],t);return[Math.min(e[0],n[0],r[0],i[0]),Math.min(e[1],n[1],r[1],i[1]),Math.max(e[0],n[0],r[0],i[0]),Math.max(e[1],n[1],r[1],i[1])]}getDistanceScales(t){return t?(0,u.nI)({longitude:t[0],latitude:t[1],highPrecision:!0}):this.distanceScales}containsPixel(t){let{x:e,y:n,width:r=1,height:i=1}=t;return e<this.x+this.width&&this.x<e+r&&n<this.y+this.height&&this.y<n+i}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,(0,o.on)(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(t,e){return null}_initProps(t){const e=t.longitude,n=t.latitude;this.isGeospatial&&(Number.isFinite(t.zoom)||(this.zoom=(0,u.fO)({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=t.distanceScales||(0,u.nI)({latitude:n,longitude:e}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:i,modelMatrix:o}=t;let a=p;if(i&&(a=o?new s.A(o).transformAsVector(i,[]):i),this.isGeospatial){const t=this.projectPosition([e,n,0]);this.center=new l.A(a).scale(this.distanceScales.unitsPerMeter).add(t)}else this.center=this.projectPosition(a)}_initMatrices(t){const{viewMatrix:e=d,projectionMatrix:n=null,orthographic:r=!1,fovyRadians:u,fovy:h=75,near:p=.1,far:A=1e3,padding:g=null,focalDistance:y=1}=t;this.viewMatrixUncentered=e,this.viewMatrix=(new s.A).multiplyRight(e).translate(new l.A(this.center).negate()),this.projectionMatrix=n||function(t){let{width:e,height:n,orthographic:r,fovyRadians:i,focalDistance:o,padding:l,near:c,far:u}=t;const h=e/n,f=r?(new s.A).orthographic({fovy:i,aspect:h,focalDistance:o,near:c,far:u}):(new s.A).perspective({fovy:i,aspect:h,near:c,far:u});if(l){const{left:t=0,right:r=0,top:i=0,bottom:o=0}=l,s=(0,a.qE)((t+e-r)/2,0,e)-e/2,c=(0,a.qE)((i+n-o)/2,0,n)-n/2;f[8]-=2*s/e,f[9]+=2*c/n}return f}({width:this.width,height:this.height,orthographic:r,fovyRadians:u||h*f,focalDistance:y,padding:g,near:p,far:A});const m=(0,o.$M)();c.lw(m,m,this.projectionMatrix),c.lw(m,m,this.viewMatrix),this.viewProjectionMatrix=m,this.viewMatrixInverse=c.B8([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=(0,o.Vl)(this.viewMatrixInverse);const v=(0,o.$M)(),b=(0,o.$M)();c.hs(v,v,[this.width/2,-this.height/2,1]),c.Tl(v,v,[1,-1,0]),c.lw(b,v,this.viewProjectionMatrix),this.pixelProjectionMatrix=b,this.pixelUnprojectionMatrix=c.B8((0,o.$M)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||i.A.warn("Pixel project matrix not invertible")()}}(0,r.A)(g,"displayName","Viewport")},18020:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(54705),i=n(45867),o=n(17844),s=n(10355),a=n(67567),l=n(92684);class c extends i.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{latitude:e=0,longitude:n=0,zoom:i=0,pitch:s=0,bearing:c=0,nearZMultiplier:u=.1,farZMultiplier:h=1.01,nearZ:f,farZ:d,orthographic:p=!1,projectionMatrix:A,repeat:g=!1,worldOffset:y=0,position:m,padding:v,legacyMeterSizes:b=!1}=t;let{width:_,height:w,altitude:x=1.5}=t;const E=Math.pow(2,i);let S;_=_||1,w=w||1;let C=null;if(A)x=A[5]/2,S=(0,o.Os)(x);else{let n;if(t.fovy?(S=t.fovy,x=(0,o.wZ)(S)):S=(0,o.Os)(x),v){const{top:t=0,bottom:e=0}=v;n=[0,(0,a.qE)((t+w-e)/2,0,w)-w/2]}C=(0,o.om)({width:_,height:w,scale:E,center:m&&[0,0,m[2]*(0,o.mY)(e)],offset:n,pitch:s,fovy:S,nearZMultiplier:u,farZMultiplier:h}),Number.isFinite(f)&&(C.near=f),Number.isFinite(d)&&(C.far=d)}let P=(0,o.rY)({height:w,pitch:s,bearing:c,scale:E,altitude:x});if(y){P=(new l.A).translate([512*y,0,0]).multiplyLeft(P)}super({...t,width:_,height:w,viewMatrix:P,longitude:n,latitude:e,zoom:i,...C,fovy:S,focalDistance:x}),(0,r.A)(this,"longitude",void 0),(0,r.A)(this,"latitude",void 0),(0,r.A)(this,"pitch",void 0),(0,r.A)(this,"bearing",void 0),(0,r.A)(this,"altitude",void 0),(0,r.A)(this,"fovy",void 0),(0,r.A)(this,"orthographic",void 0),(0,r.A)(this,"_subViewports",void 0),(0,r.A)(this,"_pseudoMeters",void 0),this.latitude=e,this.longitude=n,this.zoom=i,this.pitch=s,this.bearing=c,this.altitude=x,this.fovy=S,this.orthographic=p,this._subViewports=g?[]:null,this._pseudoMeters=b,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const t=this.getBounds(),e=Math.floor((t[0]+180)/360),n=Math.ceil((t[2]-180)/360);for(let r=e;r<=n;r++){const t=r?new c({...this,worldOffset:r}):this;this._subViewports.push(t)}}return this._subViewports}projectPosition(t){if(this._pseudoMeters)return super.projectPosition(t);const[e,n]=this.projectFlat(t);return[e,n,(t[2]||0)*(0,o.mY)(t[1])]}unprojectPosition(t){if(this._pseudoMeters)return super.unprojectPosition(t);const[e,n]=this.unprojectFlat(t);return[e,n,(t[2]||0)/(0,o.mY)(n)]}addMetersToLngLat(t,e){return(0,o.dT)(t,e)}panByPosition(t,e){const n=(0,o.xJ)(e,this.pixelUnprojectionMatrix),r=this.projectFlat(t),i=s.WQ([],r,s.ze([],n)),a=s.WQ([],this.center,i),[l,c]=this.unprojectFlat(a);return{longitude:l,latitude:c}}getBounds(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=(0,o.gW)(this,t.z||0);return[Math.min(e[0][0],e[1][0],e[2][0],e[3][0]),Math.min(e[0][1],e[1][1],e[2][1],e[3][1]),Math.max(e[0][0],e[1][0],e[2][0],e[3][0]),Math.max(e[0][1],e[1][1],e[2][1],e[3][1])]}fitBounds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n,height:r}=this,{longitude:i,latitude:s,zoom:a}=(0,o.Fe)({width:n,height:r,bounds:t,...e});return new c({width:n,height:r,longitude:i,latitude:s,zoom:a})}}(0,r.A)(c,"displayName","WebMercatorViewport")},14242:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(54705),i=n(72505),o=n(18020),s=n(742);class a extends i.A{get ViewportType(){return o.A}get ControllerType(){return s.A}}(0,r.A)(a,"displayName","MapView")},72505:(t,e,n)=>{"use strict";n.d(e,{A:()=>u});var r=n(54705),i=n(45867);const o=/([0-9]+\.?[0-9]*)(%|px)/;function s(t){switch(typeof t){case"number":return{position:t,relative:!1};case"string":const e=o.exec(t);if(e&&e.length>=3){const t="%"===e[2],n=parseFloat(e[1]);return{position:t?n/100:n,relative:t}}default:throw new Error("Could not parse position string ".concat(t))}}function a(t,e){return t.relative?Math.round(t.position*e):t.position}var l=n(80572),c=n(45497);class u{constructor(t){(0,r.A)(this,"id",void 0),(0,r.A)(this,"viewportInstance",void 0),(0,r.A)(this,"_x",void 0),(0,r.A)(this,"_y",void 0),(0,r.A)(this,"_width",void 0),(0,r.A)(this,"_height",void 0),(0,r.A)(this,"_padding",void 0),(0,r.A)(this,"props",void 0);const{id:e,x:n=0,y:o=0,width:a="100%",height:l="100%",padding:u=null,viewportInstance:h}=t||{};(0,c.A)(!h||h instanceof i.A),this.viewportInstance=h,this.id=e||this.constructor.displayName||"view",this.props={...t,id:this.id},this._x=s(n),this._y=s(o),this._width=s(a),this._height=s(l),this._padding=u&&{left:s(u.left||0),right:s(u.right||0),top:s(u.top||0),bottom:s(u.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(t){return this===t||(this.viewportInstance?!!t.viewportInstance&&this.viewportInstance.equals(t.viewportInstance):this.ViewportType===t.ViewportType&&(0,l.b)(this.props,t.props,2))}makeViewport(t){let{width:e,height:n,viewState:r}=t;if(this.viewportInstance)return this.viewportInstance;r=this.filterViewState(r);const i=this.getDimensions({width:e,height:n});return i.height&&i.width?new this.ViewportType({...r,...this.props,...i}):null}getViewStateId(){const{viewState:t}=this.props;return"string"===typeof t?t:(null===t||void 0===t?void 0:t.id)||this.id}filterViewState(t){if(this.props.viewState&&"object"===typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const e={...t};for(const t in this.props.viewState)"id"!==t&&(e[t]=this.props.viewState[t]);return e}return t}getDimensions(t){let{width:e,height:n}=t;const r={x:a(this._x,e),y:a(this._y,n),width:a(this._width,e),height:a(this._height,n)};return this._padding&&(r.padding={left:a(this._padding.left,e),top:a(this._padding.top,n),right:a(this._padding.right,e),bottom:a(this._padding.bottom,n)}),r}get controller(){const t=this.props.controller;return t?!0===t?{type:this.ControllerType}:"function"===typeof t?{type:t}:{type:this.ControllerType,...t}:null}}},36551:(t,e,n)=>{"use strict";n.d(e,{Gv:()=>o,H1:()=>f,Pe:()=>h,Sv:()=>c,Td:()=>l,aC:()=>s,qf:()=>u,xZ:()=>a});const r=t=>"boolean"===typeof t,i=t=>"function"===typeof t,o=t=>null!==t&&"object"===typeof t,s=t=>o(t)&&t.constructor==={}.constructor,a=t=>t&&"function"===typeof t[Symbol.iterator],l=t=>t&&"function"===typeof t[Symbol.asyncIterator],c=t=>"undefined"!==typeof Response&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,u=t=>"undefined"!==typeof Blob&&t instanceof Blob,h=t=>t&&"object"===typeof t&&t.isBuffer,f=t=>(t=>"undefined"!==typeof ReadableStream&&t instanceof ReadableStream||o(t)&&i(t.tee)&&i(t.cancel)&&i(t.getReader))(t)||(t=>o(t)&&i(t.read)&&i(t.pipe)&&r(t.readable))(t)},17574:(t,e,n)=>{"use strict";n.d(e,{H:()=>ct});var r=n(36551),i=n(94085);let o="";const s={};const a=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,l=/^([-\w.]+\/[-\w.+]+)/;function c(t){const e=a.exec(t);return e?e[1]:""}const u=/\?.*/;function h(t){return t.replace(u,"")}function f(t){if((0,r.Sv)(t)){return t.url}if((0,r.qf)(t)){return t.name||""}return"string"===typeof t?t:""}function d(t){if((0,r.Sv)(t)){const e=t,n=e.headers.get("content-type")||"",r=h(e.url);return function(t){const e=l.exec(t);return e?e[1]:t}(n)||c(r)}if((0,r.qf)(t)){return t.type||""}return"string"===typeof t?c(t):""}async function p(t){if((0,r.Sv)(t))return t;const e={},n=function(t){if((0,r.Sv)(t))return t.headers["content-length"]||-1;if((0,r.qf)(t))return t.size;return"string"===typeof t?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}(t);n>=0&&(e["content-length"]=String(n));const i=f(t),o=d(t);o&&(e["content-type"]=o);const s=await async function(t){const e=5;if("string"===typeof t)return"data:,".concat(t.slice(0,e));if(t instanceof Blob){const e=t.slice(0,5);return await new Promise((t=>{const n=new FileReader;n.onload=e=>{var n;return t(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.result)},n.readAsDataURL(e)}))}if(t instanceof ArrayBuffer){const n=function(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return btoa(e)}(t.slice(0,e));return"data:base64,".concat(n)}return null}(t);s&&(e["x-first-bytes"]=s),"string"===typeof t&&(t=(new TextEncoder).encode(t));const a=new Response(t,{headers:e});return Object.defineProperty(a,"url",{value:i}),a}async function A(t,e){if("string"===typeof t){t=function(t){for(const e in s)if(t.startsWith(e)){const n=s[e];t=t.replace(e,n)}return t.startsWith("http://")||t.startsWith("https://")||(t="".concat(o).concat(t)),t}(t);let n=e;return null!==e&&void 0!==e&&e.fetch&&"function"!==typeof(null===e||void 0===e?void 0:e.fetch)&&(n=e.fetch),await fetch(t,n)}return await p(t)}var g=n(22637);function y(t,e){const n=(0,g.pp)(),i=t||n;return"function"===typeof i.fetch?i.fetch:(0,r.Gv)(i.fetch)?t=>A(t,i):null!==e&&void 0!==e&&e.fetch?null===e||void 0===e?void 0:e.fetch:A}function m(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const v="3.4.15";"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document;const b="object"!==typeof process||"[object process]"!==String(process)||process.browser,_="undefined"!==typeof window&&"undefined"!==typeof window.orientation,w="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);w&&parseFloat(w[1]);var x=n(54705);class E{terminate(){}}const S=new Map;function C(t){m(t.source&&!t.url||!t.source&&t.url);let e=S.get(t.source||t.url);return e||(t.url&&(e=function(t){if(!t.startsWith("http"))return t;return P((e=t,"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var e}(t.url),S.set(t.url,e)),t.source&&(e=P(t.source),S.set(t.source,e))),m(e),e}function P(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function M(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=n||new Set;if(t){if(T(t))r.add(t);else if(T(t.buffer))r.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"===typeof t)for(const i in t)M(t[i],e,r)}else;return void 0===n?Array.from(r):[]}function T(t){return!!t&&(t instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&t instanceof MessagePort||("undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas)))}const O=()=>{};class I{static isSupported(){return"undefined"!==typeof Worker&&b||"undefined"!==typeof E&&!b}constructor(t){(0,x.A)(this,"name",void 0),(0,x.A)(this,"source",void 0),(0,x.A)(this,"url",void 0),(0,x.A)(this,"terminated",!1),(0,x.A)(this,"worker",void 0),(0,x.A)(this,"onMessage",void 0),(0,x.A)(this,"onError",void 0),(0,x.A)(this,"_loadableURL","");const{name:e,source:n,url:r}=t;m(n||r),this.name=e,this.source=n,this.url=r,this.onMessage=O,this.onError=t=>console.log(t),this.worker=b?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=O,this.onError=O,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(t,e){e=e||M(t),this.worker.postMessage(t,e)}_getErrorFromErrorEvent(t){let e="Failed to load ";return e+="worker ".concat(this.name," from ").concat(this.url,". "),t.message&&(e+="".concat(t.message," in ")),t.lineno&&(e+=":".concat(t.lineno,":").concat(t.colno)),new Error(e)}_createBrowserWorker(){this._loadableURL=C({source:this.source,url:this.url});const t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},t.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},t.onmessageerror=t=>console.error(t),t}_createNodeWorker(){let t;if(this.url){const e=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);t=new E(e,{eval:!1})}else{if(!this.source)throw new Error("no worker");t=new E(this.source,{eval:!0})}return t.on("message",(t=>{this.onMessage(t)})),t.on("error",(t=>{this.onError(t)})),t.on("exit",(t=>{})),t}}class R{constructor(t,e){(0,x.A)(this,"name",void 0),(0,x.A)(this,"workerThread",void 0),(0,x.A)(this,"isRunning",!0),(0,x.A)(this,"result",void 0),(0,x.A)(this,"_resolve",(()=>{})),(0,x.A)(this,"_reject",(()=>{})),this.name=t,this.workerThread=e,this.result=new Promise(((t,e)=>{this._resolve=t,this._reject=e}))}postMessage(t,e){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:e})}done(t){m(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){m(this.isRunning),this.isRunning=!1,this._reject(t)}}class L{static isSupported(){return I.isSupported()}constructor(t){(0,x.A)(this,"name","unnamed"),(0,x.A)(this,"source",void 0),(0,x.A)(this,"url",void 0),(0,x.A)(this,"maxConcurrency",1),(0,x.A)(this,"maxMobileConcurrency",1),(0,x.A)(this,"onDebug",(()=>{})),(0,x.A)(this,"reuseWorkers",!0),(0,x.A)(this,"props",{}),(0,x.A)(this,"jobQueue",[]),(0,x.A)(this,"idleQueue",[]),(0,x.A)(this,"count",0),(0,x.A)(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}destroy(){this.idleQueue.forEach((t=>t.destroy())),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},void 0!==t.name&&(this.name=t.name),void 0!==t.maxConcurrency&&(this.maxConcurrency=t.maxConcurrency),void 0!==t.maxMobileConcurrency&&(this.maxMobileConcurrency=t.maxMobileConcurrency),void 0!==t.reuseWorkers&&(this.reuseWorkers=t.reuseWorkers),void 0!==t.onDebug&&(this.onDebug=t.onDebug)}async startJob(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t,e,n)=>t.done(n),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(t,e)=>t.error(e);const r=new Promise((r=>(this.jobQueue.push({name:t,onMessage:e,onError:n,onStart:r}),this)));return this._startQueuedJob(),await r}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const e=this.jobQueue.shift();if(e){this.onDebug({message:"Starting job",name:e.name,workerThread:t,backlog:this.jobQueue.length});const n=new R(e.name,t);t.onMessage=t=>e.onMessage(n,t.type,t.payload),t.onError=t=>e.onError(n,t),e.onStart(n);try{await n.result}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new I({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return _?this.maxMobileConcurrency:this.maxConcurrency}}const k={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class B{static isSupported(){return I.isSupported()}static getWorkerFarm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B._workerFarm=B._workerFarm||new B({}),B._workerFarm.setProps(t),B._workerFarm}constructor(t){(0,x.A)(this,"props",void 0),(0,x.A)(this,"workerPools",new Map),this.props={...k},this.setProps(t),this.workerPools=new Map}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const e of this.workerPools.values())e.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:e,source:n,url:r}=t;let i=this.workerPools.get(e);return i||(i=new L({name:e,source:n,url:r}),i.setProps(this._getWorkerPoolProps()),this.workerPools.set(e,i)),i}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(0,x.A)(B,"_workerFarm",void 0);const N="latest";async function D(t,e,n,r,i){const o=t.id,s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e[t.id]||{},r="".concat(t.id,"-worker.js");let i=n.workerUrl;if(i||"compression"!==t.id||(i=e.workerUrl),"test"===e._workerType&&(i="modules/".concat(t.module,"/dist/").concat(r)),!i){let e=t.version;"latest"===e&&(e=N);const n=e?"@".concat(e):"";i="https://unpkg.com/@loaders.gl/".concat(t.module).concat(n,"/dist/").concat(r)}return m(i),i}(t,n),a=B.getWorkerFarm(n).getWorkerPool({name:o,url:s});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const l=await a.startJob("process-on-worker",F.bind(null,i));l.postMessage("process",{input:e,options:n,context:r});const c=await l.result;return await c.result}async function F(t,e,n,r){switch(n){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":const{id:o,input:s,options:a}=r;try{const n=await t(s,a);e.postMessage("done",{id:o,result:n})}catch(i){const t=i instanceof Error?i.message:"unknown error";e.postMessage("error",{id:o,error:t})}break;default:console.warn("parse-with-worker unknown message ".concat(n))}}async function j(t){const e=[];for await(const n of t)e.push(n);return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.map((t=>t instanceof ArrayBuffer?new Uint8Array(t):t)),i=r.reduce(((t,e)=>t+e.byteLength),0),o=new Uint8Array(i);let s=0;for(const a of r)o.set(a,s),s+=a.byteLength;return o.buffer}(...e)}const U=262144;const z=262144;const G=1048576;var V=n(52470);function H(t){if((e=t)&&"object"===typeof e&&e.isBuffer)return t;var e;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return 0===t.byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if("string"===typeof t){const e=t;return(new TextEncoder).encode(e).buffer}if(t&&"object"===typeof t&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function W(t,e){return V.Bd?async function*(t,e){const n=t.getReader();let r;try{for(;;){const t=r||n.read();null!==e&&void 0!==e&&e._streamReadAhead&&(r=n.read());const{done:i,value:o}=await t;if(i)return;yield H(o)}}catch(i){n.releaseLock()}}(t,e):async function*(t){for await(const e of t)yield H(e)}(t)}function q(t,e){if("string"===typeof t)return function*(t,e){const n=(null===e||void 0===e?void 0:e.chunkSize)||U;let r=0;const i=new TextEncoder;for(;r<t.length;){const e=Math.min(t.length-r,n),o=t.slice(r,r+e);r+=e,yield i.encode(o)}}(t,e);if(t instanceof ArrayBuffer)return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const{chunkSize:n=z}=e;let r=0;for(;r<t.byteLength;){const e=Math.min(t.byteLength-r,n),i=new ArrayBuffer(e),o=new Uint8Array(t,r,e);new Uint8Array(i).set(o),r+=e,yield i}}()}(t,e);if((0,r.qf)(t))return async function*(t,e){const n=(null===e||void 0===e?void 0:e.chunkSize)||G;let r=0;for(;r<t.size;){const e=r+n,i=await t.slice(r,e).arrayBuffer();r=e,yield i}}(t,e);if((0,r.H1)(t))return W(t,e);if((0,r.Sv)(t)){return W(t.body,e)}throw new Error("makeIterator")}const X="Cannot convert supplied data type";async function Y(t,e,n){const i=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if("string"===typeof t||i)return function(t,e){if(e.text&&"string"===typeof t)return t;if((0,r.Pe)(t)&&(t=t.buffer),t instanceof ArrayBuffer){const n=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let n=t.buffer;const r=t.byteLength||t.length;return 0===t.byteOffset&&r===n.byteLength||(n=n.slice(t.byteOffset,t.byteOffset+r)),n}throw new Error(X)}(t,e);if((0,r.qf)(t)&&(t=await p(t)),(0,r.Sv)(t)){const n=t;return await async function(t){if(!t.ok){const e=await async function(t){let e="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): ");try{const n=t.headers.get("Content-Type");let r=t.statusText;n.includes("application/json")&&(r+=" ".concat(await t.text())),e+=r,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch(n){}return e}(t);throw new Error(e)}}(n),e.binary?await n.arrayBuffer():await n.text()}if((0,r.H1)(t)&&(t=q(t,n)),(0,r.xZ)(t)||(0,r.Td)(t))return j(t);throw new Error(X)}function Q(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function K(t,e,n){if(n)return n;const r={fetch:y(e,t),...t};if(r.url){const t=h(r.url);r.baseUrl=t,r.queryString=function(t){const e=t.match(u);return e&&e[0]}(r.url),r.filename=Q(t),r.baseUrl=function(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}(t)}return Array.isArray(r.loaders)||(r.loaders=null),r}const J=new(n(60156).t)({id:"loaders.gl"});var Z=n(12373);const $=/\.([^.]+)$/;function tt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!et(t))return null;if(e&&!Array.isArray(e))return(0,i.D)(e);let o=[];e&&(o=o.concat(e)),null!==n&&void 0!==n&&n.ignoreRegisteredLoaders||o.push(...(0,Z.Ph)()),function(t){for(const e of t)(0,i.D)(e)}(o);const s=function(t,e,n,r){const i=f(t),o=d(t),s=h(i)||(null===r||void 0===r?void 0:r.url);let a=null,l="";null!==n&&void 0!==n&&n.mimeType&&(a=rt(e,null===n||void 0===n?void 0:n.mimeType),l="match forced by supplied MIME type ".concat(null===n||void 0===n?void 0:n.mimeType));var c;a=a||function(t,e){const n=e&&$.exec(e),r=n&&n[1];return r?function(t,e){e=e.toLowerCase();for(const n of t)for(const t of n.extensions)if(t.toLowerCase()===e)return n;return null}(t,r):null}(e,s),l=l||(a?"matched url ".concat(s):""),a=a||rt(e,o),l=l||(a?"matched MIME type ".concat(o):""),a=a||function(t,e){if(!e)return null;for(const n of t)if("string"===typeof e){if(it(e,n))return n}else if(ArrayBuffer.isView(e)){if(ot(e.buffer,e.byteOffset,n))return n}else if(e instanceof ArrayBuffer){if(ot(e,0,n))return n}return null}(e,t),l=l||(a?"matched initial data ".concat(st(t)):""),a=a||rt(e,null===n||void 0===n?void 0:n.fallbackMimeType),l=l||(a?"matched fallback MIME type ".concat(o):""),l&&J.log(1,"selectLoader selected ".concat(null===(c=a)||void 0===c?void 0:c.name,": ").concat(l,"."));return a}(t,o,n,r);if(!s&&(null===n||void 0===n||!n.nothrow))throw new Error(nt(t));return s}function et(t){return!(t instanceof Response&&204===t.status)}function nt(t){const e=f(t),n=d(t);let r="No valid loader found (";r+=e?"".concat(Q(e),", "):"no url provided, ",r+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");const i=t?st(t):"";return r+=i?' first bytes: "'.concat(i,'"'):"first bytes: not available",r+=")",r}function rt(t,e){for(const n of t){if(n.mimeTypes&&n.mimeTypes.includes(e))return n;if(e==="application/x.".concat(n.id))return n}return null}function it(t,e){if(e.testText)return e.testText(t);return(Array.isArray(e.tests)?e.tests:[e.tests]).some((e=>t.startsWith(e)))}function ot(t,e,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((r=>function(t,e,n,r){if(r instanceof ArrayBuffer)return function(t,e,n){if(n=n||t.byteLength,t.byteLength<n||e.byteLength<n)return!1;const r=new Uint8Array(t),i=new Uint8Array(e);for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(r,t,r.byteLength);switch(typeof r){case"function":return r(t,n);case"string":return r===at(t,e,r.length);default:return!1}}(t,e,n,r)))}function st(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof t)return t.slice(0,e);if(ArrayBuffer.isView(t))return at(t.buffer,t.byteOffset,e);if(t instanceof ArrayBuffer){return at(t,0,e)}return""}function at(t,e,n){if(t.byteLength<e+n)return"";const r=new DataView(t);let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(e+o));return i}async function lt(t,e,n,o){m(!o||"object"===typeof o),!e||Array.isArray(e)||(0,i.l)(e)||(o=void 0,n=e,e=void 0),n=n||{};const s=f(t=await t),a=function(t,e){if(!e&&t&&!Array.isArray(t))return t;let n;if(t&&(n=Array.isArray(t)?t:[t]),e&&e.loaders){const t=Array.isArray(e.loaders)?e.loaders:[e.loaders];n=n?[...n,...t]:t}return n&&n.length?n:null}(e,o),l=await async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(!et(t))return null;let o=tt(t,e,{...n,nothrow:!0},i);if(o)return o;if((0,r.qf)(t)&&(o=tt(t=await t.slice(0,10).arrayBuffer(),e,n,i)),!o&&(null===n||void 0===n||!n.nothrow))throw new Error(nt(t));return o}(t,a,n);return l?(o=K({url:s,parse:lt,loaders:a},n=(0,g.a5)(n,l,a,s),o||null),await async function(t,e,n,i){if(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;m(t,"no worker provided");const n=t.version}(t),(0,r.Sv)(e)){const t=e,{ok:n,redirected:r,status:o,statusText:s,type:a,url:l}=t,c=Object.fromEntries(t.headers.entries());i.response={headers:c,ok:n,redirected:r,status:o,statusText:s,type:a,url:l}}if(e=await Y(e,t,n),t.parseTextSync&&"string"===typeof e)return n.dataType="text",t.parseTextSync(e,n,i,t);if(function(t,e){return!!B.isSupported()&&!!(b||null!==e&&void 0!==e&&e._nodeWorkers)&&t.worker&&(null===e||void 0===e?void 0:e.worker)}(t,n))return await D(t,e,n,i,lt);if(t.parseText&&"string"===typeof e)return await t.parseText(e,n,i,t);if(t.parse)return await t.parse(e,n,i,t);throw m(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"))}(l,t,n,o)):null}async function ct(t,e,n,o){Array.isArray(e)||(0,i.l)(e)||(n=e,e=void 0);const s=y(n);let a=t;return"string"===typeof t&&(a=await s(t)),(0,r.qf)(t)&&(a=await s(t)),await lt(a,e,n)}},12373:(t,e,n)=>{"use strict";n.d(e,{Ph:()=>a,mk:()=>s});var r=n(94085),i=n(22637);const o=()=>{const t=(0,i.K2)();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function s(t){const e=o();t=Array.isArray(t)?t:[t];for(const n of t){const t=(0,r.D)(n);e.find((e=>t===e))||e.unshift(t)}}function a(){return o()}},94085:(t,e,n)=>{"use strict";function r(t,e){if(!t)throw new Error(e||"loader assertion failed.")}function i(t){var e;if(!t)return!1;Array.isArray(t)&&(t=t[0]);return Array.isArray(null===(e=t)||void 0===e?void 0:e.extensions)}function o(t){var e,n;let o;return r(t,"null loader"),r(i(t),"invalid loader"),Array.isArray(t)&&(o=t[1],t=t[0],t={...t,options:{...t.options,...o}}),(null!==(e=t)&&void 0!==e&&e.parseTextSync||null!==(n=t)&&void 0!==n&&n.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}n.d(e,{l:()=>i,D:()=>o})},22637:(t,e,n)=>{"use strict";n.d(e,{pp:()=>h,K2:()=>u,a5:()=>f});var r=n(36551),i=n(54705);const o=new(n(60156).t)({id:"loaders.gl"});class s{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var a=n(52470);const l={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){(0,i.A)(this,"console",void 0),this.console=console}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.console.log.bind(this.console,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.console.info.bind(this.console,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.console.warn.bind(this.console,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.console.error.bind(this.console,...e)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:a.Bd,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},c={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function u(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state=t._state||{},t._state}const h=()=>{const t=u();return t.globalOptions=t.globalOptions||{...l},t.globalOptions};function f(t,e,n,r){return n=n||[],function(t,e){d(t,null,l,c,e);for(const n of e){const r=t&&t[n.id]||{},i=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};d(r,n.id,i,o,e)}}(t,n=Array.isArray(n)?n:[n]),A(e,t,r)}function d(t,e,n,i,s){const a=e||"Top level",l=e?"".concat(e,"."):"";for(const c in t){const u=!e&&(0,r.Gv)(t[c]);if(!(c in n)&&!("baseUri"===c&&!e)&&!("workerUrl"===c&&e))if(c in i)o.warn("".concat(a," loader option '").concat(l).concat(c,"' no longer supported, use '").concat(i[c],"'"))();else if(!u){const t=p(c,s);o.warn("".concat(a," loader option '").concat(l).concat(c,"' not recognized. ").concat(t))()}}}function p(t,e){const n=t.toLowerCase();let r="";for(const i of e)for(const e in i.options){if(t===e)return"Did you mean '".concat(i.id,".").concat(e,"'?");const o=e.toLowerCase();(n.startsWith(o)||o.startsWith(n))&&(r=r||"Did you mean '".concat(i.id,".").concat(e,"'?"))}return r}function A(t,e,n){const r={...t.options||{}};return function(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}(r,n),null===r.log&&(r.log=new s),g(r,h()),g(r,e),r}function g(t,e){for(const n in e)if(n in e){const i=e[n];(0,r.aC)(i)&&(0,r.aC)(t[n])?t[n]={...t[n],...e[n]}:t[n]=e[n]}}},52470:(t,e,n)=>{"use strict";n.d(e,{Bd:()=>r});"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document;const r=Boolean("object"!==typeof process||"[object process]"!==String(process)||process.browser),i="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);i&&parseFloat(i[1])},55427:(t,e,n)=>{"use strict";n.r(e),n.d(e,{GeohashLayer:()=>Ga,GreatCircleLayer:()=>V,H3ClusterLayer:()=>fn,H3HexagonLayer:()=>hn,MVTLayer:()=>Oa,QuadkeyLayer:()=>ut,S2Layer:()=>at,TerrainLayer:()=>ys,Tile3DLayer:()=>hs,TileLayer:()=>tn,TripsLayer:()=>nn,_GeoCellLayer:()=>q,_Tile2DHeader:()=>mt,_Tileset2D:()=>Ke,_WMSLayer:()=>z,_getURLFromTemplate:()=>ke});var r=n(54705),i=n(32478),o=n(80572),s=n(77044),a=n(57153);class l{constructor(t){(0,r.A)(this,"fetch",void 0),(0,r.A)(this,"loadOptions",void 0),(0,r.A)(this,"_needsRefresh",!0),(0,r.A)(this,"props",void 0),this.props={...t},this.loadOptions={...t.loadOptions},this.fetch=function(t){const e=null===t||void 0===t?void 0:t.fetch;if(e&&"function"===typeof e)return(t,n)=>e(t,n);const n=null===t||void 0===t?void 0:t.fetch;if(n&&"function"!==typeof n)return t=>fetch(t,n);return t=>fetch(t)}(this.loadOptions)}setProps(t){this.props=Object.assign(this.props,t),this.setNeedsRefresh()}setNeedsRefresh(){this._needsRefresh=!0}getNeedsRefresh(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this._needsRefresh;return t&&(this._needsRefresh=!1),e}}class c extends l{}var u=n(71778);class h extends c{constructor(t){super(t)}async getMetadata(){throw new Error("ImageSource.getMetadata not implemented")}async getImage(t){const e=this.getGranularParameters(t),n=this.getURLFromTemplate(e),r=await this.fetch(n),i=await r.arrayBuffer();return await u.$.parse(i)}getGranularParameters(t){const[e,n,r,i]=t.bbox;return{...t,east:e,north:n,south:i,west:r}}getURLFromTemplate(t){let e=this.props.url;for(const[n,r]of Object.entries(t))e=e.replace("${".concat(n,"}"),String(r)),e=e.replace("{".concat(n,"}"),String(r));return e}}(0,r.A)(h,"type","template"),(0,r.A)(h,"testURL",(t=>t.toLowerCase().includes("{")));var f=n(48721);function d(t){if(Array.isArray(t))return t.map((t=>d(t)));if(t&&"object"===typeof t){const n={};for(const[r,i]of Object.entries(t))n[(e=r,"string"===typeof e?e.charAt(0).toLowerCase()+e.slice(1):e)]=d(i);return n}var e;return t}const p={name:"XML",id:"xml",module:"xml",version:"3.4.15",worker:!1,extensions:["xml"],mimeTypes:["application/xml","text/xml"],testText:function(t){return t.startsWith("<?xml")},options:{xml:{parser:"fast-xml-parser",uncapitalizeKeys:!1,removeNSPrefix:!1,textNodeName:"value",arrayPaths:[]}},parse:async(t,e)=>A((new TextDecoder).decode(t),e),parseTextSync:(t,e)=>A(t,e)};function A(t,e){var n;const r={...p.options.xml,...null===e||void 0===e?void 0:e.xml};if("fast-xml-parser"===r.parser){const n=function(t,e){return new f.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"",...e}).parse(t)}(t,{allowBooleanAttributes:!0,ignoreDeclaration:!0,removeNSPrefix:r.removeNSPrefix,textNodeName:r.textNodeName,isArray:(t,e,n,i)=>{var o;return Boolean(null===r||void 0===r||null===(o=r.arrayPaths)||void 0===o?void 0:o.some((t=>e===t)))},...null===e||void 0===e?void 0:e._fastXML});return r.uncapitalizeKeys?d(n):n}throw new Error(null===e||void 0===e||null===(n=e.xml)||void 0===n?void 0:n.parser)}function g(t){return Array.isArray(t)?t:t?[t]:[]}function y(t){const e=g(t);return e.length>0&&e.every((t=>"string"===typeof t))?e:[]}function m(t){switch(typeof t){case"number":return t;case"string":return parseFloat(t);default:return}}function v(t){switch(typeof t){case"number":return t;case"string":return parseInt(t,10);default:return}}function b(t){switch(t){case"true":case"1":return!0;default:return!1}}function _(t,e){const n=p.parseTextSync(t,e),r=n.WMT_MS_Capabilities||n.WMS_Capabilities||n,i=function(t){var e,n,r,i,o,s,a,l,c,u,h,f,d,p,A,m;const b={version:String(t.version||""),name:String((null===(e=t.Service)||void 0===e?void 0:e.Name)||"unnamed"),title:null!==(n=t.Service)&&void 0!==n&&n.Title?String(null===(r=t.Service)||void 0===r?void 0:r.Title):void 0,abstract:null!==(i=t.Service)&&void 0!==i&&i.Abstract?String(null===(o=t.Service)||void 0===o?void 0:o.Abstract):void 0,keywords:y(null===(s=t.Service)||void 0===s||null===(a=s.KeywordList)||void 0===a?void 0:a.Keyword),fees:null!==(l=t.Service)&&void 0!==l&&l.Fees?JSON.stringify(null===(c=t.Service)||void 0===c?void 0:c.Fees):void 0,accessConstraints:null!==(u=t.Service)&&void 0!==u&&u.AccessConstraints?JSON.stringify(null===(h=t.Service)||void 0===h?void 0:h.AccessConstraints):void 0,layerLimit:v(null===(f=t.Service)||void 0===f?void 0:f.LayerLimit),maxWidth:v(null===(d=t.Service)||void 0===d?void 0:d.maxWidth),maxHeight:v(null===(p=t.Service)||void 0===p?void 0:p.maxHeight),layers:[],requests:w(null===(A=t.Capability)||void 0===A?void 0:A.Request),exceptions:x(t.Exception)},_=g(null===(m=t.Capability)||void 0===m?void 0:m.Layer);for(const g of _)b.layers.push(E(g));for(const[g,y]of Object.entries(b))void 0===y&&delete b[g];return b}(r);if(null!==e&&void 0!==e&&e.inheritedLayerProps)for(const o of i.layers)S(o,null);return(null!==e&&void 0!==e&&e.includeRawData||null!==e&&void 0!==e&&e.raw)&&(i.raw=r),null!==e&&void 0!==e&&e.includeXMLText&&(i.xml=t),i}function w(t){const e={};for(const[n,r]of Object.entries(t||{})){const t=y(null===r||void 0===r?void 0:r.Format);e[n]={mimeTypes:t}}return e}function x(t){if(g(null===t||void 0===t?void 0:t.Format).length>0)return{mimeTypes:y(t)}}function E(t){var e;const n={title:String((null===t||void 0===t?void 0:t.Title)||""),name:(null===t||void 0===t?void 0:t.Name)&&String(null===t||void 0===t?void 0:t.Name),abstract:(null===t||void 0===t?void 0:t.Name)&&String(null===t||void 0===t?void 0:t.Abstract),keywords:y(null===(e=t.KeywordList)||void 0===e?void 0:e.Keyword)},r=(null===t||void 0===t?void 0:t.CRS)||(null===t||void 0===t?void 0:t.SRS);r&&Array.isArray(r)&&r.every((t=>"string"===typeof t))&&(n.crs=r);let i=(null===t||void 0===t?void 0:t.EX_GeographicBoundingBox)&&function(t){const{westBoundLongitude:e,northBoundLatitude:n,eastBoundLongitude:r,southBoundLatitude:i}=t;return[[e,i],[r,n]]}(null===t||void 0===t?void 0:t.EX_GeographicBoundingBox);i&&(n.geographicBoundingBox=i),i=(null===t||void 0===t?void 0:t.LatLonBoundingBox)&&function(t){const{minx:e,miny:n,maxx:r,maxy:i}=t;return[[e,n],[r,i]]}(null===t||void 0===t?void 0:t.LatLonBoundingBox),i&&(n.geographicBoundingBox=i);const o=(null===t||void 0===t?void 0:t.BoundingBox)&&g(null===t||void 0===t?void 0:t.BoundingBox).map((t=>function(t){const{CRS:e,SRS:n,minx:r,miny:i,maxx:o,maxy:s,resx:a,resy:l}=t,c={crs:e||n,boundingBox:[[m(r),m(i)],[m(o),m(s)]]};return a&&(c.xResolution=a),l&&(c.yResolution=l),c}(t)));o&&o.length>0&&(n.boundingBoxes=o);const s=g(null===t||void 0===t?void 0:t.Dimension).map((t=>function(t){const{name:e,units:n,value:r}=t,i={name:e,units:n,extent:r};t.unitSymbol&&(i.unitSymbol=t.unitSymbol);t.default&&(i.defaultValue=t.default);t.multipleValues&&(i.multipleValues=b(t.multipleValues));t.nearestValue&&(i.nearestValue=b(t.nearestValue));t.current&&(i.current=b(t.current));return i}(t)));s.length&&(n.dimensions=s),null!==t&&void 0!==t&&t.opaque&&(n.opaque=b(null===t||void 0===t?void 0:t.opaque)),null!==t&&void 0!==t&&t.cascaded&&(n.cascaded=b(null===t||void 0===t?void 0:t.cascaded)),null!==t&&void 0!==t&&t.queryable&&(n.queryable=b(null===t||void 0===t?void 0:t.queryable));const a=g(null===t||void 0===t?void 0:t.Layer),l=[];for(const c of a)l.push(E(c));l.length>0&&(n.layers=l);for(const[c,u]of Object.entries(n))void 0===u&&delete n[c];return n}function S(t,e){null!==e&&void 0!==e&&e.geographicBoundingBox&&!t.geographicBoundingBox&&(t.geographicBoundingBox=[...e.geographicBoundingBox]),null!==e&&void 0!==e&&e.crs&&!t.crs&&(t.crs=[...e.crs]),null!==e&&void 0!==e&&e.boundingBoxes&&!t.boundingBoxes&&(t.boundingBoxes=[...e.boundingBoxes]),null!==e&&void 0!==e&&e.dimensions&&!t.dimensions&&(t.dimensions=[...e.dimensions]);for(const n of t.layers||[])S(n,t)}const C={id:"wms-capabilities",name:"WMS Capabilities",module:"wms",version:"3.4.15",worker:!1,extensions:["xml"],mimeTypes:["application/vnd.ogc.wms_xml","application/xml","text/xml"],testText:function(t){return t.startsWith("<?xml")},options:{wms:{}},parse:async(t,e)=>_((new TextDecoder).decode(t),null===e||void 0===e?void 0:e.wms),parseTextSync:(t,e)=>_(t,null===e||void 0===e?void 0:e.wms)};function P(t,e){var n;const r=(null===(n=p.parseTextSync(t,e).FeatureInfoResponse)||void 0===n?void 0:n.FIELDS)||[];return{features:(Array.isArray(r)?r:[r]).map((t=>function(t){const e=t||{};return{attributes:e,type:"",bounds:{bottom:0,top:0,left:0,right:0}}}(t)))}}const M={...C,id:"wms-feature-info",name:"WMS FeatureInfo",parse:async(t,e)=>P((new TextDecoder).decode(t),e),parseTextSync:(t,e)=>P(t,e)};function T(t,e){var n;return null===(n=p.parseTextSync)||void 0===n?void 0:n.call(p,t,e)}const O={...C,id:"wms-layer-description",name:"WMS DescribeLayer",parse:async(t,e)=>T((new TextDecoder).decode(t),e),parseTextSync:(t,e)=>T(t,e)};const I={id:"wms-error",name:"WMS Error",module:"wms",version:"3.4.15",worker:!1,extensions:["xml"],mimeTypes:["application/vnd.ogc.se_xml","application/xml","text/xml"],testText:function(t){return t.startsWith("<?xml")},options:{wms:{throwOnError:!1}},parse:async(t,e)=>R((new TextDecoder).decode(t),e),parseSync:(t,e)=>R((new TextDecoder).decode(t),e),parseTextSync:(t,e)=>R(t,e)};function R(t,e){const n={...I.options.wms,...null===e||void 0===e?void 0:e.wms},r=function(t,e){var n,r,i;const o=null===(n=p.parseTextSync)||void 0===n?void 0:n.call(p,t,e),s=(null===o||void 0===o||null===(r=o.ServiceExceptionReport)||void 0===r?void 0:r.ServiceException)||(null===o||void 0===o||null===(i=o["ogc:ServiceExceptionReport"])||void 0===i?void 0:i["ogc:ServiceException"]);return"string"===typeof s?s:s.value||s.code||"Unknown error"}(t,n),i=n.minimalErrors?r:"WMS Service error: ".concat(r);if(n.throwOnError)throw new Error(i);return i}class L extends c{constructor(t){var e;super(t),(0,r.A)(this,"url",void 0),(0,r.A)(this,"substituteCRS84",void 0),(0,r.A)(this,"flipCRS",void 0),(0,r.A)(this,"wmsParameters",void 0),(0,r.A)(this,"vendorParameters",void 0),(0,r.A)(this,"capabilities",null),this.url=t.url,this.substituteCRS84=null!==(e=t.substituteCRS84)&&void 0!==e&&e,this.flipCRS=["EPSG:4326"],this.wmsParameters={layers:void 0,query_layers:void 0,styles:void 0,version:"1.3.0",crs:"EPSG:4326",format:"image/png",info_format:"text/plain",transparent:void 0,time:void 0,elevation:void 0,...t.wmsParameters},this.vendorParameters=t.vendorParameters||{}}async getMetadata(){const t=await this.getCapabilities();return this.normalizeMetadata(t)}async getImage(t){return await this.getMap(t)}normalizeMetadata(t){return t}async getCapabilities(t,e){const n=this.getCapabilitiesURL(t,e),r=await this.fetch(n),i=await r.arrayBuffer();this._checkResponse(r,i);const o=await C.parse(i,this.loadOptions);return this.capabilities=o,o}async getMap(t,e){const n=this.getMapURL(t,e),r=await this.fetch(n),i=await r.arrayBuffer();this._checkResponse(r,i);try{return await u.$.parse(i,this.loadOptions)}catch{throw this._parseError(i)}}async getFeatureInfo(t,e){const n=this.getFeatureInfoURL(t,e),r=await this.fetch(n),i=await r.arrayBuffer();return this._checkResponse(r,i),await M.parse(i,this.loadOptions)}async getFeatureInfoText(t,e){const n=this.getFeatureInfoURL(t,e),r=await this.fetch(n),i=await r.arrayBuffer();return this._checkResponse(r,i),(new TextDecoder).decode(i)}async describeLayer(t,e){const n=this.describeLayerURL(t,e),r=await this.fetch(n),i=await r.arrayBuffer();return this._checkResponse(r,i),await O.parse(i,this.loadOptions)}async getLegendGraphic(t,e){const n=this.getLegendGraphicURL(t,e),r=await this.fetch(n),i=await r.arrayBuffer();this._checkResponse(r,i);try{return await u.$.parse(i,this.loadOptions)}catch{throw this._parseError(i)}}getCapabilitiesURL(t,e){const n={version:this.wmsParameters.version,...t};return this._getWMSUrl("GetCapabilities",n,e)}getMapURL(t,e){t=this._getWMS130Parameters(t);const n={version:this.wmsParameters.version,format:this.wmsParameters.format,transparent:this.wmsParameters.transparent,time:this.wmsParameters.time,elevation:this.wmsParameters.elevation,layers:this.wmsParameters.layers,styles:this.wmsParameters.styles,crs:this.wmsParameters.crs,...t};return this._getWMSUrl("GetMap",n,e)}getFeatureInfoURL(t,e){const n={version:this.wmsParameters.version,info_format:this.wmsParameters.info_format,layers:this.wmsParameters.layers,query_layers:this.wmsParameters.query_layers,styles:this.wmsParameters.styles,crs:this.wmsParameters.crs,...t};return this._getWMSUrl("GetFeatureInfo",n,e)}describeLayerURL(t,e){const n={version:this.wmsParameters.version,...t};return this._getWMSUrl("DescribeLayer",n,e)}getLegendGraphicURL(t,e){const n={version:this.wmsParameters.version,...t};return this._getWMSUrl("GetLegendGraphic",n,e)}_parseWMSUrl(t){const[e,n]=t.split("?"),r=n.split("&"),i={};for(const o of r){const[t,e]=o.split("=");i[t]=e}return{url:e,parameters:i}}_getWMSUrl(t,e,n){let r=this.url,i=!0;const o={service:"WMS",version:e.version,request:t,...e,...this.vendorParameters,...n},s=["transparent","time","elevation"];for(const[a,l]of Object.entries(o))s.includes(a)&&!l||(r+=i?"?":"&",i=!1,r+=this._getURLParameter(a,l,e));return encodeURI(r)}_getWMS130Parameters(t){const e={...t};return e.srs&&(e.crs=e.crs||e.srs,delete e.srs),e}_getURLParameter(t,e,n){switch(t){case"crs":"1.3.0"!==n.version?t="srs":this.substituteCRS84&&"EPSG:4326"===e&&(e="CRS:84");break;case"srs":"1.3.0"===n.version&&(t="crs");break;case"bbox":const r=this._flipBoundingBox(e,n);r&&(e=r)}return t=t.toUpperCase(),Array.isArray(e)?"".concat(t,"=").concat(e.join(",")):"".concat(t,"=").concat(e?String(e):"")}_flipBoundingBox(t,e){if(!Array.isArray(t)||4!==t.length)return null;const n=t;return"1.3.0"===e.version&&this.flipCRS.includes(e.crs||"")&&!(this.substituteCRS84&&"EPSG:4326"===e.crs)?[n[1],n[0],n[3],n[2]]:n}async _fetchArrayBuffer(t){const e=await this.fetch(t),n=await e.arrayBuffer();return this._checkResponse(e,n),n}_checkResponse(t,e){const n=t.headers["content-type"];if(!t.ok||I.mimeTypes.includes(n)){const t=function(t,e){const n={...t};for(const[r,i]of Object.entries(e))i&&"object"===typeof i?(n[r]=n[r]||{},Object.assign(n[r],e[r])):n[r]=e[r];return n}(this.loadOptions,{wms:{throwOnError:!0}}),n=I.parseSync(e,t);throw new Error(n)}}_parseError(t){const e=I.parseSync(t,this.loadOptions);return new Error(e)}}(0,r.A)(L,"type","wms"),(0,r.A)(L,"testURL",(t=>t.toLowerCase().includes("wms")));class k extends c{constructor(t){super(t)}async getMetadata(){return await this.metadata()}async getImage(t){throw new Error("not implemented")}async metadata(){throw new Error("not implemented")}exportImage(t){throw new Error("not implemented")}metadataURL(t){return"".concat(this.props.url,"?f=pjson")}exportImageURL(t){const e="bbox=".concat(t.bbox[0],",").concat(t.bbox[1],",").concat(t.bbox[2],",").concat(t.bbox[3]),n="size=".concat(t.width,",").concat(t.height),r={...t,bbox:e,size:n};return delete r.width,delete r.height,this.getUrl("exportImage",r)}getUrl(t,e,n){let r="".concat(this.props.url,"/").concat(t),i=!0;for(const[o,s]of Object.entries(e))r+=i?"?":"&",i=!1,Array.isArray(s)?r+="".concat(o.toUpperCase(),"=").concat(s.join(",")):r+="".concat(o.toUpperCase(),"=").concat(s?String(s):"");return r}async checkResponse(t){if(!t.ok)throw new Error("error")}}(0,r.A)(k,"type","arcgis-image-server"),(0,r.A)(k,"testURL",(t=>t.toLowerCase().includes("ImageServer")));const B=[L,k,h];function N(t){const{type:e="auto"}=t;switch("auto"===e?function(t){for(const e of B)if(e.testURL&&e.testURL(t))return e.type;return"wms"}(t.url):e){case"template":return new h(t);case"wms":return new L(t);default:throw new Error("Not a valid image source type")}}var D=n(17844);const F=6378137*Math.PI;function j(t){const e=(0,D.Gw)(t);return e[0]=(e[0]/256-1)*F,e[1]=(e[1]/256-1)*F,e}const U={id:"imagery-layer",data:"",serviceType:"auto",srs:"auto",layers:{type:"array",compare:!0,value:[]},onMetadataLoad:{type:"function",value:()=>{}},onMetadataLoadError:{type:"function",value:console.error},onImageLoadStart:{type:"function",value:()=>{}},onImageLoad:{type:"function",value:()=>{}},onImageLoadError:{type:"function",compare:!1,value:(t,e)=>console.error(e,t)}};class z extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}get isLoaded(){var t;return 0===(null===(t=this.state)||void 0===t?void 0:t.loadCounter)&&super.isLoaded}shouldUpdateState(){return!0}initializeState(){this.state._nextRequestId=0,this.state.lastRequestId=-1,this.state.loadCounter=0}updateState(t){let{changeFlags:e,props:n,oldProps:r}=t;const{viewport:i}=this.context;e.dataChanged||n.serviceType!==r.serviceType?(this.state.imageSource=this._createImageSource(n),this._loadMetadata(),this.debounce((()=>this.loadImage(i,"image source changed")),0)):(0,o.b)(n.layers,r.layers,1)?e.viewportChanged&&this.debounce((()=>this.loadImage(i,"viewport changed"))):this.debounce((()=>this.loadImage(i,"layers changed")),0)}finalizeState(){}renderLayers(){const{bounds:t,image:e,lastRequestParameters:n}=this.state;return e&&new a.A({...this.getSubLayerProps({id:"bitmap"}),_imageCoordinateSystem:"EPSG:4326"===n.srs?s.rf.LNGLAT:s.rf.CARTESIAN,bounds:t,image:e})}async getFeatureInfoText(t,e){const{lastRequestParameters:n}=this.state;if(n){var r,i;return await(null===(r=(i=this.state.imageSource).getFeatureInfoText)||void 0===r?void 0:r.call(i,{...n,query_layers:n.layers,x:t,y:e,info_format:"application/vnd.ogc.gml"}))}return""}_createImageSource(t){if(t.data instanceof c)return t.data;if("string"===typeof t.data)return N({url:t.data,loadOptions:t.loadOptions,type:t.serviceType});throw new Error("invalid image source in props.data")}async _loadMetadata(){const{imageSource:t}=this.state;try{this.state.loadCounter++;const n=await t.getMetadata();var e;if(this.state.imageSource===t)null===(e=this.getCurrentLayer())||void 0===e||e.props.onMetadataLoad(n)}catch(r){var n;null===(n=this.getCurrentLayer())||void 0===n||n.props.onMetadataLoadError(r)}finally{this.state.loadCounter--}}async loadImage(t,e){const{layers:n,serviceType:r}=this.props;if("wms"===r&&0===n.length)return;const i=t.getBounds(),{width:o,height:s}=t,a=this.getRequestId();let{srs:l}=this.props;"auto"===l&&(l=t.resolution?"EPSG:4326":"EPSG:3857");const c={width:o,height:s,bbox:i,layers:n,srs:l};if("EPSG:3857"===l){const[t,e]=j([i[0],i[1]]),[n,r]=j([i[2],i[3]]);c.bbox=[t,e,n,r]}try{this.state.loadCounter++,this.props.onImageLoadStart(a);const t=await this.state.imageSource.getImage(c);var u;if(this.state.lastRequestId<a)null===(u=this.getCurrentLayer())||void 0===u||u.props.onImageLoad(a),this.setState({image:t,bounds:i,lastRequestParameters:c,lastRequestId:a})}catch(f){var h;this.raiseError(f,"Load image"),null===(h=this.getCurrentLayer())||void 0===h||h.props.onImageLoadError(a,f)}finally{this.state.loadCounter--}}getRequestId(){return this.state._nextRequestId++}debounce(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;clearTimeout(this.state._timeoutId),this.state._timeoutId=setTimeout((()=>t()),e)}}(0,r.A)(z,"layerName","WMSLayer"),(0,r.A)(z,"defaultProps",U);var G=n(18187);class V extends G.A{}(0,r.A)(V,"layerName","GreatCircleLayer"),(0,r.A)(V,"defaultProps",{getHeight:{type:"accessor",value:0},greatCircle:!0});var H=n(63245);const W={...H.A.defaultProps};class q extends i.A{indexToBounds(){return null}renderLayers(){const{elevationScale:t,extruded:e,wireframe:n,filled:r,stroked:i,lineWidthUnits:o,lineWidthScale:s,lineWidthMinPixels:a,lineWidthMaxPixels:l,lineJointRounded:c,lineMiterLimit:u,lineDashJustified:h,getElevation:f,getFillColor:d,getLineColor:p,getLineWidth:A}=this.props,{updateTriggers:g,material:y,transitions:m}=this.props,v=this.getSubLayerClass("cell",H.A),{updateTriggers:b,..._}=this.indexToBounds()||{};return new v({filled:r,wireframe:n,extruded:e,elevationScale:t,stroked:i,lineWidthUnits:o,lineWidthScale:s,lineWidthMinPixels:a,lineWidthMaxPixels:l,lineJointRounded:c,lineMiterLimit:u,lineDashJustified:h,material:y,transitions:m,getElevation:f,getFillColor:d,getLineColor:p,getLineWidth:A},this.getSubLayerProps({id:"cell",updateTriggers:g&&{...b,getElevation:g.getElevation,getFillColor:g.getFillColor,getLineColor:g.getLineColor,getLineWidth:g.getLineWidth}}),_)}}(0,r.A)(q,"layerName","GeoCellLayer"),(0,r.A)(q,"defaultProps",W);var X=n(42301),Y=n.n(X);const Q=3,K=61,J=180/Math.PI;function Z(t,e,n){const r=1<<e;return[(t[0]+n[0])/r,(t[1]+n[1])/r]}function $(t){return t>=.5?1/3*(4*t*t-1):1/3*(1-4*(1-t)*(1-t))}function tt(t){return[$(t[0]),$(t[1])]}function et(t,e){let[n,r]=e;switch(t){case 0:return[1,n,r];case 1:return[-n,1,r];case 2:return[-n,-r,1];case 3:return[-1,-r,-n];case 4:return[r,-1,-n];case 5:return[r,n,-1];default:throw new Error("Invalid face")}}function nt(t){let[e,n,r]=t;const i=Math.atan2(r,Math.sqrt(e*e+n*n));return[Math.atan2(n,e)*J,i*J]}function rt(t,e,n,r){if(0===r){1===n&&(e[0]=t-1-e[0],e[1]=t-1-e[1]);const r=e[0];e[0]=e[1],e[1]=r}}const it=100;function ot(t){if("string"===typeof t){if(t.indexOf("/")>0)return t;t=function(t){const e=t.padEnd(16,"0");return Y().fromString(e,16)}(t)}return function(t){let e=Y().fromString(t,!0,10).toString(2);for(;e.length<Q+K;)e="0"+e;const n=e.lastIndexOf("1"),r=e.substring(0,3),i=e.substring(3,n),o=i.length/2,s=Y().fromString(r,!0,2).toString(10);let a=Y().fromString(i,!0,2).toString(4);for(;a.length<o;)a="0"+a;return"".concat(s,"/").concat(a)}(t.toString())}function st(t){const e=function(t){const e=t.split("/"),n=parseInt(e[0],10),r=e[1],i=r.length,o=[0,0];let s;for(let a=i-1;a>=0;a--){s=i-a;const t=r[a];let e=0,n=0;"1"===t?n=1:"2"===t?(e=1,n=1):"3"===t&&(e=1);const l=Math.pow(2,s-1);rt(l,o,e,n),o[0]+=l*e,o[1]+=l*n}if(n%2===1){const t=o[0];o[0]=o[1],o[1]=t}return{face:n,ij:o,level:s}}(ot(t));return function(t){let{face:e,ij:n,level:r}=t;const i=[[0,0],[0,1],[1,1],[1,0],[0,0]],o=Math.max(1,Math.ceil(it*Math.pow(2,-r))),s=new Float64Array(4*o*2+2);let a=0,l=0;for(let c=0;c<4;c++){const t=i[c].slice(0),u=i[c+1],h=(u[0]-t[0])/o,f=(u[1]-t[1])/o;for(let i=0;i<o;i++){t[0]+=h,t[1]+=f;const i=nt(et(e,tt(Z(n,r,t))));Math.abs(i[1])>89.999&&(i[0]=l);const o=i[0]-l;i[0]+=o>180?-360:o<-180?360:0,s[a++]=i[0],s[a++]=i[1],l=i[0]}}return s[a++]=s[0],s[a++]=s[1],s}(e)}class at extends q{indexToBounds(){const{data:t,getS2Token:e}=this.props;return{data:t,_normalize:!1,positionFormat:"XY",getPolygon:(t,n)=>st(e(t,n))}}}(0,r.A)(at,"layerName","S2Layer"),(0,r.A)(at,"defaultProps",{getS2Token:{type:"accessor",value:t=>t.token}});const lt=512;function ct(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const[n,r]=function(t,e){let n=0,r=0,i=1<<t.length;const o=i/lt;for(let s=0;s<t.length;s++){i>>=1;const e=parseInt(t[s]);e%2&&(n|=i),e>1&&(r|=i)}return[[n/o,lt-r/o],[(n+e)/o,lt-(r+e)/o]]}(t,e),[i,o]=(0,D.iV)(n),[s,a]=(0,D.iV)(r);return[s,o,s,a,i,a,i,o,s,o]}class ut extends q{indexToBounds(){const{data:t,extruded:e,getQuadkey:n}=this.props,r=e?.99:1;return{data:t,_normalize:!1,positionFormat:"XY",getPolygon:(t,e)=>ct(n(t,e),r),updateTriggers:{getPolygon:r}}}}(0,r.A)(ut,"layerName","QuadkeyLayer"),(0,r.A)(ut,"defaultProps",{getQuadkey:{type:"accessor",value:t=>t.quadkey}});var ht=n(29877),ft=n(77267),dt=n(12041);const pt={id:"request-scheduler",throttleRequests:!0,maxRequests:6};class At{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.A)(this,"props",void 0),(0,r.A)(this,"stats",void 0),(0,r.A)(this,"activeRequestCount",0),(0,r.A)(this,"requestQueue",[]),(0,r.A)(this,"requestMap",new Map),(0,r.A)(this,"deferredUpdate",null),this.props={...pt,...t},this.stats=new dt.A({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>0;if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(t))return this.requestMap.get(t);const n={handle:t,priority:0,getPriority:e},r=new Promise((t=>(n.resolve=t,n)));return this.requestQueue.push(n),this.requestMap.set(t,r),this._issueNewRequests(),r}_issueRequest(t){const{handle:e,resolve:n}=t;let r=!1;const i=()=>{r||(r=!0,this.requestMap.delete(e),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,n?n({done:i}):Promise.resolve({done:i})}_issueNewRequests(){this.deferredUpdate||(this.deferredUpdate=setTimeout((()=>this._issueNewRequestsAsync()),0))}_issueNewRequestsAsync(){this.deferredUpdate=null;const t=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==t){this._updateAllRequests();for(let e=0;e<t;++e){const t=this.requestQueue.shift();t&&this._issueRequest(t)}}}_updateAllRequests(){const t=this.requestQueue;for(let e=0;e<t.length;++e){const n=t[e];this._updateRequest(n)||(t.splice(e,1),this.requestMap.delete(n.handle),e--)}t.sort(((t,e)=>t.priority-e.priority))}_updateRequest(t){return t.priority=t.getPriority(t.handle),!(t.priority<0)||(t.resolve(null),!1)}}var gt=n(92684),yt=n(67567);class mt{constructor(t){(0,r.A)(this,"index",void 0),(0,r.A)(this,"isVisible",void 0),(0,r.A)(this,"isSelected",void 0),(0,r.A)(this,"parent",void 0),(0,r.A)(this,"children",void 0),(0,r.A)(this,"content",void 0),(0,r.A)(this,"state",void 0),(0,r.A)(this,"layers",void 0),(0,r.A)(this,"id",void 0),(0,r.A)(this,"zoom",void 0),(0,r.A)(this,"userData",void 0),(0,r.A)(this,"boundingBox",void 0),(0,r.A)(this,"_abortController",void 0),(0,r.A)(this,"_loader",void 0),(0,r.A)(this,"_loaderId",void 0),(0,r.A)(this,"_isLoaded",void 0),(0,r.A)(this,"_isCancelled",void 0),(0,r.A)(this,"_needsReload",void 0),(0,r.A)(this,"_bbox",void 0),this.index=t,this.isVisible=!1,this.isSelected=!1,this.parent=null,this.children=[],this.content=null,this._loader=void 0,this._abortController=null,this._loaderId=0,this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1}get bbox(){return this._bbox}set bbox(t){this._bbox||(this._bbox=t,this.boundingBox="west"in t?[[t.west,t.south],[t.east,t.north]]:[[t.left,t.top],[t.right,t.bottom]])}get data(){return this.isLoading&&this._loader?this._loader.then((()=>this.data)):this.content}get isLoaded(){return this._isLoaded&&!this._needsReload}get isLoading(){return Boolean(this._loader)&&!this._isCancelled}get needsReload(){return this._needsReload||this._isCancelled}get byteLength(){const t=this.content?this.content.byteLength:0;return Number.isFinite(t)||console.error("byteLength not defined in tile data"),t}async _loadData(t){let{getData:e,requestScheduler:n,onLoad:r,onError:i}=t;const{index:o,id:s,bbox:a,userData:l,zoom:c}=this,u=this._loaderId;this._abortController=new AbortController;const{signal:h}=this._abortController,f=await n.scheduleRequest(this,(t=>t.isSelected?1:-1));if(!f)return void(this._isCancelled=!0);if(this._isCancelled)return void f.done();let d,p=null;try{p=await e({index:o,id:s,bbox:a,userData:l,zoom:c,signal:h})}catch(A){d=A||!0}finally{f.done()}u===this._loaderId&&(this._loader=void 0,this.content=p,!this._isCancelled||p?(this._isLoaded=!0,this._isCancelled=!1,d?i(d,this):r(this)):this._isLoaded=!1)}loadData(t){return this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1,this._loaderId++,this._loader=this._loadData(t),this._loader}setNeedsReload(){this.isLoading&&(this.abort(),this._loader=void 0),this._needsReload=!0}abort(){var t;this.isLoaded||(this._isCancelled=!0,null===(t=this._abortController)||void 0===t||t.abort())}}var vt=n(49815),bt=n(18020);const _t=-1,wt=0,xt=1;var Et=n(83051);const St=new Et.A,Ct=new Et.A;class Pt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=arguments.length>2?arguments[2]:void 0;(0,r.A)(this,"center",void 0),(0,r.A)(this,"halfDiagonal",void 0),(0,r.A)(this,"minimum",void 0),(0,r.A)(this,"maximum",void 0),n=n||St.copy(t).add(e).scale(.5),this.center=new Et.A(n),this.halfDiagonal=new Et.A(e).subtract(this.center),this.minimum=new Et.A(t),this.maximum=new Et.A(e)}clone(){return new Pt(this.minimum,this.maximum,this.center)}equals(t){return this===t||Boolean(t)&&this.minimum.equals(t.minimum)&&this.maximum.equals(t.maximum)}transform(t){return this.center.transformAsPoint(t),this.halfDiagonal.transform(t),this.minimum.transform(t),this.maximum.transform(t),this}intersectPlane(t){const{halfDiagonal:e}=this,n=Ct.from(t.normal),r=e.x*Math.abs(n.x)+e.y*Math.abs(n.y)+e.z*Math.abs(n.z),i=this.center.dot(n)+t.distance;return i-r>0?xt:i+r<0?_t:wt}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=St.from(t).subtract(this.center),{halfDiagonal:n}=this;let r,i=0;return r=Math.abs(e.x)-n.x,r>0&&(i+=r*r),r=Math.abs(e.y)-n.y,r>0&&(i+=r*r),r=Math.abs(e.z)-n.z,r>0&&(i+=r*r),i}}var Mt=n(36153);const Tt=new Et.A,Ot=new Et.A;class It{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,r.A)(this,"center",void 0),(0,r.A)(this,"radius",void 0),this.radius=-0,this.center=new Et.A,this.fromCenterRadius(t,e)}fromCenterRadius(t,e){return this.center.from(t),this.radius=e,this}fromCornerPoints(t,e){return e=Tt.from(e),this.center=(new Et.A).from(t).add(e).scale(.5),this.radius=this.center.distance(e),this}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.radius===t.radius}clone(){return new It(this.center,this.radius)}union(t){const e=this.center,n=this.radius,r=t.center,i=t.radius,o=Tt.copy(r).subtract(e),s=o.magnitude();if(n>=s+i)return this.clone();if(i>=s+n)return t.clone();const a=.5*(n+s+i);return Ot.copy(o).scale((-n+a)/s).add(e),this.center.copy(Ot),this.radius=a,this}expand(t){const e=Tt.from(t).subtract(this.center).magnitude();return e>this.radius&&(this.radius=e),this}transform(t){this.center.transform(t);const e=Mt.IL(Tt,t);return this.radius=Math.max(e[0],Math.max(e[1],e[2]))*this.radius,this}distanceSquaredTo(t){const e=this.distanceTo(t);return e*e}distanceTo(t){const e=Tt.from(t).subtract(this.center);return Math.max(0,e.len()-this.radius)}intersectPlane(t){const e=this.center,n=this.radius,r=t.normal.dot(e)+t.distance;return r<-n?_t:r<n?wt:xt}}var Rt=n(9881),Lt=n(50516);const kt=new Et.A,Bt=new Et.A,Nt=new Et.A,Dt=new Et.A,Ft=new Et.A,jt=new Et.A,Ut=new Et.A,zt=0,Gt=1,Vt=2,Ht=3,Wt=4,qt=5,Xt=6,Yt=7,Qt=8;class Kt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0,0,0,0,0,0];(0,r.A)(this,"center",void 0),(0,r.A)(this,"halfAxes",void 0),this.center=(new Et.A).from(t),this.halfAxes=new Rt.A(e)}get halfSize(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2);return[new Et.A(t).len(),new Et.A(e).len(),new Et.A(n).len()]}get quaternion(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2),r=new Et.A(t).normalize(),i=new Et.A(e).normalize(),o=new Et.A(n).normalize();return(new Lt.A).fromMatrix3(new Rt.A([...r,...i,...o]))}fromCenterHalfSizeQuaternion(t,e,n){const r=new Lt.A(n),i=(new Rt.A).fromQuaternion(r);return i[0]=i[0]*e[0],i[1]=i[1]*e[0],i[2]=i[2]*e[0],i[3]=i[3]*e[1],i[4]=i[4]*e[1],i[5]=i[5]*e[1],i[6]=i[6]*e[2],i[7]=i[7]*e[2],i[8]=i[8]*e[2],this.center=(new Et.A).from(t),this.halfAxes=i,this}clone(){return new Kt(this.center,this.halfAxes)}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.halfAxes.equals(t.halfAxes)}getBoundingSphere(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new It;const e=this.halfAxes,n=e.getColumn(0,Nt),r=e.getColumn(1,Dt),i=e.getColumn(2,Ft),o=kt.copy(n).add(r).add(i);return t.center.copy(this.center),t.radius=o.magnitude(),t}intersectPlane(t){const e=this.center,n=t.normal,r=this.halfAxes,i=n.x,o=n.y,s=n.z,a=Math.abs(i*r[zt]+o*r[Gt]+s*r[Vt])+Math.abs(i*r[Ht]+o*r[Wt]+s*r[qt])+Math.abs(i*r[Xt]+o*r[Yt]+s*r[Qt]),l=n.dot(e)+t.distance;return l<=-a?_t:l>=a?xt:wt}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=Bt.from(t).subtract(this.center),n=this.halfAxes,r=n.getColumn(0,Nt),i=n.getColumn(1,Dt),o=n.getColumn(2,Ft),s=r.magnitude(),a=i.magnitude(),l=o.magnitude();r.normalize(),i.normalize(),o.normalize();let c,u=0;return c=Math.abs(e.dot(r))-s,c>0&&(u+=c*c),c=Math.abs(e.dot(i))-a,c>0&&(u+=c*c),c=Math.abs(e.dot(o))-l,c>0&&(u+=c*c),u}computePlaneDistances(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-0,-0],r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const o=this.center,s=this.halfAxes,a=s.getColumn(0,Nt),l=s.getColumn(1,Dt),c=s.getColumn(2,Ft),u=jt.copy(a).add(l).add(c).add(o),h=Ut.copy(u).subtract(t);let f=e.dot(h);return r=Math.min(f,r),i=Math.max(f,i),u.copy(o).add(a).add(l).subtract(c),h.copy(u).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),u.copy(o).add(a).subtract(l).add(c),h.copy(u).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),u.copy(o).add(a).subtract(l).subtract(c),h.copy(u).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),o.copy(u).subtract(a).add(l).add(c),h.copy(u).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),o.copy(u).subtract(a).add(l).subtract(c),h.copy(u).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),o.copy(u).subtract(a).subtract(l).add(c),h.copy(u).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),o.copy(u).subtract(a).subtract(l).subtract(c),h.copy(u).subtract(t),f=e.dot(h),r=Math.min(f,r),i=Math.max(f,i),n[0]=r,n[1]=i,n}transform(t){this.center.transformAsPoint(t);const e=this.halfAxes.getColumn(0,Nt);e.transformAsPoint(t);const n=this.halfAxes.getColumn(1,Dt);n.transformAsPoint(t);const r=this.halfAxes.getColumn(2,Ft);return r.transformAsPoint(t),this.halfAxes=new Rt.A([...e,...n,...r]),this}getTransform(){throw new Error("not implemented")}}var Jt=n(15476);const Zt=new Et.A,$t=new Et.A;class te{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,1],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,r.A)(this,"normal",void 0),(0,r.A)(this,"distance",void 0),this.normal=new Et.A,this.distance=-0,this.fromNormalDistance(t,e)}fromNormalDistance(t,e){return(0,Jt.A)(Number.isFinite(e)),this.normal.from(t).normalize(),this.distance=e,this}fromPointNormal(t,e){t=Zt.from(t),this.normal.from(e).normalize();const n=-this.normal.dot(t);return this.distance=n,this}fromCoefficients(t,e,n,r){return this.normal.set(t,e,n),(0,Jt.A)((0,yt.aI)(this.normal.len(),1)),this.distance=r,this}clone(){return new te(this.normal,this.distance)}equals(t){return(0,yt.aI)(this.distance,t.distance)&&(0,yt.aI)(this.normal,t.normal)}getPointDistance(t){return this.normal.dot(t)+this.distance}transform(t){const e=$t.copy(this.normal).transformAsVector(t).normalize(),n=this.normal.scale(-this.distance).transform(t);return this.fromPointNormal(n,e)}projectPointOntoPlane(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];t=Zt.from(t);const n=this.getPointDistance(t),r=$t.copy(this.normal).scale(n);return t.subtract(r).to(e)}}const ee=[new Et.A([1,0,0]),new Et.A([0,1,0]),new Et.A([0,0,1])],ne=new Et.A,re=new Et.A;new te(new Et.A(1,0,0),0);class ie{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,r.A)(this,"planes",void 0),this.planes=t}fromBoundingSphere(t){this.planes.length=2*ee.length;const e=t.center,n=t.radius;let r=0;for(const i of ee){let t=this.planes[r],o=this.planes[r+1];t||(t=this.planes[r]=new te),o||(o=this.planes[r+1]=new te);const s=ne.copy(i).scale(-n).add(e);i.dot(s);t.fromPointNormal(s,i);const a=ne.copy(i).scale(n).add(e),l=re.copy(i).negate();l.dot(a);o.fromPointNormal(a,l),r+=2}return this}computeVisibility(t){let e=xt;for(const n of this.planes){switch(t.intersectPlane(n)){case _t:return _t;case wt:e=wt}}return e}computeVisibilityWithPlaneMask(t,e){if((0,Jt.A)(Number.isFinite(e),"parentPlaneMask is required."),e===ie.MASK_OUTSIDE||e===ie.MASK_INSIDE)return e;let n=ie.MASK_INSIDE;const r=this.planes;for(let i=0;i<this.planes.length;++i){const o=i<31?1<<i:0;if(i<31&&0===(e&o))continue;const s=r[i],a=t.intersectPlane(s);if(a===_t)return ie.MASK_OUTSIDE;a===wt&&(n|=o)}return n}}(0,r.A)(ie,"MASK_OUTSIDE",4294967295),(0,r.A)(ie,"MASK_INSIDE",0),(0,r.A)(ie,"MASK_INDETERMINATE",2147483647);new Et.A,new Et.A,new Et.A,new Et.A,new Et.A;new Et.A,new Et.A,new Et.A,new Et.A,new Et.A,new Et.A,new Et.A,new Et.A,new Et.A,new Et.A,new Et.A,new Et.A,Math.PI;var oe=n(83004);const se=new Rt.A,ae=new Rt.A,le=new Rt.A,ce=new Rt.A,ue=new Rt.A;function he(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=oe.A.EPSILON20;let r=0,i=0;const o=ae,s=le;o.identity(),s.copy(t);const a=n*function(t){let e=0;for(let n=0;n<9;++n){const r=t[n];e+=r*r}return Math.sqrt(e)}(s);for(;i<10&&pe(s)>a;)Ae(s,ce),ue.copy(ce).transpose(),s.multiplyRight(ce),s.multiplyLeft(ue),o.multiplyRight(ce),++r>2&&(++i,r=0);return e.unitary=o.toTarget(e.unitary),e.diagonal=s.toTarget(e.diagonal),e}const fe=[1,0,0],de=[2,2,1];function pe(t){let e=0;for(let n=0;n<3;++n){const r=t[se.getElementIndex(de[n],fe[n])];e+=2*r*r}return Math.sqrt(e)}function Ae(t,e){const n=oe.A.EPSILON15;let r=0,i=1;for(let c=0;c<3;++c){const e=Math.abs(t[se.getElementIndex(de[c],fe[c])]);e>r&&(i=c,r=e)}const o=fe[i],s=de[i];let a=1,l=0;if(Math.abs(t[se.getElementIndex(s,o)])>n){const e=(t[se.getElementIndex(s,s)]-t[se.getElementIndex(o,o)])/2/t[se.getElementIndex(s,o)];let n;n=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)),a=1/Math.sqrt(1+n*n),l=n*a}return Rt.A.IDENTITY.to(e),e[se.getElementIndex(o,o)]=e[se.getElementIndex(s,s)]=a,e[se.getElementIndex(s,o)]=l,e[se.getElementIndex(o,s)]=-l,e}const ge=new Et.A,ye=new Et.A,me=new Et.A,ve=new Et.A,be=new Et.A,_e=new Rt.A,we={diagonal:new Rt.A,unitary:new Rt.A};function xe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kt;if(!t||0===t.length)return e.halfAxes=new Rt.A([0,0,0,0,0,0,0,0,0]),e.center=new Et.A,e;const n=t.length,r=new Et.A(0,0,0);for(const S of t)r.add(S);const i=1/n;r.multiplyByScalar(i);let o=0,s=0,a=0,l=0,c=0,u=0;for(const S of t){const t=ge.copy(S).subtract(r);o+=t.x*t.x,s+=t.x*t.y,a+=t.x*t.z,l+=t.y*t.y,c+=t.y*t.z,u+=t.z*t.z}o*=i,s*=i,a*=i,l*=i,c*=i,u*=i;const h=_e;h[0]=o,h[1]=s,h[2]=a,h[3]=s,h[4]=l,h[5]=c,h[6]=a,h[7]=c,h[8]=u;const{unitary:f}=he(h,we),d=e.halfAxes.copy(f);let p=d.getColumn(0,me),A=d.getColumn(1,ve),g=d.getColumn(2,be),y=-Number.MAX_VALUE,m=-Number.MAX_VALUE,v=-Number.MAX_VALUE,b=Number.MAX_VALUE,_=Number.MAX_VALUE,w=Number.MAX_VALUE;for(const S of t)ge.copy(S),y=Math.max(ge.dot(p),y),m=Math.max(ge.dot(A),m),v=Math.max(ge.dot(g),v),b=Math.min(ge.dot(p),b),_=Math.min(ge.dot(A),_),w=Math.min(ge.dot(g),w);p=p.multiplyByScalar(.5*(b+y)),A=A.multiplyByScalar(.5*(_+m)),g=g.multiplyByScalar(.5*(w+v)),e.center.copy(p).add(A).add(g);const x=ye.set(y-b,m-_,v-w).multiplyByScalar(.5),E=new Rt.A([x[0],0,0,0,x[1],0,0,0,x[2]]);return e.halfAxes.multiplyRight(E),e}const Ee=512,Se=3,Ce=[[.5,.5],[0,0],[0,1],[1,0],[1,1]],Pe=Ce.concat([[0,.5],[.5,0],[1,.5],[.5,1]]),Me=Pe.concat([[.25,.5],[.75,.5]]);class Te{constructor(t,e,n){(0,r.A)(this,"x",void 0),(0,r.A)(this,"y",void 0),(0,r.A)(this,"z",void 0),(0,r.A)(this,"childVisible",void 0),(0,r.A)(this,"selected",void 0),(0,r.A)(this,"_children",void 0),this.x=t,this.y=e,this.z=n}get children(){if(!this._children){const t=2*this.x,e=2*this.y,n=this.z+1;this._children=[new Te(t,e,n),new Te(t,e+1,n),new Te(t+1,e,n),new Te(t+1,e+1,n)]}return this._children}update(t){const{viewport:e,cullingVolume:n,elevationBounds:r,minZ:i,maxZ:o,bounds:s,offset:a,project:l}=t,c=this.getBoundingVolume(r,a,l);if(s&&!this.insideBounds(s))return!1;if(n.computeVisibility(c)<0)return!1;if(!this.childVisible){let{z:t}=this;if(t<o&&t>=i){const n=c.distanceTo(e.cameraPosition)*e.scale/e.height;t+=Math.floor(Math.log2(n))}if(t>=o)return this.selected=!0,!0}this.selected=!1,this.childVisible=!0;for(const u of this.children)u.update(t);return!0}getSelected(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.selected&&t.push(this),this._children)for(const e of this._children)e.getSelected(t);return t}insideBounds(t){let[e,n,r,i]=t;const o=Math.pow(2,this.z),s=Ee/o;return this.x*s<r&&this.y*s<i&&(this.x+1)*s>e&&(this.y+1)*s>n}getBoundingVolume(t,e,n){if(n){const e=this.z<1?Me:this.z<2?Pe:Ce,r=[];for(const i of e){const e=Fe(this.x+i[0],this.y+i[1],this.z);e[2]=t[0],r.push(n(e)),t[0]!==t[1]&&(e[2]=t[1],r.push(n(e)))}return xe(r)}const r=Math.pow(2,this.z),i=Ee/r,o=this.x*i+e*Ee,s=Ee-(this.y+1)*i;return new Pt([o,s,t[0]],[o+i,s+i,t[1]])}}const Oe=512,Ie=[-1/0,-1/0,1/0,1/0],Re={type:"object",value:null,validate:(t,e)=>e.optional&&null===t||"string"===typeof t||Array.isArray(t)&&t.every((t=>"string"===typeof t)),equal:(t,e)=>{if(t===e)return!0;if(!Array.isArray(t)||!Array.isArray(e))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}};function Le(t,e){const n=[e.transformAsPoint([t[0],t[1]]),e.transformAsPoint([t[2],t[1]]),e.transformAsPoint([t[0],t[3]]),e.transformAsPoint([t[2],t[3]])],r=[Math.min(...n.map((t=>t[0]))),Math.min(...n.map((t=>t[1]))),Math.max(...n.map((t=>t[0]))),Math.max(...n.map((t=>t[1])))];return r}function ke(t,e){if(!t||!t.length)return null;const{index:n,id:r}=e;if(Array.isArray(t)){t=t[(i=r,Math.abs(i.split("").reduce(((t,e)=>(t<<5)-t+e.charCodeAt(0)|0),0))%t.length)]}var i;let o=t;for(const s of Object.keys(n)){const t=new RegExp("{".concat(s,"}"),"g");o=o.replace(t,String(n[s]))}return Number.isInteger(n.y)&&Number.isInteger(n.z)&&(o=o.replace(/\{-y\}/g,String(Math.pow(2,n.z)-n.y-1))),o}function Be(t){let{viewport:e,z:n=0,cullRect:r}=t;return(e.subViewports||[e]).map((t=>Ne(t,n||0,r)))}function Ne(t,e,n){if(!Array.isArray(e)){const r=n.x-t.x,i=n.y-t.y,{width:o,height:s}=n,a={targetZ:e},l=t.unproject([r,i],a),c=t.unproject([r+o,i],a),u=t.unproject([r,i+s],a),h=t.unproject([r+o,i+s],a);return[Math.min(l[0],c[0],u[0],h[0]),Math.min(l[1],c[1],u[1],h[1]),Math.max(l[0],c[0],u[0],h[0]),Math.max(l[1],c[1],u[1],h[1])]}const r=Ne(t,e[0],n),i=Ne(t,e[1],n);return[Math.min(r[0],i[0]),Math.min(r[1],i[1]),Math.max(r[2],i[2]),Math.max(r[3],i[3])]}function De(t,e){return Math.pow(2,t)*Oe/e}function Fe(t,e,n){const r=De(n,Oe),i=t/r*360-180,o=Math.PI-2*Math.PI*e/r;return[i,180/Math.PI*Math.atan(.5*(Math.exp(o)-Math.exp(-o)))]}function je(t,e,n,r){const i=De(n,r);return[t/i*Oe,e/i*Oe]}function Ue(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Oe;if(t.isGeospatial){const[t,i]=Fe(e,n,r),[o,s]=Fe(e+1,n+1,r);return{west:t,north:i,east:o,south:s}}const[o,s]=je(e,n,r,i),[a,l]=je(e+1,n+1,r,i);return{left:o,top:s,right:a,bottom:l}}function ze(t,e,n,r,i){const o=function(t,e,n){let r;if(e&&2===e.length){const[n,i]=e,o=t.getBounds({z:n}),s=t.getBounds({z:i});r=[Math.min(o[0],s[0]),Math.min(o[1],s[1]),Math.max(o[2],s[2]),Math.max(o[3],s[3])]}else r=t.getBounds();return t.isGeospatial?[Math.max(r[0],n[0]),Math.max(r[1],n[1]),Math.min(r[2],n[2]),Math.min(r[3],n[3])]:[Math.max(Math.min(r[0],n[2]),n[0]),Math.max(Math.min(r[1],n[3]),n[1]),Math.min(Math.max(r[2],n[0]),n[2]),Math.min(Math.max(r[3],n[1]),n[3])]}(t,null,r),s=De(e,n),[a,l,c,u]=function(t,e,n){if(n){const r=Le(t,n).map((t=>t*e/Oe));return r}return t.map((t=>t*e/Oe))}(o,s,i),h=[];for(let f=Math.floor(a);f<c;f++)for(let t=Math.floor(l);t<u;t++)h.push({x:f,y:t,z:e});return h}function Ge(t){let{viewport:e,maxZoom:n,minZoom:r,zRange:i,extent:o,tileSize:s=Oe,modelMatrix:a,modelMatrixInverse:l,zoomOffset:c=0}=t,u=e.isGeospatial?Math.round(e.zoom+Math.log2(Oe/s))+c:Math.ceil(e.zoom)+c;if("number"===typeof r&&Number.isFinite(r)&&u<r){if(!o)return[];u=r}"number"===typeof n&&Number.isFinite(n)&&u>n&&(u=n);let h=o;return a&&l&&o&&!e.isGeospatial&&(h=Le(o,a)),e.isGeospatial?function(t,e,n,r){const i=t instanceof vt.A&&t.resolution?t.projectPosition:null,o=Object.values(t.getFrustumPlanes()).map((t=>{let{normal:e,distance:n}=t;return new te(e.clone().negate(),n)})),s=new ie(o),a=t.distanceScales.unitsPerMeter[2],l=n&&n[0]*a||0,c=n&&n[1]*a||0,u=t instanceof bt.A&&t.pitch<=60?e:0;if(r){const[t,e,n,i]=r,o=(0,D.Gw)([t,i]),s=(0,D.Gw)([n,e]);r=[o[0],Ee-o[1],s[0],Ee-s[1]]}const h=new Te(0,0,0),f={viewport:t,project:i,cullingVolume:s,elevationBounds:[l,c],minZ:u,maxZ:e,bounds:r,offset:0};if(h.update(f),t instanceof bt.A&&t.subViewports&&t.subViewports.length>1){for(f.offset=-1;h.update(f)&&!(--f.offset<-Se););for(f.offset=1;h.update(f)&&!(++f.offset>Se););}return h.getSelected()}(e,u,i,o):ze(e,u,s,h||Ie,l)}function Ve(t,e){if(t===e)return!0;if(Array.isArray(t)){const n=t.length;if(!e||e.length!==n)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}return!1}const He=2,We="never",qe="no-overlap",Xe="best-available",Ye={[Xe]:function(t){for(const e of t)e.state=0;for(const e of t)e.isSelected&&!Je(e)&&Ze(e);for(const e of t)e.isVisible=Boolean(e.state&He)},[qe]:function(t){for(const n of t)n.state=0;for(const n of t)n.isSelected&&Je(n);const e=Array.from(t).sort(((t,e)=>t.zoom-e.zoom));for(const n of e)if(n.isVisible=Boolean(n.state&He),n.children&&(n.isVisible||1&n.state))for(const t of n.children)t.state=1;else n.isSelected&&Ze(n)},[We]:()=>{}},Qe={extent:null,tileSize:512,maxZoom:null,minZoom:null,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:"best-available",zRange:null,maxRequests:6,zoomOffset:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{}};class Ke{constructor(t){(0,r.A)(this,"opts",void 0),(0,r.A)(this,"_requestScheduler",void 0),(0,r.A)(this,"_cache",void 0),(0,r.A)(this,"_dirty",void 0),(0,r.A)(this,"_tiles",void 0),(0,r.A)(this,"_cacheByteSize",void 0),(0,r.A)(this,"_viewport",void 0),(0,r.A)(this,"_zRange",void 0),(0,r.A)(this,"_selectedTiles",void 0),(0,r.A)(this,"_frameNumber",void 0),(0,r.A)(this,"_modelMatrix",void 0),(0,r.A)(this,"_modelMatrixInverse",void 0),(0,r.A)(this,"_maxZoom",void 0),(0,r.A)(this,"_minZoom",void 0),(0,r.A)(this,"onTileLoad",void 0),(0,r.A)(this,"_getCullBounds",function(t){let e,n={};return r=>{for(const i in r)if(!Ve(r[i],n[i])){e=t(r),n=r;break}return e}}(Be)),this.opts={...Qe,...t},this.onTileLoad=t=>{var e,n;null===(e=(n=this.opts).onTileLoad)||void 0===e||e.call(n,t),this.opts.maxCacheByteSize&&(this._cacheByteSize+=t.byteLength,this._resizeCache())},this._requestScheduler=new At({maxRequests:t.maxRequests,throttleRequests:Boolean(t.maxRequests&&t.maxRequests>0)}),this._cache=new Map,this._tiles=[],this._dirty=!1,this._cacheByteSize=0,this._viewport=null,this._zRange=null,this._selectedTiles=null,this._frameNumber=0,this._modelMatrix=new gt.A,this._modelMatrixInverse=new gt.A,this.setOptions(t)}get tiles(){return this._tiles}get selectedTiles(){return this._selectedTiles}get isLoaded(){return null!==this._selectedTiles&&this._selectedTiles.every((t=>t.isLoaded))}get needsReload(){return null!==this._selectedTiles&&this._selectedTiles.some((t=>t.needsReload))}setOptions(t){Object.assign(this.opts,t),Number.isFinite(t.maxZoom)&&(this._maxZoom=Math.floor(t.maxZoom)),Number.isFinite(t.minZoom)&&(this._minZoom=Math.ceil(t.minZoom))}finalize(){for(const t of this._cache.values())t.isLoading&&t.abort();this._cache.clear(),this._tiles=[],this._selectedTiles=null}reloadAll(){for(const t of this._cache.keys()){const e=this._cache.get(t);this._selectedTiles&&this._selectedTiles.includes(e)?e.setNeedsReload():this._cache.delete(t)}}update(t){let{zRange:e,modelMatrix:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{zRange:null,modelMatrix:null};const r=n?new gt.A(n):new gt.A,i=!r.equals(this._modelMatrix);if(this._viewport&&t.equals(this._viewport)&&(0,yt.aI)(this._zRange,e)&&!i)this.needsReload&&(this._selectedTiles=this._selectedTiles.map((t=>this._getTile(t.index,!0))));else{i&&(this._modelMatrixInverse=r.clone().invert(),this._modelMatrix=r),this._viewport=t,this._zRange=e;const n=this.getTileIndices({viewport:t,maxZoom:this._maxZoom,minZoom:this._minZoom,zRange:e,modelMatrix:this._modelMatrix,modelMatrixInverse:this._modelMatrixInverse});this._selectedTiles=n.map((t=>this._getTile(t,!0))),this._dirty&&this._rebuildTree()}const o=this.updateTileStates();return this._pruneRequests(),this._dirty&&this._resizeCache(),o&&this._frameNumber++,this._frameNumber}isTileVisible(t,e){if(!t.isVisible)return!1;if(e&&this._viewport){const n=this._getCullBounds({viewport:this._viewport,z:this._zRange,cullRect:e}),{bbox:r}=t;for(const[t,e,i,o]of n){let n;if("west"in r)n=r.west<i&&r.east>t&&r.south<o&&r.north>e;else{const s=Math.min(r.top,r.bottom),a=Math.max(r.top,r.bottom);n=r.left<i&&r.right>t&&s<o&&a>e}if(n)return!0}return!1}return!0}getTileIndices(t){let{viewport:e,maxZoom:n,minZoom:r,zRange:i,modelMatrix:o,modelMatrixInverse:s}=t;const{tileSize:a,extent:l,zoomOffset:c}=this.opts;return Ge({viewport:e,maxZoom:n,minZoom:r,zRange:i,tileSize:a,extent:l,modelMatrix:o,modelMatrixInverse:s,zoomOffset:c})}getTileId(t){return"".concat(t.x,"-").concat(t.y,"-").concat(t.z)}getTileZoom(t){return t.z}getTileMetadata(t){const{tileSize:e}=this.opts;return{bbox:Ue(this._viewport,t.x,t.y,t.z,e)}}getParentIndex(t){return{x:Math.floor(t.x/2),y:Math.floor(t.y/2),z:t.z-1}}updateTileStates(){const t=this.opts.refinementStrategy||Xe,e=new Array(this._cache.size);let n=0;for(const r of this._cache.values())e[n++]=r.isVisible,r.isSelected=!1,r.isVisible=!1;for(const r of this._selectedTiles)r.isSelected=!0,r.isVisible=!0;("function"===typeof t?t:Ye[t])(Array.from(this._cache.values())),n=0;for(const r of this._cache.values())if(e[n++]!==r.isVisible)return!0;return!1}_pruneRequests(){const{maxRequests:t=0}=this.opts,e=[];let n=0;for(const r of this._cache.values())r.isLoading&&(n++,r.isSelected||r.isVisible||e.push(r));for(;t>0&&n>t&&e.length>0;){e.shift().abort(),n--}}_rebuildTree(){const{_cache:t}=this;for(const e of t.values())e.parent=null,e.children&&(e.children.length=0);for(const e of t.values()){const t=this._getNearestAncestor(e);e.parent=t,null!==t&&void 0!==t&&t.children&&t.children.push(e)}}_resizeCache(){const{_cache:t,opts:e}=this,n=e.maxCacheSize||(e.maxCacheByteSize?1/0:5*this.selectedTiles.length),r=e.maxCacheByteSize||1/0;if(t.size>n||this._cacheByteSize>r){for(const[s,a]of t){var i,o;if(!a.isVisible&&!a.isSelected)this._cacheByteSize-=e.maxCacheByteSize?a.byteLength:0,t.delete(s),null===(i=(o=this.opts).onTileUnload)||void 0===i||i.call(o,a);if(t.size<=n&&this._cacheByteSize<=r)break}this._rebuildTree(),this._dirty=!0}this._dirty&&(this._tiles=Array.from(this._cache.values()).sort(((t,e)=>t.zoom-e.zoom)),this._dirty=!1)}_getTile(t,e){const n=this.getTileId(t);let r=this._cache.get(n),i=!1;return!r&&e?(r=new mt(t),Object.assign(r,this.getTileMetadata(r.index)),Object.assign(r,{id:n,zoom:this.getTileZoom(r.index)}),i=!0,this._cache.set(n,r),this._dirty=!0):r&&r.needsReload&&(i=!0),r&&i&&r.loadData({getData:this.opts.getTileData,requestScheduler:this._requestScheduler,onLoad:this.onTileLoad,onError:this.opts.onTileError}),r}_getNearestAncestor(t){const{_minZoom:e=0}=this;let n=t.index;for(;this.getTileZoom(n)>e;){n=this.getParentIndex(n);const t=this._getTile(n);if(t)return t}return null}}function Je(t){let e=t;for(;e;){if(e.isLoaded||e.content)return e.state|=He,!0;e=e.parent}return!1}function Ze(t){for(const e of t.children)e.isLoaded||e.content?e.state|=He:Ze(e)}const $e={TilesetClass:Ke,data:{type:"data",value:[]},dataComparator:Re.equal,renderSubLayers:{type:"function",value:t=>new ft.A(t)},getTileData:{type:"function",optional:!0,value:null},onViewportLoad:{type:"function",optional:!0,value:null},onTileLoad:{type:"function",value:t=>{}},onTileUnload:{type:"function",value:t=>{}},onTileError:{type:"function",value:t=>console.error(t)},extent:{type:"array",optional:!0,value:null,compare:!0},tileSize:512,maxZoom:null,minZoom:0,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:Xe,zRange:null,maxRequests:6,zoomOffset:0};class tn extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}initializeState(){this.state={tileset:null,isLoaded:!1}}finalizeState(){var t,e;null===(t=this.state)||void 0===t||null===(e=t.tileset)||void 0===e||e.finalize()}get isLoaded(){var t,e,n;return Boolean(null===(t=this.state)||void 0===t||null===(e=t.tileset)||void 0===e||null===(n=e.selectedTiles)||void 0===n?void 0:n.every((t=>t.isLoaded&&t.layers&&t.layers.every((t=>t.isLoaded)))))}shouldUpdateState(t){let{changeFlags:e}=t;return e.somethingChanged}updateState(t){let{changeFlags:e}=t,{tileset:n}=this.state;const r=e.propsOrDataChanged||e.updateTriggersChanged,i=e.dataChanged||e.updateTriggersChanged&&(e.updateTriggersChanged.all||e.updateTriggersChanged.getTileData);n?r&&(n.setOptions(this._getTilesetOptions()),i?n.reloadAll():n.tiles.forEach((t=>{t.layers=null}))):(n=new this.props.TilesetClass(this._getTilesetOptions()),this.setState({tileset:n})),this._updateTileset()}_getTilesetOptions(){const{tileSize:t,maxCacheSize:e,maxCacheByteSize:n,refinementStrategy:r,extent:i,maxZoom:o,minZoom:s,maxRequests:a,zoomOffset:l}=this.props;return{maxCacheSize:e,maxCacheByteSize:n,maxZoom:o,minZoom:s,tileSize:t,refinementStrategy:r,extent:i,maxRequests:a,zoomOffset:l,getTileData:this.getTileData.bind(this),onTileLoad:this._onTileLoad.bind(this),onTileError:this._onTileError.bind(this),onTileUnload:this._onTileUnload.bind(this)}}_updateTileset(){const t=this.state.tileset,{zRange:e,modelMatrix:n}=this.props,r=t.update(this.context.viewport,{zRange:e,modelMatrix:n}),{isLoaded:i}=t,o=this.state.isLoaded!==i,s=this.state.frameNumber!==r;i&&(o||s)&&this._onViewportLoad(),s&&this.setState({frameNumber:r}),this.state.isLoaded=i}_onViewportLoad(){const{tileset:t}=this.state,{onViewportLoad:e}=this.props;e&&e(t.selectedTiles)}_onTileLoad(t){this.props.onTileLoad(t),t.layers=null,this.setNeedsUpdate()}_onTileError(t,e){this.props.onTileError(t),e.layers=null,this.setNeedsUpdate()}_onTileUnload(t){this.props.onTileUnload(t)}getTileData(t){const{data:e,getTileData:n,fetch:r}=this.props,{signal:i}=t;return t.url="string"===typeof e||Array.isArray(e)?ke(e,t):null,n?n(t):r&&t.url?r(t.url,{propName:"data",layer:this,signal:i}):null}renderSubLayers(t){return this.props.renderSubLayers(t)}getSubLayerPropsByTile(t){return null}getPickingInfo(t){let{info:e,sourceLayer:n}=t;const r=n.props.tile;return e.picked&&(e.tile=r),e.sourceTile=r,e}_updateAutoHighlight(t){const e=t.sourceTile;if(e&&e.layers)for(const n of e.layers)n.updateAutoHighlight(t)}renderLayers(){return this.state.tileset.tiles.map((t=>{const e=this.getSubLayerPropsByTile(t);if(t.isLoaded||t.content)if(t.layers)e&&t.layers[0]&&Object.keys(e).some((n=>t.layers[0].props[n]!==e[n]))&&(t.layers=t.layers.map((t=>t.clone(e))));else{const n=this.renderSubLayers({...this.props,...this.getSubLayerProps({id:t.id,updateTriggers:this.props.updateTriggers}),data:t.content,_offset:0,tile:t});t.layers=(0,ht.B)(n,Boolean).map((n=>n.clone({tile:t,...e})))}else;return t.layers}))}filterSubLayer(t){let{layer:e,cullRect:n}=t;const{tile:r}=e.props;return this.state.tileset.isTileVisible(r,n)}}(0,r.A)(tn,"defaultProps",$e),(0,r.A)(tn,"layerName","TileLayer");var en=n(26212);class nn extends en.A{getShaders(){const t=super.getShaders();return t.inject={"vs:#decl":"uniform float trailLength;\nattribute float instanceTimestamps;\nattribute float instanceNextTimestamps;\nvarying float vTime;\n","vs:#main-end":"vTime = instanceTimestamps + (instanceNextTimestamps - instanceTimestamps) * vPathPosition.y / vPathLength;\n","fs:#decl":"uniform bool fadeTrail;\nuniform float trailLength;\nuniform float currentTime;\nvarying float vTime;\n","fs:#main-start":"if(vTime > currentTime || (fadeTrail && (vTime < currentTime - trailLength))) {\n  discard;\n}\n","fs:DECKGL_FILTER_COLOR":"if(fadeTrail) {\n  color.a *= 1.0 - (currentTime - vTime) / trailLength;\n}\n"},t}initializeState(){super.initializeState();this.getAttributeManager().addInstanced({timestamps:{size:1,accessor:"getTimestamps",shaderAttributes:{instanceTimestamps:{vertexOffset:0},instanceNextTimestamps:{vertexOffset:1}}}})}draw(t){const{fadeTrail:e,trailLength:n,currentTime:r}=this.props;t.uniforms={...t.uniforms,fadeTrail:e,trailLength:n,currentTime:r},super.draw(t)}}(0,r.A)(nn,"layerName","TripsLayer"),(0,r.A)(nn,"defaultProps",{fadeTrail:!0,trailLength:{type:"number",value:120,min:0},currentTime:{type:"number",value:0,min:0},getTimestamps:{type:"accessor",value:t=>t.timestamps}});var rn=n(52424),on=n(82133),sn=n(88908);function an(t,e){e=void 0===e?t[0][0]:e;for(const n of t){const t=n[0]-e;t>180?n[0]-=360:t<-180&&(n[0]+=360)}}function ln(t,e,n){const r=t(e,n),[i,o]=(0,rn.h3ToGeo)(r);return[o,i]}function cn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=(0,rn.h3ToGeoBoundary)(t,!0);return 1!==e?function(t,e,n){const[r,i]=(0,rn.h3ToGeo)(t),o=e.length;an(e,i);const s=e[0]===e[o-1]?o-1:o;for(let a=0;a<s;a++)e[a][0]=(0,yt.Cc)(i,e[a][0],n),e[a][1]=(0,yt.Cc)(r,e[a][1],n)}(t,n,e):an(n),n}const un={...H.A.defaultProps,highPrecision:"auto",coverage:{type:"number",min:0,max:1,value:1},centerHexagon:null,getHexagon:{type:"accessor",value:t=>t.hexagon},extruded:!0};class hn extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}initializeState(){hn._checkH3Lib(),this.state={edgeLengthKM:0,resolution:-1}}shouldUpdateState(t){let{changeFlags:e}=t;return this._shouldUseHighPrecision()?e.propsOrDataChanged:e.somethingChanged}updateState(t){let{props:e,changeFlags:n}=t;if(!0!==e.highPrecision&&(n.dataChanged||n.updateTriggersChanged&&n.updateTriggersChanged.getHexagon)){const t=this._calculateH3DataProps();this.setState(t)}this._updateVertices(this.context.viewport)}_calculateH3DataProps(){let t=-1,e=!1,n=!1;const{iterable:r,objectInfo:i}=(0,on.X)(this.props.data);for(const o of r){i.index++;const r=this.props.getHexagon(o,i),s=(0,rn.h3GetResolution)(r);if(t<0){if(t=s,!this.props.highPrecision)break}else if(t!==s){n=!0;break}if((0,rn.h3IsPentagon)(r)){e=!0;break}}return{resolution:t,edgeLengthKM:t>=0?(0,rn.edgeLength)(t,"km"):0,hasMultipleRes:n,hasPentagon:e}}_shouldUseHighPrecision(){if("auto"===this.props.highPrecision){const{resolution:t,hasPentagon:e,hasMultipleRes:n}=this.state,{viewport:r}=this.context;return Boolean(null===r||void 0===r?void 0:r.resolution)||n||e||t>=0&&t<=5}return this.props.highPrecision}_updateVertices(t){if(this._shouldUseHighPrecision())return;const{resolution:e,edgeLengthKM:n,centerHex:r}=this.state;if(e<0)return;const i=this.props.centerHexagon||(0,rn.geoToH3)(t.latitude,t.longitude,e);if(r===i)return;if(r){const t=(0,rn.h3Distance)(r,i);if(t>=0&&t*n<10)return}const{unitsPerMeter:o}=t.distanceScales;let s=cn(i);const[a,l]=(0,rn.h3ToGeo)(i),[c,u]=t.projectFlat([l,a]);s=s.map((e=>{const n=t.projectFlat(e);return[(n[0]-c)/o[0],(n[1]-u)/o[1]]})),this.setState({centerHex:i,vertices:s})}renderLayers(){return this._shouldUseHighPrecision()?this._renderPolygonLayer():this._renderColumnLayer()}_getForwardProps(){const{elevationScale:t,material:e,coverage:n,extruded:r,wireframe:i,stroked:o,filled:s,lineWidthUnits:a,lineWidthScale:l,lineWidthMinPixels:c,lineWidthMaxPixels:u,getFillColor:h,getElevation:f,getLineColor:d,getLineWidth:p,transitions:A,updateTriggers:g}=this.props;return{elevationScale:t,extruded:r,coverage:n,wireframe:i,stroked:o,filled:s,lineWidthUnits:a,lineWidthScale:l,lineWidthMinPixels:c,lineWidthMaxPixels:u,material:e,getElevation:f,getFillColor:h,getLineColor:d,getLineWidth:p,transitions:A,updateTriggers:{getFillColor:g.getFillColor,getElevation:g.getElevation,getLineColor:g.getLineColor,getLineWidth:g.getLineWidth}}}_renderPolygonLayer(){const{data:t,getHexagon:e,updateTriggers:n,coverage:r}=this.props,i=this.getSubLayerClass("hexagon-cell-hifi",H.A),o=this._getForwardProps();return o.updateTriggers.getPolygon=function(t,e){let n;return n=void 0===t||null===t?e:"object"===typeof t?{...t,coverage:e}:{getHexagon:t,coverage:e},n}(n.getHexagon,r),new i(o,this.getSubLayerProps({id:"hexagon-cell-hifi",updateTriggers:o.updateTriggers}),{data:t,_normalize:!1,_windingOrder:"CCW",positionFormat:"XY",getPolygon:(t,n)=>function(t){const e=new Float64Array(2*t.length);let n=0;for(const r of t)e[n++]=r[0],e[n++]=r[1];return e}(cn(e(t,n),r))})}_renderColumnLayer(){const{data:t,getHexagon:e,updateTriggers:n}=this.props,r=this.getSubLayerClass("hexagon-cell",sn.A),i=this._getForwardProps();return i.updateTriggers.getPosition=n.getHexagon,new r(i,this.getSubLayerProps({id:"hexagon-cell",flatShading:!0,updateTriggers:i.updateTriggers}),{data:t,diskResolution:6,radius:1,vertices:this.state.vertices,getPosition:ln.bind(null,e)})}}(0,r.A)(hn,"defaultProps",un),(0,r.A)(hn,"layerName","H3HexagonLayer"),(0,r.A)(hn,"_checkH3Lib",(()=>{}));class fn extends q{initializeState(){hn._checkH3Lib()}updateState(t){let{props:e,changeFlags:n}=t;if(n.dataChanged||n.updateTriggersChanged&&n.updateTriggersChanged.getHexagons){const{data:t,getHexagons:n}=e,r=[],{iterable:i,objectInfo:o}=(0,on.X)(t);for(const e of i){o.index++;const t=n(e,o),i=(0,rn.h3SetToMultiPolygon)(t,!0);for(const n of i)r.push(this.getSubLayerRow({polygon:n},e,o.index))}this.setState({polygons:r})}}indexToBounds(){const{getElevation:t,getFillColor:e,getLineColor:n,getLineWidth:r}=this.props;return{data:this.state.polygons,getPolygon:t=>t.polygon,getElevation:this.getSubLayerAccessor(t),getFillColor:this.getSubLayerAccessor(e),getLineColor:this.getSubLayerAccessor(n),getLineWidth:this.getSubLayerAccessor(r)}}}(0,r.A)(fn,"layerName","H3ClusterLayer"),(0,r.A)(fn,"defaultProps",{getHexagons:{type:"accessor",value:t=>t.hexagons}});var dn=n(84707),pn=n(96649),An=n(53631),gn=n(99443),yn=n(17475),mn=n(91052),vn=n(50953),bn=n(80453);class _n extends bn.A{getShaders(){const t=super.getShaders();return t.modules.push(mn.R),{...t,vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nuniform bool pickFeatureIds;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec4 uvRegions;\nin vec3 featureIdsPickingColors;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvec2 applyUVRegion(vec2 uv) {\n  #ifdef HAS_UV_REGIONS\n    return fract(uv) * (uvRegions.zw - uvRegions.xy) + uvRegions.xy;\n  #else\n    return uv;\n  #endif\n}\n\nvoid main(void) {\n  vec2 uv = applyUVRegion(texCoords);\n  geometry.uv = uv;\n\n  if (pickFeatureIds) {\n    geometry.pickingColor = featureIdsPickingColors;\n  } else {\n    geometry.pickingColor = instancePickingColors;\n  }\n\n  vTexCoord = uv;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale;\n  vec3 projectedPosition = project_position(positions);\n  position_commonspace = vec4(projectedPosition, 1.0);\n  gl_Position = project_common_position_to_clipspace(position_commonspace);\n\n  geometry.position = position_commonspace;\n  normals_commonspace = project_normal(instanceModelMatrix * normals);\n  geometry.normal = normals_commonspace;\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = uv;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  \n#ifdef MODULE_PBR\n\n  fragColor = vColor * pbr_filterColor(vec4(0));\n  geometry.uv = pbr_vUV;\n  fragColor.a *= opacity;\n\n#else\n\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n#endif\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n"}}initializeState(){const{featureIds:t}=this.props;super.initializeState();const e=this.getAttributeManager();t&&e.add({featureIdsPickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateFeatureIdsPickingColors}})}updateState(t){super.updateState(t);const{props:e,oldProps:n}=t;e.pbrMaterial!==n.pbrMaterial&&this.updatePbrMaterialUniforms(e.pbrMaterial)}draw(t){const{featureIds:e}=this.props;this.state.model&&(this.state.model.setUniforms({u_Camera:this.state.model.getUniforms().project_uCameraPosition,pickFeatureIds:Boolean(e)}),super.draw(t))}getModel(t){const{id:e,pbrMaterial:n}=this.props,r=this.parseMaterial(n,t);this.setState({materialParser:r});const i=this.getShaders();var o;(o=t.attributes).COLOR_0||o.colors||(o.colors={constant:!0,value:new Float32Array([1,1,1])});return new vn.A(this.context.gl,{...this.getShaders(),id:e,geometry:t,defines:{...i.defines,...null===r||void 0===r?void 0:r.defines,HAS_UV_REGIONS:t.attributes.uvRegions},parameters:null===r||void 0===r?void 0:r.parameters,isInstanced:!0})}updatePbrMaterialUniforms(t){const{model:e}=this.state;if(e){const{mesh:n}=this.props,r=this.parseMaterial(t,n);this.setState({materialParser:r}),e.setUniforms(r.uniforms)}}parseMaterial(t,e){var n;const r=Boolean(t.pbrMetallicRoughness&&t.pbrMetallicRoughness.baseColorTexture);return null===(n=this.state.materialParser)||void 0===n||n.delete(),new yn.A(this.context.gl,{attributes:{NORMAL:e.attributes.normals,TEXCOORD_0:e.attributes.texCoords},material:{unlit:r,...t},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1})}calculateFeatureIdsPickingColors(t){const e=this.props.featureIds,n=new Uint8ClampedArray(e.length*t.size),r=[];for(let i=0;i<e.length;i++)this.encodePickingColor(e[i],r),n[3*i]=r[0],n[3*i+1]=r[1],n[3*i+2]=r[2];t.value=n}finalizeState(t){var e;super.finalizeState(t),null===(e=this.state.materialParser)||void 0===e||e.delete(),this.setState({materialParser:null})}}(0,r.A)(_n,"layerName","MeshLayer"),(0,r.A)(_n,"defaultProps",{pbrMaterial:{type:"object",value:null},featureIds:{type:"array",value:null,optional:!0}});var wn=n(56704),xn=n(10092);const En=6378137,Sn=6378137,Cn=6356752.314245179;Math.max(En,Sn,Cn);function Pn(t){return t}new Et.A;function Mn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pn;return"longitude"in t?(e[0]=n(t.longitude),e[1]=n(t.latitude),e[2]=t.height):"x"in t?(e[0]=n(t.x),e[1]=n(t.y),e[2]=t.z):(e[0]=n(t[0]),e[1]=n(t[1]),e[2]=t[2]),e}function Tn(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pn;return"longitude"in e?(e.longitude=n(t[0]),e.latitude=n(t[1]),e.height=t[2]):"x"in e?(e.x=n(t[0]),e.y=n(t[1]),e.z=t[2]):(e[0]=n(t[0]),e[1]=n(t[1]),e[2]=t[2]),e}const On=new Et.A,In=new Et.A,Rn=new Et.A;const Ln=new Et.A,kn={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},Bn={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},Nn={east:new Et.A,north:new Et.A,up:new Et.A,west:new Et.A,south:new Et.A,down:new Et.A},Dn=new Et.A,Fn=new Et.A,jn=new Et.A;function Un(t,e,n,r,i,o){const s=kn[e]&&kn[e][n];let a,l,c;(0,Jt.A)(s&&(!r||r===s));const u=Ln.copy(i);if((0,yt.aI)(u.x,0,1e-14)&&(0,yt.aI)(u.y,0,1e-14)){const t=Math.sign(u.z);a=Dn.fromArray(Bn[e]),"east"!==e&&"west"!==e&&a.scale(t),l=Fn.fromArray(Bn[n]),"east"!==n&&"west"!==n&&l.scale(t),c=jn.fromArray(Bn[r]),"east"!==r&&"west"!==r&&c.scale(t)}else{const{up:i,east:o,north:s}=Nn;o.set(-u.y,u.x,0).normalize(),t.geodeticSurfaceNormal(u,i),s.copy(i).cross(o);const{down:h,west:f,south:d}=Nn;h.copy(i).scale(-1),f.copy(o).scale(-1),d.copy(s).scale(-1),a=Nn[e],l=Nn[n],c=Nn[r]}return o[0]=a.x,o[1]=a.y,o[2]=a.z,o[3]=0,o[4]=l.x,o[5]=l.y,o[6]=l.z,o[7]=0,o[8]=c.x,o[9]=c.y,o[10]=c.z,o[11]=0,o[12]=u.x,o[13]=u.y,o[14]=u.z,o[15]=1,o}const zn=new Et.A,Gn=new Et.A,Vn=new Et.A,Hn=new Et.A,Wn=new Et.A,qn=new Et.A;class Xn{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,r.A)(this,"radii",void 0),(0,r.A)(this,"radiiSquared",void 0),(0,r.A)(this,"radiiToTheFourth",void 0),(0,r.A)(this,"oneOverRadii",void 0),(0,r.A)(this,"oneOverRadiiSquared",void 0),(0,r.A)(this,"minimumRadius",void 0),(0,r.A)(this,"maximumRadius",void 0),(0,r.A)(this,"centerToleranceSquared",oe.A.EPSILON1),(0,r.A)(this,"squaredXOverSquaredZ",void 0),(0,Jt.A)(t>=0),(0,Jt.A)(e>=0),(0,Jt.A)(n>=0),this.radii=new Et.A(t,e,n),this.radiiSquared=new Et.A(t*t,e*e,n*n),this.radiiToTheFourth=new Et.A(t*t*t*t,e*e*e*e,n*n*n*n),this.oneOverRadii=new Et.A(0===t?0:1/t,0===e?0:1/e,0===n?0:1/n),this.oneOverRadiiSquared=new Et.A(0===t?0:1/(t*t),0===e?0:1/(e*e),0===n?0:1/(n*n)),this.minimumRadius=Math.min(t,e,n),this.maximumRadius=Math.max(t,e,n),0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(t){return this===t||Boolean(t&&this.radii.equals(t.radii))}toString(){return this.radii.toString()}cartographicToCartesian(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];const n=Gn,r=Vn,[,,i]=t;this.geodeticSurfaceNormalCartographic(t,n),r.copy(this.radiiSquared).scale(n);const o=Math.sqrt(n.dot(r));return r.scale(1/o),n.scale(i),r.add(n),r.to(e)}cartesianToCartographic(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];qn.from(t);const n=this.scaleToGeodeticSurface(qn,Hn);if(!n)return;const r=this.geodeticSurfaceNormal(n,Gn),i=Wn;i.copy(qn).subtract(n);const o=Math.atan2(r.y,r.x),s=Math.asin(r.z),a=Math.sign(xn.Om(i,qn))*xn.Bw(i);return Tn([o,s,a],e,yt.$W._cartographicRadians?Pn:yt.xW)}eastNorthUpToFixedFrame(t){return Un(this,"east","north","up",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new gt.A)}localFrameToFixedFrame(t,e,n,r){return Un(this,t,e,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:new gt.A)}geocentricSurfaceNormal(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return zn.from(t).normalize().to(e)}geodeticSurfaceNormalCartographic(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];const n=function(t){return Mn(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],yt.$W._cartographicRadians?Pn:yt.eh)}(t),r=n[0],i=n[1],o=Math.cos(i);return zn.set(o*Math.cos(r),o*Math.sin(r),Math.sin(i)).normalize(),zn.to(e)}geodeticSurfaceNormal(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return zn.from(t).scale(this.oneOverRadiiSquared).normalize().to(e)}scaleToGeodeticSurface(t,e){return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{oneOverRadii:r,oneOverRadiiSquared:i,centerToleranceSquared:o}=e;On.from(t);const s=On.x,a=On.y,l=On.z,c=r.x,u=r.y,h=r.z,f=s*s*c*c,d=a*a*u*u,p=l*l*h*h,A=f+d+p,g=Math.sqrt(1/A);if(!Number.isFinite(g))return;const y=In;if(y.copy(t).scale(g),A<o)return y.to(n);const m=i.x,v=i.y,b=i.z,_=Rn;_.set(y.x*m*2,y.y*v*2,y.z*b*2);let w,x,E,S,C=(1-g)*On.len()/(.5*_.len()),P=0;do{C-=P,w=1/(1+C*m),x=1/(1+C*v),E=1/(1+C*b);const t=w*w,e=x*x,n=E*E;S=f*t+d*e+p*n-1,P=S/(-2*(f*(t*w)*m+d*(e*x)*v+p*(n*E)*b))}while(Math.abs(S)>oe.A.EPSILON12);return On.scale([w,x,E]).to(n)}(t,this,e)}scaleToGeocentricSurface(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];Hn.from(t);const n=Hn.x,r=Hn.y,i=Hn.z,o=this.oneOverRadiiSquared,s=1/Math.sqrt(n*n*o.x+r*r*o.y+i*i*o.z);return Hn.multiplyScalar(s).to(e)}transformPositionToScaledSpace(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return Hn.from(t).scale(this.oneOverRadii).to(e)}transformPositionFromScaledSpace(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return Hn.from(t).scale(this.radii).to(e)}getSurfaceNormalIntersectionWithZAxis(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0];(0,Jt.A)((0,yt.aI)(this.radii.x,this.radii.y,oe.A.EPSILON15)),(0,Jt.A)(this.radii.z>0),Hn.from(t);const r=Hn.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(r)>=this.radii.z-e))return Hn.set(0,0,r).to(n)}}function Yn(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}(0,r.A)(Xn,"WGS84",new Xn(En,Sn,Cn));class Qn{constructor(t,e,n){(0,r.A)(this,"item",void 0),(0,r.A)(this,"previous",void 0),(0,r.A)(this,"next",void 0),this.item=t,this.previous=e,this.next=n}}class Kn{constructor(){(0,r.A)(this,"head",null),(0,r.A)(this,"tail",null),(0,r.A)(this,"_length",0)}get length(){return this._length}add(t){const e=new Qn(t,this.tail,null);return this.tail?(this.tail.next=e,this.tail=e):(this.head=e,this.tail=e),++this._length,e}remove(t){t&&(t.previous&&t.next?(t.previous.next=t.next,t.next.previous=t.previous):t.previous?(t.previous.next=null,this.tail=t.previous):t.next?(t.next.previous=null,this.head=t.next):(this.head=null,this.tail=null),t.next=null,t.previous=null,--this._length)}splice(t,e){t!==e&&(this.remove(e),this._insert(t,e))}_insert(t,e){const n=t.next;t.next=e,this.tail===t?this.tail=e:n.previous=e,e.next=n,e.previous=t,++this._length}}class Jn{constructor(){(0,r.A)(this,"_list",void 0),(0,r.A)(this,"_sentinel",void 0),(0,r.A)(this,"_trimTiles",void 0),this._list=new Kn,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}reset(){this._list.splice(this._list.tail,this._sentinel)}touch(t){const e=t._cacheNode;e&&this._list.splice(this._sentinel,e)}add(t,e,n){e._cacheNode||(e._cacheNode=this._list.add(e),n&&n(t,e))}unloadTile(t,e,n){const r=e._cacheNode;r&&(this._list.remove(r),e._cacheNode=null,n&&n(t,e))}unloadTiles(t,e){const n=this._trimTiles;this._trimTiles=!1;const r=this._list,i=1024*t.maximumMemoryUsage*1024,o=this._sentinel;let s=r.head;for(;s!==o&&(t.gpuMemoryUsageInBytes>i||n);){const n=s.item;s=s.next,this.unloadTile(t,n,e)}}trim(){this._trimTiles=!0}}var Zn=n(63358);const $n=new Et.A,tr=new Et.A,er=new ie([new te,new te,new te,new te,new te,new te]);function nr(t,e){const{cameraDirection:n,cameraUp:r,height:i}=t,{metersPerUnit:o}=t.distanceScales,s=ir(t,t.center),a=Xn.WGS84.eastNorthUpToFixedFrame(s),l=t.unprojectPosition(t.cameraPosition),c=Xn.WGS84.cartographicToCartesian(l,new Et.A),u=new Et.A(a.transformAsVector(new Et.A(n).scale(o))).normalize(),h=new Et.A(a.transformAsVector(new Et.A(r).scale(o))).normalize();!function(t){const e=t.getFrustumPlanes(),n=rr(e.near,t.cameraPosition),r=ir(t,n),i=ir(t,t.cameraPosition,tr);let o=0;er.planes[o++].fromPointNormal(r,$n.copy(r).subtract(i));for(const s in e){if("near"===s)continue;const i=ir(t,rr(e[s],n,tr),tr);er.planes[o++].fromPointNormal(i,$n.copy(r).subtract(i))}}(t);const f=t.constructor,{longitude:d,latitude:p,width:A,bearing:g,zoom:y}=t;return{camera:{position:c,direction:u,up:h},viewport:t,topDownViewport:new f({longitude:d,latitude:p,height:i,width:A,bearing:g,zoom:y,pitch:0}),height:i,cullingVolume:er,frameNumber:e,sseDenominator:1.15}}function rr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Et.A;const r=t.normal.dot(e);return n.copy(t.normal).scale(t.distance-r).add(e),n}function ir(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Et.A;const r=t.unprojectPosition(e);return Xn.WGS84.cartographicToCartesian(r,n)}const or=6356752.314245179,sr=new Et.A;function ar(t,e){if(t instanceof Kt){const{halfAxes:n}=t,r=function(t){t.getColumn(0,sr);const e=t.getColumn(1),n=t.getColumn(2),r=sr.add(e).add(n);return r.len()}(n);return Math.log2(or/(r+e[2]))}if(t instanceof It){const{radius:n}=t;return Math.log2(or/(n+e[2]))}if(t.width&&t.height){const{width:e,height:n}=t;return(Math.log2(6378137/e)+Math.log2(6378137/n))/2}return 1}function lr(t,e,n){const r=Xn.WGS84.cartographicToCartesian([t.xmax,t.ymax,t.zmax],new Et.A),i=Math.sqrt(Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2)+Math.pow(r[2]-n[2],2));return Math.log2(or/(i+e[2]))}const cr=0,ur=1,hr=3,fr=4,dr=5,pr={ADD:1,REPLACE:2},Ar={EMPTY:"empty",SCENEGRAPH:"scenegraph",POINTCLOUD:"pointcloud",MESH:"mesh"},gr={I3S:"I3S",TILES3D:"TILES3D"},yr={GEOMETRIC_ERROR:"geometricError",MAX_SCREEN_THRESHOLD:"maxScreenThreshold"},mr=1;function vr(t){return void 0!==t&&null!==t}const br=new Et.A,_r=new Et.A,wr=new Et.A,xr=new Et.A;function Er(t,e,n){if((0,Zn.v)(t,"3D Tile: boundingVolume must be defined"),t.box)return function(t,e,n){const r=new Et.A(t[0],t[1],t[2]);e.transform(r,r);let i=[];if(10===t.length){const e=t.slice(3,6),n=new Lt.A;n.fromArray(t,6);const r=new Et.A([1,0,0]),o=new Et.A([0,1,0]),s=new Et.A([0,0,1]);r.transformByQuaternion(n),r.scale(e[0]),o.transformByQuaternion(n),o.scale(e[1]),s.transformByQuaternion(n),s.scale(e[2]),i=[...r.toArray(),...o.toArray(),...s.toArray()]}else i=[...t.slice(3,6),...t.slice(6,9),...t.slice(9,12)];const o=e.transformAsVector(i.slice(0,3)),s=e.transformAsVector(i.slice(3,6)),a=e.transformAsVector(i.slice(6,9)),l=new Rt.A([o[0],o[1],o[2],s[0],s[1],s[2],a[0],a[1],a[2]]);if(vr(n))return n.center=r,n.halfAxes=l,n;return new Kt(r,l)}(t.box,e,n);if(t.region){const[e,n,r,i,o,s]=t.region,a=Xn.WGS84.cartographicToCartesian([(0,yt.uj)(e),(0,yt.uj)(i),o],wr),l=Xn.WGS84.cartographicToCartesian([(0,yt.uj)(r),(0,yt.uj)(n),s],xr),c=(new Et.A).addVectors(a,l).multiplyScalar(.5),u=(new Et.A).subVectors(a,l).len()/2;return Cr([c[0],c[1],c[2],u],new gt.A)}if(t.sphere)return Cr(t.sphere,e,n);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")}function Sr(t,e){if(t.box)return function(t){const e=Pr(),{halfAxes:n}=t,r=new Et.A(n.getColumn(0)),i=new Et.A(n.getColumn(1)),o=new Et.A(n.getColumn(2));for(let s=0;s<2;s++){for(let n=0;n<2;n++){for(let n=0;n<2;n++)br.copy(t.center),br.add(r),br.add(i),br.add(o),Mr(e,br),o.negate();i.negate()}r.negate()}return e}(e);if(t.region){const[e,n,r,i,o,s]=t.region;return[[(0,yt.uj)(e),(0,yt.uj)(n),o],[(0,yt.uj)(r),(0,yt.uj)(i),s]]}if(t.sphere)return function(t){const e=Pr(),{center:n,radius:r}=t,i=Xn.WGS84.scaleToGeodeticSurface(n,br);let o;o=i?Xn.WGS84.geodeticSurfaceNormal(i):new Et.A(0,0,1);let s=new Et.A(o[2],-o[1],0);s.len()>0?s.normalize():s=new Et.A(0,1,0);const a=s.clone().cross(o);for(const l of[s,a,o]){_r.copy(l).scale(r);for(let t=0;t<2;t++)br.copy(n),br.add(_r),Mr(e,br),_r.negate()}return e}(e);throw new Error("Unkown boundingVolume type")}function Cr(t,e,n){const r=new Et.A(t[0],t[1],t[2]);e.transform(r,r);const i=e.getScale(_r),o=Math.max(Math.max(i[0],i[1]),i[2]),s=t[3]*o;return vr(n)?(n.center=r,n.radius=s,n):new It(r,s)}function Pr(){return[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]]}function Mr(t,e){Xn.WGS84.cartesianToCartographic(e,br),t[0][0]=Math.min(t[0][0],br[0]),t[0][1]=Math.min(t[0][1],br[1]),t[0][2]=Math.min(t[0][2],br[2]),t[1][0]=Math.max(t[1][0],br[0]),t[1][1]=Math.max(t[1][1],br[1]),t[1][2]=Math.max(t[1][2],br[2])}new Et.A,new Et.A,new gt.A,new Et.A,new Et.A,new Et.A;function Tr(t,e){if(t.dynamicScreenSpaceError&&t.dynamicScreenSpaceErrorComputedDensity){const n=t.dynamicScreenSpaceErrorComputedDensity,r=t.dynamicScreenSpaceErrorFactor,i=function(t,e){const n=t*e;return 1-Math.exp(-n*n)}(e,n)*r;return i}return 0}const Or=new Et.A,Ir=new Et.A,Rr=new Et.A,Lr=new Et.A,kr=new Et.A,Br=new gt.A,Nr=new gt.A;function Dr(t,e){const{topDownViewport:n}=e,r=t.header.mbs[1],i=t.header.mbs[0],o=t.header.mbs[2],s=t.header.mbs[3],a=[...t.boundingVolume.center],l=n.unprojectPosition(n.cameraPosition);Xn.WGS84.cartographicToCartesian(l,Or),Ir.copy(Or).subtract(a).normalize(),Xn.WGS84.eastNorthUpToFixedFrame(a,Br),Nr.copy(Br).invert(),Rr.copy(Or).transform(Nr);const c=Math.sqrt(Rr[0]*Rr[0]+Rr[1]*Rr[1]),u=c*c/Rr[2];Lr.copy([Rr[0],Rr[1],u]);const h=Lr.transform(Br).subtract(a).normalize(),f=Ir.cross(h).normalize().scale(s).add(a),d=Xn.WGS84.cartesianToCartographic(f),p=n.project([i,r,o]),A=n.project(d);return kr.copy(p).subtract(A).magnitude()}class Fr{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,r.A)(this,"_map",new Map),(0,r.A)(this,"_array",void 0),(0,r.A)(this,"_length",void 0),this._array=new Array(t),this._length=t}get length(){return this._length}set length(t){this._length=t,t>this._array.length&&(this._array.length=t)}get values(){return this._array}get(t){return(0,Zn.v)(t<this._array.length),this._array[t]}set(t,e){(0,Zn.v)(t>=0),t>=this.length&&(this.length=t+1),this._map.has(this._array[t])&&this._map.delete(this._array[t]),this._array[t]=e,this._map.set(e,t)}delete(t){const e=this._map.get(t);e>=0&&(this._array.splice(e,1),this._map.delete(t),this.length--)}peek(){return this._array[this._length-1]}push(t){if(!this._map.has(t)){const e=this.length++;this._array[e]=t,this._map.set(t,e)}}pop(){const t=this._array[--this.length];return this._map.delete(t),t}reserve(t){(0,Zn.v)(t>=0),t>this._array.length&&(this._array.length=t)}resize(t){(0,Zn.v)(t>=0),this.length=t}trim(t){null!==t&&void 0!==t||(t=this.length),this._array.length=t}reset(){this._array=[],this._map=new Map,this._length=0}find(t){return this._map.has(t)}}const jr={loadSiblings:!1,skipLevelOfDetail:!1,maximumScreenSpaceError:2,updateTransforms:!0,onTraversalEnd:()=>{},viewportTraversersMap:{},basePath:""};class Ur{traversalFinished(t){return!0}constructor(t){(0,r.A)(this,"options",void 0),(0,r.A)(this,"root",null),(0,r.A)(this,"selectedTiles",{}),(0,r.A)(this,"requestedTiles",{}),(0,r.A)(this,"emptyTiles",{}),(0,r.A)(this,"lastUpdate",(new Date).getTime()),(0,r.A)(this,"updateDebounceTime",1e3),(0,r.A)(this,"_traversalStack",new Fr),(0,r.A)(this,"_emptyTraversalStack",new Fr),(0,r.A)(this,"_frameNumber",null),this.options={...jr,...t}}traverse(t,e,n){this.root=t,this.options={...this.options,...n},this.reset(),this.updateTile(t,e),this._frameNumber=e.frameNumber,this.executeTraversal(t,e)}reset(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}executeTraversal(t,e){const n=this._traversalStack;for(t._selectionDepth=1,n.push(t);n.length>0;){const t=n.pop();let r=!1;this.canTraverse(t,e)&&(this.updateChildTiles(t,e),r=this.updateAndPushChildren(t,e,n,t.hasRenderContent?t._selectionDepth+1:t._selectionDepth));const i=t.parent,o=Boolean(!i||i._shouldRefine),s=!r;t.hasRenderContent?t.refine===pr.ADD?(this.loadTile(t,e),this.selectTile(t,e)):t.refine===pr.REPLACE&&(this.loadTile(t,e),s&&this.selectTile(t,e)):(this.emptyTiles[t.id]=t,this.loadTile(t,e),s&&this.selectTile(t,e)),this.touchTile(t,e),t._shouldRefine=r&&o}const r=(new Date).getTime();(this.traversalFinished(e)||r-this.lastUpdate>this.updateDebounceTime)&&(this.lastUpdate=r,this.options.onTraversalEnd(e))}updateChildTiles(t,e){const n=t.children;for(const r of n)this.updateTile(r,e)}updateAndPushChildren(t,e,n,r){const{loadSiblings:i,skipLevelOfDetail:o}=this.options,s=t.children;s.sort(this.compareDistanceToCamera.bind(this));const a=t.refine===pr.REPLACE&&t.hasRenderContent&&!o;let l=!1,c=!0;for(const u of s)if(u._selectionDepth=r,u.isVisibleAndInRequestVolume?(n.find(u)&&n.delete(u),n.push(u),l=!0):(a||i)&&(this.loadTile(u,e),this.touchTile(u,e)),a){let t;if(t=!!u._inRequestVolume&&(u.hasRenderContent?u.contentAvailable:this.executeEmptyTraversal(u,e)),c=c&&t,!c)return!1}return l||(c=!1),c}updateTile(t,e){this.updateTileVisibility(t,e)}selectTile(t,e){this.shouldSelectTile(t)&&(t._selectedFrame=e.frameNumber,this.selectedTiles[t.id]=t)}loadTile(t,e){this.shouldLoadTile(t)&&(t._requestedFrame=e.frameNumber,t._priority=t._getPriority(),this.requestedTiles[t.id]=t)}touchTile(t,e){t.tileset._cache.touch(t),t._touchedFrame=e.frameNumber}canTraverse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!t.hasChildren&&(t.hasTilesetContent?!t.contentExpired:!(!r&&!t.isVisibleAndInRequestVolume)&&this.shouldRefine(t,e,n))}shouldLoadTile(t){return t.hasUnloadedContent||t.contentExpired}shouldSelectTile(t){return t.contentAvailable&&!this.options.skipLevelOfDetail}shouldRefine(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t._screenSpaceError;return n&&(r=t.getScreenSpaceError(e,!0)),r>this.options.maximumScreenSpaceError}updateTileVisibility(t,e){const n=[];if(this.options.viewportTraversersMap)for(const r in this.options.viewportTraversersMap){this.options.viewportTraversersMap[r]===e.viewport.id&&n.push(r)}else n.push(e.viewport.id);t.updateVisibility(e,n)}compareDistanceToCamera(t,e){return t._distanceToCamera-e._distanceToCamera}anyChildrenVisible(t,e){let n=!1;for(const r of t.children)r.updateVisibility(e),n=n||r.isVisibleAndInRequestVolume;return n}executeEmptyTraversal(t,e){let n=!0;const r=this._emptyTraversalStack;for(r.push(t);r.length>0&&n;){const t=r.pop();this.updateTile(t,e),t.isVisibleAndInRequestVolume||this.loadTile(t,e),this.touchTile(t,e);if(!t.hasRenderContent&&this.canTraverse(t,e,!1,!0)){const e=t.children;for(const t of e)r.find(t)&&r.delete(t),r.push(t)}else t.contentAvailable||t.hasEmptyContent||(n=!1)}return n}}const zr=new Et.A;class Gr{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(0,r.A)(this,"tileset",void 0),(0,r.A)(this,"header",void 0),(0,r.A)(this,"id",void 0),(0,r.A)(this,"url",void 0),(0,r.A)(this,"parent",void 0),(0,r.A)(this,"refine",void 0),(0,r.A)(this,"type",void 0),(0,r.A)(this,"contentUrl",void 0),(0,r.A)(this,"lodMetricType","geometricError"),(0,r.A)(this,"lodMetricValue",0),(0,r.A)(this,"boundingVolume",null),(0,r.A)(this,"content",null),(0,r.A)(this,"contentState",cr),(0,r.A)(this,"gpuMemoryUsageInBytes",0),(0,r.A)(this,"children",[]),(0,r.A)(this,"depth",0),(0,r.A)(this,"viewportIds",[]),(0,r.A)(this,"transform",new gt.A),(0,r.A)(this,"extensions",null),(0,r.A)(this,"implicitTiling",null),(0,r.A)(this,"userData",{}),(0,r.A)(this,"computedTransform",void 0),(0,r.A)(this,"hasEmptyContent",!1),(0,r.A)(this,"hasTilesetContent",!1),(0,r.A)(this,"traverser",new Ur({})),(0,r.A)(this,"_cacheNode",null),(0,r.A)(this,"_frameNumber",null),(0,r.A)(this,"_expireDate",null),(0,r.A)(this,"_expiredContent",null),(0,r.A)(this,"_boundingBox",void 0),(0,r.A)(this,"_distanceToCamera",0),(0,r.A)(this,"_screenSpaceError",0),(0,r.A)(this,"_visibilityPlaneMask",void 0),(0,r.A)(this,"_visible",void 0),(0,r.A)(this,"_contentBoundingVolume",void 0),(0,r.A)(this,"_viewerRequestVolume",void 0),(0,r.A)(this,"_initialTransform",new gt.A),(0,r.A)(this,"_priority",0),(0,r.A)(this,"_selectedFrame",0),(0,r.A)(this,"_requestedFrame",0),(0,r.A)(this,"_selectionDepth",0),(0,r.A)(this,"_touchedFrame",0),(0,r.A)(this,"_centerZDepth",0),(0,r.A)(this,"_shouldRefine",!1),(0,r.A)(this,"_stackLength",0),(0,r.A)(this,"_visitedFrame",0),(0,r.A)(this,"_inRequestVolume",!1),(0,r.A)(this,"_lodJudge",null),this.header=e,this.tileset=t,this.id=i||e.id,this.url=e.url,this.parent=n,this.refine=this._getRefine(e.refine),this.type=e.type,this.contentUrl=e.contentUrl,this._initializeLodMetric(e),this._initializeTransforms(e),this._initializeBoundingVolumes(e),this._initializeContent(e),this._initializeRenderingState(e),Object.seal(this)}destroy(){this.header=null}isDestroyed(){return null===this.header}get selected(){return this._selectedFrame===this.tileset._frameNumber}get isVisible(){return this._visible}get isVisibleAndInRequestVolume(){return this._visible&&this._inRequestVolume}get hasRenderContent(){return!this.hasEmptyContent&&!this.hasTilesetContent}get hasChildren(){return this.children.length>0||this.header.children&&this.header.children.length>0}get contentReady(){return this.contentState===hr||this.hasEmptyContent}get contentAvailable(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}get hasUnloadedContent(){return this.hasRenderContent&&this.contentUnloaded}get contentUnloaded(){return this.contentState===cr}get contentExpired(){return this.contentState===fr}get contentFailed(){return this.contentState===dr}get distanceToCamera(){return this._distanceToCamera}get screenSpaceError(){return this._screenSpaceError}get boundingBox(){return this._boundingBox||(this._boundingBox=Sr(this.header.boundingVolume,this.boundingVolume)),this._boundingBox}getScreenSpaceError(t,e){switch(this.tileset.type){case gr.I3S:return Dr(this,t);case gr.TILES3D:return function(t,e,n){const r=t.tileset,i=t.parent&&t.parent.lodMetricValue||t.lodMetricValue,o=n?i:t.lodMetricValue;if(0===o)return 0;const s=Math.max(t._distanceToCamera,1e-7),{height:a,sseDenominator:l}=e,{viewDistanceScale:c}=r.options;let u=o*a*(c||1)/(s*l);return u-=Tr(r,s),u}(this,t,e);default:throw new Error("Unsupported tileset type")}}unselect(){this._selectedFrame=0}_getGpuMemoryUsageInBytes(){return this.content.gpuMemoryUsageInBytes||this.content.byteLength||0}_getPriority(){const t=this.tileset._traverser,{skipLevelOfDetail:e}=t.options,n=this.refine===pr.ADD||e;if(n&&!this.isVisible&&void 0!==this._visible)return-1;if(this.tileset._frameNumber-this._touchedFrame>=1)return-1;if(this.contentState===cr)return-1;const r=this.parent,i=r&&(!n||0===this._screenSpaceError||r.hasTilesetContent)?r._screenSpaceError:this._screenSpaceError,o=t.root?t.root._screenSpaceError:0;return Math.max(o-i,0)}async loadContent(){if(this.hasEmptyContent)return!1;if(this.content)return!0;this.contentExpired&&(this._expireDate=null),this.contentState=ur;const t=await this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority.bind(this));if(!t)return this.contentState=cr,!1;try{const t=this.tileset.getTileUrl(this.contentUrl),e=this.tileset.loader,n={...this.tileset.loadOptions,[e.id]:{...this.tileset.loadOptions[e.id],isTileset:"json"===this.type,...this._getLoaderSpecificOptions(e.id)}};return this.content=await(0,wn.H)(t,e,n),this.tileset.options.contentLoader&&await this.tileset.options.contentLoader(this),this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this),this.contentState=hr,this._onContentLoaded(),!0}catch(e){throw this.contentState=dr,e}finally{t.done()}}unloadContent(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.header.content&&this.header.content.destroy&&this.header.content.destroy(),this.header.content=null,this.contentState=cr,!0}updateVisibility(t,e){if(this._frameNumber===t.frameNumber)return;const n=this.parent,r=n?n._visibilityPlaneMask:ie.MASK_INDETERMINATE;if(this.tileset._traverser.options.updateTransforms){const t=n?n.computedTransform:this.tileset.modelMatrix;this._updateTransform(t)}this._distanceToCamera=this.distanceToTile(t),this._screenSpaceError=this.getScreenSpaceError(t,!1),this._visibilityPlaneMask=this.visibility(t,r),this._visible=this._visibilityPlaneMask!==ie.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(t),this._frameNumber=t.frameNumber,this.viewportIds=e}visibility(t,e){const{cullingVolume:n}=t,{boundingVolume:r}=this;return n.computeVisibilityWithPlaneMask(r,e)}contentVisibility(){return!0}distanceToTile(t){const e=this.boundingVolume;return Math.sqrt(Math.max(e.distanceSquaredTo(t.camera.position),0))}cameraSpaceZDepth(t){let{camera:e}=t;const n=this.boundingVolume;return zr.subVectors(n.center,e.position),e.direction.dot(zr)}insideViewerRequestVolume(t){const e=this._viewerRequestVolume;return!e||e.distanceSquaredTo(t.camera.position)<=0}updateExpiration(){if(function(t){return void 0!==t&&null!==t}(this._expireDate)&&this.contentReady&&!this.hasEmptyContent){const t=Date.now();Date.lessThan(this._expireDate,t)&&(this.contentState=fr,this._expiredContent=this.content)}}get extras(){return this.header.extras}_initializeLodMetric(t){"lodMetricType"in t?this.lodMetricType=t.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in t?this.lodMetricValue=t.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}_initializeTransforms(t){this.transform=t.transform?new gt.A(t.transform):new gt.A;const e=this.parent,n=this.tileset,r=e&&e.computedTransform?e.computedTransform.clone():n.modelMatrix.clone();this.computedTransform=new gt.A(r).multiplyRight(this.transform);const i=e&&e._initialTransform?e._initialTransform.clone():new gt.A;this._initialTransform=new gt.A(i).multiplyRight(this.transform)}_initializeBoundingVolumes(t){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(t)}_initializeContent(t){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=cr,this.hasTilesetContent=!1,t.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}_initializeRenderingState(t){this.depth=t.level||(this.parent?this.parent.depth+1:0),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=ie.MASK_INDETERMINATE,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}_getRefine(t){return t||this.parent&&this.parent.refine||pr.REPLACE}_isTileset(){return-1!==this.contentUrl.indexOf(".json")}_onContentLoaded(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset._traverser.disableSkipLevelOfDetail=!0}this._isTileset()?this.hasTilesetContent=!0:this.gpuMemoryUsageInBytes=this._getGpuMemoryUsageInBytes()}_updateBoundingVolume(t){this.boundingVolume=Er(t.boundingVolume,this.computedTransform,this.boundingVolume);const e=t.content;e&&(e.boundingVolume&&(this._contentBoundingVolume=Er(e.boundingVolume,this.computedTransform,this._contentBoundingVolume)),t.viewerRequestVolume&&(this._viewerRequestVolume=Er(t.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}_updateTransform(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new gt.A).clone().multiplyRight(this.transform);!t.equals(this.computedTransform)&&(this.computedTransform=t,this._updateBoundingVolume(this.header))}_getLoaderSpecificOptions(t){return"i3s"===t?{...this.tileset.options.i3s,_tileOptions:{attributeUrls:this.header.attributeUrls,textureUrl:this.header.textureUrl,textureFormat:this.header.textureFormat,textureLoaderOptions:this.header.textureLoaderOptions,materialDefinition:this.header.materialDefinition,isDracoGeometry:this.header.isDracoGeometry,mbs:this.header.mbs},_tilesetOptions:{store:this.tileset.tileset.store,attributeStorageInfo:this.tileset.tileset.attributeStorageInfo,fields:this.tileset.tileset.fields},isTileHeader:!1}:{assetGltfUpAxis:(e=this.tileset.tileset).asset&&e.asset.gltfUpAxis||"Y"};var e}}class Vr extends Ur{compareDistanceToCamera(t,e){return 0===e._distanceToCamera&&0===t._distanceToCamera?e._centerZDepth-t._centerZDepth:e._distanceToCamera-t._distanceToCamera}updateTileVisibility(t,e){if(super.updateTileVisibility(t,e),!t.isVisibleAndInRequestVolume)return;const n=t.children.length>0;if(t.hasTilesetContent&&n){const n=t.children[0];return this.updateTileVisibility(n,e),void(t._visible=n._visible)}if(this.meetsScreenSpaceErrorEarly(t,e))return void(t._visible=!1);const r=t.refine===pr.REPLACE,i=t._optimChildrenWithinParent===mr;r&&i&&n&&!this.anyChildrenVisible(t,e)&&(t._visible=!1)}meetsScreenSpaceErrorEarly(t,e){const{parent:n}=t;return!(!n||n.hasTilesetContent||n.refine!==pr.ADD)&&!this.shouldRefine(t,e,!0)}}class Hr{constructor(){(0,r.A)(this,"frameNumberMap",new Map)}register(t,e){const n=this.frameNumberMap.get(t)||new Map,r=n.get(e)||0;n.set(e,r+1),this.frameNumberMap.set(t,n)}deregister(t,e){const n=this.frameNumberMap.get(t);if(!n)return;const r=n.get(e)||1;n.set(e,r-1)}isZero(t,e){var n;return 0===((null===(n=this.frameNumberMap.get(t))||void 0===n?void 0:n.get(e))||0)}}const Wr="REQUESTED",qr="COMPLETED",Xr="ERROR";class Yr{constructor(){(0,r.A)(this,"_statusMap",void 0),(0,r.A)(this,"pendingTilesRegister",new Hr),this._statusMap={}}add(t,e,n,r){if(!this._statusMap[e]){const{frameNumber:i,viewport:{id:o}}=r;this._statusMap[e]={request:t,callback:n,key:e,frameState:r,status:Wr},this.pendingTilesRegister.register(o,i),t().then((t=>{this._statusMap[e].status=qr;const{frameNumber:n,viewport:{id:i}}=this._statusMap[e].frameState;this.pendingTilesRegister.deregister(i,n),this._statusMap[e].callback(t,r)})).catch((t=>{this._statusMap[e].status=Xr;const{frameNumber:r,viewport:{id:i}}=this._statusMap[e].frameState;this.pendingTilesRegister.deregister(i,r),n(t)}))}}update(t,e){if(this._statusMap[t]){const{frameNumber:n,viewport:{id:r}}=this._statusMap[t].frameState;this.pendingTilesRegister.deregister(r,n);const{frameNumber:i,viewport:{id:o}}=e;this.pendingTilesRegister.register(o,i),this._statusMap[t].frameState=e}}find(t){return this._statusMap[t]}hasPendingTiles(t,e){return!this.pendingTilesRegister.isZero(t,e)}}class Qr extends Ur{constructor(t){super(t),(0,r.A)(this,"_tileManager",void 0),this._tileManager=new Yr}traversalFinished(t){return!this._tileManager.hasPendingTiles(t.viewport.id,this._frameNumber||0)}shouldRefine(t,e){return t._lodJudge=function(t,e){if(0===t.lodMetricValue||isNaN(t.lodMetricValue))return"DIG";const n=2*Dr(t,e);return n<2?"OUT":!t.header.children||n<=t.lodMetricValue?"DRAW":t.header.children?"DIG":"OUT"}(t,e),"DIG"===t._lodJudge}updateChildTiles(t,e){const n=t.header.children||[],r=t.children,i=t.tileset;for(const o of n){const n="".concat(o.id,"-").concat(e.viewport.id),s=r&&r.find((t=>t.id===n));if(s)s&&this.updateTile(s,e);else{let r=()=>this._loadTile(o.id,i);this._tileManager.find(n)?this._tileManager.update(n,e):(i.tileset.nodePages&&(r=()=>i.tileset.nodePagesTile.formTileFromNodePages(o.id)),this._tileManager.add(r,n,(e=>this._onTileLoad(e,t,n)),e))}}return!1}async _loadTile(t,e){const{loader:n}=e,r=e.getTileUrl("".concat(e.url,"/nodes/").concat(t)),i={...e.loadOptions,i3s:{...e.loadOptions.i3s,isTileHeader:!0}};return await(0,wn.H)(r,n,i)}_onTileLoad(t,e,n){const r=new Gr(e.tileset,t,e,n);e.children.push(r);const i=this._tileManager.find(r.id).frameState;this.updateTile(r,i),this._frameNumber===i.frameNumber&&(this.traversalFinished(i)||(new Date).getTime()-this.lastUpdate>this.updateDebounceTime)&&this.executeTraversal(r,i)}}const Kr={description:"",ellipsoid:Xn.WGS84,modelMatrix:new gt.A,throttleRequests:!0,maxRequests:64,maximumMemoryUsage:32,maximumTilesSelected:0,debounceTime:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{},onTraversalComplete:t=>t,contentLoader:void 0,viewDistanceScale:1,maximumScreenSpaceError:8,loadTiles:!0,updateTransforms:!0,viewportTraversersMap:null,loadOptions:{fetch:{}},attributions:[],basePath:"",i3s:{}},Jr="Tiles In Tileset(s)",Zr="Tiles In Memory",$r="Tiles In View",ti="Tiles To Render",ei="Tiles Loaded",ni="Tiles Loading",ri="Tiles Unloaded",ii="Failed Tile Loads",oi="Points/Vertices",si="Tile Memory Use";class ai{constructor(t,e){(0,r.A)(this,"options",void 0),(0,r.A)(this,"loadOptions",void 0),(0,r.A)(this,"type",void 0),(0,r.A)(this,"tileset",void 0),(0,r.A)(this,"loader",void 0),(0,r.A)(this,"url",void 0),(0,r.A)(this,"basePath",void 0),(0,r.A)(this,"modelMatrix",void 0),(0,r.A)(this,"ellipsoid",void 0),(0,r.A)(this,"lodMetricType",void 0),(0,r.A)(this,"lodMetricValue",void 0),(0,r.A)(this,"refine",void 0),(0,r.A)(this,"root",null),(0,r.A)(this,"roots",{}),(0,r.A)(this,"asset",{}),(0,r.A)(this,"description",""),(0,r.A)(this,"properties",void 0),(0,r.A)(this,"extras",null),(0,r.A)(this,"attributions",{}),(0,r.A)(this,"credits",{}),(0,r.A)(this,"stats",void 0),(0,r.A)(this,"contentFormats",{draco:!1,meshopt:!1,dds:!1,ktx2:!1}),(0,r.A)(this,"cartographicCenter",null),(0,r.A)(this,"cartesianCenter",null),(0,r.A)(this,"zoom",1),(0,r.A)(this,"boundingVolume",null),(0,r.A)(this,"dynamicScreenSpaceErrorComputedDensity",0),(0,r.A)(this,"maximumMemoryUsage",32),(0,r.A)(this,"gpuMemoryUsageInBytes",0),(0,r.A)(this,"_frameNumber",0),(0,r.A)(this,"_queryParams",{}),(0,r.A)(this,"_extensionsUsed",[]),(0,r.A)(this,"_tiles",{}),(0,r.A)(this,"_pendingCount",0),(0,r.A)(this,"selectedTiles",[]),(0,r.A)(this,"traverseCounter",0),(0,r.A)(this,"geometricError",0),(0,r.A)(this,"lastUpdatedVieports",null),(0,r.A)(this,"_requestedTiles",[]),(0,r.A)(this,"_emptyTiles",[]),(0,r.A)(this,"frameStateData",{}),(0,r.A)(this,"_traverser",void 0),(0,r.A)(this,"_cache",new Jn),(0,r.A)(this,"_requestScheduler",void 0),(0,r.A)(this,"updatePromise",null),(0,r.A)(this,"tilesetInitializationPromise",void 0),this.options={...Kr,...e},this.tileset=t,this.loader=t.loader,this.type=t.type,this.url=t.url,this.basePath=t.basePath||Yn(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=t.lodMetricType,this.lodMetricValue=t.lodMetricValue,this.refine=t.root.refine,this.loadOptions=this.options.loadOptions||{},this._traverser=this._initializeTraverser(),this._requestScheduler=new At({throttleRequests:this.options.throttleRequests,maxRequests:this.options.maxRequests}),this.stats=new dt.A({id:this.url}),this._initializeStats(),this.tilesetInitializationPromise=this._initializeTileSet(t)}destroy(){this._destroy()}isLoaded(){return 0===this._pendingCount&&0!==this._frameNumber&&0===this._requestedTiles.length}get tiles(){return Object.values(this._tiles)}get frameNumber(){return this._frameNumber}get queryParams(){return new URLSearchParams(this._queryParams).toString()}setProps(t){this.options={...this.options,...t}}setOptions(t){this.options={...this.options,...t}}getTileUrl(t){return t.startsWith("data:")?t:"".concat(t).concat(t.includes("?")?"&":"?").concat(this.queryParams)}hasExtension(t){return Boolean(this._extensionsUsed.indexOf(t)>-1)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.tilesetInitializationPromise.then((()=>{!t&&this.lastUpdatedVieports?t=this.lastUpdatedVieports:this.lastUpdatedVieports=t,t&&this.doUpdate(t)}))}async selectTiles(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return await this.tilesetInitializationPromise,t&&(this.lastUpdatedVieports=t),this.updatePromise||(this.updatePromise=new Promise((t=>{setTimeout((()=>{this.lastUpdatedVieports&&this.doUpdate(this.lastUpdatedVieports),t(this._frameNumber),this.updatePromise=null}),this.options.debounceTime)}))),this.updatePromise}doUpdate(t){if("loadTiles"in this.options&&!this.options.loadTiles)return;if(this.traverseCounter>0)return;const e=t instanceof Array?t:[t];this._cache.reset(),this._frameNumber++,this.traverseCounter=e.length;const n=[];for(const r of e){const t=r.id;this._needTraverse(t)?n.push(t):this.traverseCounter--}for(const r of e){const t=r.id;if(this.roots[t]||(this.roots[t]=this._initializeTileHeaders(this.tileset,null)),!n.includes(t))continue;const e=nr(r,this._frameNumber);this._traverser.traverse(this.roots[t],e,this.options)}}_needTraverse(t){let e=t;return this.options.viewportTraversersMap&&(e=this.options.viewportTraversersMap[t]),e===t}_onTraversalEnd(t){const e=t.viewport.id;this.frameStateData[e]||(this.frameStateData[e]={selectedTiles:[],_requestedTiles:[],_emptyTiles:[]});const n=this.frameStateData[e],r=Object.values(this._traverser.selectedTiles),[i,o]=function(t,e,n){if(0===n||t.length<=n)return[t,[]];const r=[],{longitude:i,latitude:o}=e.viewport;for(const[c,u]of t.entries()){const[t,e]=u.header.mbs,n=Math.abs(i-t),s=Math.abs(o-e),a=Math.sqrt(s*s+n*n);r.push([c,a])}const s=r.sort(((t,e)=>t[1]-e[1])),a=[];for(let c=0;c<n;c++)a.push(t[s[c][0]]);const l=[];for(let c=n;c<s.length;c++)l.push(t[s[c][0]]);return[a,l]}(r,t,this.options.maximumTilesSelected);n.selectedTiles=i;for(const s of o)s.unselect();n._requestedTiles=Object.values(this._traverser.requestedTiles),n._emptyTiles=Object.values(this._traverser.emptyTiles),this.traverseCounter--,this.traverseCounter>0||this._updateTiles()}_updateTiles(){this.selectedTiles=[],this._requestedTiles=[],this._emptyTiles=[];for(const t in this.frameStateData){const e=this.frameStateData[t];this.selectedTiles=this.selectedTiles.concat(e.selectedTiles),this._requestedTiles=this._requestedTiles.concat(e._requestedTiles),this._emptyTiles=this._emptyTiles.concat(e._emptyTiles)}this.selectedTiles=this.options.onTraversalComplete(this.selectedTiles);for(const t of this.selectedTiles)this._tiles[t.id]=t;this._loadTiles(),this._unloadTiles(),this._updateStats()}_tilesChanged(t,e){if(t.length!==e.length)return!0;const n=new Set(t.map((t=>t.id))),r=new Set(e.map((t=>t.id)));let i=t.filter((t=>!r.has(t.id))).length>0;return i=i||e.filter((t=>!n.has(t.id))).length>0,i}_loadTiles(){for(const t of this._requestedTiles)t.contentUnloaded&&this._loadTile(t)}_unloadTiles(){this._cache.unloadTiles(this,((t,e)=>t._unloadTile(e)))}_updateStats(){let t=0,e=0;for(const n of this.selectedTiles)n.contentAvailable&&n.content&&(t++,n.content.pointCount?e+=n.content.pointCount:e+=n.content.vertexCount);this.stats.get($r).count=this.selectedTiles.length,this.stats.get(ti).count=t,this.stats.get(oi).count=e}async _initializeTileSet(t){this.type===gr.I3S&&(this.calculateViewPropsI3S(),t.root=await t.root),this.root=this._initializeTileHeaders(t,null),this.type===gr.TILES3D&&(this._initializeTiles3DTileset(t),this.calculateViewPropsTiles3D()),this.type===gr.I3S&&this._initializeI3STileset()}calculateViewPropsI3S(){var t;const e=this.tileset.fullExtent;if(e){const{xmin:t,xmax:n,ymin:r,ymax:i,zmin:o,zmax:s}=e;return this.cartographicCenter=new Et.A(t+(n-t)/2,r+(i-r)/2,o+(s-o)/2),this.cartesianCenter=Xn.WGS84.cartographicToCartesian(this.cartographicCenter,new Et.A),void(this.zoom=lr(e,this.cartographicCenter,this.cartesianCenter))}const n=null===(t=this.tileset.store)||void 0===t?void 0:t.extent;if(n){const[t,e,r,i]=n;return this.cartographicCenter=new Et.A(t+(r-t)/2,e+(i-e)/2,0),this.cartesianCenter=Xn.WGS84.cartographicToCartesian(this.cartographicCenter,new Et.A),void(this.zoom=function(t,e,n){const[r,i,o,s]=t;return lr({xmin:r,xmax:o,ymin:i,ymax:s,zmin:0,zmax:0},e,n)}(n,this.cartographicCenter,this.cartesianCenter))}console.warn("Extent is not defined in the tileset header"),this.cartographicCenter=new Et.A,this.zoom=1}calculateViewPropsTiles3D(){const t=this.root,{center:e}=t.boundingVolume;if(!e)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new Et.A,void(this.zoom=1);0!==e[0]||0!==e[1]||0!==e[2]?this.cartographicCenter=Xn.WGS84.cartesianToCartographic(e,new Et.A):this.cartographicCenter=new Et.A(0,0,-Xn.WGS84.radii[0]),this.cartesianCenter=e,this.zoom=ar(t.boundingVolume,this.cartographicCenter)}_initializeStats(){this.stats.get(Jr),this.stats.get(ni),this.stats.get(Zr),this.stats.get($r),this.stats.get(ti),this.stats.get(ei),this.stats.get(ri),this.stats.get(ii),this.stats.get(oi),this.stats.get(si,"memory")}_initializeTileHeaders(t,e){const n=new Gr(this,t.root,e);if(e&&(e.children.push(n),n.depth=e.depth+1),this.type===gr.TILES3D){const t=[];for(t.push(n);t.length>0;){const e=t.pop();this.stats.get(Jr).incrementCount();const n=e.header.children||[];for(const i of n){var r;const n=new Gr(this,i,e);if(null!==(r=n.contentUrl)&&void 0!==r&&r.includes("?session=")){const t=new URL(n.contentUrl).searchParams.get("session");t&&(this._queryParams.session=t)}e.children.push(n),n.depth=e.depth+1,t.push(n)}}}return n}_initializeTraverser(){let t;switch(this.type){case gr.TILES3D:t=Vr;break;case gr.I3S:t=Qr;break;default:t=Ur}return new t({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}_destroyTileHeaders(t){this._destroySubtree(t)}async _loadTile(t){let e;try{this._onStartTileLoading(),e=await t.loadContent()}catch(n){this._onTileLoadError(t,n instanceof Error?n:new Error("load failed"))}finally{this._onEndTileLoading(),this._onTileLoad(t,e)}}_onTileLoadError(t,e){this.stats.get(ii).incrementCount();const n=e.message||e.toString(),r=t.url;console.error("A 3D tile failed to load: ".concat(t.url," ").concat(n)),this.options.onTileError(t,n,r)}_onTileLoad(t,e){if(e){if(this.type===gr.I3S){var n,r;const t=(null===(n=this.tileset)||void 0===n||null===(r=n.nodePagesTile)||void 0===r?void 0:r.nodesInNodePages)||0;this.stats.get(Jr).reset(),this.stats.get(Jr).addCount(t)}t&&t.content&&function(t,e){(0,Zn.v)(t),(0,Zn.v)(e);const{rtcCenter:n,gltfUpAxis:r}=e,{computedTransform:i,boundingVolume:{center:o}}=t;let s=new gt.A(i);switch(n&&s.translate(n),r){case"Z":default:break;case"Y":const t=(new gt.A).rotateX(Math.PI/2);s=s.multiplyRight(t);break;case"X":const e=(new gt.A).rotateY(-Math.PI/2);s=s.multiplyRight(e)}e.isQuantized&&s.translate(e.quantizedVolumeOffset).scale(e.quantizedVolumeScale);const a=new Et.A(o);e.cartesianModelMatrix=s,e.cartesianOrigin=a;const l=Xn.WGS84.cartesianToCartographic(a,new Et.A),c=Xn.WGS84.eastNorthUpToFixedFrame(a).invert();e.cartographicModelMatrix=c.multiplyRight(s),e.cartographicOrigin=l,e.coordinateSystem||(e.modelMatrix=e.cartographicModelMatrix)}(t,t.content),this.updateContentTypes(t),this._addTileToCache(t),this.options.onTileLoad(t)}}updateContentTypes(t){if(this.type===gr.I3S)switch(t.header.isDracoGeometry&&(this.contentFormats.draco=!0),t.header.textureFormat){case"dds":this.contentFormats.dds=!0;break;case"ktx2":this.contentFormats.ktx2=!0}else if(this.type===gr.TILES3D){var e;const{extensionsRemoved:n=[]}=(null===(e=t.content)||void 0===e?void 0:e.gltf)||{};n.includes("KHR_draco_mesh_compression")&&(this.contentFormats.draco=!0),n.includes("EXT_meshopt_compression")&&(this.contentFormats.meshopt=!0),n.includes("KHR_texture_basisu")&&(this.contentFormats.ktx2=!0)}}_onStartTileLoading(){this._pendingCount++,this.stats.get(ni).incrementCount()}_onEndTileLoading(){this._pendingCount--,this.stats.get(ni).decrementCount()}_addTileToCache(t){this._cache.add(this,t,(e=>e._updateCacheStats(t)))}_updateCacheStats(t){this.stats.get(ei).incrementCount(),this.stats.get(Zr).incrementCount(),this.gpuMemoryUsageInBytes+=t.gpuMemoryUsageInBytes||0,this.stats.get(si).count=this.gpuMemoryUsageInBytes}_unloadTile(t){this.gpuMemoryUsageInBytes-=t.gpuMemoryUsageInBytes||0,this.stats.get(Zr).decrementCount(),this.stats.get(ri).incrementCount(),this.stats.get(si).count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(t),t.unloadContent()}_destroy(){const t=[];for(this.root&&t.push(this.root);t.length>0;){const e=t.pop();for(const n of e.children)t.push(n);this._destroyTile(e)}this.root=null}_destroySubtree(t){const e=t,n=[];for(n.push(e);n.length>0;){t=n.pop();for(const e of t.children)n.push(e);t!==e&&this._destroyTile(t)}e.children=[]}_destroyTile(t){this._cache.unloadTile(this,t),this._unloadTile(t),t.destroy()}_initializeTiles3DTileset(t){if(t.queryString){const e=new URLSearchParams(t.queryString),n=Object.fromEntries(e.entries());this._queryParams={...this._queryParams,...n}}if(this.asset=t.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description||"",this.properties=t.properties,this.geometricError=t.geometricError,this._extensionsUsed=t.extensionsUsed||[],this.extras=t.extras}_initializeI3STileset(){this.loadOptions.i3s&&"token"in this.loadOptions.i3s&&(this._queryParams.token=this.loadOptions.i3s.token)}}const li="3.4.15",ci={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect",GLTF:"glTF"};Object.keys(ci);function ui(t,e,n){(0,Zn.v)(t instanceof ArrayBuffer);const r=new TextDecoder("utf8"),i=new Uint8Array(t,e,n);return r.decode(i)}var hi=n(65509);const fi={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},di={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,...fi},pi={[fi.DOUBLE]:Float64Array,[fi.FLOAT]:Float32Array,[fi.UNSIGNED_SHORT]:Uint16Array,[fi.UNSIGNED_INT]:Uint32Array,[fi.UNSIGNED_BYTE]:Uint8Array,[fi.BYTE]:Int8Array,[fi.SHORT]:Int16Array,[fi.INT]:Int32Array},Ai={DOUBLE:fi.DOUBLE,FLOAT:fi.FLOAT,UNSIGNED_SHORT:fi.UNSIGNED_SHORT,UNSIGNED_INT:fi.UNSIGNED_INT,UNSIGNED_BYTE:fi.UNSIGNED_BYTE,BYTE:fi.BYTE,SHORT:fi.SHORT,INT:fi.INT},gi="Failed to convert GL type";class yi{static fromTypedArray(t){t=ArrayBuffer.isView(t)?t.constructor:t;for(const e in pi){if(pi[e]===t)return e}throw new Error(gi)}static fromName(t){const e=Ai[t];if(!e)throw new Error(gi);return e}static getArrayType(t){switch(t){case fi.UNSIGNED_SHORT_5_6_5:case fi.UNSIGNED_SHORT_4_4_4_4:case fi.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:const e=pi[t];if(!e)throw new Error(gi);return e}}static getByteSize(t){return yi.getArrayType(t).BYTES_PER_ELEMENT}static validate(t){return Boolean(yi.getArrayType(t))}static createTypedArray(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;void 0===r&&(r=(e.byteLength-n)/yi.getByteSize(t));return new(yi.getArrayType(t))(e,n,r)}}class mi{constructor(t,e){(0,r.A)(this,"json",void 0),(0,r.A)(this,"buffer",void 0),(0,r.A)(this,"featuresLength",0),(0,r.A)(this,"_cachedTypedArrays",{}),this.json=t,this.buffer=e}getExtension(t){return this.json.extensions&&this.json.extensions[t]}hasProperty(t){return Boolean(this.json[t])}getGlobalProperty(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di.UNSIGNED_INT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=this.json[t];return r&&Number.isFinite(r.byteOffset)?this._getTypedArrayFromBinary(t,e,n,1,r.byteOffset):r}getPropertyArray(t,e,n){const r=this.json[t];return r&&Number.isFinite(r.byteOffset)?("componentType"in r&&(e=yi.fromName(r.componentType)),this._getTypedArrayFromBinary(t,e,n,this.featuresLength,r.byteOffset)):this._getTypedArrayFromArray(t,e,r)}getProperty(t,e,n,r,i){const o=this.json[t];if(!o)return o;const s=this.getPropertyArray(t,e,n);if(1===n)return s[r];for(let a=0;a<n;++a)i[a]=s[n*r+a];return i}_getTypedArrayFromBinary(t,e,n,r,i){const o=this._cachedTypedArrays;let s=o[t];return s||(s=yi.createTypedArray(e,this.buffer.buffer,this.buffer.byteOffset+i,r*n),o[t]=s),s}_getTypedArrayFromArray(t,e,n){const r=this._cachedTypedArrays;let i=r[t];return i||(i=yi.createTypedArray(e,n),r[t]=i),i}}const vi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},bi={SCALAR:(t,e)=>t[e],VEC2:(t,e)=>[t[2*e+0],t[2*e+1]],VEC3:(t,e)=>[t[3*e+0],t[3*e+1],t[3*e+2]],VEC4:(t,e)=>[t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]],MAT2:(t,e)=>[t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]],MAT3:(t,e)=>[t[9*e+0],t[9*e+1],t[9*e+2],t[9*e+3],t[9*e+4],t[9*e+5],t[9*e+6],t[9*e+7],t[9*e+8]],MAT4:(t,e)=>[t[16*e+0],t[16*e+1],t[16*e+2],t[16*e+3],t[16*e+4],t[16*e+5],t[16*e+6],t[16*e+7],t[16*e+8],t[16*e+9],t[16*e+10],t[16*e+11],t[16*e+12],t[16*e+13],t[16*e+14],t[16*e+15]]},_i={SCALAR:(t,e,n)=>{e[n]=t},VEC2:(t,e,n)=>{e[2*n+0]=t[0],e[2*n+1]=t[1]},VEC3:(t,e,n)=>{e[3*n+0]=t[0],e[3*n+1]=t[1],e[3*n+2]=t[2]},VEC4:(t,e,n)=>{e[4*n+0]=t[0],e[4*n+1]=t[1],e[4*n+2]=t[2],e[4*n+3]=t[3]},MAT2:(t,e,n)=>{e[4*n+0]=t[0],e[4*n+1]=t[1],e[4*n+2]=t[2],e[4*n+3]=t[3]},MAT3:(t,e,n)=>{e[9*n+0]=t[0],e[9*n+1]=t[1],e[9*n+2]=t[2],e[9*n+3]=t[3],e[9*n+4]=t[4],e[9*n+5]=t[5],e[9*n+6]=t[6],e[9*n+7]=t[7],e[9*n+8]=t[8],e[9*n+9]=t[9]},MAT4:(t,e,n)=>{e[16*n+0]=t[0],e[16*n+1]=t[1],e[16*n+2]=t[2],e[16*n+3]=t[3],e[16*n+4]=t[4],e[16*n+5]=t[5],e[16*n+6]=t[6],e[16*n+7]=t[7],e[16*n+8]=t[8],e[16*n+9]=t[9],e[16*n+10]=t[10],e[16*n+11]=t[11],e[16*n+12]=t[12],e[16*n+13]=t[13],e[16*n+14]=t[14],e[16*n+15]=t[15]}};const wi=t=>void 0!==t;function xi(t,e,n){if(!e)return null;let r=t.getExtension("3DTILES_batch_table_hierarchy");const i=e.HIERARCHY;return i&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),e.extensions=e.extensions||{},e.extensions["3DTILES_batch_table_hierarchy"]=i,r=i),r?function(t,e){let n,r,i;const o=t.instancesLength,s=t.classes;let a,l=t.classIds,c=t.parentCounts,u=t.parentIds,h=o;wi(l.byteOffset)&&(l.componentType=defaultValue(l.componentType,GL.UNSIGNED_SHORT),l.type=AttributeType.SCALAR,i=getBinaryAccessor(l),l=i.createArrayBufferView(e.buffer,e.byteOffset+l.byteOffset,o));if(wi(c))for(wi(c.byteOffset)&&(c.componentType=defaultValue(c.componentType,GL.UNSIGNED_SHORT),c.type=AttributeType.SCALAR,i=getBinaryAccessor(c),c=i.createArrayBufferView(e.buffer,e.byteOffset+c.byteOffset,o)),a=new Uint16Array(o),h=0,n=0;n<o;++n)a[n]=h,h+=c[n];wi(u)&&wi(u.byteOffset)&&(u.componentType=defaultValue(u.componentType,GL.UNSIGNED_SHORT),u.type=AttributeType.SCALAR,i=getBinaryAccessor(u),u=i.createArrayBufferView(e.buffer,e.byteOffset+u.byteOffset,h));const f=s.length;for(n=0;n<f;++n){const t=s[n].length,r=s[n].instances,i=getBinaryProperties(t,r,e);s[n].instances=combine(i,r)}const d=new Array(f).fill(0),p=new Uint16Array(o);for(n=0;n<o;++n)r=l[n],p[n]=d[r],++d[r];const A={classes:s,classIds:l,classIndexes:p,parentCounts:c,parentIndexes:a,parentIds:u};return function(t){const e=t.classIds,n=e.length;for(let r=0;r<n;++r)Si(t,r,stack)}(A),A}(r,n):null}function Ei(t,e,n){if(!t)return;const r=t.parentCounts;return t.parentIds?n(t,e):r>0?function(t,e,n){const r=t.classIds,i=t.parentCounts,o=t.parentIds,s=t.parentIndexes,a=r.length,l=scratchVisited;l.length=Math.max(l.length,a);const c=++marker,u=scratchStack;u.length=0,u.push(e);for(;u.length>0;){if(l[e=u.pop()]===c)continue;l[e]=c;const r=n(t,e);if(wi(r))return r;const a=i[e],h=s[e];for(let t=0;t<a;++t){const n=o[h+t];n!==e&&u.push(n)}}return null}(t,e,n):function(t,e,n){let r=!0;for(;r;){const i=n(t,e);if(wi(i))return i;const o=t.parentIds[e];r=o!==e,e=o}throw new Error("traverseHierarchySingleParent")}(t,e,n)}function Si(t,e,n){const r=t.parentCounts,i=t.parentIds,o=t.parentIndexes,s=t.classIds.length;if(!wi(i))return;assert(e<s,"Parent index ".concat(e," exceeds the total number of instances: ").concat(s)),assert(-1===n.indexOf(e),"Circular dependency detected in the batch table hierarchy."),n.push(e);const a=wi(r)?r[e]:1,l=wi(r)?o[e]:e;for(let c=0;c<a;++c){const r=i[l+c];r!==e&&Si(t,r,n)}n.pop(e)}function Ci(t){return void 0!==t&&null!==t}const Pi=(t,e)=>t,Mi={HIERARCHY:!0,extensions:!0,extras:!0};class Ti{constructor(t,e,n){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,r.A)(this,"json",void 0),(0,r.A)(this,"binary",void 0),(0,r.A)(this,"featureCount",void 0),(0,r.A)(this,"_extensions",void 0),(0,r.A)(this,"_properties",void 0),(0,r.A)(this,"_binaryProperties",void 0),(0,r.A)(this,"_hierarchy",void 0),(0,Zn.v)(n>=0),this.json=t||{},this.binary=e,this.featureCount=n,this._extensions=(null===(i=this.json)||void 0===i?void 0:i.extensions)||{},this._properties={};for(const r in this.json)Mi[r]||(this._properties[r]=this.json[r]);this._binaryProperties=this._initializeBinaryProperties(),o["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=xi(this,this.json,this.binary))}getExtension(t){return this.json&&this.json.extensions&&this.json.extensions[t]}memorySizeInBytes(){return 0}isClass(t,e){if(this._checkBatchId(t),(0,Zn.v)("string"===typeof e,e),this._hierarchy){return Ci(Ei(this._hierarchy,t,((t,n)=>{const r=t.classIds[n];return t.classes[r].name===e})))}return!1}isExactClass(t,e){return(0,Zn.v)("string"===typeof e,e),this.getExactClassName(t)===e}getExactClassName(t){if(this._checkBatchId(t),this._hierarchy){const e=this._hierarchy.classIds[t];return this._hierarchy.classes[e].name}}hasProperty(t,e){return this._checkBatchId(t),(0,Zn.v)("string"===typeof e,e),Ci(this._properties[e])||this._hasPropertyInHierarchy(t,e)}getPropertyNames(t,e){this._checkBatchId(t),(e=Ci(e)?e:[]).length=0;const n=Object.keys(this._properties);return e.push(...n),this._hierarchy&&this._getPropertyNamesInHierarchy(t,e),e}getProperty(t,e){if(this._checkBatchId(t),(0,Zn.v)("string"===typeof e,e),this._binaryProperties){const n=this._binaryProperties[e];if(Ci(n))return this._getBinaryProperty(n,t)}const n=this._properties[e];if(Ci(n))return Pi(n[t]);if(this._hierarchy){const n=this._getHierarchyProperty(t,e);if(Ci(n))return n}}setProperty(t,e,n){const r=this.featureCount;if(this._checkBatchId(t),(0,Zn.v)("string"===typeof e,e),this._binaryProperties){const r=this._binaryProperties[e];if(r)return void this._setBinaryProperty(r,t,n)}if(this._hierarchy&&this._setHierarchyProperty(this,t,e,n))return;let i=this._properties[e];Ci(i)||(this._properties[e]=new Array(r),i=this._properties[e]),i[t]=Pi(n)}_checkBatchId(t){if(!(t>=0&&t<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}_getBinaryProperty(t,e){return t.unpack(t.typedArray,e)}_setBinaryProperty(t,e,n){t.pack(n,t.typedArray,e)}_initializeBinaryProperties(){let t=null;for(const e in this._properties){const n=this._properties[e],r=this._initializeBinaryProperty(e,n);r&&(t=t||{},t[e]=r)}return t}_initializeBinaryProperty(t,e){if("byteOffset"in e){const n=e;(0,Zn.v)(this.binary,"Property ".concat(t," requires a batch table binary.")),(0,Zn.v)(n.type,"Property ".concat(t," requires a type."));const r=function(t,e,n,r){const{componentType:i}=t;(0,Zn.v)(t.componentType);const o="string"===typeof i?yi.fromName(i):i,s=vi[t.type],a=bi[t.type],l=_i[t.type];return n+=t.byteOffset,{values:yi.createTypedArray(o,e,n,s*r),type:o,size:s,unpacker:a,packer:l}}(n,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:r.values,componentCount:r.size,unpack:r.unpacker,pack:r.packer}}return null}_hasPropertyInHierarchy(t,e){if(!this._hierarchy)return!1;const n=Ei(this._hierarchy,t,((t,n)=>{const r=t.classIds[n];return Ci(t.classes[r].instances[e])}));return Ci(n)}_getPropertyNamesInHierarchy(t,e){Ei(this._hierarchy,t,((t,n)=>{const r=t.classIds[n],i=t.classes[r].instances;for(const o in i)i.hasOwnProperty(o)&&-1===e.indexOf(o)&&e.push(o)}))}_getHierarchyProperty(t,e){return Ei(this._hierarchy,t,((t,n)=>{const r=t.classIds[n],i=t.classes[r],o=t.classIndexes[n],s=i.instances[e];return Ci(s)?Ci(s.typedArray)?this._getBinaryProperty(s,o):Pi(s[o]):null}))}_setHierarchyProperty(t,e,n,r){const i=Ei(this._hierarchy,e,((t,i)=>{const o=t.classIds[i],s=t.classes[o],a=t.classIndexes[i],l=s.instances[n];return!!Ci(l)&&((0,Zn.v)(i===e,'Inherited property "'.concat(n,'" is read-only.')),Ci(l.typedArray)?this._setBinaryProperty(l,a,r):l[a]=Pi(r),!0)}));return Ci(i)}}const Oi=4;function Ii(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=new DataView(e);if(t.magic=r.getUint32(n,!0),n+=Oi,t.version=r.getUint32(n,!0),n+=Oi,t.byteLength=r.getUint32(n,!0),n+=Oi,1!==t.version)throw new Error("3D Tile Version ".concat(t.version," not supported"));return n}const Ri=4,Li="b3dm tile in legacy format.";function ki(t,e,n){const r=new DataView(e);let i;t.header=t.header||{};let o=r.getUint32(n,!0);n+=Ri;let s=r.getUint32(n,!0);n+=Ri;let a=r.getUint32(n,!0);n+=Ri;let l=r.getUint32(n,!0);return n+=Ri,a>=570425344?(n-=2*Ri,i=o,a=s,l=0,o=0,s=0,console.warn(Li)):l>=570425344&&(n-=Ri,i=a,a=o,l=s,o=0,s=0,console.warn(Li)),t.header.featureTableJsonByteLength=o,t.header.featureTableBinaryByteLength=s,t.header.batchTableJsonByteLength=a,t.header.batchTableBinaryByteLength=l,t.header.batchLength=i,n}function Bi(t,e,n,r){return n=function(t,e,n){const{featureTableJsonByteLength:r,featureTableBinaryByteLength:i,batchLength:o}=t.header;if(t.featureTableJson={BATCH_LENGTH:o||0},r>0){const i=ui(e,n,r);t.featureTableJson=JSON.parse(i)}return n+=r,t.featureTableBinary=new Uint8Array(e,n,i),n+=i,n}(t,e,n),n=function(t,e,n){const{batchTableJsonByteLength:r,batchTableBinaryByteLength:i}=t.header;if(r>0){const o=ui(e,n,r);t.batchTableJson=JSON.parse(o),n+=r,i>0&&(t.batchTableBinary=new Uint8Array(e,n,i),t.batchTableBinary=new Uint8Array(t.batchTableBinary),n+=i)}return n}(t,e,n),n}function Ni(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];const n=t>>11&31,r=t>>5&63,i=31&t;return e[0]=n<<3,e[1]=r<<2,e[2]=i<<3,e}function Di(t,e,n){if(!e&&(!t||!t.batchIds||!n))return null;const{batchIds:r,isRGB565:i,pointCount:o}=t;if(r&&n){const t=new Uint8ClampedArray(3*o);for(let e=0;e<o;e++){const i=r[e],o=n.getProperty(i,"dimensions").map((t=>255*t));t[3*e]=o[0],t[3*e+1]=o[1],t[3*e+2]=o[2]}return{type:di.UNSIGNED_BYTE,value:t,size:3,normalized:!0}}if(i){const t=new Uint8ClampedArray(3*o);for(let n=0;n<o;n++){const r=Ni(e[n]);t[3*n]=r[0],t[3*n+1]=r[1],t[3*n+2]=r[2]}return{type:di.UNSIGNED_BYTE,value:t,size:3,normalized:!0}}return e&&e.length===3*o?{type:di.UNSIGNED_BYTE,value:e,size:3,normalized:!0}:{type:di.UNSIGNED_BYTE,value:e,size:4,normalized:!0}}var Fi=n(61028);new Fi.A,new Et.A,new Fi.A,new Fi.A,new Uint8Array(1);function ji(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return(0,yt.qE)(t,0,e)/e*2-1}function Ui(t){return t<0?-1:1}function zi(t,e,n,r){if(function(t,e){if(!t)throw new Error("math.gl assertion failed. ".concat(e))}(r),t<0||t>n||e<0||e>n)throw new Error("x and y must be unsigned normalized integers between 0 and ".concat(n));if(r.x=ji(t,n),r.y=ji(e,n),r.z=1-(Math.abs(r.x)+Math.abs(r.y)),r.z<0){const t=r.x;r.x=(1-Math.abs(r.y))*Ui(t),r.y=(1-Math.abs(t))*Ui(r.y)}return r.normalize()}function Gi(t,e,n){return zi(t,e,255,n)}const Vi=new Et.A;function Hi(t,e,n){return t.isQuantized?n["3d-tiles"]&&n["3d-tiles"].decodeQuantizedPositions?(t.isQuantized=!1,function(t,e){const n=new Et.A,r=new Float32Array(3*t.pointCount);for(let i=0;i<t.pointCount;i++)n.set(e[3*i],e[3*i+1],e[3*i+2]).scale(1/t.quantizedRange).multiply(t.quantizedVolumeScale).add(t.quantizedVolumeOffset).toArray(r,3*i);return r}(t,e)):{type:di.UNSIGNED_SHORT,value:e,size:3,normalized:!0}:e}async function Wi(t,e,n,r,i){n=Bi(t,e,n=ki(t,e,n=Ii(t,e,n))),function(t){t.attributes={positions:null,colors:null,normals:null,batchIds:null},t.isQuantized=!1,t.isTranslucent=!1,t.isRGB565=!1,t.isOctEncoded16P=!1}(t);const{featureTable:o,batchTable:s}=function(t){const e=new mi(t.featureTableJson,t.featureTableBinary),n=e.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(n))throw new Error("POINTS_LENGTH must be defined");e.featuresLength=n,t.featuresLength=n,t.pointsLength=n,t.pointCount=n,t.rtcCenter=e.getGlobalProperty("RTC_CENTER",di.FLOAT,3);const r=function(t,e){let n=null;if(!t.batchIds&&e.hasProperty("BATCH_ID")&&(t.batchIds=e.getPropertyArray("BATCH_ID",di.UNSIGNED_SHORT,1),t.batchIds)){const r=e.getGlobalProperty("BATCH_LENGTH");if(!r)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");const{batchTableJson:i,batchTableBinary:o}=t;n=new Ti(i,o,r)}return n}(t,e);return{featureTable:e,batchTable:r}}(t);return await async function(t,e,n,r,i){let o,s,a;const l=t.batchTableJson&&t.batchTableJson.extensions&&t.batchTableJson.extensions["3DTILES_draco_point_compression"];l&&(a=l.properties);const c=e.getExtension("3DTILES_draco_point_compression");if(c){s=c.properties;const e=c.byteOffset,n=c.byteLength;if(!s||!Number.isFinite(e)||!n)throw new Error("Draco properties, byteOffset, and byteLength must be defined");o=t.featureTableBinary.slice(e,e+n),t.hasPositions=Number.isFinite(s.POSITION),t.hasColors=Number.isFinite(s.RGB)||Number.isFinite(s.RGBA),t.hasNormals=Number.isFinite(s.NORMAL),t.hasBatchIds=Number.isFinite(s.BATCH_ID),t.isTranslucent=Number.isFinite(s.RGBA)}if(!o)return!0;const u={buffer:o,properties:{...s,...a},featureTableProperties:s,batchTableProperties:a,dequantizeInShader:!1};return await async function(t,e,n,r){const{parse:i}=r,o={...n,draco:{...n.draco,extraAttributes:e.batchTableProperties||{}}};delete o["3d-tiles"];const s=await i(e.buffer,hi.Vl,o),a=s.attributes.POSITION&&s.attributes.POSITION.value,l=s.attributes.COLOR_0&&s.attributes.COLOR_0.value,c=s.attributes.NORMAL&&s.attributes.NORMAL.value,u=s.attributes.BATCH_ID&&s.attributes.BATCH_ID.value,h=a&&s.attributes.POSITION.value.quantization,f=c&&s.attributes.NORMAL.value.quantization;if(h){const e=s.POSITION.data.quantization,n=e.range;t.quantizedVolumeScale=new Et.A(n,n,n),t.quantizedVolumeOffset=new Et.A(e.minValues),t.quantizedRange=(1<<e.quantizationBits)-1,t.isQuantizedDraco=!0}f&&(t.octEncodedRange=(1<<s.NORMAL.data.quantization.quantizationBits)-1,t.isOctEncodedDraco=!0);const d={};if(e.batchTableProperties)for(const p of Object.keys(e.batchTableProperties))s.attributes[p]&&s.attributes[p].value&&(d[p.toLowerCase()]=s.attributes[p].value);t.attributes={positions:a,colors:Di(t,l,void 0),normals:c,batchIds:u,...d}}(t,u,r,i)}(t,o,0,r,i),function(t,e,n){if(!t.attributes.positions)if(e.hasProperty("POSITION"))t.attributes.positions=e.getPropertyArray("POSITION",di.FLOAT,3);else if(e.hasProperty("POSITION_QUANTIZED")){const r=e.getPropertyArray("POSITION_QUANTIZED",di.UNSIGNED_SHORT,3);if(t.isQuantized=!0,t.quantizedRange=65535,t.quantizedVolumeScale=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",di.FLOAT,3),!t.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(t.quantizedVolumeOffset=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",di.FLOAT,3),!t.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");t.attributes.positions=Hi(t,r,n)}if(!t.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}(t,o,r),function(t,e,n){if(!t.attributes.colors){let r=null;e.hasProperty("RGBA")?(r=e.getPropertyArray("RGBA",di.UNSIGNED_BYTE,4),t.isTranslucent=!0):e.hasProperty("RGB")?r=e.getPropertyArray("RGB",di.UNSIGNED_BYTE,3):e.hasProperty("RGB565")&&(r=e.getPropertyArray("RGB565",di.UNSIGNED_SHORT,1),t.isRGB565=!0),t.attributes.colors=Di(t,r,n)}e.hasProperty("CONSTANT_RGBA")&&(t.constantRGBA=e.getGlobalProperty("CONSTANT_RGBA",di.UNSIGNED_BYTE,4))}(t,o,s),function(t,e){if(!t.attributes.normals){let n=null;e.hasProperty("NORMAL")?n=e.getPropertyArray("NORMAL",di.FLOAT,3):e.hasProperty("NORMAL_OCT16P")&&(n=e.getPropertyArray("NORMAL_OCT16P",di.UNSIGNED_BYTE,2),t.isOctEncoded16P=!0),t.attributes.normals=function(t,e){if(!e)return null;if(t.isOctEncoded16P){const n=new Float32Array(3*t.pointsLength);for(let r=0;r<t.pointsLength;r++)Gi(e[2*r],e[2*r+1],Vi),Vi.toArray(n,3*r);return{type:di.FLOAT,size:2,value:n}}return{type:di.FLOAT,size:2,value:e}}(t,n)}}(t,o),n}var qi=n(5219),Xi=n(97723),Yi=n(64526);const Qi={URI:0,EMBEDDED:1};function Ki(t,e,n,r){t.rotateYtoZ=!0;const i=t.byteOffset+t.byteLength-n;if(0===i)throw new Error("glTF byte length must be greater than 0.");return t.gltfUpAxis=r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",t.gltfArrayBuffer=(0,Yi._m)(e,n,i),t.gltfByteOffset=0,t.gltfByteLength=i,n%4===0||console.warn("".concat(t.type,": embedded glb is not aligned to a 4-byte boundary.")),t.byteOffset+t.byteLength}async function Ji(t,e,n,r){const i=n["3d-tiles"]||{};if(function(t,e){switch(e){case Qi.URI:const e=new Uint8Array(t.gltfArrayBuffer,t.gltfByteOffset),n=(new TextDecoder).decode(e);t.gltfUrl=n.replace(/[\s\0]+$/,""),delete t.gltfArrayBuffer,delete t.gltfByteOffset,delete t.gltfByteLength;break;case Qi.EMBEDDED:break;default:throw new Error("b3dm: Illegal glTF format field")}}(t,e),i.loadGLTF){const{parse:e,fetch:i}=r;t.gltfUrl&&(t.gltfArrayBuffer=await i(t.gltfUrl,n),t.gltfByteOffset=0),t.gltfArrayBuffer&&(t.gltf=await e(t.gltfArrayBuffer,qi.B,n,r),t.gpuMemoryUsageInBytes=(0,Xi.S3)(t.gltf),delete t.gltfArrayBuffer,delete t.gltfByteOffset,delete t.gltfByteLength)}}async function Zi(t,e,n,r,i){var o;n=function(t,e,n,r){n=Ii(t,e,n),n=ki(t,e,n),n=Bi(t,e,n),n=Ki(t,e,n,r);const i=new mi(t.featureTableJson,t.featureTableBinary);return t.rtcCenter=i.getGlobalProperty("RTC_CENTER",di.FLOAT,3),n}(t,e,n,r),await Ji(t,Qi.EMBEDDED,r,i);const s=null===t||void 0===t||null===(o=t.gltf)||void 0===o?void 0:o.extensions;return s&&s.CESIUM_RTC&&(t.rtcCenter=s.CESIUM_RTC.center),n}async function $i(t,e,n,r,i){return n=function(t,e,n,r){if(n=Ii(t,e,n),1!==t.version)throw new Error("Instanced 3D Model version ".concat(t.version," is not supported"));n=ki(t,e,n);const i=new DataView(e);if(t.gltfFormat=i.getUint32(n,!0),n+=4,n=Bi(t,e,n),n=Ki(t,e,n,r),0===t.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");const o=new mi(t.featureTableJson,t.featureTableBinary),s=o.getGlobalProperty("INSTANCES_LENGTH");if(o.featuresLength=s,!Number.isFinite(s))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");t.eastNorthUp=o.getGlobalProperty("EAST_NORTH_UP"),t.rtcCenter=o.getGlobalProperty("RTC_CENTER",di.FLOAT,3);new Ti(t.batchTableJson,t.batchTableBinary,s);return function(t,e,n,r){const i={instances:new Array(r),batchTable:t._batchTable,cull:!1,url:void 0,gltf:void 0,basePath:void 0,incrementallyLoadTextures:!1,forwardAxis:[1,0,0]},o=i.instances,s=new Et.A,a=new Et.A,l=new Et.A,c=new Et.A,u=new Rt.A,h=new Lt.A,f=new Et.A,d={},p=new gt.A,A=[],g=[],y=new Et.A,m=new Et.A;for(let v=0;v<r;v++){let n;if(e.hasProperty("POSITION"))n=e.getProperty("POSITION",di.FLOAT,3,v,s);else if(e.hasProperty("POSITION_QUANTIZED")){n=e.getProperty("POSITION_QUANTIZED",di.UNSIGNED_SHORT,3,v,s);const t=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",di.FLOAT,3,y);if(!t)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");const r=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",di.FLOAT,3,m);if(!r)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");const i=65535;for(let e=0;e<3;e++)n[e]=n[e]/i*r[e]+t[e]}if(!n)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");s.copy(n),d.translation=s,t.normalUp=e.getProperty("NORMAL_UP",di.FLOAT,3,v,A),t.normalRight=e.getProperty("NORMAL_RIGHT",di.FLOAT,3,v,g);const r=!1;if(t.normalUp){if(!t.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");t.hasCustomOrientation=!0}else{if(t.octNormalUp=e.getProperty("NORMAL_UP_OCT32P",di.UNSIGNED_SHORT,2,A),t.octNormalRight=e.getProperty("NORMAL_RIGHT_OCT32P",di.UNSIGNED_SHORT,2,g),t.octNormalUp){if(!t.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}t.eastNorthUp?(Xn.WGS84.eastNorthUpToFixedFrame(s,p),p.getRotationMatrix3(u)):u.identity()}r&&(c.copy(a).cross(l).normalize(),u.setColumn(0,a),u.setColumn(1,l),u.setColumn(2,c)),h.fromMatrix3(u),d.rotation=h,f.set(1,1,1);const i=e.getProperty("SCALE",di.FLOAT,1,v);Number.isFinite(i)&&f.multiplyByScalar(i);const b=e.getProperty("SCALE_NON_UNIFORM",di.FLOAT,3,v,A);b&&f.scale(b),d.scale=f;let _=e.getProperty("BATCH_ID",di.UNSIGNED_SHORT,1,v);void 0===_&&(_=v);const w=(new gt.A).fromQuaternion(d.rotation);p.identity(),p.translate(d.translation),p.multiplyRight(w),p.scale(d.scale);const x=p.clone();o[v]={modelMatrix:x,batchId:_}}t.instances=o}(t,o,0,s),n}(t,e,n,r),await Ji(t,t.gltfFormat,r,i),n}async function to(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};switch(i.byteOffset=e,i.type=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=new DataView(t);return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}(t,e),i.type){case ci.COMPOSITE:return await async function(t,e,n,r,i,o){n=Ii(t,e,n);const s=new DataView(e);for(t.tilesLength=s.getUint32(n,!0),n+=4,t.tiles=[];t.tiles.length<t.tilesLength&&t.byteLength-n>12;){const s={};t.tiles.push(s),n=await o(e,n,r,i,s)}return n}(i,t,e,n,r,to);case ci.BATCHED_3D_MODEL:return await Zi(i,t,e,n,r);case ci.GLTF:return await async function(t,e,n,r){t.rotateYtoZ=!0,t.gltfUpAxis=n["3d-tiles"]&&n["3d-tiles"].assetGltfUpAxis?n["3d-tiles"].assetGltfUpAxis:"Y";const{parse:i}=r;t.gltf=await i(e,qi.B,n,r),t.gpuMemoryUsageInBytes=(0,Xi.S3)(t.gltf)}(i,t,n,r);case ci.INSTANCED_3D_MODEL:return await $i(i,t,e,n,r);case ci.POINT_CLOUD:return await Wi(i,t,e,n,r);default:throw new Error("3DTileLoader: unknown type ".concat(i.type))}}async function eo(t,e,n,r){const i=t[e].bufferView,o=t.bufferViews[i],s=t.buffers[o.buffer];if(null===r||void 0===r||!r.url||!r.fetch)throw new Error("Url is not provided");if(!r.fetch)throw new Error("fetch is not provided");if(s.uri){const t=function(t,e){if(e.startsWith("http")){const n=new URL(t,e);return decodeURI(n.toString())}const n="http://".concat(e),r=new URL(t,n);return"/".concat(r.host).concat(r.pathname)}(s.uri,null===r||void 0===r?void 0:r.url),e=await r.fetch(t),n=await e.arrayBuffer();return new Uint8Array(n,o.byteOffset,o.byteLength)}return new Uint8Array(n,o.byteOffset,o.byteLength)}function no(t){const e=new DataView(t);return e.getUint32(0,!0)+2**32*e.getUint32(4,!0)}const ro={id:"3d-tiles-subtree",name:"3D Tiles Subtree",module:"3d-tiles",version:li,extensions:["subtree"],mimeTypes:["application/octet-stream"],tests:["subtree"],parse:async function(t,e,n){if(1952609651!==new Uint32Array(t.slice(0,4))[0])throw new Error("Wrong subtree file magic number");if(1!==new Uint32Array(t.slice(4,8))[0])throw new Error("Wrong subtree file verson, must be 1");const r=no(t.slice(8,16)),i=new Uint8Array(t,24,r),o=new TextDecoder("utf8").decode(i),s=JSON.parse(o),a=no(t.slice(16,24));let l=new ArrayBuffer(0);return a&&(l=t.slice(24+r)),"bufferView"in s.tileAvailability&&(s.tileAvailability.explicitBitstream=await eo(s,"tileAvailability",l,n)),"bufferView"in s.contentAvailability&&(s.contentAvailability.explicitBitstream=await eo(s,"contentAvailability",l,n)),"bufferView"in s.childSubtreeAvailability&&(s.childSubtreeAvailability.explicitBitstream=await eo(s,"childSubtreeAvailability",l,n)),s},options:{}};var io=null;try{io=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Va){}function oo(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function so(t){return!0===(t&&t.__isLong__)}function ao(t){var e=Math.clz32(t&-t);return t?31-e:e}oo.prototype.__isLong__,Object.defineProperty(oo.prototype,"__isLong__",{value:!0}),oo.isLong=so;var lo={},co={};function uo(t,e){var n,r,i;return e?(i=0<=(t>>>=0)&&t<256)&&(r=co[t])?r:(n=fo(t,0,!0),i&&(co[t]=n),n):(i=-128<=(t|=0)&&t<128)&&(r=lo[t])?r:(n=fo(t,t<0?-1:0,!1),i&&(lo[t]=n),n)}function ho(t,e){if(isNaN(t))return e?wo:_o;if(e){if(t<0)return wo;if(t>=mo)return Po}else{if(t<=-vo)return Mo;if(t+1>=vo)return Co}return t<0?ho(-t,e).neg():fo(t%yo|0,t/yo|0,e)}function fo(t,e,n){return new oo(t,e,n)}oo.fromInt=uo,oo.fromNumber=ho,oo.fromBits=fo;var po=Math.pow;function Ao(t,e,n){if(0===t.length)throw Error("empty string");if("number"===typeof e?(n=e,e=!1):e=!!e,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e?wo:_o;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return Ao(t.substring(1),e,n).neg();for(var i=ho(po(n,8)),o=_o,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+a),n);if(a<8){var c=ho(po(n,a));o=o.mul(c).add(ho(l))}else o=(o=o.mul(i)).add(ho(l))}return o.unsigned=e,o}function go(t,e){return"number"===typeof t?ho(t,e):"string"===typeof t?Ao(t,e):fo(t.low,t.high,"boolean"===typeof e?e:t.unsigned)}oo.fromString=Ao,oo.fromValue=go;var yo=4294967296,mo=yo*yo,vo=mo/2,bo=uo(1<<24),_o=uo(0);oo.ZERO=_o;var wo=uo(0,!0);oo.UZERO=wo;var xo=uo(1);oo.ONE=xo;var Eo=uo(1,!0);oo.UONE=Eo;var So=uo(-1);oo.NEG_ONE=So;var Co=fo(-1,2147483647,!1);oo.MAX_VALUE=Co;var Po=fo(-1,-1,!0);oo.MAX_UNSIGNED_VALUE=Po;var Mo=fo(0,-2147483648,!1);oo.MIN_VALUE=Mo;var To=oo.prototype;To.toInt=function(){return this.unsigned?this.low>>>0:this.low},To.toNumber=function(){return this.unsigned?(this.high>>>0)*yo+(this.low>>>0):this.high*yo+(this.low>>>0)},To.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Mo)){var e=ho(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=ho(po(t,6),this.unsigned),o=this,s="";;){var a=o.div(i),l=(o.sub(a.mul(i)).toInt()>>>0).toString(t);if((o=a).isZero())return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}},To.getHighBits=function(){return this.high},To.getHighBitsUnsigned=function(){return this.high>>>0},To.getLowBits=function(){return this.low},To.getLowBitsUnsigned=function(){return this.low>>>0},To.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Mo)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},To.isZero=function(){return 0===this.high&&0===this.low},To.eqz=To.isZero,To.isNegative=function(){return!this.unsigned&&this.high<0},To.isPositive=function(){return this.unsigned||this.high>=0},To.isOdd=function(){return 1===(1&this.low)},To.isEven=function(){return 0===(1&this.low)},To.equals=function(t){return so(t)||(t=go(t)),(this.unsigned===t.unsigned||this.high>>>31!==1||t.high>>>31!==1)&&(this.high===t.high&&this.low===t.low)},To.eq=To.equals,To.notEquals=function(t){return!this.eq(t)},To.neq=To.notEquals,To.ne=To.notEquals,To.lessThan=function(t){return this.comp(t)<0},To.lt=To.lessThan,To.lessThanOrEqual=function(t){return this.comp(t)<=0},To.lte=To.lessThanOrEqual,To.le=To.lessThanOrEqual,To.greaterThan=function(t){return this.comp(t)>0},To.gt=To.greaterThan,To.greaterThanOrEqual=function(t){return this.comp(t)>=0},To.gte=To.greaterThanOrEqual,To.ge=To.greaterThanOrEqual,To.compare=function(t){if(so(t)||(t=go(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},To.comp=To.compare,To.negate=function(){return!this.unsigned&&this.eq(Mo)?Mo:this.not().add(xo)},To.neg=To.negate,To.add=function(t){so(t)||(t=go(t));var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=t.high>>>16,s=65535&t.high,a=t.low>>>16,l=0,c=0,u=0,h=0;return u+=(h+=i+(65535&t.low))>>>16,c+=(u+=r+a)>>>16,l+=(c+=n+s)>>>16,l+=e+o,fo((u&=65535)<<16|(h&=65535),(l&=65535)<<16|(c&=65535),this.unsigned)},To.subtract=function(t){return so(t)||(t=go(t)),this.add(t.neg())},To.sub=To.subtract,To.multiply=function(t){if(this.isZero())return this;if(so(t)||(t=go(t)),io)return fo(io.mul(this.low,this.high,t.low,t.high),io.get_high(),this.unsigned);if(t.isZero())return this.unsigned?wo:_o;if(this.eq(Mo))return t.isOdd()?Mo:_o;if(t.eq(Mo))return this.isOdd()?Mo:_o;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(bo)&&t.lt(bo))return ho(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=t.high>>>16,s=65535&t.high,a=t.low>>>16,l=65535&t.low,c=0,u=0,h=0,f=0;return h+=(f+=i*l)>>>16,u+=(h+=r*l)>>>16,h&=65535,u+=(h+=i*a)>>>16,c+=(u+=n*l)>>>16,u&=65535,c+=(u+=r*a)>>>16,u&=65535,c+=(u+=i*s)>>>16,c+=e*l+n*a+r*s+i*o,fo((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(u&=65535),this.unsigned)},To.mul=To.multiply,To.divide=function(t){if(so(t)||(t=go(t)),t.isZero())throw Error("division by zero");var e,n,r;if(io)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?fo((this.unsigned?io.div_u:io.div_s)(this.low,this.high,t.low,t.high),io.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?wo:_o;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return wo;if(t.gt(this.shru(1)))return Eo;r=wo}else{if(this.eq(Mo))return t.eq(xo)||t.eq(So)?Mo:t.eq(Mo)?xo:(e=this.shr(1).div(t).shl(1)).eq(_o)?t.isNegative()?xo:So:(n=this.sub(t.mul(e)),r=e.add(n.div(t)));if(t.eq(Mo))return this.unsigned?wo:_o;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=_o}for(n=this;n.gte(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var i=Math.ceil(Math.log(e)/Math.LN2),o=i<=48?1:po(2,i-48),s=ho(e),a=s.mul(t);a.isNegative()||a.gt(n);)a=(s=ho(e-=o,this.unsigned)).mul(t);s.isZero()&&(s=xo),r=r.add(s),n=n.sub(a)}return r},To.div=To.divide,To.modulo=function(t){return so(t)||(t=go(t)),io?fo((this.unsigned?io.rem_u:io.rem_s)(this.low,this.high,t.low,t.high),io.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},To.mod=To.modulo,To.rem=To.modulo,To.not=function(){return fo(~this.low,~this.high,this.unsigned)},To.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},To.clz=To.countLeadingZeros,To.countTrailingZeros=function(){return this.low?ao(this.low):ao(this.high)+32},To.ctz=To.countTrailingZeros,To.and=function(t){return so(t)||(t=go(t)),fo(this.low&t.low,this.high&t.high,this.unsigned)},To.or=function(t){return so(t)||(t=go(t)),fo(this.low|t.low,this.high|t.high,this.unsigned)},To.xor=function(t){return so(t)||(t=go(t)),fo(this.low^t.low,this.high^t.high,this.unsigned)},To.shiftLeft=function(t){return so(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?fo(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):fo(0,this.low<<t-32,this.unsigned)},To.shl=To.shiftLeft,To.shiftRight=function(t){return so(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?fo(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):fo(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},To.shr=To.shiftRight,To.shiftRightUnsigned=function(t){return so(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?fo(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):fo(32===t?this.high:this.high>>>t-32,0,this.unsigned)},To.shru=To.shiftRightUnsigned,To.shr_u=To.shiftRightUnsigned,To.rotateLeft=function(t){var e;return so(t)&&(t=t.toInt()),0===(t&=63)?this:32===t?fo(this.high,this.low,this.unsigned):t<32?(e=32-t,fo(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)):(e=32-(t-=32),fo(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned))},To.rotl=To.rotateLeft,To.rotateRight=function(t){var e;return so(t)&&(t=t.toInt()),0===(t&=63)?this:32===t?fo(this.high,this.low,this.unsigned):t<32?(e=32-t,fo(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)):(e=32-(t-=32),fo(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned))},To.rotr=To.rotateRight,To.toSigned=function(){return this.unsigned?fo(this.low,this.high,!1):this},To.toUnsigned=function(){return this.unsigned?this:fo(this.low,this.high,!0)},To.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},To.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},To.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},oo.fromBytes=function(t,e,n){return n?oo.fromBytesLE(t,e):oo.fromBytesBE(t,e)},oo.fromBytesLE=function(t,e){return new oo(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},oo.fromBytesBE=function(t,e){return new oo(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};const Oo=oo,Io=16;function Ro(t){"X"===t&&(t="");const e=t.padEnd(Io,"0");return Oo.fromString(e,!0,16)}const Lo=3,ko=61,Bo=180/Math.PI;function No(t,e,n){const r=1<<e;return[(t[0]+n[0])/r,(t[1]+n[1])/r]}function Do(t){return t>=.5?1/3*(4*t*t-1):1/3*(1-4*(1-t)*(1-t))}function Fo(t){return[Do(t[0]),Do(t[1])]}function jo(t,e){let[n,r]=e;switch(t){case 0:return[1,n,r];case 1:return[-n,1,r];case 2:return[-n,-r,1];case 3:return[-1,-r,-n];case 4:return[r,-1,-n];case 5:return[r,n,-1];default:throw new Error("Invalid face")}}function Uo(t){let[e,n,r]=t;const i=Math.atan2(r,Math.sqrt(e*e+n*n));return[Math.atan2(n,e)*Bo,i*Bo]}function zo(t,e,n,r){if(0===r){1===n&&(e[0]=t-1-e[0],e[1]=t-1-e[1]);const r=e[0];e[0]=e[1],e[1]=r}}function Go(t){const e=function(t){if(t.indexOf("/")>0)return t;const e=Ro(t);return function(t){if(t.isZero())return"";let e=t.toString(2);for(;e.length<Lo+ko;)e="0"+e;const n=e.lastIndexOf("1"),r=e.substring(0,3),i=e.substring(3,n),o=i.length/2,s=Oo.fromString(r,!0,2).toString(10);let a="";if(0!==o)for(a=Oo.fromString(i,!0,2).toString(4);a.length<o;)a="0"+a;return"".concat(s,"/").concat(a)}(e)}(t),n=function(t){if(0===t.length)throw new Error("Invalid Hilbert quad key ".concat(t));const e=t.split("/"),n=parseInt(e[0],10),r=e[1],i=r.length;let o=0;const s=[0,0];for(let a=i-1;a>=0;a--){o=i-a;const t=r[a];let e=0,n=0;"1"===t?n=1:"2"===t?(e=1,n=1):"3"===t&&(e=1);const l=Math.pow(2,o-1);zo(l,s,e,n),s[0]+=l*e,s[1]+=l*n}if(n%2===1){const t=s[0];s[0]=s[1],s[1]=t}return{face:n,ij:s,level:o}}(e);return n}const Vo=100;function Ho(t){const{face:e,ij:n,level:r}=t,i=[[0,0],[0,1],[1,1],[1,0],[0,0]],o=Math.max(1,Math.ceil(Vo*Math.pow(2,-r))),s=new Float64Array(4*o*2+2);let a=0,l=0;for(let c=0;c<4;c++){const t=i[c].slice(0),u=i[c+1],h=(u[0]-t[0])/o,f=(u[1]-t[1])/o;for(let i=0;i<o;i++){t[0]+=h,t[1]+=f;const i=Uo(jo(e,Fo(No(n,r,t))));Math.abs(i[1])>89.999&&(i[0]=l);const o=i[0]-l;i[0]+=o>180?-360:o<-180?360:0,s[a++]=i[0],s[a++]=i[1],l=i[0]}}return s[a++]=s[0],s[a++]=s[1],s}function Wo(t){if(t.length%2!==0)throw new Error("Invalid corners");const e=[],n=[];for(let r=0;r<t.length;r+=2)e.push(t[r]),n.push(t[r+1]);return e.sort(((t,e)=>t-e)),n.sort(((t,e)=>t-e)),{west:e[0],east:e[e.length-1],north:n[n.length-1],south:n[0]}}function qo(t,e){const n=(null===e||void 0===e?void 0:e.minimumHeight)||0,r=(null===e||void 0===e?void 0:e.maximumHeight)||0,i=function(t){let e;if(2===t.face||5===t.face){let n=null,r=0;for(let e=0;e<4;e++){const i=Ho(Go("".concat(t.face,"/").concat(e)));"undefined"!==typeof n&&null!==n||(n=new Float64Array(4*i.length)),n.set(i,r),r+=i.length}e=Wo(n)}else e=Wo(Ho(t));return e}(Go(t)),o=i.west,s=i.south,a=i.east,l=i.north,c=[];return c.push(new Et.A(o,l,n)),c.push(new Et.A(a,l,n)),c.push(new Et.A(a,s,n)),c.push(new Et.A(o,s,n)),c.push(new Et.A(o,l,r)),c.push(new Et.A(a,l,r)),c.push(new Et.A(a,s,r)),c.push(new Et.A(o,s,r)),c}function Xo(t){return function(t){const e=Fo(No(t.ij,t.level,[.5,.5]));return Uo(jo(t.face,e))}(Go(t))}function Yo(t){const e=t.token,n={minimumHeight:t.minimumHeight,maximumHeight:t.maximumHeight},r=qo(e,n),i=Xo(e),o=i[0],s=i[1],a=Xn.WGS84.cartographicToCartesian([o,s,n.maximumHeight]),l=new Et.A(a[0],a[1],a[2]);r.push(l);const c=xe(r);return[...c.center,...c.halfAxes]}const Qo={QUADTREE:4,OCTREE:8};function Ko(t,e,n){if(null!==t&&void 0!==t&&t.box){const r=function(t,e){const n=function(t){return t.and(t.not().add(1))}(t).shiftRightUnsigned(2);return t.add(Oo.fromNumber(2*e+1-4).multiply(n))}(Ro(t.s2VolumeInfo.token),e),i=function(t){if(t.isZero())return"X";let e=t.countTrailingZeros();e=(e-e%4)/4;const n=e;e*=4;const r=t.shiftRightUnsigned(e).toString(16).replace(/0+$/,"");return Array(17-n-r.length).join("0")+r}(r),o={...t.s2VolumeInfo};if(o.token=i,"OCTREE"===n){const e=t.s2VolumeInfo,n=e.maximumHeight-e.minimumHeight,r=n/2,i=e.minimumHeight+n/2;e.minimumHeight=i-r,e.maximumHeight=i+r}return{box:Yo(o),s2VolumeInfo:o}}}async function Jo(t){const{options:e,parentData:n={mortonIndex:0,x:0,y:0,z:0},childIndex:r=0,globalData:i={level:0,mortonIndex:0,x:0,y:0,z:0},s2VolumeBox:o}=t;let{subtree:s,level:a=0}=t;const{subdivisionScheme:l,subtreeLevels:c,maximumLevel:u,contentUrlTemplate:h,subtreesUriTemplate:f,basePath:d}=e,p={children:[],lodMetricValue:0,contentUrl:""},A=Qo[l],g=1&r,y=r>>1&1,m=r>>2&1,v=(A**a-1)/(A-1);let b=ts(n.mortonIndex,r),_=v+b,w=ts(n.x,g),x=ts(n.y,y),E=ts(n.z,m),S=!1;a+1>c&&(S=Zo(s.childSubtreeAvailability,b));const C=ts(i.x,w),P=ts(i.y,x),M=ts(i.z,E),T=a+i.level;if(S){const t=es("".concat(d,"/").concat(f),T,C,P,M);s=await(0,wn.H)(t,ro),i.mortonIndex=b,i.x=w,i.y=x,i.z=E,i.level=a,b=0,_=0,w=0,x=0,E=0,a=0}if(!Zo(s.tileAvailability,_)||a>u)return p;Zo(s.contentAvailability,_)&&(p.contentUrl=es(h,T,C,P,M));const O=a+1,I={mortonIndex:b,x:w,y:x,z:E};for(let R=0;R<A;R++){const t=Ko(o,R,l),n=await Jo({subtree:s,options:e,parentData:I,childIndex:R,level:O,globalData:i,s2VolumeBox:t});if(n.contentUrl||n.children.length){const t=$o(n,T+1,{childTileX:w,childTileY:x,childTileZ:E},e,o);p.children.push(t)}}return p}function Zo(t,e){return"constant"in t?Boolean(t.constant):!!t.explicitBitstream&&function(t,e){const n=Math.floor(t/8),r=t%8;return 1===(e[n]>>r&1)}(e,t.explicitBitstream)}function $o(t,e,n,r,i){const{basePath:o,refine:s,getRefine:a,lodMetricType:l,getTileType:c,rootLodMetricValue:u,rootBoundingVolume:h}=r,f=t.contentUrl&&t.contentUrl.replace("".concat(o,"/"),""),d=u/2**e,p=function(t,e,n){if(e.region){const{childTileX:r,childTileY:i,childTileZ:o}=n,[s,a,l,c,u,h]=e.region,f=2**t,d=(l-s)/f,p=(c-a)/f,A=(h-u)/f,[g,y]=[s+d*r,s+d*(r+1)],[m,v]=[a+p*i,a+p*(i+1)],[b,_]=[u+A*o,u+A*(o+1)];return{region:[g,m,y,v,b,_]}}if(e.box)return e;throw new Error("Unsupported bounding volume type ".concat(e))}(e,null!==i&&void 0!==i&&i.box?{box:i.box}:h,n);return{children:t.children,contentUrl:t.contentUrl,content:{uri:f},id:t.contentUrl,refine:a(s),type:c(t),lodMetricType:l,lodMetricValue:d,geometricError:d,transform:t.transform,boundingVolume:p}}function ts(t,e){return parseInt(t.toString(2)+e.toString(2),2)}function es(t,e,n,r,i){const o=function(t){const e={};for(const n in t)e["{".concat(n,"}")]=t[n];return e}({level:e,x:n,y:r,z:i});return t.replace(/{level}|{x}|{y}|{z}/gi,(t=>o[t]))}function ns(t){if(!t.contentUrl)return Ar.EMPTY;const e=t.contentUrl.split("?")[0].split(".").pop();switch(e){case"pnts":return Ar.POINTCLOUD;case"i3dm":case"b3dm":case"glb":case"gltf":return Ar.SCENEGRAPH;default:return e}}function rs(t){switch(t){case"REPLACE":case"replace":return pr.REPLACE;case"ADD":case"add":return pr.ADD;default:return t}}function is(t,e){if(/^[a-z][0-9a-z+.-]*:/i.test(e)){const n=new URL(t,"".concat(e,"/"));return decodeURI(n.toString())}return t.startsWith("/")?t:"".concat(e,"/").concat(t)}function os(t,e){if(!t)return null;if(t.content){const n=t.content.uri||t.content.url;t.contentUrl=is(n,e.basePath)}return t.id=t.contentUrl,t.lodMetricType=yr.GEOMETRIC_ERROR,t.lodMetricValue=t.geometricError,t.transformMatrix=t.transform,t.type=ns(t),t.refine=rs(t.refine),t}async function ss(t,e,n,r){var i,o;const s=e.basePath,{subdivisionScheme:a,maximumLevel:l,subtreeLevels:c,subtrees:{uri:u}}=n,h=is(es(u,0,0,0,0),s),f=await(0,wn.H)(h,ro,r),d=is(t.content.uri,s),p=null===e||void 0===e||null===(i=e.root)||void 0===i?void 0:i.refine,A=t.geometricError,g=null===(o=t.boundingVolume.extensions)||void 0===o?void 0:o["3DTILES_bounding_volume_S2"];if(g){const e={box:Yo(g),s2VolumeInfo:g};t.boundingVolume=e}const y=t.boundingVolume,m={contentUrlTemplate:d,subtreesUriTemplate:u,subdivisionScheme:a,subtreeLevels:c,maximumLevel:l,refine:p,basePath:s,lodMetricType:yr.GEOMETRIC_ERROR,rootLodMetricValue:A,rootBoundingVolume:y,getTileType:ns,getRefine:rs};return await async function(t,e,n){if(!t)return null;t.lodMetricType=yr.GEOMETRIC_ERROR,t.lodMetricValue=t.geometricError,t.transformMatrix=t.transform;const{children:r,contentUrl:i}=await Jo({subtree:e,options:n,s2VolumeBox:t});i&&(t.contentUrl=i,t.content={uri:i.replace("".concat(n.basePath,"/"),"")});return t.refine=rs(t.refine),t.type=ns(t),t.children=r,t.id=t.contentUrl,t}(t,f,m)}function as(t){var e;return(null===t||void 0===t||null===(e=t.extensions)||void 0===e?void 0:e["3DTILES_implicit_tiling"])||(null===t||void 0===t?void 0:t.implicitTiling)}const ls={id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:li,extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:async function(t,e,n){const r=e["3d-tiles"]||{};let i;i="auto"===r.isTileset?n.url&&-1!==n.url.indexOf(".json"):r.isTileset;t=i?await async function(t,e,n){var r;const i=JSON.parse((new TextDecoder).decode(t));return i.loader=e.loader||ls,i.url=n.url,i.queryString=n.queryString,i.basePath=function(t){return Yn(t.url)}(i),i.root=await async function(t,e){const n=t.basePath;let r;const i=as(null===t||void 0===t?void 0:t.root);r=i&&t.root?await ss(t.root,t,i,e):os(t.root,t);const o=[];for(o.push(r);o.length>0;){const r=(o.pop()||{}).children||[];for(let i of r){const r=as(i);r?i=await ss(i,t,r,e):os(i,{basePath:n}),o.push(i)}}return r}(i,e),i.type=gr.TILES3D,i.lodMetricType=yr.GEOMETRIC_ERROR,i.lodMetricValue=(null===(r=i.root)||void 0===r?void 0:r.lodMetricValue)||0,i}(t,e,n):await async function(t,e,n){const r={content:{featureIds:null}},i=0;return await to(t,i,e,n,r.content),r.content}(t,e,n);return t},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}};const cs=[0],us={getPointColor:{type:"accessor",value:[0,0,0,255]},pointSize:1,data:"",loader:ls,onTilesetLoad:{type:"function",value:t=>{}},onTileLoad:{type:"function",value:t=>{}},onTileUnload:{type:"function",value:t=>{}},onTileError:{type:"function",value:(t,e,n)=>{}},_getMeshColor:{type:"function",value:t=>[255,255,255]}};class hs extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}initializeState(){"onTileLoadFail"in this.props&&pn.A.removed("onTileLoadFail","onTileError")(),this.state={layerMap:{},tileset3d:null,activeViewports:{},lastUpdatedViewports:null}}get isLoaded(){var t,e;return Boolean((null===(t=this.state)||void 0===t||null===(e=t.tileset3d)||void 0===e?void 0:e.isLoaded())&&super.isLoaded)}shouldUpdateState(t){let{changeFlags:e}=t;return e.somethingChanged}updateState(t){let{props:e,oldProps:n,changeFlags:r}=t;if(e.data&&e.data!==n.data&&this._loadTileset(e.data),r.viewportChanged){const{activeViewports:t}=this.state;Object.keys(t).length&&(this._updateTileset(t),this.state.lastUpdatedViewports=t,this.state.activeViewports={})}if(r.propsChanged){const{layerMap:t}=this.state;for(const e in t)t[e].needsUpdate=!0}}activateViewport(t){const{activeViewports:e,lastUpdatedViewports:n}=this.state;this.internalState.viewport=t,e[t.id]=t;const r=null===n||void 0===n?void 0:n[t.id];r&&t.equals(r)||(this.setChangeFlags({viewportChanged:!0}),this.setNeedsUpdate())}getPickingInfo(t){let{info:e,sourceLayer:n}=t;const r=n&&n.props.tile;return e.picked&&(e.object=r),e.sourceTile=r,e}filterSubLayer(t){let{layer:e,viewport:n}=t;const{tile:r}=e.props,{id:i}=n;return r.selected&&r.viewportIds.includes(i)}_updateAutoHighlight(t){const e=t.sourceTile,n=this.state.layerMap[null===e||void 0===e?void 0:e.id];n&&n.layer&&n.layer.updateAutoHighlight(t)}async _loadTileset(t){const{loadOptions:e={}}=this.props;let n=this.props.loader||this.props.loaders;Array.isArray(n)&&(n=n[0]);const r={loadOptions:{...e}};let i=t;if(n.preload){const o=await n.preload(t,e);o.url&&(i=o.url),o.headers&&(r.loadOptions.fetch={...r.loadOptions.fetch,headers:o.headers}),Object.assign(r,o)}const o=await(0,wn.H)(i,n,r.loadOptions),s=new ai(o,{onTileLoad:this._onTileLoad.bind(this),onTileUnload:this._onTileUnload.bind(this),onTileError:this.props.onTileError,...r});this.setState({tileset3d:s,layerMap:{}}),this._updateTileset(this.state.activeViewports),this.props.onTilesetLoad(s)}_onTileLoad(t){const{lastUpdatedViewports:e}=this.state;this.props.onTileLoad(t),this._updateTileset(e),this.setNeedsUpdate()}_onTileUnload(t){delete this.state.layerMap[t.id],this.props.onTileUnload(t)}_updateTileset(t){if(!t)return;const{tileset3d:e}=this.state,{timeline:n}=this.context,r=Object.keys(t).length;n&&r&&e&&e.selectTiles(Object.values(t)).then((t=>{this.state.frameNumber!==t&&this.setState({frameNumber:t})}))}_getSubLayer(t,e){if(!t.content)return null;switch(t.type){case Ar.POINTCLOUD:return this._makePointCloudLayer(t,e);case Ar.SCENEGRAPH:return this._make3DModelLayer(t);case Ar.MESH:return this._makeSimpleMeshLayer(t,e);default:throw new Error("Tile3DLayer: Failed to render layer of type ".concat(t.content.type))}}_makePointCloudLayer(t,e){const{attributes:n,pointCount:r,constantRGBA:i,cartographicOrigin:o,modelMatrix:a}=t.content,{positions:l,normals:c,colors:u}=n;if(!l)return null;const h=e&&e.props.data||{header:{vertexCount:r},attributes:{POSITION:l,NORMAL:c,COLOR_0:u}},{pointSize:f,getPointColor:d}=this.props;return new(this.getSubLayerClass("pointcloud",An.A))({pointSize:f},this.getSubLayerProps({id:"pointcloud"}),{id:"".concat(this.id,"-pointcloud-").concat(t.id),tile:t,data:h,coordinateSystem:s.rf.METER_OFFSETS,coordinateOrigin:o,modelMatrix:a,getColor:i||d,_offset:0})}_make3DModelLayer(t){const{gltf:e,instances:n,cartographicOrigin:r,modelMatrix:i}=t.content;return new(this.getSubLayerClass("scenegraph",gn.A))({_lighting:"pbr"},this.getSubLayerProps({id:"scenegraph"}),{id:"".concat(this.id,"-scenegraph-").concat(t.id),tile:t,data:n||cs,scenegraph:e,coordinateSystem:s.rf.METER_OFFSETS,coordinateOrigin:r,modelMatrix:i,getTransformMatrix:t=>t.modelMatrix,getPosition:[0,0,0],_offset:0})}_makeSimpleMeshLayer(t,e){const n=t.content,{attributes:r,indices:i,modelMatrix:o,cartographicOrigin:a,coordinateSystem:l=s.rf.METER_OFFSETS,material:c,featureIds:u}=n,{_getMeshColor:h}=this.props,f=e&&e.props.mesh||new dn.A({drawMode:4,attributes:fs(r),indices:i});return new(this.getSubLayerClass("mesh",_n))(this.getSubLayerProps({id:"mesh"}),{id:"".concat(this.id,"-mesh-").concat(t.id),tile:t,mesh:f,data:cs,getColor:h(t),pbrMaterial:c,modelMatrix:o,coordinateOrigin:a,coordinateSystem:l,featureIds:u,_offset:0})}renderLayers(){const{tileset3d:t,layerMap:e}=this.state;return t?t.tiles.map((t=>{const n=e[t.id]=e[t.id]||{tile:t};let{layer:r}=n;return t.selected&&(r?n.needsUpdate&&(r=this._getSubLayer(t,r),n.needsUpdate=!1):r=this._getSubLayer(t)),n.layer=r,r})).filter(Boolean):null}}function fs(t){const e={};return e.positions={...t.positions,value:new Float32Array(t.positions.value)},t.normals&&(e.normals=t.normals),t.texCoords&&(e.texCoords=t.texCoords),t.colors&&(e.colors=t.colors),t.uvRegions&&(e.uvRegions=t.uvRegions),e}(0,r.A)(hs,"defaultProps",us),(0,r.A)(hs,"layerName","Tile3DLayer");const ds={name:"Terrain",id:"terrain",module:"terrain",version:"3.4.15",worker:!0,extensions:["png","pngraw","jpg","jpeg","gif","webp","bmp"],mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp"],options:{terrain:{tesselator:"auto",bounds:null,meshMaxError:10,elevationDecoder:{rScaler:1,gScaler:0,bScaler:0,offset:0},skirtHeight:null}}},ps=[1],As={...tn.defaultProps,elevationData:Re,texture:{...Re,optional:!0},meshMaxError:{type:"number",value:4},bounds:{type:"array",value:null,optional:!0,compare:!0},color:{type:"color",value:[255,255,255]},elevationDecoder:{type:"object",value:{rScaler:1,gScaler:0,bScaler:0,offset:0}},workerUrl:"",wireframe:!1,material:!0,loaders:[ds]};function gs(t){return Array.isArray(t)?t.join(";"):t||""}class ys extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}updateState(t){let{props:e,oldProps:n}=t;const r=e.elevationData!==n.elevationData;if(r){const{elevationData:t}=e,n=t&&(Array.isArray(t)||t.includes("{x}")&&t.includes("{y}"));this.setState({isTiled:n})}const i=r||e.meshMaxError!==n.meshMaxError||e.elevationDecoder!==n.elevationDecoder||e.bounds!==n.bounds;if(!this.state.isTiled&&i){const t=this.loadTerrain(e);this.setState({terrain:t})}e.workerUrl&&pn.A.removed("workerUrl","loadOptions.terrain.workerUrl")()}loadTerrain(t){let{elevationData:e,bounds:n,elevationDecoder:r,meshMaxError:i,signal:o}=t;var s;if(!e)return null;let a=this.getLoadOptions();a={...a,terrain:{skirtHeight:this.state.isTiled?2*i:0,...null===(s=a)||void 0===s?void 0:s.terrain,bounds:n,meshMaxError:i,elevationDecoder:r}};const{fetch:l}=this.props;return l(e,{propName:"elevationData",layer:this,loadOptions:a,signal:o})}getTiledTerrainData(t){const{elevationData:e,fetch:n,texture:r,elevationDecoder:i,meshMaxError:o}=this.props,{viewport:s}=this.context,a=ke(e,t),l=r&&ke(r,t),{signal:c}=t;let u=[0,0],h=[0,0];if(s.isGeospatial){const e=t.bbox;u=s.projectFlat([e.west,e.south]),h=s.projectFlat([e.east,e.north])}else{const e=t.bbox;u=[e.left,e.bottom],h=[e.right,e.top]}const f=[u[0],u[1],h[0],h[1]],d=this.loadTerrain({elevationData:a,bounds:f,elevationDecoder:i,meshMaxError:o,signal:c}),p=l?n(l,{propName:"texture",layer:this,loaders:[],signal:c}).catch((t=>null)):Promise.resolve(null);return Promise.all([d,p])}renderSubLayers(t){const e=this.getSubLayerClass("mesh",bn.A),{color:n,wireframe:r,material:i}=this.props,{data:o}=t;if(!o)return null;const[a,l]=o;return new e(t,{data:ps,mesh:a,texture:l,_instanced:!1,coordinateSystem:s.rf.CARTESIAN,getPosition:t=>[0,0,0],getColor:n,wireframe:r,material:i})}onViewportLoad(t){if(!t)return;const{zRange:e}=this.state,n=t.map((t=>t.content)).filter(Boolean).map((t=>t[0].header.boundingBox.map((t=>t[2]))));if(0===n.length)return;const r=Math.min(...n.map((t=>t[0]))),i=Math.max(...n.map((t=>t[1])));(!e||r<e[0]||i>e[1])&&this.setState({zRange:[r,i]})}renderLayers(){const{color:t,material:e,elevationData:n,texture:r,wireframe:i,meshMaxError:o,elevationDecoder:s,tileSize:a,maxZoom:l,minZoom:c,extent:u,maxRequests:h,onTileLoad:f,onTileUnload:d,onTileError:p,maxCacheSize:A,maxCacheByteSize:g,refinementStrategy:y}=this.props;if(this.state.isTiled)return new tn(this.getSubLayerProps({id:"tiles"}),{getTileData:this.getTiledTerrainData.bind(this),renderSubLayers:this.renderSubLayers.bind(this),updateTriggers:{getTileData:{elevationData:gs(n),texture:gs(r),meshMaxError:o,elevationDecoder:s}},onViewportLoad:this.onViewportLoad.bind(this),zRange:this.state.zRange||null,tileSize:a,maxZoom:l,minZoom:c,extent:u,maxRequests:h,onTileLoad:f,onTileUnload:d,onTileError:p,maxCacheSize:A,maxCacheByteSize:g,refinementStrategy:y});if(!n)return null;return new(this.getSubLayerClass("mesh",bn.A))(this.getSubLayerProps({id:"mesh"}),{data:ps,mesh:this.state.terrain,texture:r,_instanced:!1,getPosition:t=>[0,0,0],getColor:t,material:e,wireframe:i})}}(0,r.A)(ys,"defaultProps",As),(0,r.A)(ys,"layerName","TerrainLayer");var ms=n(40712);const vs={clipBounds:[0,0,1,1],clipByInstance:void 0},bs="\nuniform vec4 clip_bounds;\n\nbool clip_isInBounds(vec2 position) {\n  return position.x >= clip_bounds[0] && position.y >= clip_bounds[1] && position.x < clip_bounds[2] && position.y < clip_bounds[3];\n}\n",_s={name:"clip-vs",vs:bs},ws={"vs:#decl":"\nvarying float clip_isVisible;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_isVisible = float(clip_isInBounds(geometry.worldPosition.xy));\n","fs:#decl":"\nvarying float clip_isVisible;\n","fs:DECKGL_FILTER_COLOR":"\n  if (clip_isVisible < 0.5) discard;\n"},xs={name:"clip-fs",fs:bs},Es={"vs:#decl":"\nvarying vec2 clip_commonPosition;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_commonPosition = geometry.position.xy;\n","fs:#decl":"\nvarying vec2 clip_commonPosition;\n","fs:DECKGL_FILTER_COLOR":"\n  if (!clip_isInBounds(clip_commonPosition)) discard;\n"};class Ss extends ms.A{getShaders(){let t="instancePositions"in this.getAttributeManager().attributes;return void 0!==this.props.clipByInstance&&(t=Boolean(this.props.clipByInstance)),this.state.clipByInstance=t,t?{modules:[_s],inject:ws}:{modules:[xs],inject:Es}}draw(t){let{uniforms:e}=t;const{clipBounds:n}=this.props;if(this.state.clipByInstance)e.clip_bounds=n;else{const t=this.projectPosition([n[0],n[1],0]),r=this.projectPosition([n[2],n[3],0]);e.clip_bounds=[Math.min(t[0],r[0]),Math.min(t[1],r[1]),Math.max(t[0],r[0]),Math.max(t[1],r[1])]}}}(0,r.A)(Ss,"defaultProps",vs),(0,r.A)(Ss,"extensionName","ClipExtension");var Cs=n(58752);function Ps(t,e,n){const r=Ms(t),i=Object.keys(r).filter((t=>r[t]!==Array));return function(t,e,n){const{pointPositionsCount:r,pointFeaturesCount:i,linePositionsCount:o,linePathsCount:s,lineFeaturesCount:a,polygonPositionsCount:l,polygonObjectsCount:c,polygonRingsCount:u,polygonFeaturesCount:h,propArrayTypes:f,coordLength:d}=e,{numericPropKeys:p=[],PositionDataType:A=Float32Array,triangulate:g=!0}=n,y=t[0]&&"id"in t[0],m=t.length>65535?Uint32Array:Uint16Array,v={type:"Point",positions:new A(r*d),globalFeatureIds:new m(r),featureIds:i>65535?new Uint32Array(r):new Uint16Array(r),numericProps:{},properties:[],fields:[]},b={type:"LineString",pathIndices:o>65535?new Uint32Array(s+1):new Uint16Array(s+1),positions:new A(o*d),globalFeatureIds:new m(o),featureIds:a>65535?new Uint32Array(o):new Uint16Array(o),numericProps:{},properties:[],fields:[]},_={type:"Polygon",polygonIndices:l>65535?new Uint32Array(c+1):new Uint16Array(c+1),primitivePolygonIndices:l>65535?new Uint32Array(u+1):new Uint16Array(u+1),positions:new A(l*d),globalFeatureIds:new m(l),featureIds:h>65535?new Uint32Array(l):new Uint16Array(l),numericProps:{},properties:[],fields:[]};g&&(_.triangles=[]);for(const x of[v,b,_])for(const t of p){const e=f[t];x.numericProps[t]=new e(x.positions.length/d)}b.pathIndices[s]=o,_.polygonIndices[c]=l,_.primitivePolygonIndices[u]=l;const w={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0};for(const x of t){const t=x.geometry,e=x.properties||{};switch(t.type){case"Point":Ts(t,v,w,d,e),v.properties.push(Bs(e,p)),y&&v.fields.push({id:x.id}),w.pointFeature++;break;case"LineString":Os(t,b,w,d,e),b.properties.push(Bs(e,p)),y&&b.fields.push({id:x.id}),w.lineFeature++;break;case"Polygon":Is(t,_,w,d,e),_.properties.push(Bs(e,p)),y&&_.fields.push({id:x.id}),w.polygonFeature++;break;default:throw new Error("Invalid geometry type")}w.feature++}return function(t,e,n,r){const i={points:{...t,positions:{value:t.positions,size:r},globalFeatureIds:{value:t.globalFeatureIds,size:1},featureIds:{value:t.featureIds,size:1},numericProps:Ls(t.numericProps,1)},lines:{...e,positions:{value:e.positions,size:r},pathIndices:{value:e.pathIndices,size:1},globalFeatureIds:{value:e.globalFeatureIds,size:1},featureIds:{value:e.featureIds,size:1},numericProps:Ls(e.numericProps,1)},polygons:{...n,positions:{value:n.positions,size:r},polygonIndices:{value:n.polygonIndices,size:1},primitivePolygonIndices:{value:n.primitivePolygonIndices,size:1},globalFeatureIds:{value:n.globalFeatureIds,size:1},featureIds:{value:n.featureIds,size:1},numericProps:Ls(n.numericProps,1)}};n.triangles&&(i.polygons.triangles={value:new Uint32Array(n.triangles),size:1});return i}(v,b,_,d)}(t,{propArrayTypes:r,...e},{numericPropKeys:n&&n.numericPropKeys||i,PositionDataType:n?n.PositionDataType:Float32Array,triangulate:!n||n.triangulate})}function Ms(t){const e={};for(const n of t)if(n.properties)for(const t in n.properties){const r=n.properties[t];e[t]=Ns(r,e[t])}return e}function Ts(t,e,n,r,i){e.positions.set(t.data,n.pointPosition*r);const o=t.data.length/r;ks(e,i,n.pointPosition,o),e.globalFeatureIds.fill(n.feature,n.pointPosition,n.pointPosition+o),e.featureIds.fill(n.pointFeature,n.pointPosition,n.pointPosition+o),n.pointPosition+=o}function Os(t,e,n,r,i){e.positions.set(t.data,n.linePosition*r);const o=t.data.length/r;ks(e,i,n.linePosition,o),e.globalFeatureIds.fill(n.feature,n.linePosition,n.linePosition+o),e.featureIds.fill(n.lineFeature,n.linePosition,n.linePosition+o);for(let s=0,a=t.indices.length;s<a;++s){const i=t.indices[s],o=s===a-1?t.data.length:t.indices[s+1];e.pathIndices[n.linePath++]=n.linePosition,n.linePosition+=(o-i)/r}}function Is(t,e,n,r,i){e.positions.set(t.data,n.polygonPosition*r);const o=t.data.length/r;ks(e,i,n.polygonPosition,o),e.globalFeatureIds.fill(n.feature,n.polygonPosition,n.polygonPosition+o),e.featureIds.fill(n.polygonFeature,n.polygonPosition,n.polygonPosition+o);for(let s=0,a=t.indices.length;s<a;++s){const i=n.polygonPosition;e.polygonIndices[n.polygonObject++]=i;const o=t.areas[s],a=t.indices[s],l=t.indices[s+1];for(let s=0,c=a.length;s<c;++s){const i=a[s],o=s===c-1?void 0===l?t.data.length:l[0]:a[s+1];e.primitivePolygonIndices[n.polygonRing++]=n.polygonPosition,n.polygonPosition+=(o-i)/r}Rs(e,o,a,{startPosition:i,endPosition:n.polygonPosition,coordLength:r})}}function Rs(t,e,n,r){let{startPosition:i,endPosition:o,coordLength:s}=r;if(!t.triangles)return;const a=i*s,l=o*s,c=t.positions.subarray(a,l),u=n[0],h=n.slice(1).map((t=>(t-u)/s)),f=(0,Cs.hY)(c,h,s,e);for(let d=0,p=f.length;d<p;++d)t.triangles.push(i+f[d])}function Ls(t,e){const n={};for(const r in t)n[r]={value:t[r],size:e};return n}function ks(t,e,n,r){for(const i in t.numericProps)if(i in e){const o=e[i];t.numericProps[i].fill(o,n,n+r)}}function Bs(t,e){const n={};for(const r in t)e.includes(r)||(n[r]=t[r]);return n}function Ns(t,e){return e!==Array&&Number.isFinite(t)?e===Float64Array||Math.fround(t)!==t?Float64Array:Float32Array:Array}var Ds=n(2736),Fs=n.n(Ds);function js(t){let e=0;for(let n,r,i=0,o=t.length-1;i<t.length;o=i++)n=t[i],r=t[o],e+=(r[0]-n[0])*(n[1]+r[1]);return e}function Us(t,e,n){e&&n&&(1===t?e.id=n.readVarint():2===t?function(t,e){const n=t.readVarint()+t.pos;for(;t.pos<n;){const n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}(n,e):3===t?e.type=n.readVarint():4===t&&(e._geometry=n.pos))}class zs{static get types(){return["Unknown","Point","LineString","Polygon"]}constructor(t,e,n,i,o){(0,r.A)(this,"properties",void 0),(0,r.A)(this,"extent",void 0),(0,r.A)(this,"type",void 0),(0,r.A)(this,"id",void 0),(0,r.A)(this,"_pbf",void 0),(0,r.A)(this,"_geometry",void 0),(0,r.A)(this,"_keys",void 0),(0,r.A)(this,"_values",void 0),this.properties={},this.extent=n,this.type=0,this.id=null,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(Us,this,e)}loadGeometry(){const t=this._pbf;t.pos=this._geometry;const e=t.readVarint()+t.pos;let n=1,r=0,i=0,o=0;const s=[];let a;for(;t.pos<e;){if(r<=0){const e=t.readVarint();n=7&e,r=e>>3}if(r--,1===n||2===n)i+=t.readSVarint(),o+=t.readSVarint(),1===n&&(a&&s.push(a),a=[]),a&&a.push([i,o]);else{if(7!==n)throw new Error("unknown command ".concat(n));a&&a.push(a[0].slice())}}return a&&s.push(a),s}bbox(){const t=this._pbf;t.pos=this._geometry;const e=t.readVarint()+t.pos;let n=1,r=0,i=0,o=0,s=1/0,a=-1/0,l=1/0,c=-1/0;for(;t.pos<e;){if(r<=0){const e=t.readVarint();n=7&e,r=e>>3}if(r--,1===n||2===n)i+=t.readSVarint(),o+=t.readSVarint(),i<s&&(s=i),i>a&&(a=i),o<l&&(l=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command ".concat(n))}return[s,l,a,c]}_toGeoJSON(t){let e,n,r=this.loadGeometry(),i=zs.types[this.type];switch(this.type){case 1:const i=[];for(e=0;e<r.length;e++)i[e]=r[e][0];r=i,t(r,this);break;case 2:for(e=0;e<r.length;e++)t(r[e],this);break;case 3:for(r=function(t){const e=t.length;if(e<=1)return[t];const n=[];let r,i;for(let o=0;o<e;o++){const e=js(t[o]);0!==e&&(void 0===i&&(i=e<0),i===e<0?(r&&n.push(r),r=[t[o]]):r&&r.push(t[o]))}return r&&n.push(r),n}(r),e=0;e<r.length;e++)for(n=0;n<r[e].length;n++)t(r[e][n],this)}1===r.length?r=r[0]:i="Multi".concat(i);const o={type:"Feature",geometry:{type:i,coordinates:r},properties:this.properties};return null!==this.id&&(o.id=this.id),o}toGeoJSON(t){if("function"===typeof t)return this._toGeoJSON(t);const{x:e,y:n,z:r}=t,i=this.extent*Math.pow(2,r),o=this.extent*e,s=this.extent*n;return this._toGeoJSON((function(t){for(let e=0;e<t.length;e++){const n=t[e];n[0]=360*(n[0]+o)/i-180;const r=180-360*(n[1]+s)/i;n[1]=360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90}}))}}class Gs{constructor(t,e){(0,r.A)(this,"version",void 0),(0,r.A)(this,"name",void 0),(0,r.A)(this,"extent",void 0),(0,r.A)(this,"length",void 0),(0,r.A)(this,"_pbf",void 0),(0,r.A)(this,"_keys",void 0),(0,r.A)(this,"_values",void 0),(0,r.A)(this,"_features",void 0),this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Vs,this,e),this.length=this._features.length}feature(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];const e=this._pbf.readVarint()+this._pbf.pos;return new zs(this._pbf,e,this.extent,this._keys,this._values)}}function Vs(t,e,n){e&&n&&(15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){let e=null;const n=t.readVarint()+t.pos;for(;t.pos<n;){const n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(n)))}class Hs{constructor(t,e){(0,r.A)(this,"layers",void 0),this.layers=t.readFields(Ws,{},e)}}function Ws(t,e,n){if(3===t&&n){const t=new Gs(n,n.readVarint()+n.pos);t.length&&e&&(e[t.name]=t)}}function qs(t){const e=t.indices.length,n="Polygon";if(e<=1)return{type:n,data:t.data,areas:[[(0,Cs.IC)(t.data)]],indices:[t.indices]};const r=[],i=[];let o,s=[],a=[],l=0;for(let c,u,h=0;h<e;h++){u=t.indices[h]-l,c=t.indices[h+1]-l||t.data.length;const e=t.data.slice(u,c),n=(0,Cs.IC)(e);if(0!==n)void 0===o&&(o=n<0),o===n<0?(a.length&&(r.push(s),i.push(a)),a=[u],s=[n]):(s.push(n),a.push(u));else{const e=t.data.slice(0,u),n=t.data.slice(c);t.data=e.concat(n),l+=c-u}}return s&&r.push(s),a.length&&i.push(a),{type:n,areas:r,indices:i,data:t.data}}function Xs(t,e,n){e&&n&&(1===t?e.id=n.readVarint():2===t?function(t,e){const n=t.readVarint()+t.pos;for(;t.pos<n;){const n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}(n,e):3===t?e.type=n.readVarint():4===t&&(e._geometry=n.pos))}let Ys,Qs,Ks,Js,Zs,$s,ta;class ea{constructor(t,e,n,i,o,s){(0,r.A)(this,"properties",void 0),(0,r.A)(this,"extent",void 0),(0,r.A)(this,"type",void 0),(0,r.A)(this,"id",void 0),(0,r.A)(this,"_pbf",void 0),(0,r.A)(this,"_geometry",void 0),(0,r.A)(this,"_keys",void 0),(0,r.A)(this,"_values",void 0),(0,r.A)(this,"_geometryInfo",void 0),this.properties={},this.extent=n,this.type=0,this.id=null,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,this._geometryInfo=s,t.readFields(Xs,this,e)}loadGeometry(){const t=this._pbf;t.pos=this._geometry,Ys=t.readVarint()+t.pos,Qs=1,Js=0,Zs=0,$s=0,ta=0;const e=[],n=[];for(;t.pos<Ys;)if(Js<=0&&(Ks=t.readVarint(),Qs=7&Ks,Js=Ks>>3),Js--,1===Qs||2===Qs)Zs+=t.readSVarint(),$s+=t.readSVarint(),1===Qs&&e.push(ta),n.push(Zs,$s),ta+=2;else{if(7!==Qs)throw new Error("unknown command ".concat(Qs));if(ta>0){const t=e[e.length-1];n.push(n[t],n[t+1]),ta+=2}}return{data:n,indices:e}}_toBinaryCoordinates(t){const e=this.loadGeometry();let n;t(e.data,this);switch(this.type){case 1:this._geometryInfo.pointFeaturesCount++,this._geometryInfo.pointPositionsCount+=e.indices.length,n={type:"Point",...e};break;case 2:this._geometryInfo.lineFeaturesCount++,this._geometryInfo.linePathsCount+=e.indices.length,this._geometryInfo.linePositionsCount+=e.data.length/2,n={type:"LineString",...e};break;case 3:n=qs(e),this._geometryInfo.polygonFeaturesCount++,this._geometryInfo.polygonObjectsCount+=n.indices.length;for(const t of n.indices)this._geometryInfo.polygonRingsCount+=t.length;this._geometryInfo.polygonPositionsCount+=n.data.length/2;break;default:throw new Error("Invalid geometry type: ".concat(this.type))}const r={type:"Feature",geometry:n,properties:this.properties};return null!==this.id&&(r.id=this.id),r}toBinaryCoordinates(t){if("function"===typeof t)return this._toBinaryCoordinates(t);const{x:e,y:n,z:r}=t,i=this.extent*Math.pow(2,r),o=this.extent*e,s=this.extent*n;return this._toBinaryCoordinates((t=>function(t,e,n,r){for(let i=0,o=t.length;i<o;i+=2){t[i]=360*(t[i]+e)/r-180;const o=180-360*(t[i+1]+n)/r;t[i+1]=360/Math.PI*Math.atan(Math.exp(o*Math.PI/180))-90}}(t,o,s,i)))}}class na{constructor(t,e){(0,r.A)(this,"version",void 0),(0,r.A)(this,"name",void 0),(0,r.A)(this,"extent",void 0),(0,r.A)(this,"length",void 0),(0,r.A)(this,"_pbf",void 0),(0,r.A)(this,"_keys",void 0),(0,r.A)(this,"_values",void 0),(0,r.A)(this,"_features",void 0),this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(ra,this,e),this.length=this._features.length}feature(t,e){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];const n=this._pbf.readVarint()+this._pbf.pos;return new ea(this._pbf,n,this.extent,this._keys,this._values,e)}}function ra(t,e,n){e&&n&&(15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){let e=null;const n=t.readVarint()+t.pos;for(;t.pos<n;){const n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(n)))}class ia{constructor(t,e){(0,r.A)(this,"layers",void 0),this.layers=t.readFields(oa,{},e)}}function oa(t,e,n){if(3===t&&n){const t=new na(n,n.readVarint()+n.pos);t.length&&e&&(e[t.name]=t)}}function sa(t,e){var n,r;const i=function(t){var e;if(null===t||void 0===t||!t.mvt)throw new Error("mvt options required");const n="wgs84"===(null===(e=t.mvt)||void 0===e?void 0:e.coordinates),{tileIndex:r}=t.mvt,i=r&&Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z);if(n&&!i)throw new Error("MVT Loader: WGS84 coordinates need tileIndex property");return t.mvt}(e),o=(null===e||void 0===e||null===(n=e.gis)||void 0===n?void 0:n.format)||(null===e||void 0===e||null===(r=e.mvt)||void 0===r?void 0:r.shape);switch(o){case"columnar-table":return{shape:"columnar-table",data:aa(t,i)};case"geojson-row-table":return{shape:"geojson-row-table",data:la(t,i)};case"geojson":return la(t,i);case"binary-geometry":case"binary":return aa(t,i);default:throw new Error(o)}}function aa(t,e){const[n,r]=function(t,e){const n=[],r={coordLength:2,pointPositionsCount:0,pointFeaturesCount:0,linePositionsCount:0,linePathsCount:0,lineFeaturesCount:0,polygonPositionsCount:0,polygonObjectsCount:0,polygonRingsCount:0,polygonFeaturesCount:0};if(t.byteLength<=0)return[n,r];const i=new ia(new(Fs())(t)),o=e&&Array.isArray(e.layers)?e.layers:Object.keys(i.layers);return o.forEach((t=>{const o=i.layers[t];if(o)for(let i=0;i<o.length;i++){const s=ua(o.feature(i,r),e,t);n.push(s)}})),[n,r]}(t,e),i=Ps(n,r);return i.byteLength=t.byteLength,i}function la(t,e){if(t.byteLength<=0)return[];const n=[],r=new Hs(new(Fs())(t));return(Array.isArray(e.layers)?e.layers:Object.keys(r.layers)).forEach((t=>{const i=r.layers[t];if(i)for(let r=0;r<i.length;r++){const o=ca(i.feature(r),e,t);n.push(o)}})),n}function ca(t,e,n){const r=t.toGeoJSON("wgs84"===e.coordinates?e.tileIndex:ha);return e.layerProperty&&(r.properties[e.layerProperty]=n),r}function ua(t,e,n){const r=t.toBinaryCoordinates("wgs84"===e.coordinates?e.tileIndex:fa);return e.layerProperty&&r.properties&&(r.properties[e.layerProperty]=n),r}function ha(t,e){const{extent:n}=e;for(let r=0;r<t.length;r++){const e=t[r];e[0]/=n,e[1]/=n}}function fa(t,e){const{extent:n}=e;for(let r=0,i=t.length;r<i;++r)t[r]/=n}const da={name:"Mapbox Vector Tile",id:"mvt",module:"mvt",version:"3.4.15",extensions:["mvt","pbf"],mimeTypes:["application/vnd.mapbox-vector-tile","application/x-protobuf"],worker:!0,category:"geometry",options:{mvt:{shape:"geojson",coordinates:"local",layerProperty:"layerName",layers:void 0,tileIndex:null}}};function pa(t,e){const n=null===e||void 0===e?void 0:e.globalFeatureId;return void 0!==n?function(t,e){const n=ya(t);for(const r of n){let t=0,n=r.featureIds.value[0];for(let i=0;i<r.featureIds.value.length;i++){const o=r.featureIds.value[i];if(o!==n){if(e===r.globalFeatureIds.value[t])return ma(r,t,i);t=i,n=o}}if(e===r.globalFeatureIds.value[t])return ma(r,t,r.featureIds.value.length)}throw new Error("featureId:".concat(e," not found"))}(t,n):Aa(t,null===e||void 0===e?void 0:e.type)}function Aa(t,e){return function(t){const e=[];for(const n of t){if(0===n.featureIds.value.length)continue;let t=0,r=n.featureIds.value[0];for(let i=0;i<n.featureIds.value.length;i++){const o=n.featureIds.value[i];o!==r&&(e.push(ma(n,t,i)),t=i,r=o)}e.push(ma(n,t,n.featureIds.value.length))}return e}(ya(t,e))}function ga(t,e,n){switch(t.type){case"Point":return function(t,e,n){const{positions:r}=t,i=ba(r,e,n);if(i.length>1)return{type:"MultiPoint",coordinates:i};return{type:"Point",coordinates:i[0]}}(t,e,n);case"LineString":return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const{positions:r}=t,i=t.pathIndices.value.filter((t=>t>=e&&t<=n));if(!(i.length>2)){return{type:"LineString",coordinates:ba(r,i[0],i[1])}}const o=[];for(let s=0;s<i.length-1;s++){const t=ba(r,i[s],i[s+1]);o.push(t)}return{type:"MultiLineString",coordinates:o}}(t,e,n);case"Polygon":return va(t,e,n);default:throw new Error("Unsupported geometry type: ".concat(null===t||void 0===t?void 0:t.type))}}function ya(t,e){if(!Boolean(t.points||t.lines||t.polygons))return t.type=e||function(t){if(t.pathIndices)return"LineString";if(t.polygonIndices)return"Polygon";return"Point"}(t),[t];const n=[];return t.points&&(t.points.type="Point",n.push(t.points)),t.lines&&(t.lines.type="LineString",n.push(t.lines)),t.polygons&&(t.polygons.type="Polygon",n.push(t.polygons)),n}function ma(t,e,n){const r=ga(t,e,n),i=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Object.assign({},t.properties[t.featureIds.value[e]]);for(const r in t.numericProps)n[r]=t.numericProps[r].value[e];return n}(t,e,n),o=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.fields&&t.fields[t.featureIds.value[e]]}(t,e,n);return{type:"Feature",geometry:r,properties:i,...o}}function va(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const{positions:r}=t,i=t.polygonIndices.value.filter((t=>t>=e&&t<=n)),o=t.primitivePolygonIndices.value.filter((t=>t>=e&&t<=n));if(!(i.length>2)){const t=[];for(let e=0;e<o.length-1;e++){const n=ba(r,o[e],o[e+1]);t.push(n)}return{type:"Polygon",coordinates:t}}const s=[];for(let a=0;a<i.length-1;a++){const e=va(t,i[a],i[a+1]).coordinates;s.push(e)}return{type:"MultiPolygon",coordinates:s}}function ba(t,e,n){e=e||0,n=n||t.value.length/t.size;const r=[];for(let i=e;i<n;i++){const e=Array();for(let n=i*t.size;n<(i+1)*t.size;n++)e.push(Number(t.value[n]));r.push(e)}return r}const _a={Point:wa,MultiPoint:function(t,e,n){return xa(t,e,n)},LineString:Ea,MultiLineString:function(t,e,n){return t.map((t=>Ea(t,e,n)))},Polygon:Sa,MultiPolygon:function(t,e,n){return t.map((t=>Sa(t,e,n)))}};function wa(t,e,n){let[r,i]=t,[o,s]=e;const a=(0,yt.Cc)(o[0],s[0],r),l=(0,yt.Cc)(o[1],s[1],i);return n.unprojectFlat([a,l])}function xa(t,e,n){return t.map((t=>wa(t,e,n)))}function Ea(t,e,n){return xa(t,e,n)}function Sa(t,e,n){return t.map((t=>xa(t,e,n)))}const Ca=["points","lines","polygons"];function Pa(t,e,n,r){const i=t.featureIds.value;if(!i.length)return-1;let o=0,s=i[i.length-1]+1;if(r){const e=function(t,e){if(!t.__layers){const e={},{properties:n}=t;for(let t=0;t<n.length;t++){const{layerName:r}=n[t];r&&(e[r]?e[r][1]=t:e[r]=[t,t])}t.__layers=e}return t.__layers[e]}(t,r);if(!e)return-1;o=e[0],s=e[1]+1}let a=-1;if(e in t.numericProps){const r=t.numericProps[e].value.findIndex(((t,e)=>t===n&&i[e]>=o&&i[e]<s));return r>=0?t.globalFeatureIds.value[r]:-1}return e?a=Ma(t.properties,(t=>t[e]===n),o,s):t.fields&&(a=Ma(t.fields,(t=>t.id===n),o,s)),a>=0?function(t,e){if(!t.__ids){const e=[],n=t.featureIds.value,r=t.globalFeatureIds.value;for(let t=0;t<n.length;t++)e[n[t]]=r[t];t.__ids=e}return t.__ids[e]}(t,a):-1}function Ma(t,e,n,r){for(let i=n;i<r;i++)if(e(t[i],i))return i;return-1}const Ta={...ft.A.defaultProps,data:Re,onDataLoad:{type:"function",value:null,optional:!0,compare:!1},uniqueIdProperty:"",highlightedFeatureId:null,loaders:[da],binary:!0};class Oa extends tn{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}initializeState(){super.initializeState();const t=void 0===this.context.viewport.resolution&&this.props.binary;this.setState({binary:t,data:null,tileJSON:null,hoveredFeatureId:null,hoveredFeatureLayerName:null})}get isLoaded(){var t;return Boolean((null===(t=this.state)||void 0===t?void 0:t.data)&&super.isLoaded)}updateState(t){let{props:e,oldProps:n,context:r,changeFlags:i}=t;var o;i.dataChanged&&this._updateTileData(),null!==(o=this.state)&&void 0!==o&&o.data&&(super.updateState({props:e,oldProps:n,context:r,changeFlags:i}),this._setWGS84PropertyForTiles());const{highlightColor:s}=e;s!==n.highlightColor&&Array.isArray(s)&&this.setState({highlightColor:s})}async _updateTileData(){let t=this.props.data,e=null;if("string"!==typeof t||/(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(t))t&&"object"===typeof t&&"tilejson"in t&&(e=t);else{const{onDataLoad:r,fetch:i}=this.props;this.setState({data:null,tileJSON:null});try{e=await i(t,{propName:"data",layer:this,loaders:[]})}catch(n){this.raiseError(n,"loading TileJSON"),t=null}r&&r(e,{propName:"data",layer:this})}e&&(t=e.tiles),this.setState({data:t,tileJSON:e})}_getTilesetOptions(){const t=super._getTilesetOptions(),e=this.state.tileJSON,{minZoom:n,maxZoom:r}=this.props;return e&&(Number.isFinite(e.minzoom)&&e.minzoom>n&&(t.minZoom=e.minzoom),Number.isFinite(e.maxzoom)&&(!Number.isFinite(r)||e.maxzoom<r)&&(t.maxZoom=e.maxzoom)),t}renderLayers(){var t;return null!==(t=this.state)&&void 0!==t&&t.data?super.renderLayers():null}getTileData(t){var e;const{data:n,binary:r}=this.state,{index:i,signal:o}=t,s=ke(n,t);if(!s)return Promise.reject("Invalid URL");let a=this.getLoadOptions();const{fetch:l}=this.props;return a={...a,mimeType:"application/x-protobuf",mvt:{...null===(e=a)||void 0===e?void 0:e.mvt,coordinates:this.context.viewport.resolution?"wgs84":"local",tileIndex:i},gis:r?{format:"binary"}:{}},l(s,{propName:"data",layer:this,loadOptions:a,signal:o})}renderSubLayers(t){const{x:e,y:n,z:r}=t.tile.index,i=Math.pow(2,r),o=512/i,a=-o,l=512*e/i,c=512*(1-n/i),u=(new gt.A).scale([o,a,1]);t.autoHighlight=!1,this.context.viewport.resolution||(t.modelMatrix=u,t.coordinateOrigin=[l,c,0],t.coordinateSystem=s.rf.CARTESIAN,t.extensions=[...t.extensions||[],new Ss]);const h=super.renderSubLayers(t);return!this.state.binary||h instanceof ft.A||pn.A.warn("renderSubLayers() must return GeoJsonLayer when using binary:true")(),h}_updateAutoHighlight(t){const{uniqueIdProperty:e}=this.props,{hoveredFeatureId:n,hoveredFeatureLayerName:r}=this.state,i=t.object;let o=null,s=null;i&&(o=Ia(i,e),s=Ra(i));let{highlightColor:a}=this.props;"function"===typeof a&&(a=a(t)),n===o&&r===s||this.setState({highlightColor:a,hoveredFeatureId:o,hoveredFeatureLayerName:s})}getPickingInfo(t){const e=super.getPickingInfo(t),n=Boolean(this.context.viewport.resolution);if(this.state.binary&&-1!==e.index){const{data:n}=t.sourceLayer.props;e.object=pa(n,{globalFeatureId:e.index})}return e.object&&!n&&(e.object=ka(e.object,e.tile.bbox,this.context.viewport)),e}getSubLayerPropsByTile(t){return{highlightedObjectIndex:this.getHighlightedObjectIndex(t),highlightColor:this.state.highlightColor}}getHighlightedObjectIndex(t){const{hoveredFeatureId:e,hoveredFeatureLayerName:n,binary:r}=this.state,{uniqueIdProperty:i,highlightedFeatureId:o}=this.props,s=t.content,a=La(o);if(!(La(e)||a))return-1;const l=a?o:e;return Array.isArray(s)?s.findIndex((t=>{const e=Ia(t,i)===l,r=a||Ra(t)===n;return e&&r})):s&&r?function(t,e,n,r){for(const i of Ca){const o=t[i]&&Pa(t[i],e,n,r);if(o>=0)return o}return-1}(s,i,l,a?"":n):-1}_pickObjects(t){const{deck:e,viewport:n}=this.context,r=n.width,i=n.height,o=n.x,s=n.y,a=[this.id];return e.pickObjects({x:o,y:s,width:r,height:i,layerIds:a,maxObjects:t})}getRenderedFeatures(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=this._pickObjects(t),n=new Set,r=[];for(const i of e){const t=Ia(i.object,this.props.uniqueIdProperty);void 0===t?r.push(i.object):n.has(t)||(n.add(t),r.push(i.object))}return r}_setWGS84PropertyForTiles(){const t="dataInWGS84";this.state.tileset.selectedTiles.forEach((e=>{e.hasOwnProperty(t)||Object.defineProperty(e,t,{get:()=>{if(!e.content)return null;if(this.state.binary&&Array.isArray(e.content)&&!e.content.length)return[];const{bbox:t}=e;if(void 0===e._contentWGS84&&(n=t,Number.isFinite(n.west)&&Number.isFinite(n.north)&&Number.isFinite(n.east)&&Number.isFinite(n.south))){const n=this.state.binary?pa(e.content):e.content;e._contentWGS84=n.map((e=>ka(e,t,this.context.viewport)))}var n;return e._contentWGS84}})}))}}function Ia(t,e){return t.properties&&e?t.properties[e]:"id"in t?t.id:void 0}function Ra(t){var e;return(null===(e=t.properties)||void 0===e?void 0:e.layerName)||null}function La(t){return void 0!==t&&null!==t&&""!==t}function ka(t,e,n){const r={...t,geometry:{type:t.geometry.type}};return Object.defineProperty(r.geometry,"coordinates",{get:()=>{const r=function(t,e,n){const r=[n.projectFlat([e.west,e.north]),n.projectFlat([e.east,e.south])];return{...t,coordinates:_a[t.type](t.coordinates,r,n)}}(t.geometry,e,n);return r.coordinates}}),r}(0,r.A)(Oa,"layerName","MVTLayer"),(0,r.A)(Oa,"defaultProps",Ta);const Ba="0123456789bcdefghjkmnpqrstuvwxyz",Na={};for(let Ha=0;Ha<32;Ha++)Na[Ba.charAt(Ha)]=Ha;const Da=-90,Fa=90,ja=-180,Ua=180;function za(t){const[e,n,r,i]=function(t){let e,n=!0,r=Fa,i=Da,o=Ua,s=ja,a=0;for(let l=0,c=t.length;l<c;l++){const c=t[l].toLowerCase();a=Na[c];for(let t=4;t>=0;t--){const l=a>>t&1;n?(e=(o+s)/2,1===l?s=e:o=e):(e=(r+i)/2,1===l?i=e:r=e),n=!n}}return[i,s,r,o]}(t);return[i,r,i,e,n,e,n,r,i,r]}class Ga extends q{indexToBounds(){const{data:t,getGeohash:e}=this.props;return{data:t,_normalize:!1,positionFormat:"XY",getPolygon:(t,n)=>za(e(t,n))}}}(0,r.A)(Ga,"layerName","GeohashLayer"),(0,r.A)(Ga,"defaultProps",{getGeohash:{type:"accessor",value:t=>t.geohash}})},18187:(t,e,n)=>{"use strict";n.d(e,{A:()=>f});var r=n(54705),i=n(43203),o=n(68281),s=n(71289),a=n(77044),l=n(50953),c=n(84707);const u=[0,0,0,255],h={getSourcePosition:{type:"accessor",value:t=>t.sourcePosition},getTargetPosition:{type:"accessor",value:t=>t.targetPosition},getSourceColor:{type:"accessor",value:u},getTargetColor:{type:"accessor",value:u},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,numSegments:{type:"number",value:50,min:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class f extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}getBounds(){var t;return null===(t=this.getAttributeManager())||void 0===t?void 0:t.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:"#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\nattribute float instanceHeights;\nattribute float instanceTilts;\n\nuniform bool greatCircle;\nuniform bool useShortestPath;\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\n\n  float deltaZ = targetZ - sourceZ;\n  float dh = distance * instanceHeights;\n  if (dh == 0.0) {\n    return sourceZ + deltaZ * ratio;\n  }\n  float unitZ = deltaZ / dh;\n  float p2 = unitZ * unitZ + 1.0;\n  float dir = step(deltaZ, 0.0);\n  float z0 = mix(sourceZ, targetZ, dir);\n  float r = mix(ratio, 1.0 - ratio, dir);\n  return sqrt(r * (p2 - r)) * dh + z0;\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\n  float distance = length(source.xy - target.xy);\n  float z = paraboloid(distance, source.z, target.z, segmentRatio);\n\n  float tiltAngle = radians(instanceTilts);\n  vec2 tiltDirection = normalize(target.xy - source.xy);\n  vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\n\n  return vec3(\n    mix(source.xy, target.xy, segmentRatio) + tilt,\n    z * cos(tiltAngle)\n  );\n}\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 sourceRadians = radians(source);\n  vec2 targetRadians = radians(target);\n  vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\n  vec2 shd_sq = sin_half_delta * sin_half_delta;\n\n  float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\n  return 2.0 * asin(sqrt(a));\n}\n\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\n  vec2 lngLat;\n  if(abs(angularDist - PI) < 0.001) {\n    lngLat = (1.0 - t) * source.xy + t * target.xy;\n  } else {\n    float a = sin((1.0 - t) * angularDist);\n    float b = sin(t * angularDist);\n    vec3 p = source3D.yxz * a + target3D.yxz * b;\n    lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n  }\n\n  float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\n\n  return vec3(lngLat, z);\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\n  float nextSegmentRatio = getSegmentRatio(min(numSegments - 1.0, segmentIndex + 1.0));\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  isValid = 1.0;\n\n  uv = vec2(segmentRatio, positions.y);\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  vec4 curr;\n  vec4 next;\n  vec3 source;\n  vec3 target;\n\n  if ((greatCircle || project_uProjectionMode == PROJECTION_MODE_GLOBE) && project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\n    target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\n    float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\n\n    vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\n    vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\n    vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\n\n    if (abs(currPos.x - prevPos.x) > 180.0) {\n      indexDir = -1.0;\n      isValid = 0.0;\n    } else if (abs(currPos.x - nextPos.x) > 180.0) {\n      indexDir = 1.0;\n      isValid = 0.0;\n    }\n    nextPos = indexDir < 0.0 ? prevPos : nextPos;\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n\n    if (isValid == 0.0) {\n      nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\n      float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\n      currPos = mix(currPos, nextPos, t);\n      segmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n    }\n\n    vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\n    vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\n  \n    curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\n    next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n  \n  } else {\n    vec3 source_world = instanceSourcePositions;\n    vec3 target_world = instanceTargetPositions;\n    if (useShortestPath) {\n      source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n      target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n\n      float deltaLng = target_world.x - source_world.x;\n      if (deltaLng > 180.) target_world.x -= 360.;\n      if (deltaLng < -180.) source_world.x -= 360.;\n    }\n    source = project_position(source_world, instanceSourcePositions64Low);\n    target = project_position(target_world, instanceTargetPositions64Low);\n    float antiMeridianX = 0.0;\n\n    if (useShortestPath) {\n      if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n        antiMeridianX = -(project_uCoordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n      }\n      float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\n\n      if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\n        isValid = 0.0;\n        indexDir = sign(segmentRatio - thresholdRatio);\n        segmentRatio = thresholdRatio;\n      }\n    }\n\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n    vec3 currPos = interpolateFlat(source, target, segmentRatio);\n    vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\n\n    if (useShortestPath) {\n      if (nextPos.x < antiMeridianX) {\n        currPos.x += TILE_SIZE;\n        nextPos.x += TILE_SIZE;\n      }\n    }\n\n    curr = project_common_position_to_clipspace(vec4(currPos, 1.0));\n    next = project_common_position_to_clipspace(vec4(nextPos, 1.0));\n    geometry.position = vec4(currPos, 1.0);\n  }\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n  vec3 offset = vec3(\n    getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  DECKGL_FILTER_GL_POSITION(curr, geometry);\n  gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\n  vColor = vec4(color.rgb, color.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME arc-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid == 0.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  geometry.uv = uv;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[o.A,s.A]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getSourceColor",defaultValue:u},instanceTargetColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getTargetColor",defaultValue:u},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(t){super.updateState(t);const{props:e,oldProps:n,changeFlags:r}=t;if(r.extensionsChanged||r.propsChanged&&e.numSegments!==n.numSegments){var i;const{gl:t}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(t),this.getAttributeManager().invalidateAll()}}draw(t){let{uniforms:e}=t;const{widthUnits:n,widthScale:r,widthMinPixels:i,widthMaxPixels:o,greatCircle:s,wrapLongitude:l}=this.props;this.state.model.setUniforms(e).setUniforms({greatCircle:s,widthUnits:a.p5[n],widthScale:r,widthMinPixels:i,widthMaxPixels:o,useShortestPath:l}).draw()}_getModel(t){const{id:e,numSegments:n}=this.props;let r=[];for(let o=0;o<n;o++)r=r.concat([o,1,0,o,-1,0]);const i=new l.A(t,{...this.getShaders(),id:e,geometry:new c.A({drawMode:5,attributes:{positions:new Float32Array(r)}}),isInstanced:!0});return i.setUniforms({numSegments:n}),i}}(0,r.A)(f,"layerName","ArcLayer"),(0,r.A)(f,"defaultProps",h)},57153:(t,e,n)=>{"use strict";n.d(e,{A:()=>m});var r=n(54705),i=n(77044),o=n(43203),s=n(68281),a=n(71289),l=n(50953),c=n(84707),u=n(17844),h=n(67567);const f=new Uint16Array([0,2,1,0,3,2]),d=new Float32Array([0,1,0,0,1,0,1,1]);function p(t,e){if(!e)return function(t){const e=new Float64Array(12);for(let n=0;n<t.length;n++)e[3*n+0]=t[n][0],e[3*n+1]=t[n][1],e[3*n+2]=t[n][2]||0;return{vertexCount:6,positions:e,indices:f,texCoords:d}}(t);const n=Math.max(Math.abs(t[0][0]-t[3][0]),Math.abs(t[1][0]-t[2][0])),r=Math.max(Math.abs(t[1][1]-t[0][1]),Math.abs(t[2][1]-t[3][1])),i=Math.ceil(n/e)+1,o=Math.ceil(r/e)+1,s=(i-1)*(o-1)*6,a=new Uint32Array(s),l=new Float32Array(i*o*2),c=new Float64Array(i*o*3);let u=0,h=0;for(let f=0;f<i;f++){const e=f/(i-1);for(let n=0;n<o;n++){const r=n/(o-1),i=A(t,e,r);c[3*u+0]=i[0],c[3*u+1]=i[1],c[3*u+2]=i[2]||0,l[2*u+0]=e,l[2*u+1]=1-r,f>0&&n>0&&(a[h++]=u-o,a[h++]=u-o-1,a[h++]=u-1,a[h++]=u-o,a[h++]=u-1,a[h++]=u),u++}}return{vertexCount:s,positions:c,indices:a,texCoords:l}}function A(t,e,n){return(0,h.Cc)((0,h.Cc)(t[0],t[1],n),(0,h.Cc)(t[3],t[2],n),e)}const g="\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\nuniform float coordinateConversion;\nuniform vec4 bounds;\n\n/* projection utils */\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / PI / 2.0;\n\n// from degrees to Web Mercator\nvec2 lnglat_to_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\n// from Web Mercator to degrees\nvec2 mercator_to_lnglat(vec2 xy) {\n  xy /= WORLD_SCALE;\n  return degrees(vec2(\n    xy.x - PI,\n    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5\n  ));\n}\n/* End projection utils */\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  if (transparentColor.a == 0.0) {\n    return vec4(color, alpha);\n  }\n  float blendedAlpha = alpha + transparentColor.a * (1.0 - alpha);\n  float highLightRatio = alpha / blendedAlpha;\n  vec3 blendedRGB = mix(transparentColor.rgb, color, highLightRatio);\n  return vec4(blendedRGB, blendedAlpha);\n}\n\nvec2 getUV(vec2 pos) {\n  return vec2(\n    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (pos.y - bounds[3]) / (bounds[1] - bounds[3])\n  );\n}\n\n".concat("\nvec3 packUVsIntoRGB(vec2 uv) {\n  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction\n  vec2 uv8bit = floor(uv * 256.);\n\n  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits\n  // Scale and clamp to 0-1 range\n  vec2 uvFraction = fract(uv * 256.);\n  vec2 uvFraction4bit = floor(uvFraction * 16.);\n\n  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates\n  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;\n\n  return vec3(uv8bit, fractions) / 255.;\n}\n","\n\nvoid main(void) {\n  vec2 uv = vTexCoord;\n  if (coordinateConversion < -0.5) {\n    vec2 lnglat = mercator_to_lnglat(vTexPos);\n    uv = getUV(lnglat);\n  } else if (coordinateConversion > 0.5) {\n    vec2 commonPos = lnglat_to_mercator(vTexPos);\n    uv = getUV(commonPos);\n  }\n  vec4 bitmapColor = texture2D(bitmapTexture, uv);\n\n  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = uv;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n\n  if (picking_uActive && !picking_uAttribute) {\n    // Since instance information is not used, we can use picking color for pixel index\n    gl_FragColor.rgb = packUVsIntoRGB(uv);\n  }\n}\n"),y={image:{type:"image",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},_imageCoordinateSystem:i.rf.DEFAULT,desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]},textureParameters:{type:"object",ignore:!0}};class m extends o.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nattribute vec2 texCoords;\nattribute vec3 positions;\nattribute vec3 positions64Low;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float coordinateConversion;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  if (coordinateConversion < -0.5) {\n    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;\n  } else if (coordinateConversion > 0.5) {\n    vTexPos = geometry.worldPosition.xy;\n  }\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n",fs:g,modules:[s.A,a.A]})}initializeState(){const t=this.getAttributeManager();t.remove(["instancePickingColors"]);const e=!0;t.add({indices:{size:1,isIndexed:!0,update:t=>t.value=this.state.mesh.indices,noAlloc:e},positions:{size:3,type:5130,fp64:this.use64bitPositions(),update:t=>t.value=this.state.mesh.positions,noAlloc:e},texCoords:{size:2,update:t=>t.value=this.state.mesh.texCoords,noAlloc:e}})}updateState(t){let{props:e,oldProps:n,changeFlags:r}=t;const i=this.getAttributeManager();if(r.extensionsChanged){var o;const{gl:t}=this.context;null===(o=this.state.model)||void 0===o||o.delete(),this.state.model=this._getModel(t),i.invalidateAll()}if(e.bounds!==n.bounds){const t=this.state.mesh,e=this._createMesh();this.state.model.setVertexCount(e.vertexCount);for(const n in e)t&&t[n]!==e[n]&&i.invalidate(n);this.setState({mesh:e,...this._getCoordinateUniforms()})}else e._imageCoordinateSystem!==n._imageCoordinateSystem&&this.setState(this._getCoordinateUniforms())}getPickingInfo(t){const{image:e}=this.props,n=t.info;if(!n.color||!e)return n.bitmap=null,n;const{width:r,height:i}=e;n.index=0;const o=function(t){const[e,n,r]=t;return[(e+(15&r)/16)/256,(n+(240&r)/256)/256]}(n.color),s=[Math.floor(o[0]*r),Math.floor(o[1]*i)];return n.bitmap={size:{width:r,height:i},uv:o,pixel:s},n}disablePickingIndex(){this.setState({disablePicking:!0})}restorePickingColors(){this.setState({disablePicking:!1})}_updateAutoHighlight(t){super._updateAutoHighlight({...t,color:this.encodePickingColor(0)})}_createMesh(){const{bounds:t}=this.props;let e=t;return v(t)&&(e=[[t[0],t[1]],[t[0],t[3]],[t[2],t[3]],[t[2],t[1]]]),p(e,this.context.viewport.resolution)}_getModel(t){return t?new l.A(t,{...this.getShaders(),id:this.props.id,geometry:new c.A({drawMode:4,vertexCount:6}),isInstanced:!1}):null}draw(t){const{uniforms:e,moduleParameters:n}=t,{model:r,coordinateConversion:i,bounds:o,disablePicking:s}=this.state,{image:a,desaturate:l,transparentColor:c,tintColor:u}=this.props;n.pickingActive&&s||a&&r&&r.setUniforms(e).setUniforms({bitmapTexture:a,desaturate:l,transparentColor:c.map((t=>t/255)),tintColor:u.slice(0,3).map((t=>t/255)),coordinateConversion:i,bounds:o}).draw()}_getCoordinateUniforms(){const{LNGLAT:t,CARTESIAN:e,DEFAULT:n}=i.rf;let{_imageCoordinateSystem:r}=this.props;if(r!==n){const{bounds:n}=this.props;if(!v(n))throw new Error("_imageCoordinateSystem only supports rectangular bounds");const i=this.context.viewport.resolution?t:e;if(r=r===t?t:e,r===t&&i===e)return{coordinateConversion:-1,bounds:n};if(r===e&&i===t){const t=(0,u.Gw)([n[0],n[1]]),e=(0,u.Gw)([n[2],n[3]]);return{coordinateConversion:1,bounds:[t[0],t[1],e[0],e[1]]}}}return{coordinateConversion:0,bounds:[0,0,0,0]}}}function v(t){return Number.isFinite(t[0])}(0,r.A)(m,"layerName","BitmapLayer"),(0,r.A)(m,"defaultProps",y)},88908:(t,e,n)=>{"use strict";n.d(e,{A:()=>b});var r=n(54705),i=n(43203),o=n(68281),s=n(70574),a=n(71289),l=n(77044),c=n(45882),u=n(51934),h=n(34551),f=n(50953),d=n(96649),p=n(84707),A=n(65658),g=n(58752);class y extends p.A{constructor(t){const{id:e=(0,A.Ld)("column-geometry")}=t,{indices:n,attributes:r}=function(t){const{radius:e,height:n=1,nradial:r=10}=t;let{vertices:i}=t;i&&(d.A.assert(i.length>=r),i=i.flatMap((t=>[t[0],t[1]])),(0,g.UD)(i,g.rJ.COUNTER_CLOCKWISE));const o=n>0,s=r+1,a=o?3*s+1:r,l=2*Math.PI/r,c=new Uint16Array(o?3*r*2:0),u=new Float32Array(3*a),h=new Float32Array(3*a);let f=0;if(o){for(let t=0;t<s;t++){const o=t*l,s=t%r,a=Math.sin(o),c=Math.cos(o);for(let t=0;t<2;t++)u[f+0]=i?i[2*s]:c*e,u[f+1]=i?i[2*s+1]:a*e,u[f+2]=(.5-t)*n,h[f+0]=i?i[2*s]:c,h[f+1]=i?i[2*s+1]:a,f+=3}u[f+0]=u[f-3],u[f+1]=u[f-2],u[f+2]=u[f-1],f+=3}for(let d=o?0:1;d<s;d++){const t=Math.floor(d/2)*Math.sign(.5-d%2),o=t*l,s=(t+r)%r,a=Math.sin(o),c=Math.cos(o);u[f+0]=i?i[2*s]:c*e,u[f+1]=i?i[2*s+1]:a*e,u[f+2]=n/2,h[f+2]=1,f+=3}if(o){let t=0;for(let e=0;e<r;e++)c[t++]=2*e+0,c[t++]=2*e+2,c[t++]=2*e+0,c[t++]=2*e+1,c[t++]=2*e+1,c[t++]=2*e+3}return{indices:c,attributes:{POSITION:{size:3,value:u},NORMAL:{size:3,value:h}}}}(t);super({...t,id:e,indices:n,attributes:r})}}const m=[0,0,0,255],v={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},radiusUnits:"meters",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,getPosition:{type:"accessor",value:t=>t.position},getFillColor:{type:"accessor",value:m},getLineColor:{type:"accessor",value:m},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class b extends i.A{getShaders(){const{gl:t}=this.context,e=!(0,c.C6)(t),n={},r=this.props.flatShading&&(0,u.jI)(t,h.G.GLSL_DERIVATIVES);return r&&(n.FLAT_SHADING=1),super.getShaders({vs:"#version 300 es\n\n#define SHADER_NAME column-layer-vertex-shader\n\nin vec3 positions;\nin vec3 normals;\n\nin vec3 instancePositions;\nin float instanceElevations;\nin vec3 instancePositions64Low;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin float instanceStrokeWidths;\n\nin vec3 instancePickingColors;\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform bool extruded;\nuniform bool stroked;\nuniform bool isStroke;\nuniform float coverage;\nuniform float elevationScale;\nuniform float edgeDistance;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int radiusUnits;\nuniform int widthUnits;\nout vec4 vColor;\n#ifdef FLAT_SHADING\nout vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  vec4 color = isStroke ? instanceLineColors : instanceFillColors;\n  mat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  float elevation = 0.0;\n  float strokeOffsetRatio = 1.0;\n\n  if (extruded) {\n    elevation = instanceElevations * (positions.z + 1.0) / 2.0 * elevationScale;\n  } else if (stroked) {\n    float widthPixels = clamp(\n      project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n      widthMinPixels, widthMaxPixels) / 2.0;\n    float halfOffset = project_pixel_size(widthPixels) / project_size(edgeDistance * coverage * radius);\n    if (isStroke) {\n      strokeOffsetRatio -= sign(positions.z) * halfOffset;\n    } else {\n      strokeOffsetRatio -= halfOffset;\n    }\n  }\n  float shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);\n  float dotRadius = radius * coverage * shouldRender;\n\n  geometry.pickingColor = instancePickingColors;\n  vec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);\n  vec3 centroidPosition64Low = instancePositions64Low;\n  vec2 offset = (rotationMatrix * positions.xy * strokeOffsetRatio + offset) * dotRadius;\n  if (radiusUnits == UNIT_METERS) {\n    offset = project_size(offset);\n  }\n  vec3 pos = vec3(offset, 0.);\n  DECKGL_FILTER_SIZE(pos, geometry);\n\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\n  geometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  if (extruded && !isStroke) {\n#ifdef FLAT_SHADING\n    position_commonspace = geometry.position;\n    vColor = vec4(color.rgb, color.a * opacity);\n#else\n    vec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n    vColor = vec4(lightColor, color.a * opacity);\n#endif\n  } else {\n    vColor = vec4(color.rgb, color.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME column-layer-fragment-shader\n\nprecision highp float;\n\nuniform vec3 project_uCameraPosition;\nuniform bool extruded;\nuniform bool isStroke;\n\nout vec4 fragColor;\n\nin vec4 vColor;\n#ifdef FLAT_SHADING\nin vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  fragColor = vColor;\n#ifdef FLAT_SHADING\n  if (extruded && !isStroke && !picking_uActive) {\n    vec3 normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n    fragColor.rgb = lighting_getLightColor(vColor.rgb, project_uCameraPosition, position_commonspace.xyz, normal);\n  }\n#endif\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:n,transpileToGLSL100:e,modules:[o.A,r?s.p:s.K,a.A]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getFillColor",defaultValue:m},instanceLineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getLineColor",defaultValue:m},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}updateState(t){super.updateState(t);const{props:e,oldProps:n,changeFlags:r}=t,i=r.extensionsChanged||e.flatShading!==n.flatShading;if(i){var o;const{gl:t}=this.context;null===(o=this.state.model)||void 0===o||o.delete(),this.state.model=this._getModel(t),this.getAttributeManager().invalidateAll()}(i||e.diskResolution!==n.diskResolution||e.vertices!==n.vertices||(e.extruded||e.stroked)!==(n.extruded||n.stroked))&&this._updateGeometry(e)}getGeometry(t,e,n){const r=new y({radius:1,height:n?2:0,vertices:e,nradial:t});let i=0;if(e)for(let o=0;o<t;o++){const n=e[o];i+=Math.sqrt(n[0]*n[0]+n[1]*n[1])/t}else i=1;return this.setState({edgeDistance:Math.cos(Math.PI/t)*i}),r}_getModel(t){return new f.A(t,{...this.getShaders(),id:this.props.id,isInstanced:!0})}_updateGeometry(t){let{diskResolution:e,vertices:n,extruded:r,stroked:i}=t;const o=this.getGeometry(e,n,r||i);this.setState({fillVertexCount:o.attributes.POSITION.value.length/3,wireframeVertexCount:o.indices.value.length}),this.state.model.setProps({geometry:o})}draw(t){let{uniforms:e}=t;const{lineWidthUnits:n,lineWidthScale:r,lineWidthMinPixels:i,lineWidthMaxPixels:o,radiusUnits:s,elevationScale:a,extruded:c,filled:u,stroked:h,wireframe:f,offset:d,coverage:p,radius:A,angle:g}=this.props,{model:y,fillVertexCount:m,wireframeVertexCount:v,edgeDistance:b}=this.state;y.setUniforms(e).setUniforms({radius:A,angle:g/180*Math.PI,offset:d,extruded:c,stroked:h,coverage:p,elevationScale:a,edgeDistance:b,radiusUnits:l.p5[s],widthUnits:l.p5[n],widthScale:r,widthMinPixels:i,widthMaxPixels:o}),c&&f&&(y.setProps({isIndexed:!0}),y.setVertexCount(v).setDrawMode(1).setUniforms({isStroke:!0}).draw()),u&&(y.setProps({isIndexed:!1}),y.setVertexCount(m).setDrawMode(5).setUniforms({isStroke:!1}).draw()),!c&&h&&(y.setProps({isIndexed:!1}),y.setVertexCount(2*m/3).setDrawMode(5).setUniforms({isStroke:!0}).draw())}}(0,r.A)(b,"layerName","ColumnLayer"),(0,r.A)(b,"defaultProps",v)},77267:(t,e,n)=>{"use strict";n.d(e,{A:()=>E});var r=n(54705),i=n(32478),o=n(22347);var s=n(78550),a=n(29990),l=n(8029),c=n(26212),u=n(60326);const h={circle:{type:a.A,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:s.A,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:l.A,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},f={type:c.A,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},d={type:u.A,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function p(t){let{type:e,props:n}=t;const r={};for(const i in n)r[i]=e.defaultProps[n[i]];return r}function A(t,e){const{transitions:n,updateTriggers:r}=t.props,i={updateTriggers:{},transitions:n&&{getPosition:n.geometry}};for(const o in e){const s=e[o];let a=t.props[o];o.startsWith("get")&&(a=t.getSubLayerAccessor(a),i.updateTriggers[s]=r[o],n&&(i.transitions[s]=n[o])),i[s]=a}return i}var g=n(96649);function y(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:i=0,endRow:o=t.length}=n;for(let s=i;s<o;s++){const n=t[s],{geometry:i}=n;if(i)if("GeometryCollection"===i.type){g.A.assert(Array.isArray(i.geometries),"GeoJSON does not have geometries array");const{geometries:t}=i;for(let i=0;i<t.length;i++){m(t[i],r,e,n,s)}}else m(i,r,e,n,s)}return r}function m(t,e,n,r,i){const{type:o,coordinates:s}=t,{pointFeatures:a,lineFeatures:l,polygonFeatures:c,polygonOutlineFeatures:u}=e;if(function(t,e){let n=v[t];g.A.assert(n,"Unknown GeoJSON type ".concat(t));for(;e&&--n>0;)e=e[0];return e&&Number.isFinite(e[0])}(o,s))switch(o){case"Point":a.push(n({geometry:t},r,i));break;case"MultiPoint":s.forEach((t=>{a.push(n({geometry:{type:"Point",coordinates:t}},r,i))}));break;case"LineString":l.push(n({geometry:t},r,i));break;case"MultiLineString":s.forEach((t=>{l.push(n({geometry:{type:"LineString",coordinates:t}},r,i))}));break;case"Polygon":c.push(n({geometry:t},r,i)),s.forEach((t=>{u.push(n({geometry:{type:"LineString",coordinates:t}},r,i))}));break;case"MultiPolygon":s.forEach((t=>{c.push(n({geometry:{type:"Polygon",coordinates:t}},r,i)),t.forEach((t=>{u.push(n({geometry:{type:"LineString",coordinates:t}},r,i))}))}))}else g.A.warn("".concat(o," coordinates are malformed"))()}const v={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function b(t){return t.geometry.coordinates}function _(t,e){const n={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:r,lines:i,polygons:o}=t,s=function(t,e){const n={points:null,lines:null,polygons:null};for(const r in n){const i=t[r].globalFeatureIds.value;n[r]=new Uint8ClampedArray(3*i.length);const o=[];for(let t=0;t<i.length;t++)e(i[t],o),n[r][3*t+0]=o[0],n[r][3*t+1]=o[1],n[r][3*t+2]=o[2]}return n}(t,e);return n.points.data={length:r.positions.value.length/r.positions.size,attributes:{...r.attributes,getPosition:r.positions,instancePickingColors:{size:3,value:s.points}},properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},n.lines.data={length:i.pathIndices.value.length-1,startIndices:i.pathIndices.value,attributes:{...i.attributes,getPath:i.positions,instancePickingColors:{size:3,value:s.lines}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},n.lines._pathType="open",n.polygons.data={length:o.polygonIndices.value.length-1,startIndices:o.polygonIndices.value,attributes:{...o.attributes,getPolygon:o.positions,pickingColors:{size:3,value:s.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygons._normalize=!1,o.triangles&&(n.polygons.data.attributes.indices=o.triangles.value),n.polygonsOutline.data={length:o.primitivePolygonIndices.value.length-1,startIndices:o.primitivePolygonIndices.value,attributes:{...o.attributes,getPath:o.positions,instancePickingColors:{size:3,value:s.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygonsOutline._pathType="open",n}const w=["points","linestrings","polygons"],x={...p(h.circle),...p(h.icon),...p(h.text),...p(f),...p(d),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:t=>t.properties.icon},getText:{type:"accessor",value:t=>t.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class E extends i.A{initializeState(){this.state={layerProps:{},features:{}}}updateState(t){let{props:e,changeFlags:n}=t;if(!n.dataChanged)return;const{data:r}=this.props,i=r&&"points"in r&&"polygons"in r&&"lines"in r;this.setState({binary:i}),i?this._updateStateBinary({props:e,changeFlags:n}):this._updateStateJSON({props:e,changeFlags:n})}_updateStateBinary(t){let{props:e,changeFlags:n}=t;const r=_(e.data,this.encodePickingColor);this.setState({layerProps:r})}_updateStateJSON(t){let{props:e,changeFlags:n}=t;const r=function(t){if(Array.isArray(t))return t;switch(g.A.assert(t.type,"GeoJSON does not have type"),t.type){case"Feature":return[t];case"FeatureCollection":return g.A.assert(Array.isArray(t.features),"GeoJSON does not have features array"),t.features;default:return[{geometry:t}]}}(e.data),i=this.getSubLayerRow.bind(this);let s={};const a={};if(Array.isArray(n.dataChanged)){const t=this.state.features;for(const e in t)s[e]=t[e].slice(),a[e]=[];for(const e of n.dataChanged){const n=y(r,i,e);for(const r in t)a[r].push((0,o.J)({data:s[r],getIndex:t=>t.__source.index,dataRange:e,replace:n[r]}))}}else s=y(r,i);const l=function(t,e){const n={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:r,lineFeatures:i,polygonFeatures:o,polygonOutlineFeatures:s}=t;return n.points.data=r,n.points._dataDiff=e.pointFeatures&&(()=>e.pointFeatures),n.points.getPosition=b,n.lines.data=i,n.lines._dataDiff=e.lineFeatures&&(()=>e.lineFeatures),n.lines.getPath=b,n.polygons.data=o,n.polygons._dataDiff=e.polygonFeatures&&(()=>e.polygonFeatures),n.polygons.getPolygon=b,n.polygonsOutline.data=s,n.polygonsOutline._dataDiff=e.polygonOutlineFeatures&&(()=>e.polygonOutlineFeatures),n.polygonsOutline.getPath=b,n}(s,a);this.setState({features:s,featuresDiff:a,layerProps:l})}getPickingInfo(t){const e=super.getPickingInfo(t),{index:n,sourceLayer:r}=e;return e.featureType=w.find((t=>r.id.startsWith("".concat(this.id,"-").concat(t,"-")))),n>=0&&r.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(e.index=this.props.data.points.globalFeatureIds.value[n]),e}_updateAutoHighlight(t){const e="".concat(this.id,"-points-"),n="points"===t.featureType;for(const r of this.getSubLayers())r.id.startsWith(e)===n&&r.updateAutoHighlight(t)}_renderPolygonLayer(){const{extruded:t,wireframe:e}=this.props,{layerProps:n}=this.state,r="polygons-fill",i=this.shouldRenderSubLayer(r,n.polygons.data)&&this.getSubLayerClass(r,d.type);if(i){const o=A(this,d.props),s=t&&e;return s||delete o.getLineColor,o.updateTriggers.lineColors=s,new i(o,this.getSubLayerProps({id:r,updateTriggers:o.updateTriggers}),n.polygons)}return null}_renderLineLayers(){const{extruded:t,stroked:e}=this.props,{layerProps:n}=this.state,r="polygons-stroke",i="linestrings",o=!t&&e&&this.shouldRenderSubLayer(r,n.polygonsOutline.data)&&this.getSubLayerClass(r,f.type),s=this.shouldRenderSubLayer(i,n.lines.data)&&this.getSubLayerClass(i,f.type);if(o||s){const t=A(this,f.props);return[o&&new o(t,this.getSubLayerProps({id:r,updateTriggers:t.updateTriggers}),n.polygonsOutline),s&&new s(t,this.getSubLayerProps({id:i,updateTriggers:t.updateTriggers}),n.lines)]}return null}_renderPointLayers(){const{pointType:t}=this.props,{layerProps:e,binary:n}=this.state;let{highlightedObjectIndex:r}=this.props;!n&&Number.isFinite(r)&&(r=e.points.data.findIndex((t=>t.__source.index===r)));const i=new Set(t.split("+")),o=[];for(const s of i){const t="points-".concat(s),i=h[s],a=i&&this.shouldRenderSubLayer(t,e.points.data)&&this.getSubLayerClass(t,i.type);if(a){const l=A(this,i.props);let c=e.points;if("text"===s&&n){const{instancePickingColors:t,...e}=c.data.attributes;c={...c,data:{...c.data,attributes:e}}}o.push(new a(l,this.getSubLayerProps({id:t,updateTriggers:l.updateTriggers,highlightedObjectIndex:r}),c))}}return o}renderLayers(){const{extruded:t}=this.props,e=this._renderPolygonLayer();return[!t&&e,this._renderLineLayers(),this._renderPointLayers(),t&&e]}getSubLayerAccessor(t){const{binary:e}=this.state;return e&&"function"===typeof t?(e,n)=>{const{data:r,index:i}=n,o=function(t,e){if(!t)return null;const n="startIndices"in t?t.startIndices[e]:e,r=t.featureIds.value[n];return-1!==n?function(t,e,n){const r={properties:{...t.properties[e]}};for(const i in t.numericProps)r.properties[i]=t.numericProps[i].value[n];return r}(t,r,n):null}(r,i);return t(o,n)}:super.getSubLayerAccessor(t)}}(0,r.A)(E,"layerName","GeoJsonLayer"),(0,r.A)(E,"defaultProps",x)},78550:(t,e,n)=>{"use strict";n.d(e,{A:()=>E});var r=n(54705),i=n(43203),o=n(68281),s=n(71289),a=n(77044),l=n(96649),c=n(50953),u=n(84707);var h=n(59375),f=n(72059),d=n(56704),p=n(82133);const A=()=>{},g={10241:9987,10240:9729,10242:33071,10243:33071};function y(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function m(t,e,n,r){const i=Math.min(n/e.width,r/e.height),o=Math.floor(e.width*i),s=Math.floor(e.height*i);return 1===i?{data:e,width:o,height:s}:(t.canvas.height=s,t.canvas.width=o,t.clearRect(0,0,o,s),t.drawImage(e,0,0,e.width,e.height,0,0,o,s),{data:t.canvas,width:o,height:s})}function v(t){return t&&(t.id||t.url)}function b(t,e,n){for(let r=0;r<e.length;r++){const{icon:i,xOffset:o}=e[r];t[v(i)]={...i,x:o,y:n}}}class _{constructor(t,e){let{onUpdate:n=A,onError:i=A}=e;(0,r.A)(this,"gl",void 0),(0,r.A)(this,"onUpdate",void 0),(0,r.A)(this,"onError",void 0),(0,r.A)(this,"_loadOptions",null),(0,r.A)(this,"_texture",null),(0,r.A)(this,"_externalTexture",null),(0,r.A)(this,"_mapping",{}),(0,r.A)(this,"_textureParameters",null),(0,r.A)(this,"_pendingCount",0),(0,r.A)(this,"_autoPacking",!1),(0,r.A)(this,"_xOffset",0),(0,r.A)(this,"_yOffset",0),(0,r.A)(this,"_rowHeight",0),(0,r.A)(this,"_buffer",4),(0,r.A)(this,"_canvasWidth",1024),(0,r.A)(this,"_canvasHeight",0),(0,r.A)(this,"_canvas",null),this.gl=t,this.onUpdate=n,this.onError=i}finalize(){var t;null===(t=this._texture)||void 0===t||t.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(t){const e=this._autoPacking?v(t):t;return this._mapping[e]||{}}setProps(t){let{loadOptions:e,autoPacking:n,iconAtlas:r,iconMapping:i,textureParameters:o}=t;var s;(e&&(this._loadOptions=e),void 0!==n&&(this._autoPacking=n),i&&(this._mapping=i),r)&&(null===(s=this._texture)||void 0===s||s.delete(),this._texture=null,this._externalTexture=r);o&&(this._textureParameters=o)}get isLoaded(){return 0===this._pendingCount}packIcons(t,e){if(!this._autoPacking||"undefined"===typeof document)return;const n=Object.values(function(t,e,n){if(!t||!e)return null;n=n||{};const r={},{iterable:i,objectInfo:o}=(0,p.X)(t);for(const s of i){o.index++;const t=e(s,o),i=v(t);if(!t)throw new Error("Icon is missing.");if(!t.url)throw new Error("Icon url is missing.");r[i]||n[i]&&t.url===n[i].url||(r[i]={...t,source:s,sourceIndex:o.index})}return r}(t,e,this._mapping)||{});if(n.length>0){const{mapping:t,xOffset:e,yOffset:r,rowHeight:i,canvasHeight:o}=function(t){let{icons:e,buffer:n,mapping:r={},xOffset:i=0,yOffset:o=0,rowHeight:s=0,canvasWidth:a}=t,l=[];for(let c=0;c<e.length;c++){const t=e[c];if(!r[v(t)]){const{height:e,width:c}=t;i+c+n>a&&(b(r,l,o),i=0,o=s+o+n,s=0,l=[]),l.push({icon:t,xOffset:i}),i=i+c+n,s=Math.max(s,e)}}return l.length>0&&b(r,l,o),{mapping:r,rowHeight:s,xOffset:i,yOffset:o,canvasWidth:a,canvasHeight:y(s+o+n)}}({icons:n,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=i,this._mapping=t,this._xOffset=e,this._yOffset=r,this._canvasHeight=o,this._texture||(this._texture=new h.A(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||g})),this._texture.height!==this._canvasHeight&&(this._texture=function(t,e,n,r){const i=t.width,o=t.height,s=new h.A(t.gl,{width:e,height:n,parameters:r});return(0,f.ob)(t,s,{targetY:0,width:i,height:o}),t.delete(),s}(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||g)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(n)}}_loadIcons(t){const e=this._canvas.getContext("2d",{willReadFrequently:!0});for(const n of t)this._pendingCount++,(0,d.H)(n.url,this._loadOptions).then((t=>{const r=v(n),i=this._mapping[r],{x:o,y:s,width:a,height:l}=i,{data:c,width:u,height:h}=m(e,t,a,l);this._texture.setSubImageData({data:c,x:o+(a-u)/2,y:s+(l-h)/2,width:u,height:h}),i.width=u,i.height=h,this._texture.generateMipmap(),this.onUpdate()})).catch((t=>{this.onError({url:n.url,source:n.source,sourceIndex:n.sourceIndex,loadOptions:this._loadOptions,error:t})})).finally((()=>{this._pendingCount--}))}}const w=[0,0,0,255],x={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:t=>t.position},getIcon:{type:"accessor",value:t=>t.icon},getColor:{type:"accessor",value:w},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0}};class E extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n",fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[o.A,s.A]})}initializeState(){this.state={iconManager:new _(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})};this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:w},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(t){super.updateState(t);const{props:e,oldProps:n,changeFlags:r}=t,i=this.getAttributeManager(),{iconAtlas:o,iconMapping:s,data:a,getIcon:l,textureParameters:c}=e,{iconManager:u}=this.state,h=o||this.internalState.isAsyncPropLoading("iconAtlas");if(u.setProps({loadOptions:e.loadOptions,autoPacking:!h,iconAtlas:o,iconMapping:h?s:null,textureParameters:c}),h?n.iconMapping!==e.iconMapping&&i.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&u.packIcons(a,l),r.extensionsChanged){var f;const{gl:t}=this.context;null===(f=this.state.model)||void 0===f||f.delete(),this.state.model=this._getModel(t),i.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(t){super.finalizeState(t),this.state.iconManager.finalize()}draw(t){let{uniforms:e}=t;const{sizeScale:n,sizeMinPixels:r,sizeMaxPixels:i,sizeUnits:o,billboard:s,alphaCutoff:l}=this.props,{iconManager:c}=this.state,u=c.getTexture();u&&this.state.model.setUniforms(e).setUniforms({iconsTexture:u,iconsTextureDim:[u.width,u.height],sizeUnits:a.p5[o],sizeScale:n,sizeMinPixels:r,sizeMaxPixels:i,billboard:s,alphaCutoff:l}).draw()}_getModel(t){return new c.A(t,{...this.getShaders(),id:this.props.id,geometry:new u.A({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(t){var e;const n=null===(e=this.getCurrentLayer())||void 0===e?void 0:e.props.onIconError;n?n(t):l.A.error(t.error.message)()}getInstanceOffset(t){const{width:e,height:n,anchorX:r=e/2,anchorY:i=n/2}=this.state.iconManager.getIconMapping(t);return[e/2-r,n/2-i]}getInstanceColorMode(t){return this.state.iconManager.getIconMapping(t).mask?1:0}getInstanceIconFrame(t){const{x:e,y:n,width:r,height:i}=this.state.iconManager.getIconMapping(t);return[e,n,r,i]}}(0,r.A)(E,"defaultProps",x),(0,r.A)(E,"layerName","IconLayer")},28645:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ArcLayer:()=>r.A,BitmapLayer:()=>i.A,ColumnLayer:()=>y.A,GeoJsonLayer:()=>w.A,GridCellLayer:()=>v,IconLayer:()=>o.A,LineLayer:()=>p,PathLayer:()=>b.A,PointCloudLayer:()=>A.A,PolygonLayer:()=>_.A,ScatterplotLayer:()=>g.A,SolidPolygonLayer:()=>E.A,TextLayer:()=>x.A,_MultiIconLayer:()=>S.A,_TextBackgroundLayer:()=>C.A});var r=n(18187),i=n(57153),o=n(78550),s=n(54705),a=n(43203),l=n(68281),c=n(71289),u=n(77044),h=n(50953),f=n(84707);const d={getSourcePosition:{type:"accessor",value:t=>t.sourcePosition},getTargetPosition:{type:"accessor",value:t=>t.targetPosition},getColor:{type:"accessor",value:[0,0,0,255]},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class p extends a.A{getBounds(){var t;return null===(t=this.getAttributeManager())||void 0===t?void 0:t.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:"#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float useShortestPath;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nvec3 splitLine(vec3 a, vec3 b, float x) {\n  float t = (x - a.x) / (b.x - a.x);\n  return vec3(x, mix(a.yz, b.yz, t));\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  vec3 source_world = instanceSourcePositions;\n  vec3 target_world = instanceTargetPositions;\n  vec3 source_world_64low = instanceSourcePositions64Low;\n  vec3 target_world_64low = instanceTargetPositions64Low;\n\n  if (useShortestPath > 0.5 || useShortestPath < -0.5) {\n    source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n    target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n    float deltaLng = target_world.x - source_world.x;\n\n    if (deltaLng * useShortestPath > 180.) {\n      source_world.x += 360. * useShortestPath;\n      source_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      source_world_64low = vec3(0.0);\n    } else if (deltaLng * useShortestPath < -180.) {\n      target_world.x += 360. * useShortestPath;\n      target_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      target_world_64low = vec3(0.0);\n    } else if (useShortestPath < 0.) {\n      gl_Position = vec4(0.);\n      return;\n    }\n  }\n  vec4 source_commonspace;\n  vec4 target_commonspace;\n  vec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);\n  vec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n  geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);\n  uv = positions.xy;\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n  vec3 offset = vec3(\n    getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  DECKGL_FILTER_GL_POSITION(p, geometry);\n  gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME line-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[l.A,c.A]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}updateState(t){if(super.updateState(t),t.changeFlags.extensionsChanged){var e;const{gl:t}=this.context;null===(e=this.state.model)||void 0===e||e.delete(),this.state.model=this._getModel(t),this.getAttributeManager().invalidateAll()}}draw(t){let{uniforms:e}=t;const{widthUnits:n,widthScale:r,widthMinPixels:i,widthMaxPixels:o,wrapLongitude:s}=this.props;this.state.model.setUniforms(e).setUniforms({widthUnits:u.p5[n],widthScale:r,widthMinPixels:i,widthMaxPixels:o,useShortestPath:s?1:0}).draw(),s&&this.state.model.setUniforms({useShortestPath:-1}).draw()}_getModel(t){return new h.A(t,{...this.getShaders(),id:this.props.id,geometry:new f.A({drawMode:5,attributes:{positions:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}),isInstanced:!0})}}(0,s.A)(p,"layerName","LineLayer"),(0,s.A)(p,"defaultProps",d);var A=n(53631),g=n(29990),y=n(88908),m=n(91683);class v extends y.A{getGeometry(t){return new m.A}draw(t){let{uniforms:e}=t;const{elevationScale:n,extruded:r,offset:i,coverage:o,cellSize:s,angle:a,radiusUnits:l}=this.props;this.state.model.setUniforms(e).setUniforms({radius:s/2,radiusUnits:u.p5[l],angle:a,offset:i,extruded:r,coverage:o,elevationScale:n,edgeDistance:1,isWireframe:!1}).draw()}}(0,s.A)(v,"layerName","GridCellLayer"),(0,s.A)(v,"defaultProps",{cellSize:{type:"number",min:0,value:1e3},offset:{type:"array",value:[1,1]}});var b=n(26212),_=n(63245),w=n(77267),x=n(8029),E=n(60326),S=n(56148),C=n(93310)},26212:(t,e,n)=>{"use strict";n.d(e,{A:()=>y});var r=n(54705),i=n(43203),o=n(68281),s=n(71289),a=n(77044),l=n(50953),c=n(84707),u=n(98991),h=n(58752);class f extends u.A{constructor(t){super({...t,attributes:{positions:{size:3,padding:18,initialize:!0,type:t.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(t){return this.attributes[t]}getGeometryFromBuffer(t){return this.normalize?super.getGeometryFromBuffer(t):null}normalizeGeometry(t){return this.normalize?function(t,e,n,r){let i;if(Array.isArray(t[0])){const n=t.length*e;i=new Array(n);for(let r=0;r<t.length;r++)for(let n=0;n<e;n++)i[r*e+n]=t[r][n]||0}else i=t;return n?(0,h.Mk)(i,{size:e,gridResolution:n}):r?(0,h.Iy)(i,{size:e}):i}(t,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):t}getGeometrySize(t){if(d(t)){let e=0;for(const n of t)e+=this.getGeometrySize(n);return e}const e=this.getPathLength(t);return e<2?0:this.isClosed(t)?e<3?0:e+2:e}updateGeometryAttributes(t,e){if(0!==e.geometrySize)if(t&&d(t))for(const n of t){const t=this.getGeometrySize(n);e.geometrySize=t,this.updateGeometryAttributes(n,e),e.vertexStart+=t}else this._updateSegmentTypes(t,e),this._updatePositions(t,e)}_updateSegmentTypes(t,e){const n=this.attributes.segmentTypes,r=!!t&&this.isClosed(t),{vertexStart:i,geometrySize:o}=e;n.fill(0,i,i+o),r?(n[i]=4,n[i+o-2]=4):(n[i]+=1,n[i+o-2]+=2),n[i+o-1]=4}_updatePositions(t,e){const{positions:n}=this.attributes;if(!n||!t)return;const{vertexStart:r,geometrySize:i}=e,o=new Array(3);for(let s=r,a=0;a<i;s++,a++)this.getPointOnPath(t,a,o),n[3*s]=o[0],n[3*s+1]=o[1],n[3*s+2]=o[2]}getPathLength(t){return t.length/this.positionSize}getPointOnPath(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{positionSize:r}=this;e*r>=t.length&&(e+=1-t.length/r);const i=e*r;return n[0]=t[i],n[1]=t[i+1],n[2]=3===r&&t[i+2]||0,n}isClosed(t){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:e}=this,n=t.length-e;return t[0]===t[n]&&t[1]===t[n+1]&&(2===e||t[2]===t[n+2])}}function d(t){return Array.isArray(t[0])}const p=[0,0,0,255],A={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:t=>t.path},getColor:{type:"accessor",value:p},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},g={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class y extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\nvec3 getLineJoinOffset(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  vec2 dir = isEnd ? dirA : dirB;\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return offset;\n}\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 offset = getLineJoinOffset(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);\n    gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);\n    geometry.position = vec4(currPosition + offset, 1.0);\n    gl_Position = project_common_position_to_clipspace(geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[o.A,s.A]})}get wrapLongitude(){return!1}initializeState(){const t=!0;this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:g,accessor:"getPath",update:this.calculatePositions,noAlloc:t,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:t},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:g,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:g,defaultValue:p},instancePickingColors:{size:3,type:5121,accessor:(t,e)=>{let{index:n,target:r}=e;return this.encodePickingColor(t&&t.__source?t.__source.index:n,r)}}}),this.setState({pathTesselator:new f({fp64:this.use64bitPositions()})})}updateState(t){super.updateState(t);const{props:e,changeFlags:n}=t,r=this.getAttributeManager();if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPath)){const{pathTesselator:t}=this.state,i=e.data.attributes||{};t.updateGeometry({data:e.data,geometryBuffer:i.getPath,buffers:i,normalize:!e._pathType,loop:"loop"===e._pathType,getGeometry:e.getPath,positionFormat:e.positionFormat,wrapLongitude:e.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:n.dataChanged}),this.setState({numInstances:t.instanceCount,startIndices:t.vertexStarts}),n.dataChanged||r.invalidateAll()}if(n.extensionsChanged){var i;const{gl:t}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(t),r.invalidateAll()}}getPickingInfo(t){const e=super.getPickingInfo(t),{index:n}=e,{data:r}=this.props;return r[0]&&r[0].__source&&(e.object=r.find((t=>t.__source.index===n))),e}disablePickingIndex(t){const{data:e}=this.props;if(e[0]&&e[0].__source)for(let n=0;n<e.length;n++)e[n].__source.index===t&&this._disablePickingIndex(n);else super.disablePickingIndex(t)}draw(t){let{uniforms:e}=t;const{jointRounded:n,capRounded:r,billboard:i,miterLimit:o,widthUnits:s,widthScale:l,widthMinPixels:c,widthMaxPixels:u}=this.props;this.state.model.setUniforms(e).setUniforms({jointType:Number(n),capType:Number(r),billboard:i,widthUnits:a.p5[s],widthScale:l,miterLimit:o,widthMinPixels:c,widthMaxPixels:u}).draw()}_getModel(t){return new l.A(t,{...this.getShaders(),id:this.props.id,geometry:new c.A({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(t){const{pathTesselator:e}=this.state;t.startIndices=e.vertexStarts,t.value=e.get("positions")}calculateSegmentTypes(t){const{pathTesselator:e}=this.state;t.startIndices=e.vertexStarts,t.value=e.get("segmentTypes")}}(0,r.A)(y,"defaultProps",A),(0,r.A)(y,"layerName","PathLayer")},53631:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var r=n(54705),i=n(43203),o=n(68281),s=n(70574),a=n(71289),l=n(77044),c=n(50953),u=n(84707);const h=[0,0,0,255],f=[0,0,1],d={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:t=>t.position},getNormal:{type:"accessor",value:f},getColor:{type:"accessor",value:h},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};class p extends i.A{getShaders(){return super.getShaders({vs:"#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform int sizeUnits;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.normal = project_normal(instanceNormals);\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n  vec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n  vColor = vec4(lightColor, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[o.A,s.K,a.A]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:f},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:h}})}updateState(t){const{changeFlags:e,props:n}=t;if(super.updateState(t),e.extensionsChanged){var r;const{gl:t}=this.context;null===(r=this.state.model)||void 0===r||r.delete(),this.state.model=this._getModel(t),this.getAttributeManager().invalidateAll()}e.dataChanged&&function(t){const{header:e,attributes:n}=t;e&&n&&(t.length=e.vertexCount,n.POSITION&&(n.instancePositions=n.POSITION),n.NORMAL&&(n.instanceNormals=n.NORMAL),n.COLOR_0&&(n.instanceColors=n.COLOR_0))}(n.data)}draw(t){let{uniforms:e}=t;const{pointSize:n,sizeUnits:r}=this.props;this.state.model.setUniforms(e).setUniforms({sizeUnits:l.p5[r],radiusPixels:n}).draw()}_getModel(t){const e=[];for(let n=0;n<3;n++){const t=n/3*Math.PI*2;e.push(2*Math.cos(t),2*Math.sin(t),0)}return new c.A(t,{...this.getShaders(),id:this.props.id,geometry:new u.A({drawMode:4,attributes:{positions:new Float32Array(e)}}),isInstanced:!0})}}(0,r.A)(p,"layerName","PointCloudLayer"),(0,r.A)(p,"defaultProps",d)},63245:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var r=n(54705),i=n(32478),o=n(96649),s=n(82133),a=n(60326),l=n(26212),c=n(93919),u=n(22347);const h=[0,0,0,255],f={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:t=>t.polygon},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:h},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};class d extends i.A{initializeState(){this.state={paths:[]},this.props.getLineDashArray&&o.A.removed("getLineDashArray","PathStyleExtension")()}updateState(t){let{changeFlags:e}=t;const n=e.dataChanged||e.updateTriggersChanged&&(e.updateTriggersChanged.all||e.updateTriggersChanged.getPolygon);if(n&&Array.isArray(e.dataChanged)){const t=this.state.paths.slice(),n=e.dataChanged.map((e=>(0,u.J)({data:t,getIndex:t=>t.__source.index,dataRange:e,replace:this._getPaths(e)})));this.setState({paths:t,pathsDiff:n})}else n&&this.setState({paths:this._getPaths(),pathsDiff:null})}_getPaths(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{data:e,getPolygon:n,positionFormat:r,_normalize:i}=this.props,o=[],a="XY"===r?2:3,{startRow:l,endRow:u}=t,{iterable:h,objectInfo:f}=(0,s.X)(e,l,u);for(const s of h){f.index++;let t=n(s,f);i&&(t=c.S8(t,a));const{holeIndices:e}=t,r=t.positions||t;if(e)for(let n=0;n<=e.length;n++){const t=r.slice(e[n-1]||0,e[n]||r.length);o.push(this.getSubLayerRow({path:t},s,f.index))}else o.push(this.getSubLayerRow({path:r},s,f.index))}return o}renderLayers(){const{data:t,_dataDiff:e,stroked:n,filled:r,extruded:i,wireframe:o,_normalize:s,_windingOrder:c,elevationScale:u,transitions:f,positionFormat:d}=this.props,{lineWidthUnits:p,lineWidthScale:A,lineWidthMinPixels:g,lineWidthMaxPixels:y,lineJointRounded:m,lineMiterLimit:v,lineDashJustified:b}=this.props,{getFillColor:_,getLineColor:w,getLineWidth:x,getLineDashArray:E,getElevation:S,getPolygon:C,updateTriggers:P,material:M}=this.props,{paths:T,pathsDiff:O}=this.state,I=this.getSubLayerClass("fill",a.A),R=this.getSubLayerClass("stroke",l.A),L=this.shouldRenderSubLayer("fill",T)&&new I({_dataDiff:e,extruded:i,elevationScale:u,filled:r,wireframe:o,_normalize:s,_windingOrder:c,getElevation:S,getFillColor:_,getLineColor:i&&o?w:h,material:M,transitions:f},this.getSubLayerProps({id:"fill",updateTriggers:P&&{getPolygon:P.getPolygon,getElevation:P.getElevation,getFillColor:P.getFillColor,lineColors:i&&o,getLineColor:P.getLineColor}}),{data:t,positionFormat:d,getPolygon:C});return[!i&&L,!i&&n&&this.shouldRenderSubLayer("stroke",T)&&new R({_dataDiff:O&&(()=>O),widthUnits:p,widthScale:A,widthMinPixels:g,widthMaxPixels:y,jointRounded:m,miterLimit:v,dashJustified:b,_pathType:"loop",transitions:f&&{getWidth:f.getLineWidth,getColor:f.getLineColor,getPath:f.getPolygon},getColor:this.getSubLayerAccessor(w),getWidth:this.getSubLayerAccessor(x),getDashArray:this.getSubLayerAccessor(E)},this.getSubLayerProps({id:"stroke",updateTriggers:P&&{getWidth:P.getLineWidth,getColor:P.getLineColor,getDashArray:P.getLineDashArray}}),{data:T,positionFormat:d,getPath:t=>t.path}),i&&L]}}(0,r.A)(d,"layerName","PolygonLayer"),(0,r.A)(d,"defaultProps",f)},29990:(t,e,n)=>{"use strict";n.d(e,{A:()=>f});var r=n(54705),i=n(43203),o=n(68281),s=n(71289),a=n(77044),l=n(50953),c=n(84707);const u=[0,0,0,255],h={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:t=>t.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:u},getLineColor:{type:"accessor",value:u},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class f extends i.A{getShaders(){return super.getShaders({vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (!filled) {\n    discard;\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[o.A,s.A]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(t){if(super.updateState(t),t.changeFlags.extensionsChanged){var e;const{gl:t}=this.context;null===(e=this.state.model)||void 0===e||e.delete(),this.state.model=this._getModel(t),this.getAttributeManager().invalidateAll()}}draw(t){let{uniforms:e}=t;const{radiusUnits:n,radiusScale:r,radiusMinPixels:i,radiusMaxPixels:o,stroked:s,filled:l,billboard:c,antialiasing:u,lineWidthUnits:h,lineWidthScale:f,lineWidthMinPixels:d,lineWidthMaxPixels:p}=this.props;this.state.model.setUniforms(e).setUniforms({stroked:s?1:0,filled:l,billboard:c,antialiasing:u,radiusUnits:a.p5[n],radiusScale:r,radiusMinPixels:i,radiusMaxPixels:o,lineWidthUnits:a.p5[h],lineWidthScale:f,lineWidthMinPixels:d,lineWidthMaxPixels:p}).draw()}_getModel(t){return new l.A(t,{...this.getShaders(),id:this.props.id,geometry:new c.A({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0})}}(0,r.A)(f,"defaultProps",h),(0,r.A)(f,"layerName","ScatterplotLayer")},93919:(t,e,n)=>{"use strict";n.d(e,{$q:()=>g,A4:()=>u,Dt:()=>c,S8:()=>d});var r=n(10973),i=n.n(r),o=n(58752);const s=o.rJ.CLOCKWISE,a=o.rJ.COUNTER_CLOCKWISE,l={isClosed:!0};function c(t){return"positions"in t?t.positions:t}function u(t){return"holeIndices"in t?t.holeIndices:null}function h(t,e,n,r,i){let s=e;const a=n.length;for(let o=0;o<a;o++)for(let e=0;e<r;e++)t[s++]=n[o][e]||0;if(!function(t){const e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]}(n))for(let o=0;o<r;o++)t[s++]=n[0][o]||0;return l.start=e,l.end=s,l.size=r,(0,o.UD)(t,i,l),s}function f(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;s=s||n.length;const c=s-i;if(c<=0)return e;let u=e;for(let o=0;o<c;o++)t[u++]=n[i+o];if(!function(t,e,n,r){for(let i=0;i<e;i++)if(t[n+i]!==t[r-e+i])return!1;return!0}(n,r,i,s))for(let o=0;o<r;o++)t[u++]=n[i+o];return l.start=e,l.end=u,l.size=r,(0,o.UD)(t,a,l),u}function d(t,e){!function(t){if(t=t&&t.positions||t,!Array.isArray(t)&&!ArrayBuffer.isView(t))throw new Error("invalid polygon")}(t);const n=[],r=[];if("positions"in t){const{positions:i,holeIndices:o}=t;if(o){let t=0;for(let l=0;l<=o.length;l++)t=f(n,t,i,e,o[l-1],o[l],0===l?s:a),r.push(t);return r.pop(),{positions:n,holeIndices:r}}t=i}if(!function(t){return Array.isArray(t[0])}(t))return f(n,0,t,e,0,n.length,s),n;if(!function(t){return t.length>=1&&t[0].length>=2&&Number.isFinite(t[0][0])}(t)){let i=0;for(const[o,l]of t.entries())i=h(n,i,l,e,0===o?s:a),r.push(i);return r.pop(),{positions:n,holeIndices:r}}return h(n,0,t,e,s),n}function p(t,e,n){const r=t.length/3;let i=0;for(let o=0;o<r;o++){const s=(o+1)%r;i+=t[3*o+e]*t[3*s+n],i-=t[3*s+e]*t[3*o+n]}return Math.abs(i/2)}function A(t,e,n,r){const i=t.length/3;for(let o=0;o<i;o++){const i=3*o,s=t[i+0],a=t[i+1],l=t[i+2];t[i+e]=s,t[i+n]=a,t[i+r]=l}}function g(t,e,n,r){let o=u(t);o&&(o=o.map((t=>t/e)));let s=c(t);const a=r&&3===e;if(n){const t=s.length;s=s.slice();const r=[];for(let i=0;i<t;i+=e){r[0]=s[i],r[1]=s[i+1],a&&(r[2]=s[i+2]);const t=n(r);s[i]=t[0],s[i+1]=t[1],a&&(s[i+2]=t[2])}}if(a){const t=p(s,0,1),e=p(s,0,2),r=p(s,1,2);if(!t&&!e&&!r)return[];t>e&&t>r||(e>r?(n||(s=s.slice()),A(s,0,2,1)):(n||(s=s.slice()),A(s,2,0,1)))}return i()(s,o,e)}},60326:(t,e,n)=>{"use strict";n.d(e,{A:()=>E});var r=n(54705),i=n(43203),o=n(68281),s=n(70574),a=n(71289),l=n(77044),c=n(51934),u=n(34551),h=n(50953),f=n(84707),d=n(93919),p=n(98991),A=n(58752);class g extends p.A{constructor(t){const{fp64:e,IndexType:n=Uint32Array}=t;super({...t,attributes:{positions:{size:3,type:e?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:n,size:1}}})}get(t){const{attributes:e}=this;return"indices"===t?e.indices&&e.indices.subarray(0,this.vertexCount):e[t]}updateGeometry(t){super.updateGeometry(t);const e=this.buffers.indices;if(e)this.vertexCount=(e.value||e).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(t){if(this.normalize){const e=d.S8(t,this.positionSize);return this.opts.resolution?(0,A.wk)(d.Dt(e),d.A4(e),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?(0,A.Eg)(d.Dt(e),d.A4(e),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):e}return t}getGeometrySize(t){if(y(t)){let e=0;for(const n of t)e+=this.getGeometrySize(n);return e}return d.Dt(t).length/this.positionSize}getGeometryFromBuffer(t){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(t):null}updateGeometryAttributes(t,e){if(t&&y(t))for(const n of t){const t=this.getGeometrySize(n);e.geometrySize=t,this.updateGeometryAttributes(n,e),e.vertexStart+=t,e.indexStart=this.indexStarts[e.geometryIndex+1]}else this._updateIndices(t,e),this._updatePositions(t,e),this._updateVertexValid(t,e)}_updateIndices(t,e){let{geometryIndex:n,vertexStart:r,indexStart:i}=e;const{attributes:o,indexStarts:s,typedArrayManager:a}=this;let l=o.indices;if(!l||!t)return;let c=i;const u=d.$q(t,this.positionSize,this.opts.preproject,this.opts.full3d);l=a.allocate(l,i+u.length,{copy:!0});for(let h=0;h<u.length;h++)l[c++]=u[h]+r;s[n+1]=i+u.length,o.indices=l}_updatePositions(t,e){let{vertexStart:n,geometrySize:r}=e;const{attributes:{positions:i},positionSize:o}=this;if(!i||!t)return;const s=d.Dt(t);for(let a=n,l=0;l<r;a++,l++){const t=s[l*o],e=s[l*o+1],n=o>2?s[l*o+2]:0;i[3*a]=t,i[3*a+1]=e,i[3*a+2]=n}}_updateVertexValid(t,e){let{vertexStart:n,geometrySize:r}=e;const{positionSize:i}=this,o=this.attributes.vertexValid,s=t&&d.A4(t);if(t&&t.edgeTypes?o.set(t.edgeTypes,n):o.fill(1,n,n+r),s)for(let a=0;a<s.length;a++)o[n+s[a]/i-1]=0;o[n+r-1]=0}}function y(t){return Array.isArray(t)&&t.length>0&&!Number.isFinite(t[0])}const m="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",v="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(m,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),b="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(m,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n"),_=[0,0,0,255],w={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:t=>t.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:_},getLineColor:{type:"accessor",value:_},material:!0},x={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class E extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}getShaders(t){return super.getShaders({vs:"top"===t?v:b,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[o.A,s.K,a.A]})}get wrapLongitude(){return!1}initializeState(){const{gl:t,viewport:e}=this.context;let{coordinateSystem:n}=this.props;const{_full3d:r}=this.props;let i;e.isGeospatial&&n===l.rf.DEFAULT&&(n=l.rf.LNGLAT),n===l.rf.LNGLAT&&(i=r?e.projectPosition.bind(e):e.projectFlat.bind(e)),this.setState({numInstances:0,polygonTesselator:new g({preproject:i,fp64:this.use64bitPositions(),IndexType:!t||(0,c.QN)(t,u.G.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});const o=this.getAttributeManager(),s=!0;o.remove(["instancePickingColors"]),o.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:s},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:x,accessor:"getPolygon",update:this.calculatePositions,noAlloc:s,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:s},elevations:{size:1,transition:x,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:x,accessor:"getFillColor",defaultValue:_,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:x,accessor:"getLineColor",defaultValue:_,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:(t,e)=>{let{index:n,target:r}=e;return this.encodePickingColor(t&&t.__source?t.__source.index:n,r)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}getPickingInfo(t){const e=super.getPickingInfo(t),{index:n}=e,{data:r}=this.props;return r[0]&&r[0].__source&&(e.object=r.find((t=>t.__source.index===n))),e}disablePickingIndex(t){const{data:e}=this.props;if(e[0]&&e[0].__source)for(let n=0;n<e.length;n++)e[n].__source.index===t&&this._disablePickingIndex(n);else super.disablePickingIndex(t)}draw(t){let{uniforms:e}=t;const{extruded:n,filled:r,wireframe:i,elevationScale:o}=this.props,{topModel:s,sideModel:a,polygonTesselator:l}=this.state,c={...e,extruded:Boolean(n),elevationScale:o};a&&(a.setInstanceCount(l.instanceCount-1),a.setUniforms(c),i&&(a.setDrawMode(3),a.setUniforms({isWireframe:!0}).draw()),r&&(a.setDrawMode(6),a.setUniforms({isWireframe:!1}).draw())),s&&(s.setVertexCount(l.vertexCount),s.setUniforms(c).draw())}updateState(t){super.updateState(t),this.updateGeometry(t);const{props:e,oldProps:n,changeFlags:r}=t,i=this.getAttributeManager();var o;(r.extensionsChanged||e.filled!==n.filled||e.extruded!==n.extruded)&&(null===(o=this.state.models)||void 0===o||o.forEach((t=>t.delete())),this.setState(this._getModels(this.context.gl)),i.invalidateAll())}updateGeometry(t){let{props:e,oldProps:n,changeFlags:r}=t;if(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPolygon)){const{polygonTesselator:t}=this.state,n=e.data.attributes||{};t.updateGeometry({data:e.data,normalize:e._normalize,geometryBuffer:n.getPolygon,buffers:n,getGeometry:e.getPolygon,positionFormat:e.positionFormat,wrapLongitude:e.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:r.dataChanged,full3d:e._full3d}),this.setState({numInstances:t.instanceCount,startIndices:t.vertexStarts}),r.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(t){const{id:e,filled:n,extruded:r}=this.props;let i,o;if(n){const n=this.getShaders("top");n.defines.NON_INSTANCED_MODEL=1,i=new h.A(t,{...n,id:"".concat(e,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0})}return r&&(o=new h.A(t,{...this.getShaders("side"),id:"".concat(e,"-side"),geometry:new f.A({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}),o.userData.excludeAttributes={indices:!0}),{models:[o,i].filter(Boolean),topModel:i,sideModel:o}}calculateIndices(t){const{polygonTesselator:e}=this.state;t.startIndices=e.indexStarts,t.value=e.get("indices")}calculatePositions(t){const{polygonTesselator:e}=this.state;t.startIndices=e.vertexStarts,t.value=e.get("positions")}calculateVertexValid(t){t.value=this.state.polygonTesselator.get("vertexValid")}}(0,r.A)(E,"defaultProps",w),(0,r.A)(E,"layerName","SolidPolygonLayer")},56148:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(54705),i=n(96649),o=n(78550);const s=.75,a=[];class l extends o.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float sdfBuffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(sdfBuffer - gamma, sdfBuffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState();this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(t,e)=>{let{index:n,target:r}=e;return this.encodePickingColor(n,r)}}})}updateState(t){super.updateState(t);const{props:e,oldProps:n}=t;let{outlineColor:r}=e;r!==n.outlineColor&&(r=r.map((t=>t/255)),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!e.sdf&&e.outlineWidth&&i.A.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(t){const{sdf:e,smoothing:n,outlineWidth:r}=this.props,{outlineColor:i}=this.state,o=r?Math.max(n,s*(1-r)):-1;if(t.uniforms={...t.uniforms,sdfBuffer:s,outlineBuffer:o,gamma:n,sdf:Boolean(e),outlineColor:i},super.draw(t),e&&r){const{iconManager:t}=this.state;t.getTexture()&&this.state.model.draw({uniforms:{outlineBuffer:s}})}}getInstanceOffset(t){return t?Array.from(t).flatMap((t=>super.getInstanceOffset(t))):a}getInstanceColorMode(t){return 1}getInstanceIconFrame(t){return t?Array.from(t).flatMap((t=>super.getInstanceIconFrame(t))):a}}(0,r.A)(l,"defaultProps",{getIconOffsets:{type:"accessor",value:t=>t.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),(0,r.A)(l,"layerName","MultiIconLayer")},93310:(t,e,n)=>{"use strict";n.d(e,{A:()=>h});var r=n(54705),i=n(43203),o=n(68281),s=n(71289),a=n(77044),l=n(50953),c=n(84707);const u={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:t=>t.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class h extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[o.A,s.A]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(t){super.updateState(t);const{changeFlags:e}=t;if(e.extensionsChanged){var n;const{gl:t}=this.context;null===(n=this.state.model)||void 0===n||n.delete(),this.state.model=this._getModel(t),this.getAttributeManager().invalidateAll()}}draw(t){let{uniforms:e}=t;const{billboard:n,sizeScale:r,sizeUnits:i,sizeMinPixels:o,sizeMaxPixels:s,getLineWidth:l}=this.props;let{padding:c}=this.props;c.length<4&&(c=[c[0],c[1],c[0],c[1]]),this.state.model.setUniforms(e).setUniforms({billboard:n,stroked:Boolean(l),padding:c,sizeUnits:a.p5[i],sizeScale:r,sizeMinPixels:o,sizeMaxPixels:s}).draw()}_getModel(t){return new l.A(t,{...this.getShaders(),id:this.props.id,geometry:new c.A({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}(0,r.A)(h,"defaultProps",u),(0,r.A)(h,"layerName","TextBackgroundLayer")},8029:(t,e,n)=>{"use strict";n.d(e,{A:()=>O});var r=n(54705),i=n(32478),o=n(96649),s=n(82133),a=n(56148);const l=1e20;class c{constructor(){let{fontSize:t=24,buffer:e=3,radius:n=8,cutoff:r=.25,fontFamily:i="sans-serif",fontWeight:o="normal",fontStyle:s="normal"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.buffer=e,this.cutoff=r,this.radius=n;const a=this.size=t+4*e,l=this._createCanvas(a),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font="".concat(s," ").concat(o," ").concat(t,"px ").concat(i),c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Uint16Array(a)}_createCanvas(t){const e=document.createElement("canvas");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:n,actualBoundingBoxDescent:r,actualBoundingBoxLeft:i,actualBoundingBoxRight:o}=this.ctx.measureText(t),s=Math.ceil(n),a=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-i))),c=Math.min(this.size-this.buffer,s+Math.ceil(r)),h=a+2*this.buffer,f=c+2*this.buffer,d=Math.max(h*f,0),p=new Uint8ClampedArray(d),A={data:p,width:h,height:f,glyphWidth:a,glyphHeight:c,glyphTop:s,glyphLeft:0,glyphAdvance:e};if(0===a||0===c)return A;const{ctx:g,buffer:y,gridInner:m,gridOuter:v}=this;g.clearRect(y,y,a,c),g.fillText(t,y,y+s);const b=g.getImageData(y,y,a,c);v.fill(l,0,d),m.fill(0,0,d);for(let u=0;u<c;u++)for(let t=0;t<a;t++){const e=b.data[4*(u*a+t)+3]/255;if(0===e)continue;const n=(u+y)*h+t+y;if(1===e)v[n]=0,m[n]=l;else{const t=.5-e;v[n]=t>0?t*t:0,m[n]=t<0?t*t:0}}u(v,0,0,h,f,h,this.f,this.v,this.z),u(m,y,y,a,c,h,this.f,this.v,this.z);for(let l=0;l<d;l++){const t=Math.sqrt(v[l])-Math.sqrt(m[l]);p[l]=Math.round(255-255*(t/this.radius+this.cutoff))}return A}}function u(t,e,n,r,i,o,s,a,l){for(let c=e;c<e+r;c++)h(t,n*o+c,o,i,s,a,l);for(let c=n;c<n+i;c++)h(t,c*o+e,1,r,s,a,l)}function h(t,e,n,r,i,o,s){o[0]=0,s[0]=-l,s[1]=l,i[0]=t[e];for(let a=1,c=0,u=0;a<r;a++){i[a]=t[e+a*n];const r=a*a;do{const t=o[c];u=(i[a]-i[t]+r-t*t)/(a-t)/2}while(u<=s[c]&&--c>-1);c++,o[c]=a,s[c]=u,s[c+1]=l}for(let a=0,l=0;a<r;a++){for(;s[l+1]<a;)l++;const r=o[l],c=a-r;t[e+a*n]=i[r]+c*c}}const f=32,d=[];function p(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function A(t,e,n,r){let i=0;for(let s=e;s<n;s++){var o;i+=(null===(o=r[t[s]])||void 0===o?void 0:o.layoutWidth)||0}return i}function g(t,e,n,r,i,o){let s=e,a=0;for(let l=e;l<n;l++){const e=A(t,l,l+1,i);a+e>r&&(s<l&&o.push(l),s=l,a=0),a+=e}return a}function y(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;void 0===o&&(o=t.length);const s=[];return"break-all"===e?g(t,i,o,n,r,s):function(t,e,n,r,i,o){let s=e,a=e,l=e,c=0;for(let u=e;u<n;u++)if(" "===t[u]?l=u+1:" "!==t[u+1]&&u+1!==n||(l=u+1),l>a){let e=A(t,a,l,i);c+e>r&&(s<a&&(o.push(a),s=a,c=0),e>r&&(e=g(t,a,l,r,i,o),s=o[o.length-1])),a=l,c+=e}}(t,i,o,n,r,s),s}function m(t,e,n,r,i,s){let a=0,l=0;for(let c=e;c<n;c++){const e=t[c],n=r[e];n?(l||(l=n.layoutHeight),i[c]=a+n.layoutWidth/2,a+=n.layoutWidth):(o.A.warn("Missing character: ".concat(e," (").concat(e.codePointAt(0),")"))(),i[c]=a,a+=f)}s[0]=a,s[1]=l}class v{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;(0,r.A)(this,"limit",void 0),(0,r.A)(this,"_cache",{}),(0,r.A)(this,"_order",[]),this.limit=t}get(t){const e=this._cache[t];return e&&(this._deleteOrder(t),this._appendOrder(t)),e}set(t,e){this._cache[t]?(this.delete(t),this._cache[t]=e,this._appendOrder(t)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[t]=e,this._appendOrder(t))}delete(t){this._cache[t]&&(delete this._cache[t],this._deleteOrder(t))}_deleteOrder(t){const e=this._order.indexOf(t);e>=0&&this._order.splice(e,1)}_appendOrder(t){this._order.push(t)}}const b={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function(){const t=[];for(let e=32;e<128;e++)t.push(String.fromCharCode(e));return t}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let _=new v(3);function w(t,e){for(let n=0;n<t.length;n++)e.data[4*n+3]=t[n]}function x(t,e,n,r){t.font="".concat(r," ").concat(n,"px ").concat(e),t.fillStyle="#000",t.textBaseline="alphabetic",t.textAlign="left"}class E{constructor(){(0,r.A)(this,"props",{...b}),(0,r.A)(this,"_key",void 0),(0,r.A)(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){const{fontSize:t,buffer:e}=this.props;return(1.2*t+2*e)/t}setProps(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.props,t),this._key=this._getKey();const e=function(t,e){let n;n="string"===typeof e?new Set(Array.from(e)):new Set(e);const r=_.get(t);if(!r)return n;for(const i in r.mapping)n.has(i)&&n.delete(i);return n}(this._key,this.props.characterSet),n=_.get(this._key);if(n&&0===e.size)return void(this._atlas!==n&&(this._atlas=n));const r=this._generateFontAtlas(e,n);this._atlas=r,_.set(this._key,r)}_generateFontAtlas(t,e){const{fontFamily:n,fontWeight:r,fontSize:i,buffer:o,sdf:s,radius:a,cutoff:l}=this.props;let u=e&&e.data;u||(u=document.createElement("canvas"),u.width=1024);const h=u.getContext("2d",{willReadFrequently:!0});x(h,n,i,r);const{mapping:f,canvasHeight:d,xOffset:A,yOffset:g}=function(t){let{characterSet:e,getFontWidth:n,fontHeight:r,buffer:i,maxCanvasWidth:o,mapping:s={},xOffset:a=0,yOffset:l=0}=t,c=0,u=a;const h=r+2*i;for(const f of e)if(!s[f]){const t=n(f);u+t+2*i>o&&(u=0,c++),s[f]={x:u+i,y:l+c*h+i,width:t,height:h,layoutWidth:t,layoutHeight:r},u+=t+2*i}return{mapping:s,xOffset:u,yOffset:l+c*h,canvasHeight:p(l+(c+1)*h)}}({getFontWidth:t=>h.measureText(t).width,fontHeight:1.2*i,buffer:o,characterSet:t,maxCanvasWidth:1024,...e&&{mapping:e.mapping,xOffset:e.xOffset,yOffset:e.yOffset}});if(u.height!==d){const t=h.getImageData(0,0,u.width,u.height);u.height=d,h.putImageData(t,0,0)}if(x(h,n,i,r),s){const e=new c({fontSize:i,buffer:o,radius:a,cutoff:l,fontFamily:n,fontWeight:"".concat(r)});for(const n of t){const{data:t,width:r,height:o,glyphTop:s}=e.draw(n);f[n].width=r,f[n].layoutOffsetY=.9*i-s;const a=h.createImageData(r,o);w(t,a),h.putImageData(a,f[n].x,f[n].y)}}else for(const c of t)h.fillText(c,f[c].x,f[c].y+o+.9*i);return{xOffset:A,yOffset:g,mapping:f,data:u,width:u.width,height:u.height}}_getKey(){const{fontFamily:t,fontWeight:e,fontSize:n,buffer:r,sdf:i,radius:o,cutoff:s}=this.props;return i?"".concat(t," ").concat(e," ").concat(n," ").concat(r," ").concat(o," ").concat(s):"".concat(t," ").concat(e," ").concat(n," ").concat(r)}}var S=n(93310);const C={start:1,middle:0,end:-1},P={top:1,center:0,bottom:-1},M=[0,0,0,255],T={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:M},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:b.characterSet},fontFamily:b.fontFamily,fontWeight:b.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:M},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:t=>t.text},getPosition:{type:"accessor",value:t=>t.position},getColor:{type:"accessor",value:M},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class O extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0),(0,r.A)(this,"getBoundingRect",((t,e)=>{let{size:[n,r]}=this.transformParagraph(t,e);const{fontSize:i}=this.state.fontAtlasManager.props;n/=i,r/=i;const{getTextAnchor:o,getAlignmentBaseline:s}=this.props;return[(C["function"===typeof o?o(t,e):o]-1)*n/2,(P["function"===typeof s?s(t,e):s]-1)*r/2,n,r]})),(0,r.A)(this,"getIconOffsets",((t,e)=>{const{getTextAnchor:n,getAlignmentBaseline:r}=this.props,{x:i,y:o,rowWidth:s,size:[a,l]}=this.transformParagraph(t,e),c=C["function"===typeof n?n(t,e):n],u=P["function"===typeof r?r(t,e):r],h=i.length,f=new Array(2*h);let d=0;for(let p=0;p<h;p++){const t=(1-c)*(a-s[p])/2;f[d++]=(c-1)*a/2+t+i[p],f[d++]=(u-1)*l/2+o[p]}return f}))}initializeState(){this.state={styleVersion:0,fontAtlasManager:new E},this.props.maxWidth>0&&o.A.warn("v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}updateState(t){const{props:e,oldProps:n,changeFlags:r}=t;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText();(this._updateFontAtlas()||e.lineHeight!==n.lineHeight||e.wordBreak!==n.wordBreak||e.maxWidth!==n.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo(t){let{info:e}=t;return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:t,fontFamily:e,fontWeight:n}=this.props,{fontAtlasManager:r,characterSet:i}=this.state,o={...t,characterSet:i,fontFamily:e,fontWeight:n};if(!r.mapping)return r.setProps(o),!0;for(const s in o)if(o[s]!==r.props[s])return r.setProps(o),!0;return!1}_updateText(){var t;const{data:e,characterSet:n}=this.props,r=null===(t=e.attributes)||void 0===t?void 0:t.getText;let i,{getText:o}=this.props,a=e.startIndices;const l="auto"===n&&new Set;if(r&&a){const{texts:t,characterCount:n}=function(t){let{value:e,length:n,stride:r,offset:i,startIndices:o,characterSet:s}=t;const a=e.BYTES_PER_ELEMENT,l=r?r/a:1,c=i?i/a:0,u=o[n]||Math.ceil((e.length-c)/l),h=s&&new Set,f=new Array(n);let d=e;if(l>1||c>0){d=new(0,e.constructor)(u);for(let t=0;t<u;t++)d[t]=e[t*l+c]}for(let p=0;p<n;p++){const t=o[p],e=o[p+1]||u,n=d.subarray(t,e);f[p]=String.fromCodePoint.apply(null,n),h&&n.forEach(h.add,h)}if(h)for(const p of h)s.add(String.fromCodePoint(p));return{texts:f,characterCount:u}}({...ArrayBuffer.isView(r)?{value:r}:r,length:e.length,startIndices:a,characterSet:l});i=n,o=(e,n)=>{let{index:r}=n;return t[r]}}else{const{iterable:t,objectInfo:n}=(0,s.X)(e);a=[0],i=0;for(const e of t){n.index++;const t=Array.from(o(e,n)||"");l&&t.forEach(l.add,l),i+=t.length,a.push(i)}}this.setState({getText:o,startIndices:a,numInstances:i,characterSet:l||n})}transformParagraph(t,e){const{fontAtlasManager:n}=this.state,r=n.mapping,i=this.state.getText,{wordBreak:o,lineHeight:s,maxWidth:a}=this.props;return function(t,e,n,r,i){const o=Array.from(t),s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=("break-word"===n||"break-all"===n)&&isFinite(r)&&r>0,h=[0,0],f=[0,0];let p=0,A=0,g=0;for(let b=0;b<=s;b++){const t=o[b];if("\n"!==t&&b!==s||(g=b),g>A){const t=u?y(o,n,r,i,A,g):d;for(let n=0;n<=t.length;n++){const r=0===n?A:t[n-1],s=n<t.length?t[n]:g;m(o,r,s,i,a,f);for(let t=r;t<s;t++){var v;const e=(null===(v=i[o[t]])||void 0===v?void 0:v.layoutOffsetY)||0;l[t]=p+f[1]/2+e,c[t]=f[0]}p+=f[1]*e,h[0]=Math.max(h[0],f[0])}A=g}"\n"===t&&(a[A]=0,l[A]=0,c[A]=0,A++)}return h[1]=p,{x:a,y:l,rowWidth:c,size:h}}(i(t,e)||"",s,o,a*n.props.fontSize,r)}renderLayers(){const{startIndices:t,numInstances:e,getText:n,fontAtlasManager:{scale:r,texture:i,mapping:o},styleVersion:s}=this.state,{data:l,_dataDiff:c,getPosition:u,getColor:h,getSize:f,getAngle:d,getPixelOffset:p,getBackgroundColor:A,getBorderColor:g,getBorderWidth:y,backgroundPadding:m,background:v,billboard:_,fontSettings:w,outlineWidth:x,outlineColor:E,sizeScale:C,sizeUnits:P,sizeMinPixels:M,sizeMaxPixels:T,transitions:O,updateTriggers:I}=this.props,R=this.getSubLayerClass("characters",a.A),L=this.getSubLayerClass("background",S.A);return[v&&new L({getFillColor:A,getLineColor:g,getLineWidth:y,padding:m,getPosition:u,getSize:f,getAngle:d,getPixelOffset:p,billboard:_,sizeScale:C,sizeUnits:P,sizeMinPixels:M,sizeMaxPixels:T,transitions:O&&{getPosition:O.getPosition,getAngle:O.getAngle,getSize:O.getSize,getFillColor:O.getBackgroundColor,getLineColor:O.getBorderColor,getLineWidth:O.getBorderWidth,getPixelOffset:O.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:I.getPosition,getAngle:I.getAngle,getSize:I.getSize,getFillColor:I.getBackgroundColor,getLineColor:I.getBorderColor,getLineWidth:I.getBorderWidth,getPixelOffset:I.getPixelOffset,getBoundingRect:{getText:I.getText,getTextAnchor:I.getTextAnchor,getAlignmentBaseline:I.getAlignmentBaseline,styleVersion:s}}}),{data:l.attributes&&l.attributes.background?{length:l.length,attributes:l.attributes.background}:l,_dataDiff:c,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new R({sdf:w.sdf,smoothing:Number.isFinite(w.smoothing)?w.smoothing:b.smoothing,outlineWidth:x/(w.radius||b.radius),outlineColor:E,iconAtlas:i,iconMapping:o,getPosition:u,getColor:h,getSize:f,getAngle:d,getPixelOffset:p,billboard:_,sizeScale:C*r,sizeUnits:P,sizeMinPixels:M*r,sizeMaxPixels:T*r,transitions:O&&{getPosition:O.getPosition,getAngle:O.getAngle,getColor:O.getColor,getSize:O.getSize,getPixelOffset:O.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:I.getText,getPosition:I.getPosition,getAngle:I.getAngle,getColor:I.getColor,getSize:I.getSize,getPixelOffset:I.getPixelOffset,getIconOffsets:{getTextAnchor:I.getTextAnchor,getAlignmentBaseline:I.getAlignmentBaseline,styleVersion:s}}}),{data:l,_dataDiff:c,startIndices:t,numInstances:e,getIconOffsets:this.getIconOffsets,getIcon:n})]}static set fontAtlasCacheLimit(t){!function(t){o.A.assert(Number.isFinite(t)&&t>=3,"Invalid cache limit"),_=new v(t)}(t)}}(0,r.A)(O,"defaultProps",T),(0,r.A)(O,"layerName","TextLayer")},22347:(t,e,n)=>{"use strict";function r(t){let{data:e,getIndex:n,dataRange:r,replace:i}=t;const{startRow:o=0,endRow:s=1/0}=r,a=e.length;let l=a,c=a;for(let f=0;f<a;f++){const t=n(e[f]);if(l>f&&t>=o&&(l=f),t>=s){c=f;break}}let u=l;const h=c-l!==i.length?e.slice(c):void 0;for(let f=0;f<i.length;f++)e[u++]=i[f];if(h){for(let t=0;t<h.length;t++)e[u++]=h[t];e.length=u}return{startRow:l,endRow:l+i.length}}n.d(e,{J:()=>r})},43448:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ScenegraphLayer:()=>i.A,SimpleMeshLayer:()=>r.A});var r=n(80453),i=n(99443)},99443:(t,e,n)=>{"use strict";n.d(e,{A:()=>j});var r=n(54705),i=n(43203),o=n(68281),s=n(71289),a=n(96649),l=n(45882),c=n(91052),u=n(83051),h=n(92684),f=n(65658),d=n(71425);class p{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:e}=t;this.id=e||(0,f.Ld)(this.constructor.name),this.display=!0,this.position=new u.A,this.rotation=new u.A,this.scale=new u.A(1,1,1),this.matrix=new h.A,this.userData={},this.props={},this._setScenegraphNodeProps(t)}delete(){}setProps(t){return this._setScenegraphNodeProps(t),this}toString(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}getBounds(){return null}setPosition(t){return(0,d.v)(3===t.length,"setPosition requires vector argument"),this.position=t,this}setRotation(t){return(0,d.v)(3===t.length,"setRotation requires vector argument"),this.rotation=t,this}setScale(t){return(0,d.v)(3===t.length,"setScale requires vector argument"),this.scale=t,this}setMatrix(t){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?this.matrix.copy(t):this.matrix=t}setMatrixComponents(t){let{position:e,rotation:n,scale:r,update:i=!0}=t;return e&&this.setPosition(e),n&&this.setRotation(n),r&&this.setScale(r),i&&this.updateMatrix(),this}updateMatrix(){const t=this.position,e=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(t),this.matrix.rotateXYZ(e),this.matrix.scale(n),this}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:e,rotation:n,scale:r}=t;return e&&this.setPosition(e),n&&this.setRotation(n),r&&this.setScale(r),this.updateMatrix(),this}getCoordinateUniforms(t,e){(0,d.v)(t),e=e||this.matrix;const n=new h.A(t).multiplyRight(e),r=n.invert(),i=r.transpose();return{viewMatrix:t,modelMatrix:e,objectMatrix:e,worldMatrix:n,worldInverseMatrix:r,worldInverseTransposeMatrix:i}}_setScenegraphNodeProps(t){"display"in t&&(this.display=t.display),"position"in t&&this.setPosition(t.position),"rotation"in t&&this.setRotation(t.rotation),"scale"in t&&this.setScale(t.scale),"matrix"in t&&this.setMatrix(t.matrix),Object.assign(this.props,t)}}var A=n(8858),g=n(40663);class y extends p{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Array.isArray(t)?{children:t}:t;const{children:e=[]}=t;l.Rm.assert(e.every((t=>t instanceof p)),"every child must an instance of ScenegraphNode"),super(t),this.children=e}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(const r of e)Array.isArray(r)?this.add(...r):this.children.push(r);return this}remove(t){const e=this.children,n=e.indexOf(t);return n>-1&&e.splice(n,1),this}removeAll(){return this.children=[],this}delete(){this.children.forEach((t=>t.delete())),this.removeAll(),super.delete()}getBounds(){const t=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse(((e,n)=>{let{worldMatrix:r}=n;const i=e.getBounds();if(!i)return;const[o,s]=i,a=new u.A(o).add(s).divide([2,2,2]);r.transformAsPoint(a,a);const l=new u.A(s).subtract(o).divide([2,2,2]);r.transformAsVector(l,l);for(let c=0;c<8;c++){const e=new u.A(1&c?-1:1,2&c?-1:1,4&c?-1:1).multiply(l).add(a);for(let n=0;n<3;n++)t[0][n]=Math.min(t[0][n],e[n]),t[1][n]=Math.max(t[1][n],e[n])}})),Number.isFinite(t[0][0])?t:null}traverse(t){let{worldMatrix:e=new h.A}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new h.A(e).multiplyRight(this.matrix);for(const r of this.children)r instanceof y?r.traverse(t,{worldMatrix:n}):t(r,{worldMatrix:n})}}var m=n(50516);const v={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},b={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function _(t){if(!t._animation){const e=b[t.componentType],n=v[t.type],r=n*t.count,{buffer:i,byteOffset:o}=t.bufferView.data,s=new e(i,o+(t.byteOffset||0),r);if(1===n)t._animation=Array.from(s);else{const e=[];for(let t=0;t<s.length;t+=n)e.push(Array.from(s.slice(t,t+n)));t._animation=e}}return t._animation}const w=new h.A;const x=new m.A;function E(t,e,n,r){let{input:i,interpolation:o,output:s}=e;const a=t%i[i.length-1],c=i.findIndex((t=>t>=a)),u=Math.max(0,c-1);if(!Array.isArray(n[r]))switch(r){case"translation":n[r]=[0,0,0];break;case"rotation":n[r]=[0,0,0,1];break;case"scale":n[r]=[1,1,1];break;default:l.Rm.warn("Bad animation path ".concat(r))()}(0,d.v)(n[r].length===s[u].length);const h=i[u],f=i[c];switch(o){case"STEP":!function(t,e,n){for(let r=0;r<n.length;r++)t[e][r]=n[r]}(n,r,s[u]);break;case"LINEAR":if(f>h){const t=(a-h)/(f-h);!function(t,e,n,r,i){if("rotation"===e){x.slerp({start:n,target:r,ratio:i});for(let n=0;n<x.length;n++)t[e][n]=x[n]}else for(let o=0;o<n.length;o++)t[e][o]=i*r[o]+(1-i)*n[o]}(n,r,s[u],s[c],t)}break;case"CUBICSPLINE":if(f>h){const t=(a-h)/(f-h),e=f-h;!function(t,e,n){let{p0:r,outTangent0:i,inTangent1:o,p1:s,tDiff:a,ratio:l}=n;for(let c=0;c<t[e].length;c++){const n=i[c]*a,u=o[c]*a;t[e][c]=(2*Math.pow(l,3)-3*Math.pow(l,2)+1)*r[c]+(Math.pow(l,3)-2*Math.pow(l,2)+l)*n+(-2*Math.pow(l,3)+3*Math.pow(l,2))*s[c]+(Math.pow(l,3)-Math.pow(l,2))*u}}(n,r,{p0:s[3*u+1],outTangent0:s[3*u+2],inTangent1:s[3*c+0],p1:s[3*c+1],tDiff:e,ratio:t})}break;default:l.Rm.warn("Interpolation ".concat(o," not supported"))()}}class S{constructor(t){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,t)}animate(t){if(!this.playing)return;const e=(t/1e3-this.startTime)*this.speed;this.channels.forEach((t=>{let{sampler:n,target:r,path:i}=t;E(e,n,r,i),function(t,e){if(e.matrix.identity(),t.translation&&e.matrix.translate(t.translation),t.rotation){const n=w.fromQuaternion(t.rotation);e.matrix.multiplyRight(n)}t.scale&&e.matrix.scale(t.scale)}(r,r._node)}))}}class C{constructor(t){this.animations=t.animations.map(((e,n)=>{const r=e.name||"Animation-".concat(n),i=e.samplers.map((e=>{let{input:n,interpolation:r="LINEAR",output:i}=e;return{input:_(t.accessors[n]),interpolation:r,output:_(t.accessors[i])}})),o=e.channels.map((e=>{let{sampler:n,target:r}=e;return{sampler:i[n],target:t.nodes[r.node],path:r.path}}));return new S({name:r,channels:o})}))}animate(t){this.setTime(t)}setTime(t){this.animations.forEach((e=>e.animate(t)))}getAnimations(){return this.animations}}var P=n(50953);class M extends p{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.onBeforeRender=null,this.AfterRender=null,t instanceof P.A?(this.model=t,this._setModelNodeProps(e)):this.model=new P.A(t,e),this.bounds=null,this.managedResources=e.managedResources||[]}setProps(t){return super.setProps(t),this._setModelNodeProps(t),this}getBounds(){return this.bounds}delete(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach((t=>t.delete())),this.managedResources=[]}draw(){return this.model.draw(...arguments)}setUniforms(){return this.model.setUniforms(...arguments),this}setAttributes(){return this.model.setAttributes(...arguments),this}updateModuleSettings(){return this.model.updateModuleSettings(...arguments),this}_setModelNodeProps(t){this.model.setProps(t)}}var T=n(17475);function O(t,e){return(0,l.C6)(t)?"#version 300 es\n".concat(e):e}const I={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},R={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class L{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.options=Object.assign({},R,e)}instantiate(t){this.gltf=t;return(t.scenes||[]).map((t=>this.createScene(t)))}createAnimator(){return Array.isArray(this.gltf.animations)?new C(this.gltf):null}createScene(t){const e=(t.nodes||[]).map((t=>this.createNode(t)));return new y({id:t.name||t.id,children:e})}createNode(t){if(!t._node){const e=(t.children||[]).map((t=>this.createNode(t)));t.mesh&&e.push(this.createMesh(t.mesh));const n=new y({id:t.name||t.id,children:e});if(t.matrix)n.setMatrix(t.matrix);else{if(n.matrix.identity(),t.translation&&n.matrix.translate(t.translation),t.rotation){const e=(new h.A).fromQuaternion(t.rotation);n.matrix.multiplyRight(e)}t.scale&&n.matrix.scale(t.scale)}t._node=n}return t._node}createMesh(t){if(!t._mesh){const e=(t.primitives||[]).map(((e,n)=>this.createPrimitive(e,n,t))),n=new y({id:t.name||t.id,children:e});t._mesh=n}return t._mesh}getVertexCount(t){l.Rm.warn("getVertexCount() not found")()}createPrimitive(t,e,n){const r=function(t,e){const{id:n,drawMode:r,vertexCount:i,attributes:o,modelOptions:s}=e,a=new T.A(t,e);l.Rm.info(4,"createGLTFModel defines: ",a.defines)();const u=[];u.push(...a.generatedTextures),u.push(...Object.values(o).map((t=>t.buffer)));const h=new M(t,{id:n,drawMode:r,vertexCount:i,modules:[c.R],parameters:a.parameters,vs:O(t,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:O(t,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:u,...s,defines:{...a.defines,...s.defines}});return h.setProps({attributes:o}),h.setUniforms(a.uniforms),h}(this.gl,Object.assign({id:t.name||"".concat(n.name||n.id,"-primitive-").concat(e),drawMode:t.mode||4,vertexCount:t.indices?t.indices.count:this.getVertexCount(t.attributes),attributes:this.createAttributes(t.attributes,t.indices),material:t.material},this.options));return r.bounds=[t.attributes.POSITION.min,t.attributes.POSITION.max],r}createAttributes(t,e){const n={};return Object.keys(t).forEach((e=>{n[e]=this.createAccessor(t[e],this.createBuffer(t[e],this.gl.ARRAY_BUFFER))})),e&&(n.indices=this.createAccessor(e,this.createBuffer(e,this.gl.ELEMENT_ARRAY_BUFFER))),l.Rm.info(4,"glTF Attributes",{attributes:t,indices:e,generated:n})(),n}createBuffer(t,e){t.bufferView||(t.bufferView={});const{bufferView:n}=t;return n.lumaBuffers||(n.lumaBuffers={}),n.lumaBuffers[e]||(n.lumaBuffers[e]=new A.A(this.gl,{id:"from-".concat(n.id),data:n.data||t.value,target:e})),n.lumaBuffers[e]}createAccessor(t,e){return new g.A({buffer:e,offset:t.byteOffset||0,stride:t.bufferView.byteStride||0,type:t.componentType,size:I[t.type]})}createSampler(t){return t}needsPOT(){return!1}}var k=n(5219);async function B(t){const e=[];return t.scenes.forEach((t=>{t.traverse((t=>{Object.values(t.model.getUniforms()).forEach((t=>{!1===t.loaded&&e.push(t)}))}))})),await async function(t){for(;t();)await new Promise((t=>requestAnimationFrame(t)))}((()=>e.some((t=>!t.loaded))))}var N=n(83529);const D=[255,255,255,255],F={scenegraph:{type:"object",value:null,async:!0},getScene:t=>t&&t.scenes?"object"===typeof t.scene?t.scene:t.scenes[t.scene||0]:t,getAnimator:t=>t&&t.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:t=>t.position},getColor:{type:"accessor",value:D},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[k.B]};class j extends i.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}getShaders(){const t=[o.A,s.A];return"pbr"===this.props._lighting&&t.push(c.R),super.getShaders({vs:"#version 300 es\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\nout vec4 vColor;\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    geometry.normal = project_normal(normal);\n    geometry.worldPosition += pos;\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\nuniform float opacity;\nin vec4 vColor;\n\nout vec4 fragmentColor;\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:t})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:D,transition:!0},instanceModelMatrix:N.U})}updateState(t){super.updateState(t);const{props:e,oldProps:n}=t;e.scenegraph!==n.scenegraph?this._updateScenegraph():e._animations!==n._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,e._animations)}finalizeState(t){super.finalizeState(t),this._deleteScenegraph()}get isLoaded(){var t;return(null===(t=this.state)||void 0===t?void 0:t.scenegraph)&&super.isLoaded}_updateScenegraph(){const t=this.props,{gl:e}=this.context;let n=null;if(t.scenegraph instanceof p)n={scenes:[t.scenegraph]};else if(t.scenegraph&&!t.scenegraph.gltf){const r=t.scenegraph,i=function(t,e,n){const r=new L(t,n);return{scenes:r.instantiate(e),animator:r.createAnimator()}}(e,r,this._getModelOptions());n={gltf:r,...i},B(i).then((()=>this.setNeedsRedraw()))}else t.scenegraph&&(a.A.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),n=t.scenegraph);const r={layer:this,gl:e},i=t.getScene(n,r),o=t.getAnimator(n,r);i instanceof p?(this._deleteScenegraph(),this._applyAllAttributes(i),this._applyAnimationsProp(i,o,t._animations),this.setState({scenegraph:i,animator:o})):null!==i&&a.A.warn("invalid scenegraph:",i)()}_applyAllAttributes(t){if(this.state.attributesAvailable){const e=this.getAttributeManager().getAttributes();t.traverse((t=>{this._setModelAttributes(t.model,e)}))}}_applyAnimationsProp(t,e,n){if(!t||!e||!n)return;const r=e.getAnimations();Object.keys(n).sort().forEach((t=>{const e=n[t];if("*"===t)r.forEach((t=>{Object.assign(t,e)}));else if(Number.isFinite(Number(t))){const n=Number(t);n>=0&&n<r.length?Object.assign(r[n],e):a.A.warn("animation ".concat(t," not found"))()}else{const n=r.find((e=>{let{name:n}=e;return n===t}));n?Object.assign(n,e):a.A.warn("animation ".concat(t," not found"))()}}))}_deleteScenegraph(){const{scenegraph:t}=this.state;t instanceof p&&t.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:t}=this.props;let e=null;return t&&(e="function"===typeof t?t({gl:this.context.gl,layer:this}):t),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:e,modelOptions:{isInstanced:!0,transpileToGLSL100:!(0,l.C6)(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(t){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse((e=>{this._setModelAttributes(e.model,t)}))}draw(t){let{moduleParameters:e=null,parameters:n={},context:r}=t;if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(r.timeline.getTime()),this.setNeedsRedraw());const{viewport:i}=this.context,{sizeScale:o,sizeMinPixels:s,sizeMaxPixels:a,opacity:l,coordinateSystem:c}=this.props,u=this.getNumInstances();this.state.scenegraph.traverse(((t,r)=>{let{worldMatrix:h}=r;t.model.setInstanceCount(u),t.updateModuleSettings(e),t.draw({parameters:n,uniforms:{sizeScale:o,opacity:l,sizeMinPixels:s,sizeMaxPixels:a,composeModelMatrix:(0,N.w)(i,c),sceneModelMatrix:h,u_Camera:t.model.getUniforms().project_uCameraPosition}})}))}}(0,r.A)(j,"defaultProps",F),(0,r.A)(j,"layerName","ScenegraphLayer")},80453:(t,e,n)=>{"use strict";n.d(e,{A:()=>b});var r=n(54705),i=n(96649),o=n(43203),s=n(68281),a=n(70574),l=n(71289),c=n(84707),u=n(45882),h=n(59375),f=n(50953),d=n(51934),p=n(34551),A=n(83529);var g=n(39608);function y(t,e){(t.COLOR_0||t.colors)&&e||(t.colors={constant:!0,value:new Float32Array([1,1,1])}),i.A.assert(t.positions||t.POSITION,'no "postions" or "POSITION" attribute in mesh')}function m(t,e){if(t.attributes)return y(t.attributes,e),t instanceof c.A?t:new c.A(t);if(t.positions||t.POSITION)return y(t,e),new c.A({attributes:t});throw Error("Invalid mesh")}const v={mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:t=>t.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},textureParameters:{type:"object",ignore:!0}};class b extends o.A{constructor(){super(...arguments),(0,r.A)(this,"state",void 0)}getShaders(){const t=!(0,u.C6)(this.context.gl),e={};return(0,d.jI)(this.context.gl,p.G.GLSL_DERIVATIVES)&&(e.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    geometry.worldPosition += pos;\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  DECKGL_FILTER_COLOR(color, geometry);\n\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n}\n",modules:[s.A,a.p,l.A],transpileToGLSL100:t,defines:e})}getBounds(){var t;if(this.props._instanced)return super.getBounds();let e=this.state.positionBounds;if(e)return e;const{mesh:n}=this.props;if(!n)return null;if(e=null===(t=n.header)||void 0===t?void 0:t.boundingBox,!e){const{attributes:t}=m(n,this.props._useMeshColors);t.POSITION=t.POSITION||t.positions,e=(0,g.l)(t)}return this.state.positionBounds=e,e}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:A.U}),this.setState({emptyTexture:new h.A(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState(t){super.updateState(t);const{props:e,oldProps:n,changeFlags:r}=t;if(e.mesh!==n.mesh||r.extensionsChanged){var i;if(this.state.positionBounds=null,null===(i=this.state.model)||void 0===i||i.delete(),e.mesh){this.state.model=this.getModel(e.mesh);const t=e.mesh.attributes||e.mesh;this.setState({hasNormals:Boolean(t.NORMAL||t.normals)})}this.getAttributeManager().invalidateAll()}e.texture!==n.texture&&this.setTexture(e.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(t){super.finalizeState(t),this.state.emptyTexture.delete()}draw(t){let{uniforms:e}=t;if(!this.state.model)return;const{viewport:n}=this.context,{sizeScale:r,coordinateSystem:i,_instanced:o}=this.props;this.state.model.setUniforms(e).setUniforms({sizeScale:r,composeModelMatrix:!o||(0,A.w)(n,i),flatShading:!this.state.hasNormals}).draw()}get isLoaded(){var t;return(null===(t=this.state)||void 0===t?void 0:t.model)&&super.isLoaded}getModel(t){const e=new f.A(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:m(t,this.props._useMeshColors),isInstanced:!0}),{texture:n}=this.props,{emptyTexture:r}=this.state;return e.setUniforms({sampler:n||r,hasTexture:Boolean(n)}),e}setTexture(t){const{emptyTexture:e,model:n}=this.state;n&&n.setUniforms({sampler:t||e,hasTexture:Boolean(t)})}}(0,r.A)(b,"defaultProps",v),(0,r.A)(b,"layerName","SimpleMeshLayer")},83529:(t,e,n)=>{"use strict";n.d(e,{U:()=>u,w:()=>h});var r=n(82133),i=n(77044);const o=Math.PI/180,s=new Float32Array(16),a=new Float32Array(12);function l(t,e,n){const r=e[0]*o,i=e[1]*o,s=e[2]*o,a=Math.sin(s),l=Math.sin(r),c=Math.sin(i),u=Math.cos(s),h=Math.cos(r),f=Math.cos(i),d=n[0],p=n[1],A=n[2];t[0]=d*f*h,t[1]=d*c*h,t[2]=d*-l,t[3]=p*(-c*u+f*l*a),t[4]=p*(f*u+c*l*a),t[5]=p*h*a,t[6]=A*(c*a+f*l*u),t[7]=A*(-f*a+c*l*u),t[8]=A*h*u}function c(t){return t[0]=t[0],t[1]=t[1],t[2]=t[2],t[3]=t[4],t[4]=t[5],t[5]=t[6],t[6]=t[8],t[7]=t[9],t[8]=t[10],t[9]=t[12],t[10]=t[13],t[11]=t[14],t.subarray(0,12)}const u={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(t,e){let{startRow:n,endRow:i}=e;const{data:o,getOrientation:u,getScale:h,getTranslation:f,getTransformMatrix:d}=this.props,p=Array.isArray(d),A=p&&16===d.length,g=Array.isArray(h),y=Array.isArray(u),m=Array.isArray(f),v=A||!p&&Boolean(d(o[0]));t.constant=v?A:y&&g&&m;const b=t.value;if(t.constant){let e;if(v)s.set(d),e=c(s);else{e=a;l(e,u,h),e.set(f,9)}t.value=new Float32Array(e)}else{let e=n*t.size;const{iterable:p,objectInfo:_}=(0,r.X)(o,n,i);for(const t of p){let n;if(_.index++,v)s.set(A?d:d(t,_)),n=c(s);else{n=a;l(n,y?u:u(t,_),g?h:h(t,_)),n.set(m?f:f(t,_),9)}b[e++]=n[0],b[e++]=n[1],b[e++]=n[2],b[e++]=n[3],b[e++]=n[4],b[e++]=n[5],b[e++]=n[6],b[e++]=n[7],b[e++]=n[8],b[e++]=n[9],b[e++]=n[10],b[e++]=n[11]}}}};function h(t,e){return e===i.rf.CARTESIAN||e===i.rf.METER_OFFSETS||e===i.rf.DEFAULT&&!t.isGeospatial}},65509:(t,e,n)=>{"use strict";n.d(e,{Vl:()=>Y});var r=n(52817);const i="3.4.15",o={draco:{decoderType:"object"===typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},s={name:"Draco",id:r.Bd?"draco":"draco-nodejs",module:"draco",shapes:["mesh"],version:i,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:o};var a=n(54705),l=n(39608);class c{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;(0,a.A)(this,"name",void 0),(0,a.A)(this,"type",void 0),(0,a.A)(this,"nullable",void 0),(0,a.A)(this,"metadata",void 0),this.name=t,this.type=e,this.nullable=n,this.metadata=r}get typeId(){return this.type&&this.type.typeId}clone(){return new c(this.name,this.type,this.nullable,this.metadata)}compareTo(t){return this.name===t.name&&this.type===t.type&&this.nullable===t.nullable&&this.metadata===t.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let u,h,f,d,p,A,g,y,m=function(t){return t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t}({});class v{static isNull(t){return t&&t.typeId===m.Null}static isInt(t){return t&&t.typeId===m.Int}static isFloat(t){return t&&t.typeId===m.Float}static isBinary(t){return t&&t.typeId===m.Binary}static isUtf8(t){return t&&t.typeId===m.Utf8}static isBool(t){return t&&t.typeId===m.Bool}static isDecimal(t){return t&&t.typeId===m.Decimal}static isDate(t){return t&&t.typeId===m.Date}static isTime(t){return t&&t.typeId===m.Time}static isTimestamp(t){return t&&t.typeId===m.Timestamp}static isInterval(t){return t&&t.typeId===m.Interval}static isList(t){return t&&t.typeId===m.List}static isStruct(t){return t&&t.typeId===m.Struct}static isUnion(t){return t&&t.typeId===m.Union}static isFixedSizeBinary(t){return t&&t.typeId===m.FixedSizeBinary}static isFixedSizeList(t){return t&&t.typeId===m.FixedSizeList}static isMap(t){return t&&t.typeId===m.Map}static isDictionary(t){return t&&t.typeId===m.Dictionary}get typeId(){return m.NONE}compareTo(t){return this===t}}Symbol.toStringTag;Symbol.toStringTag;u=Symbol.toStringTag;class b extends v{constructor(t,e){super(),(0,a.A)(this,"isSigned",void 0),(0,a.A)(this,"bitWidth",void 0),this.isSigned=t,this.bitWidth=e}get typeId(){return m.Int}get[u](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class _ extends b{constructor(){super(!0,8)}}class w extends b{constructor(){super(!0,16)}}class x extends b{constructor(){super(!0,32)}}class E extends b{constructor(){super(!1,8)}}class S extends b{constructor(){super(!1,16)}}class C extends b{constructor(){super(!1,32)}}const P=32,M=64;h=Symbol.toStringTag;class T extends v{constructor(t){super(),(0,a.A)(this,"precision",void 0),this.precision=t}get typeId(){return m.Float}get[h](){return"Float"}toString(){return"Float".concat(this.precision)}}class O extends T{constructor(){super(P)}}class I extends T{constructor(){super(M)}}Symbol.toStringTag;Symbol.toStringTag;f=Symbol.toStringTag;d=Symbol.toStringTag;p=Symbol.toStringTag;A=Symbol.toStringTag;g=Symbol.toStringTag;class R extends v{constructor(t,e){super(),(0,a.A)(this,"listSize",void 0),(0,a.A)(this,"children",void 0),this.listSize=t,this.children=[e]}get typeId(){return m.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[g](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}y=Symbol.toStringTag;function L(t,e,n){const r=function(t){switch(t.constructor){case Int8Array:return new _;case Uint8Array:return new E;case Int16Array:return new w;case Uint16Array:return new S;case Int32Array:return new x;case Uint32Array:return new C;case Float32Array:return new O;case Float64Array:return new I;default:throw new Error("array type not supported")}}(e.value),i=n||function(t){const e=new Map;"byteOffset"in t&&e.set("byteOffset",t.byteOffset.toString(10));"byteStride"in t&&e.set("byteStride",t.byteStride.toString(10));"normalized"in t&&e.set("normalized",t.normalized.toString());return e}(e);return new c(t,new R(e.size,new c("value",r)),!1,i)}class k{constructor(t,e){(0,a.A)(this,"fields",void 0),(0,a.A)(this,"metadata",void 0),function(t,e){if(!t)throw new Error(e||"loader assertion failed.")}(Array.isArray(t)),function(t){const e={};for(const n of t)e[n.name]&&console.warn("Schema: duplicated field name",n.name,n),e[n.name]=!0}(t),this.fields=t,this.metadata=e||new Map}compareTo(t){if(this.metadata!==t.metadata)return!1;if(this.fields.length!==t.fields.length)return!1;for(let e=0;e<this.fields.length;++e)if(!this.fields[e].compareTo(t.fields[e]))return!1;return!0}select(){const t=Object.create(null);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const o of n)t[o]=!0;const i=this.fields.filter((e=>t[e.name]));return new k(i,this.metadata)}selectAt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.map((t=>this.fields[t])).filter(Boolean);return new k(r,this.metadata)}assign(t){let e,n=this.metadata;if(t instanceof k){const r=t;e=r.fields,n=B(B(new Map,this.metadata),r.metadata)}else e=t;const r=Object.create(null);for(const o of this.fields)r[o.name]=o;for(const o of e)r[o.name]=o;const i=Object.values(r);return new k(i,n)}}function B(t,e){return new Map([...t||new Map,...e||new Map])}function N(t,e,n){return L(t,e,n?D(n.metadata):void 0)}function D(t){const e=new Map;for(const n in t)e.set("".concat(n,".string"),JSON.stringify(t[n]));return e}const F={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},j={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class U{constructor(t){(0,a.A)(this,"draco",void 0),(0,a.A)(this,"decoder",void 0),(0,a.A)(this,"metadataQuerier",void 0),this.draco=t,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new this.draco.DecoderBuffer;n.Init(new Int8Array(t),t.byteLength),this._disableAttributeTransforms(e);const r=this.decoder.GetEncodedGeometryType(n),i=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let t;switch(r){case this.draco.TRIANGULAR_MESH:t=this.decoder.DecodeBufferToMesh(n,i);break;case this.draco.POINT_CLOUD:t=this.decoder.DecodeBufferToPointCloud(n,i);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!t.ok()||!i.ptr){const e="DRACO decompression failed: ".concat(t.error_msg());throw new Error(e)}const o=this._getDracoLoaderData(i,r,e),s=this._getMeshData(i,o,e),a=(0,l.l)(s.attributes),c=function(t,e,n){const r=D(e.metadata),i=[],o=function(t){const e={};for(const n in t){const r=t[n];e[r.name||"undefined"]=r}return e}(e.attributes);for(const s in t){const e=N(s,t[s],o[s]);i.push(e)}if(n){const t=N("indices",n);i.push(t)}return new k(i,r)}(s.attributes,o,s.indices);return{loader:"draco",loaderData:o,header:{vertexCount:i.num_points(),boundingBox:a},...s,schema:c}}finally{this.draco.destroy(n),i&&this.draco.destroy(i)}}_getDracoLoaderData(t,e,n){const r=this._getTopLevelMetadata(t),i=this._getDracoAttributes(t,n);return{geometry_type:e,num_attributes:t.num_attributes(),num_points:t.num_points(),num_faces:t instanceof this.draco.Mesh?t.num_faces():0,metadata:r,attributes:i}}_getDracoAttributes(t,e){const n={};for(let r=0;r<t.num_attributes();r++){const i=this.decoder.GetAttribute(t,r),o=this._getAttributeMetadata(t,r);n[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:r,metadata:o};const s=this._getQuantizationTransform(i,e);s&&(n[i.unique_id()].quantization_transform=s);const a=this._getOctahedronTransform(i,e);a&&(n[i.unique_id()].octahedron_transform=a)}return n}_getMeshData(t,e,n){const r=this._getMeshAttributes(e,t,n);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return t instanceof this.draco.Mesh?"triangle-strip"===n.topology?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(t),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(t),size:1}}:{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(t,e,n){const r={};for(const i of Object.values(t.attributes)){const t=this._deduceAttributeName(i,n);i.name=t;const{value:o,size:s}=this._getAttributeValues(e,i);r[t]={value:o,size:s,byteOffset:i.byte_offset,byteStride:i.byte_stride,normalized:i.normalized}}return r}_getTriangleListIndices(t){const e=3*t.num_faces(),n=4*e,r=this.draco._malloc(n);try{return this.decoder.GetTrianglesUInt32Array(t,n,r),new Uint32Array(this.draco.HEAPF32.buffer,r,e).slice()}finally{this.draco._free(r)}}_getTriangleStripIndices(t){const e=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(t,e),function(t){const e=t.size(),n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=t.GetValue(r);return n}(e)}finally{this.draco.destroy(e)}}_getAttributeValues(t,e){const n=j[e.data_type],r=e.num_components,i=t.num_points()*r,o=i*n.BYTES_PER_ELEMENT,s=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32;default:return t.DT_INVALID}}(this.draco,n);let a;const l=this.draco._malloc(o);try{const r=this.decoder.GetAttribute(t,e.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(t,r,s,o,l),a=new n(this.draco.HEAPF32.buffer,l,i).slice()}finally{this.draco._free(l)}return{value:a,size:r}}_deduceAttributeName(t,e){const n=t.unique_id;for(const[o,s]of Object.entries(e.extraAttributes||{}))if(s===n)return o;const r=t.attribute_type;for(const o in F){if(this.draco[o]===r)return F[o]}const i=e.attributeNameEntry||"name";return t.metadata[i]?t.metadata[i].string:"CUSTOM_ATTRIBUTE_".concat(n)}_getTopLevelMetadata(t){const e=this.decoder.GetMetadata(t);return this._getDracoMetadata(e)}_getAttributeMetadata(t,e){const n=this.decoder.GetAttributeMetadata(t,e);return this._getDracoMetadata(n)}_getDracoMetadata(t){if(!t||!t.ptr)return{};const e={},n=this.metadataQuerier.NumEntries(t);for(let r=0;r<n;r++){const n=this.metadataQuerier.GetEntryName(t,r);e[n]=this._getDracoMetadataField(t,n)}return e}_getDracoMetadataField(t,e){const n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(t,e,n);const r=function(t){const e=t.size(),n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=t.GetValue(r);return n}(n);return{int:this.metadataQuerier.GetIntEntry(t,e),string:this.metadataQuerier.GetStringEntry(t,e),double:this.metadataQuerier.GetDoubleEntry(t,e),intArray:r}}finally{this.draco.destroy(n)}}_disableAttributeTransforms(t){const{quantizedAttributes:e=[],octahedronAttributes:n=[]}=t,r=[...e,...n];for(const i of r)this.decoder.SkipAttributeTransform(this.draco[i])}_getQuantizationTransform(t,e){const{quantizedAttributes:n=[]}=e,r=t.attribute_type();if(n.map((t=>this.decoder[t])).includes(r)){const e=new this.draco.AttributeQuantizationTransform;try{if(e.InitFromAttribute(t))return{quantization_bits:e.quantization_bits(),range:e.range(),min_values:new Float32Array([1,2,3]).map((t=>e.min_value(t)))}}finally{this.draco.destroy(e)}}return null}_getOctahedronTransform(t,e){const{octahedronAttributes:n=[]}=e,r=t.attribute_type();if(n.map((t=>this.decoder[t])).includes(r)){const e=new this.draco.AttributeQuantizationTransform;try{if(e.InitFromAttribute(t))return{quantization_bits:e.quantization_bits()}}finally{this.draco.destroy(e)}}return null}}var z=n(85886);const G="https://www.gstatic.com/draco/versioned/decoders/".concat("1.5.5"),V="".concat(G,"/draco_decoder.js"),H="".concat(G,"/draco_wasm_wrapper.js"),W="".concat(G,"/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");let q;async function X(t){const e=t.modules||{};return q=e.draco3d?q||e.draco3d.createDecoderModule({}).then((t=>({draco:t}))):q||async function(t){let e,n;if("js"===(t.draco&&t.draco.decoderType))e=await(0,z._)(V,"draco",t);else[e,n]=await Promise.all([await(0,z._)(H,"draco",t),await(0,z._)(W,"draco",t)]);return e=e||globalThis.DracoDecoderModule,await function(t,e){const n={};e&&(n.wasmBinary=e);return new Promise((e=>{t({...n,onModuleLoaded:t=>e({draco:t})})}))}(e,n)}(t),await q}r.Bd;const Y={...s,parse:async function(t,e){const{draco:n}=await X(e),r=new U(n);try{return r.parseSync(t,null===e||void 0===e?void 0:e.draco)}finally{r.destroy()}}}},5219:(t,e,n)=>{"use strict";n.d(e,{B:()=>$e});var r={};n.r(r),n.d(r,{decode:()=>_t,name:()=>bt});var i={};n.r(i),n.d(i,{name:()=>Mt,preprocess:()=>Tt});var o={};n.r(o),n.d(o,{name:()=>It,preprocess:()=>Rt});var s={};n.r(s),n.d(s,{decode:()=>Ft,encode:()=>jt,name:()=>Nt,preprocess:()=>Dt});var a={};n.r(a),n.d(a,{decode:()=>Zt,name:()=>Yt});var l={};n.r(l),n.d(l,{decode:()=>ie,encode:()=>oe,name:()=>re});var c={};n.r(c),n.d(c,{decode:()=>le,encode:()=>ce,name:()=>ae});var u={};n.r(u),n.d(u,{decode:()=>fe,encode:()=>de,name:()=>he});var h={};n.r(h),n.d(h,{decode:()=>ye,name:()=>ge});var f=n(52817);var d=n(85886);const p="3.4.15",A="https://unpkg.com/@loaders.gl/textures@".concat(p,"/dist/libs/basis_encoder.wasm"),g="https://unpkg.com/@loaders.gl/textures@".concat(p,"/dist/libs/basis_encoder.js");let y,m;async function v(t){const e=t.modules||{};return e.basis?e.basis:(y=y||async function(t){let e=null,n=null;return[e,n]=await Promise.all([await(0,d._)("basis_transcoder.js","textures",t),await(0,d._)("basis_transcoder.wasm","textures",t)]),e=e||globalThis.BASIS,await function(t,e){const n={};e&&(n.wasmBinary=e);return new Promise((e=>{t(n).then((t=>{const{BasisFile:n,initializeBasis:r}=t;r(),e({BasisFile:n})}))}))}(e,n)}(t),await y)}async function b(t){const e=t.modules||{};return e.basisEncoder?e.basisEncoder:(m=m||async function(t){let e=null,n=null;return[e,n]=await Promise.all([await(0,d._)(g,"textures",t),await(0,d._)(A,"textures",t)]),e=e||globalThis.BASIS,await function(t,e){const n={};e&&(n.wasmBinary=e);return new Promise((e=>{t(n).then((t=>{const{BasisFile:n,KTX2File:r,initializeBasis:i,BasisEncoder:o}=t;i(),e({BasisFile:n,KTX2File:r,BasisEncoder:o})}))}))}(e,n)}(t),await m)}const _=33776,w=33779,x=35840,E=35842,S=36196,C=37808,P=["","WEBKIT_","MOZ_"],M={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let T=null;function O(t){if(!T){t=t||function(){try{return document.createElement("canvas").getContext("webgl")}catch(t){return null}}()||void 0,T=new Set;for(const e of P)for(const n in M)if(t&&t.getExtension("".concat(e).concat(n))){const t=M[n];T.add(t)}}return T}new Uint8Array([0]);var I,R,L,k,B,N,D,F;!function(t){t[t.NONE=0]="NONE",t[t.BASISLZ=1]="BASISLZ",t[t.ZSTD=2]="ZSTD",t[t.ZLIB=3]="ZLIB"}(I||(I={})),function(t){t[t.BASICFORMAT=0]="BASICFORMAT"}(R||(R={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ETC1S=163]="ETC1S",t[t.UASTC=166]="UASTC"}(L||(L={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SRGB=1]="SRGB"}(k||(k={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.LINEAR=1]="LINEAR",t[t.SRGB=2]="SRGB",t[t.ITU=3]="ITU",t[t.NTSC=4]="NTSC",t[t.SLOG=5]="SLOG",t[t.SLOG2=6]="SLOG2"}(B||(B={})),function(t){t[t.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",t[t.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(N||(N={})),function(t){t[t.RGB=0]="RGB",t[t.RRR=3]="RRR",t[t.GGG=4]="GGG",t[t.AAA=15]="AAA"}(D||(D={})),function(t){t[t.RGB=0]="RGB",t[t.RGBA=3]="RGBA",t[t.RRR=4]="RRR",t[t.RRRG=5]="RRRG"}(F||(F={}));const j=[171,75,84,88,32,50,48,187,13,10,26,10];const U={etc1:{basisFormat:0,compressed:!0,format:S},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:_},bc3:{basisFormat:3,compressed:!0,format:w},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:x},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:E},"astc-4x4":{basisFormat:10,compressed:!0,format:C},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function z(t,e,n){const r=new t(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");const t=r.getNumImages(),e=[];for(let i=0;i<t;i++){const t=r.getNumLevels(i),o=[];for(let e=0;e<t;e++)o.push(G(r,i,e,n));e.push(o)}return e}finally{r.close(),r.delete()}}function G(t,e,n,r){const i=t.getImageWidth(e,n),o=t.getImageHeight(e,n),s=t.getHasAlpha(),{compressed:a,format:l,basisFormat:c}=W(r,s),u=t.getImageTranscodedSizeInBytes(e,n,c),h=new Uint8Array(u);if(!t.transcodeImage(h,e,n,c,0,0))throw new Error("failed to start Basis transcoding");return{width:i,height:o,data:h,compressed:a,format:l,hasAlpha:s}}function V(t,e,n){const r=new t(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");const t=r.getLevels(),e=[];for(let i=0;i<t;i++){e.push(H(r,i,n));break}return[e]}finally{r.close(),r.delete()}}function H(t,e,n){const{alphaFlag:r,height:i,width:o}=t.getImageLevelInfo(e,0,0),{compressed:s,format:a,basisFormat:l}=W(n,r),c=t.getImageTranscodedSizeInBytes(e,0,0,l),u=new Uint8Array(c);if(!t.transcodeImage(u,e,0,0,l,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:i,data:u,compressed:s,levelSize:c,hasAlpha:r,format:a}}function W(t,e){let n=t&&t.basis&&t.basis.format;return"auto"===n&&(n=q()),"object"===typeof n&&(n=e?n.alpha:n.noAlpha),n=n.toLowerCase(),U[n]}function q(){const t=O();return t.has("astc")?"astc-4x4":t.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:t.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:t.has("etc1")?"etc1":t.has("etc2")?"etc2":"rgb565"}const X={name:"Basis",id:f.Bd?"basis":"basis-nodejs",module:"textures",version:"3.4.15",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},Y={...X,parse:async function(t,e){if("auto"===e.basis.containerFormat){if(function(t){const e=new Uint8Array(t);return!(e.byteLength<j.length||e[0]!==j[0]||e[1]!==j[1]||e[2]!==j[2]||e[3]!==j[3]||e[4]!==j[4]||e[5]!==j[5]||e[6]!==j[6]||e[7]!==j[7]||e[8]!==j[8]||e[9]!==j[9]||e[10]!==j[10]||e[11]!==j[11])}(t)){return V((await b(e)).KTX2File,t,e)}const{BasisFile:n}=await v(e);return z(n,t,e)}if("encoder"===e.basis.module){const n=await b(e);return"ktx2"===e.basis.containerFormat?V(n.KTX2File,t,e):z(n.BasisFile,t,e)}{const{BasisFile:n}=await v(e);return z(n,t,e)}}};var Q=n(71778);function K(t,e,n){if(t.byteLength<=e+n)return"";const r=new DataView(t);let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(e+o));return i}function J(t){try{return JSON.parse(t)}catch(e){throw new Error('Failed to parse JSON from data starting with "'.concat(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof t)return t.slice(0,e);if(ArrayBuffer.isView(t))return K(t.buffer,t.byteOffset,e);if(t instanceof ArrayBuffer)return K(t,0,e);return""}(t),'"'))}}var Z=n(64526),$=n(4858);function tt(t,e){if(t.startsWith("data:")||t.startsWith("http:")||t.startsWith("https:"))return t;const n=e.baseUri||e.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(t));return n.substr(0,n.lastIndexOf("/")+1)+t}function et(t,e,n){const r=t.bufferViews[n];(0,$.v)(r);const i=e[r.buffer];(0,$.v)(i);const o=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,o,r.byteLength)}var nt=n(54705),rt=n(41250),it=n(63358);function ot(t,e){return(0,it.v)(t>=0),(0,it.v)(e>0),t+(e-1)&~(e-1)}function st(t,e,n){let r;if(t instanceof ArrayBuffer)r=new Uint8Array(t);else{const e=t.byteOffset,n=t.byteLength;r=new Uint8Array(t.buffer||t.arrayBuffer,e,n)}return e.set(r,n),n+ot(r.byteLength,4)}var at=n(97723);const lt={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class ct{constructor(t){(0,nt.A)(this,"gltf",void 0),(0,nt.A)(this,"sourceBuffers",void 0),(0,nt.A)(this,"byteLength",void 0),this.gltf=t||{json:{...lt},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(t){return this.json[t]}getExtraData(t){return(this.json.extras||{})[t]}getExtension(t){const e=this.getUsedExtensions().find((e=>e===t)),n=this.json.extensions||{};return e?n[t]||!0:null}getRequiredExtension(t){return this.getRequiredExtensions().find((e=>e===t))?this.getExtension(t):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(t,e){return(t.extensions||{})[e]}getScene(t){return this.getObject("scenes",t)}getNode(t){return this.getObject("nodes",t)}getSkin(t){return this.getObject("skins",t)}getMesh(t){return this.getObject("meshes",t)}getMaterial(t){return this.getObject("materials",t)}getAccessor(t){return this.getObject("accessors",t)}getTexture(t){return this.getObject("textures",t)}getSampler(t){return this.getObject("samplers",t)}getImage(t){return this.getObject("images",t)}getBufferView(t){return this.getObject("bufferViews",t)}getBuffer(t){return this.getObject("buffers",t)}getObject(t,e){if("object"===typeof e)return e;const n=this.json[t]&&this.json[t][e];if(!n)throw new Error("glTF file error: Could not find ".concat(t,"[").concat(e,"]"));return n}getTypedArrayForBufferView(t){const e=(t=this.getBufferView(t)).buffer,n=this.gltf.buffers[e];(0,$.v)(n);const r=(t.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,t.byteLength)}getTypedArrayForAccessor(t){t=this.getAccessor(t);const e=this.getBufferView(t.bufferView),n=this.getBuffer(e.buffer).data,{ArrayType:r,length:i}=(0,at.aF)(t,e);return new r(n,e.byteOffset+t.byteOffset,i)}getTypedArrayForImageData(t){t=this.getAccessor(t);const e=this.getBufferView(t.bufferView),n=this.getBuffer(e.buffer).data,r=e.byteOffset||0;return new Uint8Array(n,r,e.byteLength)}addApplicationData(t,e){return this.json[t]=e,this}addExtraData(t,e){return this.json.extras=this.json.extras||{},this.json.extras[t]=e,this}addObjectExtension(t,e,n){return t.extensions=t.extensions||{},t.extensions[e]=n,this.registerUsedExtension(e),this}setObjectExtension(t,e,n){(t.extensions||{})[e]=n}removeObjectExtension(t,e){const n=t.extensions||{},r=n[e];return delete n[e],r}addExtension(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,$.v)(e),this.json.extensions=this.json.extensions||{},this.json.extensions[t]=e,this.registerUsedExtension(t),e}addRequiredExtension(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,$.v)(e),this.addExtension(t,e),this.registerRequiredExtension(t),e}registerUsedExtension(t){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((e=>e===t))||this.json.extensionsUsed.push(t)}registerRequiredExtension(t){this.registerUsedExtension(t),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((e=>e===t))||this.json.extensionsRequired.push(t)}removeExtension(t){if(!this.getExtension(t))return;this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,t),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,t),this.json.extensions&&delete this.json.extensions[t],Array.isArray(this.json.extensionsRemoved)||(this.json.extensionsRemoved=[]);const e=this.json.extensionsRemoved;e.includes(t)||e.push(t)}setDefaultScene(t){this.json.scene=t}addScene(t){const{nodeIndices:e}=t;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:e}),this.json.scenes.length-1}addNode(t){const{meshIndex:e,matrix:n}=t;this.json.nodes=this.json.nodes||[];const r={mesh:e};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(t){const{attributes:e,indices:n,material:r,mode:i=4}=t,o={primitives:[{attributes:this._addAttributes(e),mode:i}]};if(n){const t=this._addIndices(n);o.primitives[0].indices=t}return Number.isFinite(r)&&(o.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(o),this.json.meshes.length-1}addPointCloud(t){const e={primitives:[{attributes:this._addAttributes(t),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(e),this.json.meshes.length-1}addImage(t,e){const n=(0,rt.m)(t),r=e||(null===n||void 0===n?void 0:n.mimeType),i={bufferView:this.addBufferView(t),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}addBufferView(t){const e=t.byteLength;(0,$.v)(Number.isFinite(e)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(t);const n={buffer:0,byteOffset:this.byteLength,byteLength:e};return this.byteLength+=ot(e,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}addAccessor(t,e){const n={bufferView:t,type:(0,at.v7)(e.size),componentType:e.componentType,count:e.count,max:e.max,min:e.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}addBinaryBuffer(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3};const n=this.addBufferView(t);let r={min:e.min,max:e.max};r.min&&r.max||(r=this._getAccessorMinMax(t,e.size));const i={size:e.size,componentType:(0,at.rA)(t),count:Math.round(t.length/e.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(i,e))}addTexture(t){const{imageIndex:e}=t,n={source:e};return this.json.textures=this.json.textures||[],this.json.textures.push(n),this.json.textures.length-1}addMaterial(t){return this.json.materials=this.json.materials||[],this.json.materials.push(t),this.json.materials.length-1}createBinaryChunk(){var t,e;this.gltf.buffers=[];const n=this.byteLength,r=new ArrayBuffer(n),i=new Uint8Array(r);let o=0;for(const s of this.sourceBuffers||[])o=st(s,i,o);null!==(t=this.json)&&void 0!==t&&null!==(e=t.buffers)&&void 0!==e&&e[0]?this.json.buffers[0].byteLength=n:this.json.buffers=[{byteLength:n}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(t,e){let n=!0;for(;n;){const r=t.indexOf(e);r>-1?t.splice(r,1):n=!1}}_addAttributes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={};for(const n in t){const r=t[n],i=this._getGltfAttributeName(n),o=this.addBinaryBuffer(r.value,r);e[i]=o}return e}_addIndices(t){return this.addBinaryBuffer(t,{size:1})}_getGltfAttributeName(t){switch(t.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return t}}_getAccessorMinMax(t,e){const n={min:null,max:null};if(t.length<e)return n;n.min=[],n.max=[];const r=t.subarray(0,e);for(const i of r)n.min.push(i),n.max.push(i);for(let i=e;i<t.length;i+=e)for(let r=0;r<e;r++)n.min[0+r]=Math.min(n.min[0+r],t[i+r]),n.max[0+r]=Math.max(n.max[0+r],t[i+r]);return n}}const ut="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",ht="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",ft=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),dt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),pt={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},At={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};let gt;async function yt(){return gt||(gt=async function(){let t=ut;WebAssembly.validate(ft)&&(t=ht,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=await WebAssembly.instantiate(function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);e[r]=n>96?n-71:n>64?n-65:n>47?n+4:n>46?63:62}let n=0;for(let r=0;r<t.length;++r)e[n++]=e[r]<60?dt[e[r]]:64*(e[r]-60)+e[++r];return e.buffer.slice(0,n)}(t),{});return await e.instance.exports.__wasm_call_ctors(),e.instance}()),gt}function mt(t,e,n,r,i,o,s){const a=t.exports.sbrk,l=r+3&-4,c=a(l*i),u=a(o.length),h=new Uint8Array(t.exports.memory.buffer);h.set(o,u);const f=e(c,r,i,u,o.length);if(0===f&&s&&s(c,l,i),n.set(h.subarray(c,c+r*i)),a(c-a(0)),0!==f)throw new Error("Malformed buffer data: ".concat(f))}const vt="EXT_meshopt_compression",bt=vt;async function _t(t,e){var n;const r=new ct(t);if(null===e||void 0===e||null===(n=e.gltf)||void 0===n||!n.decompressMeshes)return;const i=[];for(const o of t.json.bufferViews||[])i.push(wt(r,o));await Promise.all(i),r.removeExtension(vt)}async function wt(t,e){const n=t.getObjectExtension(e,vt);if(n){const{byteOffset:r=0,byteLength:i=0,byteStride:o,count:s,mode:a,filter:l="NONE",buffer:c}=n,u=t.gltf.buffers[c],h=new Uint8Array(u.arrayBuffer,u.byteOffset+r,i),f=new Uint8Array(t.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);return await async function(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NONE";const s=await yt();mt(s,s.exports[At[i]],t,e,n,r,s.exports[pt[o||"NONE"]])}(f,s,o,h,a,l),f}return null}var xt=n(29770);const Et={};function St(t){if(void 0===Et[t]){const e=xt.Bd?function(t){switch(t){case"image/avif":case"image/webp":return function(t){try{const e=document.createElement("canvas");return 0===e.toDataURL(t).indexOf("data:".concat(t))}catch{return!1}}(t);default:return!0}}(t):Ct(t);Et[t]=e}return Et[t]}function Ct(t){const e=["image/png","image/jpeg","image/gif"],{_parseImageNode:n,_imageFormatsNode:r=e}=globalThis;return Boolean(n)&&r.includes(t)}const Pt="EXT_texture_webp",Mt=Pt;function Tt(t,e){const n=new ct(t);if(!St("image/webp")){if(n.getRequiredExtensions().includes(Pt))throw new Error("gltf: Required extension ".concat(Pt," not supported by browser"));return}const{json:r}=n;for(const i of r.textures||[]){const t=n.getObjectExtension(i,Pt);t&&(i.source=t.source),n.removeObjectExtension(i,Pt)}n.removeExtension(Pt)}const Ot="KHR_texture_basisu",It=Ot;function Rt(t,e){const n=new ct(t),{json:r}=n;for(const i of r.textures||[]){const t=n.getObjectExtension(i,Ot);t&&(i.source=t.source),n.removeObjectExtension(i,Ot)}n.removeExtension(Ot)}var Lt=n(65509);function kt(t){const{buffer:e,size:n,count:r}=function(t){let e=t,n=1,r=0;t&&t.value&&(e=t.value,n=t.size||1);e&&(ArrayBuffer.isView(e)||(e=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return null;if(Array.isArray(t))return new e(t);if(n&&!(t instanceof e))return new e(t);return t}(e,Float32Array)),r=e.length/n);return{buffer:e,size:n,count:r}}(t);return{value:e,size:n,byteOffset:0,count:r,type:(0,at.v7)(n),componentType:(0,at.rA)(e)}}const Bt="KHR_draco_mesh_compression",Nt=Bt;function Dt(t,e,n){const r=new ct(t);for(const i of Gt(r))r.getObjectExtension(i,Bt)}async function Ft(t,e,n){var r;if(null===e||void 0===e||null===(r=e.gltf)||void 0===r||!r.decompressMeshes)return;const i=new ct(t),o=[];for(const s of Gt(i))i.getObjectExtension(s,Bt)&&o.push(Ut(i,s,e,n));await Promise.all(o),i.removeExtension(Bt)}function jt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new ct(t);for(const r of n.json.meshes||[])zt(r,e),n.addRequiredExtension(Bt)}async function Ut(t,e,n,r){const i=t.getObjectExtension(e,Bt);if(!i)return;const o=t.getTypedArrayForBufferView(i.bufferView),s=(0,Z._m)(o.buffer,o.byteOffset),{parse:a}=r,l={...n};delete l["3d-tiles"];const c=await a(s,Lt.Vl,l,r),u=function(t){const e={};for(const n in t){const r=t[n];if("indices"!==n){const t=kt(r);e[n]=t}}return e}(c.attributes);for(const[h,f]of Object.entries(u))if(h in e.attributes){const n=e.attributes[h],r=t.getAccessor(n);null!==r&&void 0!==r&&r.min&&null!==r&&void 0!==r&&r.max&&(f.min=r.min,f.max=r.max)}e.attributes=u,c.indices&&(e.indices=kt(c.indices)),function(t){if(!t.attributes&&Object.keys(t.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(e)}function zt(t,e){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const s=i.DracoWriter.encodeSync({attributes:t}),a=null===o||void 0===o||null===(n=o.parseSync)||void 0===n?void 0:n.call(o,{attributes:t}),l=i._addFauxAttributes(a.attributes),c=i.addBufferView(s);return{primitives:[{attributes:l,mode:r,extensions:{[Bt]:{bufferView:c,attributes:l}}}]}}function*Gt(t){for(const e of t.json.meshes||[])for(const t of e.primitives)yield t}var Vt=n(83051),Ht=n(9881);const Wt={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},qt={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};const Xt="KHR_texture_transform",Yt=Xt,Qt=new Vt.A,Kt=new Ht.A,Jt=new Ht.A;async function Zt(t,e){if(!new ct(t).getExtension(Xt))return;const n=t.json.materials||[];for(let r=0;r<n.length;r++)$t(r,t)}function $t(t,e){var n,r,i;const o=[],s=null===(n=e.json.materials)||void 0===n?void 0:n[t],a=null===s||void 0===s||null===(r=s.pbrMetallicRoughness)||void 0===r?void 0:r.baseColorTexture;a&&te(e,t,a,o);const l=null===s||void 0===s?void 0:s.emissiveTexture;l&&te(e,t,l,o);const c=null===s||void 0===s?void 0:s.normalTexture;c&&te(e,t,c,o);const u=null===s||void 0===s?void 0:s.occlusionTexture;u&&te(e,t,u,o);const h=null===s||void 0===s||null===(i=s.pbrMetallicRoughness)||void 0===i?void 0:i.metallicRoughnessTexture;h&&te(e,t,h,o)}function te(t,e,n,r){const i=function(t,e){var n;const r=null===(n=t.extensions)||void 0===n?void 0:n[Xt],{texCoord:i=0}=t,{texCoord:o=i}=r,s=-1!==e.findIndex((t=>{let[e,n]=t;return e===i&&n===o}));if(!s){const n=function(t){const{offset:e=[0,0],rotation:n=0,scale:r=[1,1]}=t,i=(new Ht.A).set(1,0,0,0,1,0,e[0],e[1],1),o=Kt.set(Math.cos(n),Math.sin(n),0,-Math.sin(n),Math.cos(n),0,0,0,1),s=Jt.set(r[0],0,0,0,r[1],0,0,0,1);return i.multiplyRight(o).multiplyRight(s)}(r);return i!==o&&(t.texCoord=o),e.push([i,o]),{originalTexCoord:i,texCoord:o,matrix:n}}return null}(n,r);if(!i)return;const o=t.json.meshes||[];for(const s of o)for(const n of s.primitives){const r=n.material;Number.isFinite(r)&&e===r&&ee(t,n,i)}}function ee(t,e,n){const{originalTexCoord:r,texCoord:i,matrix:o}=n,s=e.attributes["TEXCOORD_".concat(r)];if(Number.isFinite(s)){var a;const n=null===(a=t.json.accessors)||void 0===a?void 0:a[s];if(n&&n.bufferView){var l;const s=null===(l=t.json.bufferViews)||void 0===l?void 0:l[n.bufferView];if(s){const{arrayBuffer:a,byteOffset:l}=t.buffers[s.buffer],c=(l||0)+(n.byteOffset||0)+(s.byteOffset||0),{ArrayType:u,length:h}=(0,at.aF)(n,s),f=qt[n.componentType],d=Wt[n.type],p=s.byteStride||f*d,A=new Float32Array(h);for(let t=0;t<n.count;t++){const e=new u(a,c+t*p,2);Qt.set(e[0],e[1],1),Qt.transformByMatrix3(o),A.set([Qt[0],Qt[1]],t*d)}r===i?function(t,e,n,r){t.componentType=5126,n.push({arrayBuffer:r.buffer,byteOffset:0,byteLength:r.buffer.byteLength}),e.buffer=n.length-1,e.byteLength=r.buffer.byteLength,e.byteOffset=0,delete e.byteStride}(n,s,t.buffers,A):function(t,e,n,r,i){r.buffers.push({arrayBuffer:i.buffer,byteOffset:0,byteLength:i.buffer.byteLength});const o=r.json.bufferViews;if(!o)return;o.push({buffer:r.buffers.length-1,byteLength:i.buffer.byteLength,byteOffset:0});const s=r.json.accessors;if(!s)return;s.push({bufferView:(null===o||void 0===o?void 0:o.length)-1,byteOffset:0,componentType:5126,count:e.count,type:"VEC2"}),n.attributes["TEXCOORD_".concat(t)]=s.length-1}(i,n,e,t,A)}}}}const ne="KHR_lights_punctual",re=ne;async function ie(t){const e=new ct(t),{json:n}=e,r=e.getExtension(ne);r&&(e.json.lights=r.lights,e.removeExtension(ne));for(const i of n.nodes||[]){const t=e.getObjectExtension(i,ne);t&&(i.light=t.light),e.removeObjectExtension(i,ne)}}async function oe(t){const e=new ct(t),{json:n}=e;if(n.lights){const t=e.addExtension(ne);(0,$.v)(!t.lights),t.lights=n.lights,delete n.lights}if(e.json.lights){for(const t of e.json.lights){const n=t.node;e.addObjectExtension(n,ne,t)}delete e.json.lights}}const se="KHR_materials_unlit",ae=se;async function le(t){const e=new ct(t),{json:n}=e;for(const r of n.materials||[]){r.extensions&&r.extensions.KHR_materials_unlit&&(r.unlit=!0),e.removeObjectExtension(r,se)}e.removeExtension(se)}function ce(t){const e=new ct(t),{json:n}=e;if(e.materials)for(const r of n.materials||[])r.unlit&&(delete r.unlit,e.addObjectExtension(r,se,{}),e.addExtension(se))}const ue="KHR_techniques_webgl",he=ue;async function fe(t){const e=new ct(t),{json:n}=e,r=e.getExtension(ue);if(r){const t=function(t,e){const{programs:n=[],shaders:r=[],techniques:i=[]}=t,o=new TextDecoder;return r.forEach((t=>{if(!Number.isFinite(t.bufferView))throw new Error("KHR_techniques_webgl: no shader code");t.code=o.decode(e.getTypedArrayForBufferView(t.bufferView))})),n.forEach((t=>{t.fragmentShader=r[t.fragmentShader],t.vertexShader=r[t.vertexShader]})),i.forEach((t=>{t.program=n[t.program]})),i}(r,e);for(const r of n.materials||[]){const n=e.getObjectExtension(r,ue);n&&(r.technique=Object.assign({},n,t[n.technique]),r.technique.values=pe(r.technique,e)),e.removeObjectExtension(r,ue)}e.removeExtension(ue)}}async function de(t,e){}function pe(t,e){const n=Object.assign({},t.values);return Object.keys(t.uniforms||{}).forEach((e=>{t.uniforms[e].value&&!(e in n)&&(n[e]=t.uniforms[e].value)})),Object.keys(n).forEach((t=>{"object"===typeof n[t]&&void 0!==n[t].index&&(n[t].texture=e.getTexture(n[t].index))})),n}const Ae="EXT_feature_metadata",ge=Ae;async function ye(t){!function(t){var e;const n=t.getExtension(Ae),r=null===n||void 0===n||null===(e=n.schema)||void 0===e?void 0:e.classes,i=null===n||void 0===n?void 0:n.featureTables;(null===n||void 0===n?void 0:n.featureTextures)&&console.warn('featureTextures is not yet supported in the "EXT_feature_metadata" extension.');if(r&&i)for(const o in r){const e=r[o],n=be(i,o);n&&me(t,n,e)}}(new ct(t))}function me(t,e,n){for(const i in n.properties){var r;const o=n.properties[i],s=null===e||void 0===e||null===(r=e.properties)||void 0===r?void 0:r[i],a=e.count;if(s){const e=ve(t,o,a,s);s.data=e}}}function ve(t,e,n,r){const i=r.bufferView;let o=t.getTypedArrayForBufferView(i);switch(e.type){case"STRING":{const e=r.stringOffsetBufferView;o=function(t,e,n){const r=[],i=new TextDecoder("utf8");let o=0;const s=4;for(let a=0;a<n;a++){const n=e[(a+1)*s]-e[a*s],l=t.subarray(o,n+o),c=i.decode(l);r.push(c),o+=n}return r}(o,t.getTypedArrayForBufferView(e),n);break}}return o}function be(t,e){for(const n in t){const r=t[n];if(r.class===e)return r}return null}const _e=[r,i,o,s,l,c,u,a,h];function we(t,e){var n;const r=(null===e||void 0===e||null===(n=e.gltf)||void 0===n?void 0:n.excludeExtensions)||{};return!(t in r&&!r[t])}const xe="KHR_binary_glTF";const Ee={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},Se={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class Ce{constructor(){(0,nt.A)(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),(0,nt.A)(this,"json",void 0)}normalize(t,e){this.json=t.json;const n=t.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!e.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(t){const e=new ct(t),{json:n}=e;for(const r of n.images||[]){const t=e.getObjectExtension(r,xe);t&&Object.assign(r,t),e.removeObjectExtension(r,xe)}n.buffers&&n.buffers[0]&&delete n.buffers[0].uri,e.removeExtension(xe)}(t),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}_addAsset(t){t.asset=t.asset||{},t.asset.version="2.0",t.asset.generator=t.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(t){for(const e in Ee)this._convertTopLevelObjectToArray(t,e)}_convertTopLevelObjectToArray(t,e){const n=t[e];if(n&&!Array.isArray(n)){t[e]=[];for(const r in n){const i=n[r];i.id=i.id||r;const o=t[e].length;t[e].push(i),this.idToIndexMap[e][r]=o}}}_convertObjectIdsToArrayIndices(t){for(const e in Ee)this._convertIdsToIndices(t,e);"scene"in t&&(t.scene=this._convertIdToIndex(t.scene,"scene"));for(const e of t.textures)this._convertTextureIds(e);for(const e of t.meshes)this._convertMeshIds(e);for(const e of t.nodes)this._convertNodeIds(e);for(const e of t.scenes)this._convertSceneIds(e)}_convertTextureIds(t){t.source&&(t.source=this._convertIdToIndex(t.source,"image"))}_convertMeshIds(t){for(const e of t.primitives){const{attributes:t,indices:n,material:r}=e;for(const e in t)t[e]=this._convertIdToIndex(t[e],"accessor");n&&(e.indices=this._convertIdToIndex(n,"accessor")),r&&(e.material=this._convertIdToIndex(r,"material"))}}_convertNodeIds(t){t.children&&(t.children=t.children.map((t=>this._convertIdToIndex(t,"node")))),t.meshes&&(t.meshes=t.meshes.map((t=>this._convertIdToIndex(t,"mesh"))))}_convertSceneIds(t){t.nodes&&(t.nodes=t.nodes.map((t=>this._convertIdToIndex(t,"node"))))}_convertIdsToIndices(t,e){t[e]||(console.warn("gltf v1: json doesn't contain attribute ".concat(e)),t[e]=[]);for(const n of t[e])for(const t in n){const e=n[t],r=this._convertIdToIndex(e,t);n[t]=r}}_convertIdToIndex(t,e){const n=Se[e];if(n in this.idToIndexMap){const r=this.idToIndexMap[n][t];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(e," with id ").concat(t));return r}return t}_updateObjects(t){for(const e of this.json.buffers)delete e.type}_updateMaterial(t){for(const i of t.materials){var e,n,r;i.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const o=(null===(e=i.values)||void 0===e?void 0:e.tex)||(null===(n=i.values)||void 0===n?void 0:n.texture2d_0)||(null===(r=i.values)||void 0===r?void 0:r.diffuseTex),s=t.textures.findIndex((t=>t.id===o));-1!==s&&(i.pbrMetallicRoughness.baseColorTexture={index:s})}}}const Pe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Me={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Te=10240,Oe=10241,Ie=10242,Re=10243,Le=10497,ke=9729,Be=9986,Ne={magFilter:Te,minFilter:Oe,wrapS:Ie,wrapT:Re},De={[Te]:ke,[Oe]:Be,[Ie]:Le,[Re]:Le};class Fe{constructor(){(0,nt.A)(this,"baseUri",""),(0,nt.A)(this,"json",{}),(0,nt.A)(this,"buffers",[]),(0,nt.A)(this,"images",[])}postProcess(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{json:n,buffers:r=[],images:i=[],baseUri:o=""}=t;return(0,$.v)(n),this.baseUri=o,this.json=n,this.buffers=r,this.images=i,this._resolveTree(this.json,e),this.json}_resolveTree(t){t.bufferViews&&(t.bufferViews=t.bufferViews.map(((t,e)=>this._resolveBufferView(t,e)))),t.images&&(t.images=t.images.map(((t,e)=>this._resolveImage(t,e)))),t.samplers&&(t.samplers=t.samplers.map(((t,e)=>this._resolveSampler(t,e)))),t.textures&&(t.textures=t.textures.map(((t,e)=>this._resolveTexture(t,e)))),t.accessors&&(t.accessors=t.accessors.map(((t,e)=>this._resolveAccessor(t,e)))),t.materials&&(t.materials=t.materials.map(((t,e)=>this._resolveMaterial(t,e)))),t.meshes&&(t.meshes=t.meshes.map(((t,e)=>this._resolveMesh(t,e)))),t.nodes&&(t.nodes=t.nodes.map(((t,e)=>this._resolveNode(t,e)))),t.skins&&(t.skins=t.skins.map(((t,e)=>this._resolveSkin(t,e)))),t.scenes&&(t.scenes=t.scenes.map(((t,e)=>this._resolveScene(t,e)))),void 0!==t.scene&&(t.scene=t.scenes[this.json.scene])}getScene(t){return this._get("scenes",t)}getNode(t){return this._get("nodes",t)}getSkin(t){return this._get("skins",t)}getMesh(t){return this._get("meshes",t)}getMaterial(t){return this._get("materials",t)}getAccessor(t){return this._get("accessors",t)}getCamera(t){return null}getTexture(t){return this._get("textures",t)}getSampler(t){return this._get("samplers",t)}getImage(t){return this._get("images",t)}getBufferView(t){return this._get("bufferViews",t)}getBuffer(t){return this._get("buffers",t)}_get(t,e){if("object"===typeof e)return e;const n=this.json[t]&&this.json[t][e];return n||console.warn("glTF file error: Could not find ".concat(t,"[").concat(e,"]")),n}_resolveScene(t,e){return t.id=t.id||"scene-".concat(e),t.nodes=(t.nodes||[]).map((t=>this.getNode(t))),t}_resolveNode(t,e){return t.id=t.id||"node-".concat(e),t.children&&(t.children=t.children.map((t=>this.getNode(t)))),void 0!==t.mesh?t.mesh=this.getMesh(t.mesh):void 0!==t.meshes&&t.meshes.length&&(t.mesh=t.meshes.reduce(((t,e)=>{const n=this.getMesh(e);return t.id=n.id,t.primitives=t.primitives.concat(n.primitives),t}),{primitives:[]})),void 0!==t.camera&&(t.camera=this.getCamera(t.camera)),void 0!==t.skin&&(t.skin=this.getSkin(t.skin)),t}_resolveSkin(t,e){return t.id=t.id||"skin-".concat(e),t.inverseBindMatrices=this.getAccessor(t.inverseBindMatrices),t}_resolveMesh(t,e){return t.id=t.id||"mesh-".concat(e),t.primitives&&(t.primitives=t.primitives.map((t=>{const e=(t={...t}).attributes;t.attributes={};for(const n in e)t.attributes[n]=this.getAccessor(e[n]);return void 0!==t.indices&&(t.indices=this.getAccessor(t.indices)),void 0!==t.material&&(t.material=this.getMaterial(t.material)),t}))),t}_resolveMaterial(t,e){if(t.id=t.id||"material-".concat(e),t.normalTexture&&(t.normalTexture={...t.normalTexture},t.normalTexture.texture=this.getTexture(t.normalTexture.index)),t.occlusionTexture&&(t.occlustionTexture={...t.occlustionTexture},t.occlusionTexture.texture=this.getTexture(t.occlusionTexture.index)),t.emissiveTexture&&(t.emmisiveTexture={...t.emmisiveTexture},t.emissiveTexture.texture=this.getTexture(t.emissiveTexture.index)),t.emissiveFactor||(t.emissiveFactor=t.emmisiveTexture?[1,1,1]:[0,0,0]),t.pbrMetallicRoughness){t.pbrMetallicRoughness={...t.pbrMetallicRoughness};const e=t.pbrMetallicRoughness;e.baseColorTexture&&(e.baseColorTexture={...e.baseColorTexture},e.baseColorTexture.texture=this.getTexture(e.baseColorTexture.index)),e.metallicRoughnessTexture&&(e.metallicRoughnessTexture={...e.metallicRoughnessTexture},e.metallicRoughnessTexture.texture=this.getTexture(e.metallicRoughnessTexture.index))}return t}_resolveAccessor(t,e){var n,r;if(t.id=t.id||"accessor-".concat(e),void 0!==t.bufferView&&(t.bufferView=this.getBufferView(t.bufferView)),t.bytesPerComponent=(n=t.componentType,Me[n]),t.components=(r=t.type,Pe[r]),t.bytesPerElement=t.bytesPerComponent*t.components,t.bufferView){const e=t.bufferView.buffer,{ArrayType:n,byteLength:r}=(0,at.aF)(t,t.bufferView),i=(t.bufferView.byteOffset||0)+(t.byteOffset||0)+e.byteOffset;let o=e.arrayBuffer.slice(i,i+r);t.bufferView.byteStride&&(o=this._getValueFromInterleavedBuffer(e,i,t.bufferView.byteStride,t.bytesPerElement,t.count)),t.value=new n(o)}return t}_getValueFromInterleavedBuffer(t,e,n,r,i){const o=new Uint8Array(i*r);for(let s=0;s<i;s++){const i=e+s*n;o.set(new Uint8Array(t.arrayBuffer.slice(i,i+r)),s*r)}return o.buffer}_resolveTexture(t,e){return t.id=t.id||"texture-".concat(e),t.sampler="sampler"in t?this.getSampler(t.sampler):De,t.source=this.getImage(t.source),t}_resolveSampler(t,e){t.id=t.id||"sampler-".concat(e),t.parameters={};for(const n in t){const e=this._enumSamplerParameter(n);void 0!==e&&(t.parameters[e]=t[n])}return t}_enumSamplerParameter(t){return Ne[t]}_resolveImage(t,e){t.id=t.id||"image-".concat(e),void 0!==t.bufferView&&(t.bufferView=this.getBufferView(t.bufferView));const n=this.images[e];return n&&(t.image=n),t}_resolveBufferView(t,e){const n=t.buffer,r={id:"bufferView-".concat(e),...t,buffer:this.buffers[n]},i=this.buffers[n].arrayBuffer;let o=this.buffers[n].byteOffset||0;return"byteOffset"in t&&(o+=t.byteOffset),r.data=new Uint8Array(i,o,t.byteLength),r}_resolveCamera(t,e){return t.id=t.id||"camera-".concat(e),t.perspective,t.orthographic,t}}const je=1735152710,Ue=12,ze=8,Ge=1313821514,Ve=5130562,He=0,We=1,qe=0,Xe=!0;function Ye(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=new DataView(e),o=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(t.getUint8(e+0))).concat(String.fromCharCode(t.getUint8(e+1))).concat(String.fromCharCode(t.getUint8(e+2))).concat(String.fromCharCode(t.getUint8(e+3)))}(i,n+0),s=i.getUint32(n+4,Xe),a=i.getUint32(n+8,Xe);switch(Object.assign(t,{header:{byteOffset:n,byteLength:a,hasBinChunk:!1},type:o,version:s,json:{},binChunks:[]}),n+=Ue,t.version){case 1:return function(t,e,n){(0,it.v)(t.header.byteLength>Ue+ze);const r=e.getUint32(n+0,Xe),i=e.getUint32(n+4,Xe);return n+=ze,(0,it.v)(i===qe),Qe(t,e,n,r),n+=r,n+=Ke(t,e,n,t.header.byteLength),n}(t,i,n);case 2:return function(t,e,n,r){return(0,it.v)(t.header.byteLength>Ue+ze),function(t,e,n,r){for(;n+8<=t.header.byteLength;){const i=e.getUint32(n+0,Xe),o=e.getUint32(n+4,Xe);switch(n+=ze,o){case Ge:Qe(t,e,n,i);break;case Ve:Ke(t,e,n,i);break;case He:r.strict||Qe(t,e,n,i);break;case We:r.strict||Ke(t,e,n,i)}n+=ot(i,4)}}(t,e,n,r),n+t.header.byteLength}(t,i,n,r={});default:throw new Error("Invalid GLB version ".concat(t.version,". Only supports v1 and v2."))}}function Qe(t,e,n,r){const i=new Uint8Array(e.buffer,n,r),o=new TextDecoder("utf8").decode(i);return t.json=JSON.parse(o),ot(r,4)}function Ke(t,e,n,r){return t.header.hasBinChunk=!0,t.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:e.buffer}),ot(r,4)}async function Je(t,e){var n,r,i,o;let s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;!function(t,e,n,r){r.uri&&(t.baseUri=r.uri);if(e instanceof ArrayBuffer&&!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new DataView(t),{magic:i=je}=n,o=r.getUint32(e,!1);return o===i||o===je}(e,n,r)){e=(new TextDecoder).decode(e)}if("string"===typeof e)t.json=J(e);else if(e instanceof ArrayBuffer){const i={};n=Ye(i,e,n,r.glb),(0,$.v)("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),t._glb=i,t.json=i.json}else(0,$.v)(!1,"GLTF: must be ArrayBuffer or string");const i=t.json.buffers||[];if(t.buffers=new Array(i.length).fill(null),t._glb&&t._glb.header.hasBinChunk){const{binChunks:e}=t._glb;t.buffers[0]={arrayBuffer:e[0].arrayBuffer,byteOffset:e[0].byteOffset,byteLength:e[0].byteLength}}const o=t.json.images||[];t.images=new Array(o.length).fill({})}(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(new Ce).normalize(t,e)}(t,{normalize:null===s||void 0===s||null===(n=s.gltf)||void 0===n?void 0:n.normalize}),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=_e.filter((t=>we(t.name,e)));for(const o of r){var i;null===(i=o.preprocess)||void 0===i||i.call(o,t,e,n)}}(t,s,a);const l=[];if(null!==s&&void 0!==s&&null!==(r=s.gltf)&&void 0!==r&&r.loadBuffers&&t.json.buffers&&await async function(t,e,n){const r=t.json.buffers||[];for(let s=0;s<r.length;++s){const a=r[s];if(a.uri){var i,o;const{fetch:r}=n;(0,$.v)(r);const l=tt(a.uri,e),c=await(null===n||void 0===n||null===(i=n.fetch)||void 0===i?void 0:i.call(n,l)),u=await(null===c||void 0===c||null===(o=c.arrayBuffer)||void 0===o?void 0:o.call(c));t.buffers[s]={arrayBuffer:u,byteOffset:0,byteLength:u.byteLength},delete a.uri}else null===t.buffers[s]&&(t.buffers[s]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}(t,s,a),null!==s&&void 0!==s&&null!==(i=s.gltf)&&void 0!==i&&i.loadImages){const e=async function(t,e,n){const r=function(t){const e=new Set,n=t.json.textures||[];for(const r of n)void 0!==r.source&&e.add(r.source);return Array.from(e).sort()}(t),i=t.json.images||[],o=[];for(const s of r)o.push(Ze(t,i[s],s,e,n));return await Promise.all(o)}(t,s,a);l.push(e)}const c=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=_e.filter((t=>we(t.name,e)));for(const o of r){var i;await(null===(i=o.decode)||void 0===i?void 0:i.call(o,t,e,n))}}(t,s,a);return l.push(c),await Promise.all(l),null!==s&&void 0!==s&&null!==(o=s.gltf)&&void 0!==o&&o.postProcess?function(t,e){return(new Fe).postProcess(t,e)}(t,s):t}async function Ze(t,e,n,r,i){const{fetch:o,parse:s}=i;let a;if(e.uri&&!e.hasOwnProperty("bufferView")){const t=tt(e.uri,r),n=await o(t);a=await n.arrayBuffer(),e.bufferView={data:a}}if(Number.isFinite(e.bufferView)){const n=et(t.json,t.buffers,e.bufferView);a=(0,Z._m)(n.buffer,n.byteOffset,n.byteLength)}(0,$.v)(a,"glTF image has no data");let l=await s(a,[Q.$,Y],{mimeType:e.mimeType,basis:r.basis||{format:q()}},i);l&&l[0]&&(l={compressed:!0,mipmaps:!1,width:l[0].width,height:l[0].height,data:l[0]}),t.images=t.images||[],t.images[n]=l}const $e={name:"glTF",id:"gltf",module:"gltf",version:"3.4.15",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;e={...$e.options,...e},e.gltf={...$e.options.gltf,...e.gltf};const{byteOffset:r=0}=e;return await Je({},t,r,e,n)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}}},97723:(t,e,n)=>{"use strict";n.d(e,{S3:()=>d,aF:()=>f,rA:()=>h,v7:()=>u});var r=n(4858);const i=["SCALAR","VEC2","VEC3","VEC4"],o=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],s=new Map(o),a={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},l={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},c={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function u(t){return i[t-1]||i[0]}function h(t){const e=s.get(t.constructor);if(!e)throw new Error("Illegal typed array");return e}function f(t,e){const n=c[t.componentType],i=a[t.type],o=l[t.componentType],s=t.count*i,u=t.count*i*o;return(0,r.v)(u>=0&&u<=e.byteLength),{ArrayType:n,length:s,byteLength:u}}function d(t){let{images:e,bufferViews:n}=t;e=e||[],n=n||[];const r=e.map((t=>t.bufferView));n=n.filter((t=>!r.includes(t)));const i=n.reduce(((t,e)=>t+e.byteLength),0),o=e.reduce(((t,e)=>{const{width:n,height:r}=e.image;return t+n*r}),0);return i+Math.ceil(4*o*1.33)}},4858:(t,e,n)=>{"use strict";function r(t,e){if(!t)throw new Error(e||"assert failed: gltf")}n.d(e,{v:()=>r})},71778:(t,e,n)=>{"use strict";n.d(e,{$:()=>w});var r=n(63358),i=n(29770);const{_parseImageNode:o}=globalThis,s="undefined"!==typeof Image,a="undefined"!==typeof ImageBitmap,l=Boolean(o),c=!!i.Bd||l;function u(t){const e=f(t);if(!e)throw new Error("Not an image");return e}function h(t){switch(u(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("getImageData");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function f(t){return"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&t instanceof Image?"image":t&&"object"===typeof t&&t.data&&t.width&&t.height?"data":null}const d=/^data:image\/svg\+xml/,p=/\.svg((\?|#).*)?$/;function A(t){return t&&(d.test(t)||p.test(t))}function g(t,e){if(A(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function y(t,e,n){const r=function(t,e){if(A(e)){let e=(new TextDecoder).decode(t);try{"function"===typeof unescape&&"function"===typeof encodeURIComponent&&(e=unescape(encodeURIComponent(e)))}catch(n){throw new Error(n.message)}return"data:image/svg+xml;base64,".concat(btoa(e))}return g(t,e)}(t,n),i=self.URL||self.webkitURL,o="string"!==typeof r&&i.createObjectURL(r);try{return await async function(t,e){const n=new Image;if(n.src=t,e.image&&e.image.decode&&n.decode)return await n.decode(),n;return await new Promise(((e,r)=>{try{n.onload=()=>e(n),n.onerror=e=>r(new Error("Could not load image ".concat(t,": ").concat(e)))}catch(i){r(i)}}))}(o||r,e)}finally{o&&i.revokeObjectURL(o)}}const m={};let v=!0;async function b(t,e,n){let r;if(A(n)){r=await y(t,e,n)}else r=g(t,n);const i=e&&e.imagebitmap;return await async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t){for(const e in t||m)return!1;return!0}(e)&&v||(e=null);if(e)try{return await createImageBitmap(t,e)}catch(n){console.warn(n),v=!1}return await createImageBitmap(t)}(r,i)}var _=n(41250);const w={id:"image",module:"images",name:"Images",version:"3.4.15",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(t,e,n){const i=((e=e||{}).image||{}).type||"auto",{url:o}=n||{};let l;switch(function(t){switch(t){case"auto":case"data":return function(){if(a)return"imagebitmap";if(s)return"image";if(c)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(t){switch(t){case"auto":return a||s||c;case"imagebitmap":return a;case"image":return s;case"data":return c;default:throw new Error("@loaders.gl/images: image ".concat(t," not supported in this environment"))}}(t),t}}(i)){case"imagebitmap":l=await b(t,e,o);break;case"image":l=await y(t,e,o);break;case"data":l=await async function(t){const{mimeType:e}=(0,_.m)(t)||{},n=globalThis._parseImageNode;return(0,r.v)(n),await n(t,e)}(t);break;default:(0,r.v)(!1)}return"data"===i&&(l=h(l)),l},tests:[t=>Boolean((0,_.m)(new DataView(t)))],options:{image:{type:"auto",decode:!0}}}},41250:(t,e,n)=>{"use strict";function r(t){return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=(i=e,[...i].map((t=>t.charCodeAt(0))));var i;for(let o=0;o<r.length;++o)if(r[o]!==t[o+n])return!1;return!0}(t,"ftyp",4)?0===(96&t[8])?null:function(t){switch((e=t,n=8,r=12,String.fromCharCode(...e.slice(n,r))).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}var e,n,r}(t):null}n.d(e,{m:()=>s});const i=!1,o=!0;function s(t){const e=a(t);return function(t){const e=a(t),n=e.byteLength>=24&&2303741511===e.getUint32(0,i);if(!n)return null;return{mimeType:"image/png",width:e.getUint32(16,i),height:e.getUint32(20,i)}}(e)||function(t){const e=a(t),n=e.byteLength>=3&&65496===e.getUint16(0,i)&&255===e.getUint8(2);if(!n)return null;const{tableMarkers:r,sofMarkers:o}=function(){const t=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)t.add(n);const e=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:t,sofMarkers:e}}();let s=2;for(;s+9<e.byteLength;){const t=e.getUint16(s,i);if(o.has(t))return{mimeType:"image/jpeg",height:e.getUint16(s+5,i),width:e.getUint16(s+7,i)};if(!r.has(t))return null;s+=2,s+=e.getUint16(s,i)}return null}(e)||function(t){const e=a(t),n=e.byteLength>=10&&1195984440===e.getUint32(0,i);if(!n)return null;return{mimeType:"image/gif",width:e.getUint16(6,o),height:e.getUint16(8,o)}}(e)||function(t){const e=a(t),n=e.byteLength>=14&&16973===e.getUint16(0,i)&&e.getUint32(2,o)===e.byteLength;if(!n)return null;return{mimeType:"image/bmp",width:e.getUint32(18,o),height:e.getUint32(22,o)}}(e)||function(t){const e=new Uint8Array(t instanceof DataView?t.buffer:t),n=r(e);if(!n)return null;return{mimeType:n.mimeType,width:0,height:0}}(e)}function a(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}},64526:(t,e,n)=>{"use strict";function r(t,e,n){const r=void 0!==n?new Uint8Array(t).subarray(e,e+n):new Uint8Array(t).subarray(e);return new Uint8Array(r).buffer}n.d(e,{_m:()=>r})},63358:(t,e,n)=>{"use strict";function r(t,e){if(!t)throw new Error(e||"loader assertion failed.")}n.d(e,{v:()=>r})},29770:(t,e,n)=>{"use strict";n.d(e,{Bd:()=>r});"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document;const r=Boolean("object"!==typeof process||"[object process]"!==String(process)||process.browser),i="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);i&&parseFloat(i[1])},39608:(t,e,n)=>{"use strict";function r(t){let e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,s=-1/0;const a=t.POSITION?t.POSITION.value:[],l=a&&a.length;for(let c=0;c<l;c+=3){const t=a[c],l=a[c+1],u=a[c+2];e=t<e?t:e,n=l<n?l:n,r=u<r?u:r,i=t>i?t:i,o=l>o?l:o,s=u>s?u:s}return[[e,n,r],[i,o,s]]}n.d(e,{l:()=>r})},52817:(t,e,n)=>{"use strict";n.d(e,{Bd:()=>o,Sf:()=>i,xD:()=>s});const r={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof n.g&&n.g,document:"undefined"!==typeof document&&document},i=r.global||r.self||r.window||{},o="object"!==typeof process||"[object process]"!==String(process)||process.browser,s="function"===typeof importScripts,a=("undefined"!==typeof window&&window.orientation,"undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version));a&&parseFloat(a[1])},85886:(t,e,n)=>{"use strict";n.d(e,{_:()=>h});var r={};n.r(r),n.d(r,{readFileAsArrayBuffer:()=>o,readFileAsText:()=>s,requireFromFile:()=>a,requireFromString:()=>l});var i=n(52817);const o=null,s=null,a=null,l=null;const c="3.4.15",u={};async function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&(t=function(t,e,n){if(t.startsWith("http"))return t;const r=n.modules||{};if(r[t])return r[t];if(!i.Bd)return"modules/".concat(e,"/dist/libs/").concat(t);if(n.CDN)return function(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(e,"@").concat(c,"/dist/libs/").concat(t);if(i.xD)return"../src/libs/".concat(t);return"modules/".concat(e,"/src/libs/").concat(t)}(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})),u[t]=u[t]||async function(t){if(t.endsWith("wasm")){const e=await fetch(t);return await e.arrayBuffer()}if(!i.Bd)try{return r&&a&&await a(t)}catch{return null}if(i.xD)return importScripts(t);const e=await fetch(t);return function(t,e){if(!i.Bd)return l&&l(t,e);if(i.xD)return eval.call(i.Sf,t),null;const n=document.createElement("script");n.id=e;try{n.appendChild(document.createTextNode(t))}catch(r){n.text=t}return document.body.appendChild(n),null}(await e.text(),t)}(t),await u[t]}},46057:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},4369:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AnimationLoop:()=>I.A,Buffer:()=>a.A,ClipSpace:()=>N.A,ConeGeometry:()=>x,CubeGeometry:()=>D.A,CylinderGeometry:()=>E,FEATURES:()=>o.G,FragmentShader:()=>d._Y,Framebuffer:()=>c.A,Geometry:()=>v.A,IcoSphereGeometry:()=>M,Model:()=>R.A,PlaneGeometry:()=>T,Program:()=>l.A,ProgramManager:()=>k.A,Renderbuffer:()=>u.A,SphereGeometry:()=>O,Texture2D:()=>h.A,Texture3D:()=>y.A,TextureCube:()=>f.A,Timeline:()=>B.K,Transform:()=>L.A,TransformFeedback:()=>m.A,TruncatedConeGeometry:()=>w,VertexShader:()=>d.o0,assert:()=>et.v,clear:()=>p.I,cloneTextureFrom:()=>g.j,copyToTexture:()=>A.ob,createGLContext:()=>r.XZ,cssToDevicePixels:()=>r.w8,cssToDeviceRatio:()=>r.o0,dirlight:()=>Q,fp32:()=>J.i,fp64:()=>G,getParameters:()=>r.bQ,gouraudLighting:()=>$.K,hasFeature:()=>s.jI,hasFeatures:()=>s.QN,instrumentGLContext:()=>r.uZ,isWebGL:()=>r.uF,isWebGL2:()=>r.C6,log:()=>r.Rm,lumaStats:()=>i.dJ,normalizeShaderModule:()=>K.b,pbr:()=>tt.R,phongLighting:()=>$.p,picking:()=>Z.q,project:()=>X,readPixelsToArray:()=>A.sy,readPixelsToBuffer:()=>A.fY,resetParameters:()=>r.AB,setParameters:()=>r.Rz,uid:()=>b.Ld,withParameters:()=>r.zv});var r=n(45882),i=n(58547),o=n(34551),s=n(51934),a=n(8858),l=n(69535),c=n(38349),u=n(40507),h=n(59375),f=n(22415),d=n(59043),p=n(73091),A=n(72059),g=n(90740),y=n(51885),m=n(87188),v=n(84707),b=n(65658);const _={x:[2,0,1],y:[0,1,2],z:[1,2,0]};class w extends v.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:e=(0,b.Ld)("truncated-code-geometry")}=t,{indices:n,attributes:r}=function(t){const{bottomRadius:e=0,topRadius:n=0,height:r=1,nradial:i=10,nvertical:o=10,verticalAxis:s="y",topCap:a=!1,bottomCap:l=!1}=t,c=(a?2:0)+(l?2:0),u=(i+1)*(o+1+c),h=Math.atan2(e-n,r),f=Math.sin,d=Math.cos,p=Math.PI,A=d(h),g=f(h),y=a?-2:0,m=o+(l?2:0),v=i+1,b=new Uint16Array(i*(o+c)*6),w=_[s],x=new Float32Array(3*u),E=new Float32Array(3*u),S=new Float32Array(2*u);let C=0,P=0;for(let _=y;_<=m;_++){let t,s=_/o,a=r*s;_<0?(a=0,s=1,t=e):_>o?(a=r,s=1,t=n):t=e+_/o*(n-e),-2!==_&&_!==o+2||(t=0,s=0),a-=r/2;for(let e=0;e<v;e++){const n=f(e*p*2/i),r=d(e*p*2/i);x[C+w[0]]=n*t,x[C+w[1]]=a,x[C+w[2]]=r*t,E[C+w[0]]=_<0||_>o?0:n*A,E[C+w[1]]=_<0?-1:_>o?1:g,E[C+w[2]]=_<0||_>o?0:r*A,S[P+0]=e/i,S[P+1]=s,P+=2,C+=3}}for(let _=0;_<o+c;_++)for(let t=0;t<i;t++){const e=6*(_*i+t);b[e+0]=v*(_+0)+0+t,b[e+1]=v*(_+0)+1+t,b[e+2]=v*(_+1)+1+t,b[e+3]=v*(_+0)+0+t,b[e+4]=v*(_+1)+1+t,b[e+5]=v*(_+1)+0+t}return{indices:b,attributes:{POSITION:{size:3,value:x},NORMAL:{size:3,value:E},TEXCOORD_0:{size:2,value:S}}}}(t);super({...t,id:e,indices:n,attributes:{...r,...t.attributes}})}}class x extends w{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:e=(0,b.Ld)("cone-geometry"),radius:n=1,cap:r=!0}=t;super({...t,id:e,topRadius:0,topCap:Boolean(r),bottomCap:Boolean(r),bottomRadius:n})}}class E extends w{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:e=(0,b.Ld)("cylinder-geometry"),radius:n=1}=t;super({...t,id:e,bottomRadius:n,topRadius:n})}}var S=n(83051);const C=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],P=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1];class M extends v.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:e=(0,b.Ld)("ico-sphere-geometry")}=t,{indices:n,attributes:r}=function(t){const{iterations:e=0}=t,n=Math.PI,r=2*n,i=[...C];let o=[...P];i.push(),o.push();const s=(()=>{const t={};return(e,n)=>{const r=(e*=3)>(n*=3)?e:n,o="".concat(e<n?e:n,"|").concat(r);if(o in t)return t[o];const s=i[e],a=i[e+1],l=i[e+2];let c=(s+i[n])/2,u=(a+i[n+1])/2,h=(l+i[n+2])/2;const f=Math.sqrt(c*c+u*u+h*h);return c/=f,u/=f,h/=f,i.push(c,u,h),t[o]=i.length/3-1}})();for(let c=0;c<e;c++){const t=[];for(let e=0;e<o.length;e+=3){const n=s(o[e+0],o[e+1]),r=s(o[e+1],o[e+2]),i=s(o[e+2],o[e+0]);t.push(i,o[e+0],n,n,o[e+1],r,r,o[e+2],i,n,r,i)}o=t}const a=new Array(i.length),l=new Array(i.length/3*2);for(let c=o.length-3;c>=0;c-=3){const t=o[c+0],e=o[c+1],s=o[c+2],u=3*t,h=3*e,f=3*s,d=2*t,p=2*e,A=2*s,g=i[u+0],y=i[u+1],m=i[u+2],v=Math.acos(m/Math.sqrt(g*g+y*y+m*m))/n,b=1-(Math.atan2(y,g)+n)/r,_=i[h+0],w=i[h+1],x=i[h+2],E=Math.acos(x/Math.sqrt(_*_+w*w+x*x))/n,C=1-(Math.atan2(w,_)+n)/r,P=i[f+0],M=i[f+1],T=i[f+2],O=Math.acos(T/Math.sqrt(P*P+M*M+T*T))/n,I=1-(Math.atan2(M,P)+n)/r,R=[P-_,M-w,T-x],L=[g-_,y-w,m-x],k=new S.A(R).cross(L).normalize();let B;(0===b||0===C||0===I)&&(0===b||b>.5)&&(0===C||C>.5)&&(0===I||I>.5)&&(i.push(i[u+0],i[u+1],i[u+2]),B=i.length/3-1,o.push(B),l[2*B+0]=1,l[2*B+1]=v,a[3*B+0]=k.x,a[3*B+1]=k.y,a[3*B+2]=k.z,i.push(i[h+0],i[h+1],i[h+2]),B=i.length/3-1,o.push(B),l[2*B+0]=1,l[2*B+1]=E,a[3*B+0]=k.x,a[3*B+1]=k.y,a[3*B+2]=k.z,i.push(i[f+0],i[f+1],i[f+2]),B=i.length/3-1,o.push(B),l[2*B+0]=1,l[2*B+1]=O,a[3*B+0]=k.x,a[3*B+1]=k.y,a[3*B+2]=k.z),a[u+0]=a[h+0]=a[f+0]=k.x,a[u+1]=a[h+1]=a[f+1]=k.y,a[u+2]=a[h+2]=a[f+2]=k.z,l[d+0]=b,l[d+1]=v,l[p+0]=C,l[p+1]=E,l[A+0]=I,l[A+1]=O}return{indices:{size:1,value:new Uint16Array(o)},attributes:{POSITION:{size:3,value:new Float32Array(i)},NORMAL:{size:3,value:new Float32Array(a)},TEXCOORD_0:{size:2,value:new Float32Array(l)}}}}(t);super({...t,id:e,indices:n,attributes:{...r,...t.attributes}})}}class T extends v.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:e=(0,b.Ld)("plane-geometry")}=t,{indices:n,attributes:r}=function(t){const{type:e="x,y",offset:n=0,flipCull:r=!1,unpack:i=!1}=t,o=e.split(",");let s=t["".concat(o[0],"len")]||1;const a=t["".concat(o[1],"len")]||1,l=t["n".concat(o[0])]||1,c=t["n".concat(o[1])]||1,u=(l+1)*(c+1),h=new Float32Array(3*u),f=new Float32Array(3*u),d=new Float32Array(2*u);r&&(s=-s);let p=0,A=0;for(let v=0;v<=c;v++)for(let t=0;t<=l;t++){const i=t/l,o=v/c;switch(d[p+0]=r?1-i:i,d[p+1]=o,e){case"x,y":h[A+0]=s*i-.5*s,h[A+1]=a*o-.5*a,h[A+2]=n,f[A+0]=0,f[A+1]=0,f[A+2]=r?1:-1;break;case"x,z":h[A+0]=s*i-.5*s,h[A+1]=n,h[A+2]=a*o-.5*a,f[A+0]=0,f[A+1]=r?1:-1,f[A+2]=0;break;case"y,z":h[A+0]=n,h[A+1]=s*i-.5*s,h[A+2]=a*o-.5*a,f[A+0]=r?1:-1,f[A+1]=0,f[A+2]=0;break;default:throw new Error("PlaneGeometry: unknown type")}p+=2,A+=3}const g=l+1,y=new Uint16Array(l*c*6);for(let v=0;v<c;v++)for(let t=0;t<l;t++){const e=6*(v*l+t);y[e+0]=(v+0)*g+t,y[e+1]=(v+1)*g+t,y[e+2]=(v+0)*g+t+1,y[e+3]=(v+1)*g+t,y[e+4]=(v+1)*g+t+1,y[e+5]=(v+0)*g+t+1}const m={indices:{size:1,value:y},attributes:{POSITION:{size:3,value:h},NORMAL:{size:3,value:f},TEXCOORD_0:{size:2,value:d}}};return i?function(t){const{indices:e,attributes:n}=t;if(!e)return t;const r=e.value.length,i={};for(const o in n){const t=n[o],{constant:s,value:a,size:l}=t;if(s||!l)continue;const c=new a.constructor(r*l);for(let n=0;n<r;++n){const t=e.value[n];for(let e=0;e<l;e++)c[n*l+e]=a[t*l+e]}i[o]={size:l,value:c}}return{attributes:Object.assign({},n,i)}}(m):m}(t);super({...t,id:e,indices:n,attributes:{...r,...t.attributes}})}}class O extends v.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:e=(0,b.Ld)("sphere-geometry")}=t,{indices:n,attributes:r}=function(t){const{nlat:e=10,nlong:n=10}=t;let{radius:r=1}=t;const i=0,o=Math.PI-i,s=0,a=2*Math.PI-s,l=(e+1)*(n+1);if("number"===typeof r){const t=r;r=(e,n,r,i,o)=>t}const c=new Float32Array(3*l),u=new Float32Array(3*l),h=new Float32Array(2*l),f=new(l>65535?Uint32Array:Uint16Array)(e*n*6);for(let p=0;p<=e;p++)for(let t=0;t<=n;t++){const i=t/n,s=p/e,l=t+p*(n+1),f=2*l,d=3*l,A=a*i,g=o*s,y=Math.sin(A),m=Math.cos(A),v=Math.sin(g),b=m*v,_=Math.cos(g),w=y*v,x=r(b,_,w,i,s);c[d+0]=x*b,c[d+1]=x*_,c[d+2]=x*w,u[d+0]=b,u[d+1]=_,u[d+2]=w,h[f+0]=i,h[f+1]=1-s}const d=n+1;for(let p=0;p<n;p++)for(let t=0;t<e;t++){const n=6*(p*e+t);f[n+0]=t*d+p,f[n+1]=t*d+p+1,f[n+2]=(t+1)*d+p,f[n+3]=(t+1)*d+p,f[n+4]=t*d+p+1,f[n+5]=(t+1)*d+p+1}return{indices:{size:1,value:f},attributes:{POSITION:{size:3,value:c},NORMAL:{size:3,value:u},TEXCOORD_0:{size:2,value:h}}}}(t);super({...t,id:e,indices:n,attributes:{...r,...t.attributes}})}}var I=n(84362),R=n(50953),L=n(26425),k=n(51844),B=n(79068),N=n(84303),D=n(91683);function F(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.fround(t),i=t-r;return e[n]=r,e[n+1]=i,e}function j(t){return t-Math.fround(t)}function U(t){const e=new Float32Array(32);for(let n=0;n<4;++n)for(let r=0;r<4;++r){const i=4*n+r;F(t[4*r+n],e,2*i)}return e}const z={ONE:1};const G={name:"fp64",vs:"const vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09);\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09);\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10);\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11);\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12);\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13);\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14);\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15);\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\nvec2 exp_fp64(vec2 a) {\n\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n\n\n\n\n\n  s = sum_fp64(s, t);\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n",fs:null,dependencies:[{name:"fp64-arithmetic",vs:"uniform float ONE;\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n",fs:null,getUniforms:function(){return z},fp64ify:F,fp64LowPart:j,fp64ifyMatrix4:U}],fp64ify:F,fp64LowPart:j,fp64ifyMatrix4:U};var V=n(92684);const H=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],W={modelMatrix:H,viewMatrix:H,projectionMatrix:H,cameraPositionWorld:[0,0,0]};const q="varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n",X={name:"project",getUniforms:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;const e={};return void 0!==t.modelMatrix&&(e.modelMatrix=t.modelMatrix),void 0!==t.viewMatrix&&(e.viewMatrix=t.viewMatrix),void 0!==t.projectionMatrix&&(e.projectionMatrix=t.projectionMatrix),void 0!==t.cameraPositionWorld&&(e.cameraPositionWorld=t.cameraPositionWorld),void 0===t.projectionMatrix&&void 0===t.viewMatrix||(e.viewProjectionMatrix=new V.A(t.projectionMatrix).multiplyRight(t.viewMatrix)),e},vs:"".concat(q,"\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n"),fs:"\n".concat(q)},Y={lightDirection:new Float32Array([1,1,2])};const Q={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;const e={};return t.lightDirection&&(e.dirlight_uLightDirection=t.lightDirection),e},dependencies:[X]};var K=n(88066),J=n(25503),Z=n(99055),$=n(70574),tt=n(91052),et=n(71425)},79068:(t,e,n)=>{"use strict";n.d(e,{K:()=>o});let r=1,i=1;class o{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(t){const{delay:e=0,duration:n=Number.POSITIVE_INFINITY,rate:i=1,repeat:o=1}=t,s=r++,a={time:0,delay:e,duration:n,rate:i,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(s,a),s}removeChannel(t){this.channels.delete(t);for(const[e,n]of this.animations)n.channel===t&&this.detachAnimation(e)}isFinished(t){const e=this.channels.get(t);return void 0!==e&&this.time>=e.delay+e.duration*e.repeat}getTime(t){if(void 0===t)return this.time;const e=this.channels.get(t);return void 0===e?-1:e.time}setTime(t){this.time=Math.max(0,t);const e=this.channels.values();for(const r of e)this._setChannelTime(r,this.time);const n=this.animations.values();for(const r of n){const{animation:t,channel:e}=r;t.setTime(this.getTime(e))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(t,e){const n=i++;return this.animations.set(n,{animation:t,channel:e}),t.setTime(this.getTime(e)),n}detachAnimation(t){this.animations.delete(t)}update(t){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=t),this.setTime(this.time+(t-this.lastEngineTime)),this.lastEngineTime=t)}_setChannelTime(t,e){const n=e-t.delay;n>=t.duration*t.repeat?t.time=t.duration*t.rate:(t.time=Math.max(0,n)%t.duration,t.time*=t.rate)}}},91683:(t,e,n)=>{"use strict";n.d(e,{A:()=>u});var r=n(84707),i=n(65658);const o=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),s=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),a=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),l=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),c={POSITION:{size:3,value:new Float32Array(s)},NORMAL:{size:3,value:new Float32Array(a)},TEXCOORD_0:{size:2,value:new Float32Array(l)}};class u extends r.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:e=(0,i.Ld)("cube-geometry")}=t;super({...t,id:e,indices:{size:1,value:new Uint16Array(o)},attributes:{...c,...t.attributes}})}}},84707:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(65658),i=n(71425);const o={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class s{static get DRAW_MODE(){return o}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:e=(0,r.Ld)("geometry"),drawMode:n=o.TRIANGLES,attributes:i={},indices:s=null,vertexCount:a=null}=t;this.id=e,this.drawMode=0|n,this.attributes={},this.userData={},this._setAttributes(i,s),this.vertexCount=a||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(t){return"Geometry ".concat(this.id," attribute ").concat(t)}_setAttributes(t,e){e&&(this.indices=ArrayBuffer.isView(e)?{value:e,size:1}:e);for(const n in t){let e=t[n];e=ArrayBuffer.isView(e)?{value:e}:e,(0,i.v)(ArrayBuffer.isView(e.value),"".concat(this._print(n),": must be typed array or object with value as typed array")),"POSITION"!==n&&"positions"!==n||e.size||(e.size=3),"indices"===n?((0,i.v)(!this.indices),this.indices=e):this.attributes[n]=e}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(t,e){if(e)return e.value.length;let n=1/0;for(const r in t){const e=t[r],{value:i,size:o,constant:s}=e;!s&&i&&o>=1&&(n=Math.min(n,i.length/o))}return(0,i.v)(Number.isFinite(n)),n}}},84362:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var r=n(45882),i=n(58547),o=n(71425),s=n(42532),a=n(51934),l=n(34551);class c extends s.A{get[Symbol.toStringTag](){return"Query"}static isSupported(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,r.C6)(t),i=(0,a.QN)(t,l.G.TIMER_QUERY);let s=n||i;for(const r of e)switch(r){case"queries":s=s&&n;break;case"timers":s=s&&i;break;default:(0,o.v)(!1)}return s}constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(t?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(t){return this._queryPending||(this.target=t,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const t=this.gl2.getQueryParameter(this.handle,34919);return t&&(this._queryPending=!1),t}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let e=0;return this._pollingPromise=new Promise(((n,r)=>{const i=()=>{this.isResultAvailable()?(n(this.getResult()),this._pollingPromise=null):e++>t?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(i)};requestAnimationFrame(i)})),this._pollingPromise}_createHandle(){return c.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}var u=n(38349);const h=(0,n(74583).A)()&&"undefined"!==typeof document;let f=0;class d{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:e=t=>(0,r.XZ)(t),onAddHTML:n=null,onInitialize:o=()=>{},onRender:s=()=>{},onFinalize:a=()=>{},onError:l,gl:c=null,glOptions:u={},debug:h=!1,createFramebuffer:d=!1,autoResizeViewport:p=!0,autoResizeDrawingBuffer:A=!0,stats:g=i.dJ.get("animation-loop-".concat(f++))}=t;let{useDevicePixels:y=!0}=t;"useDevicePixelRatio"in t&&(r.Rm.deprecated("useDevicePixelRatio","useDevicePixels")(),y=t.useDevicePixelRatio),this.props={onCreateContext:e,onAddHTML:n,onInitialize:o,onRender:s,onFinalize:a,onError:l,gl:c,glOptions:u,debug:h,createFramebuffer:d},this.gl=c,this.needsRedraw=null,this.timeline=null,this.stats=g,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:p,autoResizeDrawingBuffer:A,useDevicePixels:y}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(t){return(0,o.v)("string"===typeof t),this.needsRedraw=this.needsRedraw||t,this}setProps(t){return"autoResizeViewport"in t&&(this.autoResizeViewport=t.autoResizeViewport),"autoResizeDrawingBuffer"in t&&(this.autoResizeDrawingBuffer=t.autoResizeDrawingBuffer),"useDevicePixels"in t&&(this.useDevicePixels=t.useDevicePixels),this}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const e=this._getPageLoadPromise().then((()=>!this._running||this._initialized?null:(this._createWebGLContext(t),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=c.isSupported(this.gl,["timers"])?new c(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps)))).then((t=>{this._running&&(this._addCallbackData(t||{}),!1!==t&&this._startLoop())}));return this.props.onError&&e.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(t){return this.timeline=t,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((t=>{this._resolveNextFrame=t}))),this._nextFramePromise}async toDataURL(){return this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.gl.canvas.toDataURL()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=document.getElementById(t);return n?Number(n.value):e}setViewParameters(){return r.Rm.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const t=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(t))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(t)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=h?new Promise(((t,e)=>{h&&"complete"===document.readyState?t(document):window.addEventListener("load",(()=>{t(document)}))})):Promise.resolve({})),this._pageLoadPromise}_setDisplay(t){this.display&&(this.display.delete(),this.display.animationLoop=null),t&&(t.animationLoop=this),this.display=t}_cancelAnimationFrame(t){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(t):(e=t,"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e));var e}_requestAnimationFrame(t){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(t):(e=t,"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60));var e}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:t,height:e,aspect:n}=this._getSizeAndAspect();t===this.animationProps.width&&e===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=e,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(t){"object"===typeof t&&null!==t&&(this.animationProps=Object.assign({},this.animationProps,t))}_createWebGLContext(t){if(this.offScreen=t.canvas&&"undefined"!==typeof OffscreenCanvas&&t.canvas instanceof OffscreenCanvas,t=Object.assign({},t,this.props.glOptions),this.gl=this.props.gl?(0,r.uZ)(this.props.gl,t):this.onCreateContext(t),!(0,r.uF)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(0,r.AB)(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const t=document.createElement("div");document.body.appendChild(t),t.style.position="relative";const e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.bottom="10px",e.style.width="300px",e.style.background="white",t.appendChild(this.gl.canvas),t.appendChild(e);const n=this.props.onAddHTML(e);n&&(e.innerHTML=n)}}_getSizeAndAspect(){const t=this.gl.drawingBufferWidth,e=this.gl.drawingBufferHeight;let n=1;const{canvas:r}=this.gl;return r&&r.clientHeight?n=r.clientWidth/r.clientHeight:t>0&&e>0&&(n=t/e),{width:t,height:e,aspect:n}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&(0,r.ZA)(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new u.A(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:t}=this.gl;t&&(t.addEventListener("mousemove",this._onMousemove),t.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(t){this.animationProps._mousePosition=[t.offsetX,t.offsetY]}_onMouseleave(t){this.animationProps._mousePosition=null}}},50953:(t,e,n)=>{"use strict";n.d(e,{A:()=>k});var r=n(45882),i=n(51844),o=n(65658),s=n(71425),a=n(73091),l=n(69535),c=n(40663),u=n(8858),h=n(42532);let f=null;function d(t,e){var n;return new t((n=t.BYTES_PER_ELEMENT*e,(!f||f.byteLength<n)&&(f=new ArrayBuffer(n)),f),0,e)}var p=n(18653);class A extends h.A{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(t){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||((0,r.C6)(t)||"Chrome"===(0,p.A)())}static getDefaultArray(t){return t.luma=t.luma||{},t.luma.defaultVertexArray||(t.luma.defaultVertexArray=new A(t,{handle:null,isDefaultArray:!0})),t.luma.defaultVertexArray}static getMaxAttributes(t){return A.MAX_ATTRIBUTES=A.MAX_ATTRIBUTES||t.getParameter(34921),A.MAX_ATTRIBUTES}static setConstant(t,e,n){switch(n.constructor){case Float32Array:A._setConstantFloatArray(t,e,n);break;case Int32Array:A._setConstantIntArray(t,e,n);break;case Uint32Array:A._setConstantUintArray(t,e,n);break;default:(0,s.v)(!1)}}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.id||e.program&&e.program.id;super(t,Object.assign({},e,{id:n})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=e.isDefaultArray||!1,this.gl2=t,this.initialize(e),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return A.getMaxAttributes(this.gl)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(t)}setProps(t){return this}setElementBuffer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,s.v)(!t||34963===t.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind((()=>{this.gl.bindBuffer(34963,t?t.handle:null)})),this}setBuffer(t,e,n){if(34963===e.target)return this.setElementBuffer(e,n);const{size:i,type:o,stride:a,offset:l,normalized:c,integer:u,divisor:h}=n,{gl:f,gl2:d}=this;return t=Number(t),this.bind((()=>{f.bindBuffer(34962,e.handle),u?((0,s.v)((0,r.C6)(f)),d.vertexAttribIPointer(t,i,o,a,l)):f.vertexAttribPointer(t,i,o,c,a,l),f.enableVertexAttribArray(t),d.vertexAttribDivisor(t,h||0)})),this}enable(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!e&&0===t&&!A.isSupported(this.gl,{constantAttributeZero:!0})||(t=Number(t),this.bind((()=>e?this.gl.enableVertexAttribArray(t):this.gl.disableVertexAttribArray(t)))),this}getConstantBuffer(t,e){const n=this._normalizeConstantArrayValue(e),r=n.byteLength*t,i=n.length*t;let o=!this.buffer;if(this.buffer=this.buffer||new u.A(this.gl,r),o=o||this.buffer.reallocate(r),o=o||!this._compareConstantArrayValues(n,this.bufferValue),o){const t=d(e.constructor,i);!function(t){let{target:e,source:n,start:r=0,count:i=1}=t;const o=n.length,s=i*o;let a=0;for(let l=r;a<o;a++)e[l++]=n[a];for(;a<s;)a<s-a?(e.copyWithin(r+a,r,r+a),a*=2):(e.copyWithin(r+a,r,r+s-a),a=s)}({target:t,source:n,start:0,count:i}),this.buffer.subData(t),this.bufferValue=e}return this.buffer}_normalizeConstantArrayValue(t){return Array.isArray(t)?new Float32Array(t):t}_compareConstantArrayValues(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}static _setConstantFloatArray(t,e,n){switch(n.length){case 1:t.vertexAttrib1fv(e,n);break;case 2:t.vertexAttrib2fv(e,n);break;case 3:t.vertexAttrib3fv(e,n);break;case 4:t.vertexAttrib4fv(e,n);break;default:(0,s.v)(!1)}}static _setConstantIntArray(t,e,n){switch((0,s.v)((0,r.C6)(t)),n.length){case 1:t.vertexAttribI1iv(e,n);break;case 2:t.vertexAttribI2iv(e,n);break;case 3:t.vertexAttribI3iv(e,n);break;case 4:t.vertexAttribI4iv(e,n);break;default:(0,s.v)(!1)}}static _setConstantUintArray(t,e,n){switch((0,s.v)((0,r.C6)(t)),n.length){case 1:t.vertexAttribI1uiv(e,n);break;case 2:t.vertexAttribI2uiv(e,n);break;case 3:t.vertexAttribI3uiv(e,n);break;case 4:t.vertexAttribI4uiv(e,n);break;default:(0,s.v)(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(t){return this.gl2.deleteVertexArray(t),[this.elements]}_bindHandle(t){this.gl2.bindVertexArray(t)}_getParameter(t,e){let{location:n}=e;return(0,s.v)(Number.isFinite(n)),this.bind((()=>34373===t?this.gl.getVertexAttribOffset(n,t):this.gl.getVertexAttrib(n,t)))}}var g=n(36932);const y=/^(.+)__LOCATION_([0-9]+)$/,m=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class v{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.id||e.program&&e.program.id;this.id=n,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new A(t),(0,g.R)(this,"VertexArray","v6.0",m),this.initialize(e),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(t)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:t}=this.vertexArrayObject;return this.values=new Array(t).fill(null),this.accessors=new Array(t).fill(null),this.unused={},this.drawParams=null,this}setProps(t){return"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"attributes"in t&&this.setAttributes(t.attributes),"elements"in t&&this.setElementBuffer(t.elements),"bindOnUse"in t&&(t=t.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(t){return Object.assign(this.attributes,t),this.vertexArrayObject.bind((()=>{for(const e in t){const n=t[e];this._setAttribute(e,n)}this.gl.bindBuffer(34962,null)})),this}setElementBuffer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=t,this.elementsAccessor=e,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(t,e),this}setBuffer(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===e.target)return this.setElementBuffer(e,n);const{location:r,accessor:i}=this._resolveLocationAndAccessor(t,e,e.accessor,n);return r>=0&&(this.values[r]=e,this.accessors[r]=i,this.clearDrawParams(),this.vertexArrayObject.setBuffer(r,e,i)),this}setConstant(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:r,accessor:i}=this._resolveLocationAndAccessor(t,e,Object.assign({size:e.length},n));return r>=0&&(e=this.vertexArrayObject._normalizeConstantArrayValue(e),this.values[r]=e,this.accessors[r]=i,this.clearDrawParams(),this.vertexArrayObject.enable(r,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new u.A(this.gl,{accessor:{size:4}});for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this.values[t]instanceof u.A&&(this.gl.disableVertexAttribArray(t),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(t,1,5126,!1,0,0))})),this}bindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.setElementBuffer(this.elements);for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++){const e=this.values[t];e instanceof u.A&&this.setBuffer(t,e)}})),this}bindForDraw(t,e,n){let r;return this.vertexArrayObject.bind((()=>{this._setConstantAttributes(t,e),r=n()})),r}_resolveLocationAndAccessor(t,e,n,i){const o={location:-1,accessor:null},{location:a,name:l}=this._getAttributeIndex(t);if(!Number.isFinite(a)||a<0)return this.unused[t]=e,r.Rm.once(3,(()=>"unused value ".concat(t," in ").concat(this.id)))(),o;const u=this._getAttributeInfo(l||a);if(!u)return o;const h=this.accessors[a]||{},f=c.A.resolve(u.accessor,h,n,i),{size:d,type:p}=f;return(0,s.v)(Number.isFinite(d)&&Number.isFinite(p)),{location:a,accessor:f}}_getAttributeInfo(t){return this.configuration&&this.configuration.getAttributeInfo(t)}_getAttributeIndex(t){const e=Number(t);if(Number.isFinite(e))return{location:e};const n=y.exec(t),r=n?n[1]:t,i=n?Number(n[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+i,name:r}:{location:-1}}_setAttribute(t,e){if(e instanceof u.A)this.setBuffer(t,e);else if(Array.isArray(e)&&e.length&&e[0]instanceof u.A){const n=e[0],r=e[1];this.setBuffer(t,n,r)}else if(ArrayBuffer.isView(e)||Array.isArray(e)){const n=e;this.setConstant(t,n)}else{if(!(e.buffer instanceof u.A))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");{const n=e;this.setBuffer(t,n.buffer,n)}}}_setConstantAttributes(t,e){const n=Math.max(0|t,0|e);let r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(let i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)r=this.values[i],ArrayBuffer.isView(r)&&this._setConstantAttribute(i,r)}_setConstantAttributeZero(t,e){if(A.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,t);const n=this.vertexArrayObject.getConstantBuffer(e,t);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}_setConstantAttribute(t,e){A.setConstant(this.gl,t,e)}_updateDrawParams(){const t={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this._updateDrawParamsForLocation(t,e);return this.elements&&(t.elementCount=this.elements.getElementCount(this.elements.accessor),t.isIndexed=!0,t.indexType=this.elementsAccessor.type||this.elements.accessor.type,t.indexOffset=this.elementsAccessor.offset||0),t.indexCount===1/0&&(t.indexCount=0),t.vertexCount===1/0&&(t.vertexCount=0),t.instanceCount===1/0&&(t.instanceCount=0),t}_updateDrawParamsForLocation(t,e){const n=this.values[e],r=this.accessors[e];if(!n)return;const{divisor:i}=r,o=i>0;if(t.isInstanced=t.isInstanced||o,n instanceof u.A){const e=n;if(o){const n=e.getVertexCount(r);t.instanceCount=Math.min(t.instanceCount,n)}else{const n=e.getVertexCount(r);t.vertexCount=Math.min(t.vertexCount,n)}}}setElements(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.Rm.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(t,e)}}var b=n(87188),_=n(89711),w=n(9335);function x(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:n=!1}=e;if(Array.isArray(t)||ArrayBuffer.isView(t))return function(t,e){const{maxElts:n=16,size:r=1}=e;let i="[";for(let s=0;s<t.length&&s<n;++s)s>0&&(i+=",".concat(s%r===0?" ":"")),i+=x(t[s],e);const o=t.length>n?"...":"]";return"".concat(i).concat(o)}(t,e);if(!Number.isFinite(t))return String(t);if(Math.abs(t)<1e-16)return n?"0":"0.";if(n)return t.toFixed(0);if(Math.abs(t)>100&&Math.abs(t)<1e4)return t.toFixed(0);const r=t.toPrecision(2);return r.indexOf(".0")===r.length-2?r.slice(0,-1):r}function E(t,e,n,r){const{gl:i}=t;if(!e)return{[r]:"null","Format ":"N/A"};let o,s,a,l="NOT PROVIDED",c=1,h=0,f=0;if(n&&(l=n.type,c=n.size,l=String(l).replace("Array",""),o=-1!==l.indexOf("nt")),e instanceof u.A){const t=e,{data:u,changed:d}=t.getDebugData();let p;if(s=d?"*":"",a=u,f=t.byteLength,h=f/u.BYTES_PER_ELEMENT/c,n){const t=n.divisor>0;p="".concat(t?"I ":"P "," ").concat(h," (x").concat(c,"=").concat(f," bytes ").concat((0,_.i7)(i,l),")")}else o=!0,p="".concat(f," bytes");return{[r]:"".concat(s).concat(x(a,{size:c,isInteger:o})),"Format ":p}}return a=e,c=e.length,l=String(e.constructor.name).replace("Array",""),o=-1!==l.indexOf("nt"),{[r]:"".concat(x(a,{size:c,isInteger:o})," (constant)"),"Format ":"".concat(c,"x").concat(l," (constant)")}}function S(t,e){const{type:n,size:r}=e,i=(0,w.bF)(n,r);return i?"".concat(t," (").concat(i.name,")"):t}function C(t){let{header:e="Uniforms",program:n,uniforms:r,undefinedOnly:i=!1}=t;(0,s.v)(n);const o=".*Matrix",a=n._uniformSetters,l={},c=Object.keys(a).sort();let u=0;for(const s of c)s.match(".*_.*")||s.match(o)||P({table:l,header:e,uniforms:r,uniformName:s,undefinedOnly:i})&&u++;for(const s of c)s.match(o)&&P({table:l,header:e,uniforms:r,uniformName:s,undefinedOnly:i})&&u++;for(const s of c)l[s]||P({table:l,header:e,uniforms:r,uniformName:s,undefinedOnly:i})&&u++;let h=0;const f={};if(!i)for(const s in r){const t=r[s];l[s]||(h++,f[s]={Type:"NOT USED: ".concat(t),[e]:x(t)})}return{table:l,count:u,unusedTable:f,unusedCount:h}}function P(t){let{table:e,header:n,uniforms:r,uniformName:i,undefinedOnly:o}=t;const s=r[i],a=function(t){return void 0!==t&&null!==t}(s);return(!o||!a)&&(e[i]={[n]:a?x(s):"N/A","Uniform Type":a?s:"NOT PROVIDED"},!0)}function M(t){const{type:e,size:n}=t.accessor,r=(0,w.bF)(e,n);return r?"".concat(r.name," ").concat(t.name):t.name}const T={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function O(t,e){const{attributeMap:n=T}=e||{};return n&&n[t]||t}function I(t,e){let n;switch(t){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}(0,s.v)(Number.isFinite(e.size),"attribute ".concat(t," needs size"))}const R=()=>{},L={};class k{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:n=(0,o.Ld)("model")}=e;(0,s.v)((0,r.uF)(t)),this.id=n,this.gl=t,this.id=e.id||(0,o.Ld)("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(e)}initialize(t){this.props={},this.programManager=t.programManager||i.A.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:e=null,vs:n,fs:r,modules:o,defines:a,inject:l,varyings:c,bufferMode:u,transpileToGLSL100:h}=t;this.programProps={program:e,vs:n,fs:r,modules:o,defines:a,inject:l,varyings:c,bufferMode:u,transpileToGLSL100:h},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(t.moduleSettings))),this.drawMode=void 0!==t.drawMode?t.drawMode:4,this.vertexCount=t.vertexCount||0,this.geometryBuffers={},this.isInstanced=t.isInstanced||t.instanced||t.instanceCount>0,this._setModelProps(t),this.geometry={},(0,s.v)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(t){this._setModelProps(t)}delete(){for(const t in this._attributes)this._attributes[t]!==this.attributes[t]&&this._attributes[t].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(t){const{program:e,vs:n,fs:r,modules:i,defines:o,inject:s,varyings:a,bufferMode:l,transpileToGLSL100:c}=t;this.programProps={program:e,vs:n,fs:r,modules:i,defines:o,inject:s,varyings:a,bufferMode:l,transpileToGLSL100:c},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(t){return this.drawMode=t,this}setVertexCount(t){return(0,s.v)(Number.isFinite(t)),this.vertexCount=t,this}setInstanceCount(t){return(0,s.v)(Number.isFinite(t)),this.instanceCount=t,this}setGeometry(t){return this.drawMode=t.drawMode,this.vertexCount=t.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(t,e,n){const r={};let i=e.indices;for(const o in e.attributes){const s=e.attributes[o],a=O(o,n);if("indices"===o)i=s;else if(s.constant)r[a]=s.value;else{const e=s.value,n={...s};delete n.value,r[a]=[new u.A(t,e),n],I(o,n)}}if(i){const e=i.value||i;(0,s.v)(e instanceof Uint16Array||e instanceof Uint32Array,'attribute array for "indices" must be of integer type');const n={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};r.indices=[new u.A(t,{data:e,target:34963}),n]}return r}(this.gl,t),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,o.ZF)(t))return this;const e={};for(const n in t){const r=t[n];e[n]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(e),this}setUniforms(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,t),this}getModuleUniforms(t){this._checkProgram();const e=this.programManager.getUniforms(this.program);return e?e(t):{}}updateModuleSettings(t){const e=this.getModuleUniforms(t||{});return this.setUniforms(e)}clear(t){return(0,a.I)(this.program.gl,t),this}draw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:e=null,framebuffer:n,uniforms:i={},attributes:o={},transformFeedback:s=this.transformFeedback,parameters:a={},vertexArray:l=this.vertexArray}=t;let c;this.setAttributes(o),this.updateModuleSettings(e),this.setUniforms(i),r.Rm.priority>=2&&(c=this._logDrawCallStart(2));const u=this.vertexArray.getDrawParams(),{isIndexed:h=u.isIndexed,indexType:f=u.indexType,indexOffset:d=u.indexOffset,vertexArrayInstanced:p=u.isInstanced}=this.props;p&&!this.isInstanced&&r.Rm.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:A,instanceCount:g}=this,{onBeforeRender:y=R,onAfterRender:m=R}=this.props;y(),this.program.setUniforms(this.uniforms);const v=this.program.draw(Object.assign(L,t,{logPriority:c,uniforms:null,framebuffer:n,parameters:a,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:l,transformFeedback:s,isIndexed:h,indexType:f,isInstanced:A,instanceCount:g,offset:h?d:0}));return m(),r.Rm.priority>=2&&this._logDrawCallEnd(c,l,n),v}transform(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:e=!0,feedbackBuffers:n,unbindModels:r=[]}=t;let{parameters:i}=t;n&&this._setFeedbackBuffers(n),e&&(i=Object.assign({},i,{35977:e})),r.forEach((t=>t.vertexArray.unbindBuffers()));try{this.draw(Object.assign({},t,{parameters:i}))}finally{r.forEach((t=>t.vertexArray.bindBuffers()))}return this}render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Rm.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(t).draw()}_setModelProps(t){Object.assign(this.props,t),"uniforms"in t&&this.setUniforms(t.uniforms),"pickable"in t&&(this.pickable=t.pickable),"instanceCount"in t&&(this.instanceCount=t.instanceCount),"geometry"in t&&this.setGeometry(t.geometry),"attributes"in t&&this.setAttributes(t.attributes),"_feedbackBuffers"in t&&this._setFeedbackBuffers(t._feedbackBuffers)}_checkProgram(){if(!(this._programDirty||this.programManager.stateHash!==this._programManagerState))return;let{program:t}=this.programProps;if(t)this._managedProgram=!1;else{const{vs:e,fs:n,modules:r,inject:i,defines:o,varyings:s,bufferMode:a,transpileToGLSL100:l}=this.programProps;t=this.programManager.get({vs:e,fs:n,modules:r,inject:i,defines:o,varyings:s,bufferMode:a,transpileToGLSL100:l}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}(0,s.v)(t instanceof l.A,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new v(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const t in this.geometryBuffers){const e=this.geometryBuffers[t][0]||this.geometryBuffers[t];e instanceof u.A&&e.delete()}}_setAnimationProps(t){this.animated&&(0,s.v)(t,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,o.ZF)(t))return this;const{gl:e}=this.program;return this.transformFeedback=this.transformFeedback||new b.A(e,{program:this.program}),this.transformFeedback.setBuffers(t),this}_logDrawCallStart(t){const e=t>3?0:1e4;if(!(Date.now()-this.lastLogTime<e))return this.lastLogTime=Date.now(),r.Rm.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:r.Rm.level<=2})(),t}_logDrawCallEnd(t,e,n,i){if(void 0===t)return;const o=function(t){let{vertexArray:e,header:n="Attributes"}=t;if(!e.configuration)return{};const r={};e.elements&&(r.ELEMENT_ARRAY_BUFFER=E(e,e.elements,null,n));const i=e.values;for(const o in i){const t=e._getAttributeInfo(o);if(t){let s="".concat(o,": ").concat(t.name);const a=e.accessors[t.location];a&&(s="".concat(o,": ").concat(S(t.name,a))),r[s]=E(e,i[o],a,n)}}return r}({vertexArray:e,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:s,unusedTable:a,unusedCount:l}=C({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),{table:c,count:u}=C({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0});u>0&&r.Rm.log("MISSING UNIFORMS",Object.keys(c))(),l>0&&r.Rm.log("UNUSED UNIFORMS",Object.keys(a))();const h=function(t){const e={},n="Accessors for ".concat(t.id);for(const r of t.attributeInfos)if(r){const t=M(r);e["in ".concat(t)]={[n]:JSON.stringify(r.accessor)}}for(const r of t.varyingInfos)if(r){const t=M(r);e["out ".concat(t)]={[n]:JSON.stringify(r.accessor)}}return e}(this.vertexArray.configuration);r.Rm.table(t,o)(),r.Rm.table(t,s)(),r.Rm.table(t+1,h)(),i&&i.log({logLevel:2,message:"Rendered to ".concat(i.id)}),r.Rm.groupEnd(2)()}}},51844:(t,e,n)=>{"use strict";n.d(e,{A:()=>U});var r=n(92075),i=n(88066),o=n(93152);function s(t){return a(c(t))}function a(t){const e={},n={};return l({modules:t,level:0,moduleMap:e,moduleDepth:n}),Object.keys(n).sort(((t,e)=>n[e]-n[t])).map((t=>e[t]))}function l(t){let{modules:e,level:n,moduleMap:r,moduleDepth:i}=t;if(n>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)r[o.name]=o,(void 0===i[o.name]||i[o.name]<n)&&(i[o.name]=n);for(const o of e)o.dependencies&&l({modules:o.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}function c(t,e){return t.map((t=>(t instanceof i.A||((0,o.A)("string"!==typeof t,"Shader module use by name is deprecated. Import shader module '".concat(t,"' and use it directly.")),(0,o.A)(t.name,"shader module has no name"),(t=new i.A(t)).dependencies=c(t.dependencies)),t)))}const u=7936,h=7937,f=7938,d=35724,p={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},A={};Object.keys(p).forEach((t=>{A[t]=t}));const g={};function y(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=p[e];if((0,o.A)(r,e),!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e="undefined"!==typeof window&&window.navigator||{},n=t.userAgent||e.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}(n))return!0;if(e in g)return g[e];const i=r[0],s=n.behavior||"enable",a="#extension GL_".concat(i," : ").concat(s,"\nvoid main(void) {}"),l=t.createShader(35633);t.shaderSource(l,a),t.compileShader(l);const c=t.getShaderParameter(l,35713);return t.deleteShader(l),g[e]=c,c}function m(t,e){const n=p[e];(0,o.A)(n,e);const r=function(t){return"undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||Boolean(t&&2===t._version)}(t)&&n[1]||n[0],i="string"===typeof r?Boolean(t.getExtension(r)):r;return(0,o.A)(!1===i||!0===i),i}function v(t,e){return(e=Array.isArray(e)?e:[e]).every((e=>m(t,e)))}function b(t){const e=function(t){const e=t.getExtension("WEBGL_debug_renderer_info"),n=t.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||u),r=t.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||h);return{gpuVendor:function(t,e){return t.match(/NVIDIA/i)||e.match(/NVIDIA/i)?"NVIDIA":t.match(/INTEL/i)||e.match(/INTEL/i)?"INTEL":t.match(/AMD/i)||e.match(/AMD/i)||t.match(/ATI/i)||e.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(n,r),vendor:n,renderer:r,version:t.getParameter(f),shadingLanguageVersion:t.getParameter(d)}}(t);switch(e.gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}var _=n(78872);function w(t){return new RegExp("\\b".concat(t,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const x=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],E=[...x,[w("attribute"),"in $1"],[w("varying"),"out $1"]],S=[...x,[w("varying"),"in $1"]],C=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],P=[...C,[w("in"),"attribute $1"],[w("out"),"varying $1"]],M=[...C,[w("in"),"varying $1"]],T="gl_FragColor",O=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,I=/void\s+main\s*\([^)]*\)\s*\{\n?/;function R(t,e,n){switch(e){case 300:return n?L(t,E):function(t){t=L(t,S);const e=t.match(O);if(e){const n=e[1];t=t.replace(new RegExp("\\b".concat(T,"\\b"),"g"),n)}else{const e="fragmentColor";t=t.replace(I,(t=>"out vec4 ".concat(e,";\n").concat(t))).replace(new RegExp("\\b".concat(T,"\\b"),"g"),e)}return t}(t);case 100:return n?L(t,P):function(t){t=L(t,M);const e=t.match(O);if(e){const n=e[1];t=t.replace(O,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),T)}return t}(t);default:throw new Error("unknown GLSL version ".concat(e))}}function L(t,e){for(const[n,r]of e)t=t.replace(n,r);return t}const k="\n\n".concat(_.O_,"\n\n"),B={[r.T]:"vertex",[r.B]:"fragment"},N="precision highp float;\n\n";function D(t,e){let{id:n,source:i,type:s,modules:a,defines:l={},hookFunctions:c=[],inject:u={},transpileToGLSL100:h=!1,prologue:f=!0,log:d}=e;(0,o.A)("string"===typeof i,"shader source must be a string");const p=s===r.T,g=i.split("\n");let m=100,w="",x=i;0===g[0].indexOf("#version ")?(m=300,w=g[0],x=g.slice(1).join("\n")):w="#version ".concat(m);const E={};a.forEach((t=>{Object.assign(E,t.getDefines())})),Object.assign(E,l);let S=f?"".concat(w,"\n").concat(function(t){let{id:e,source:n,type:r}=t;const i=e&&"string"===typeof e&&-1===n.indexOf("SHADER_NAME");return i?"\n#define SHADER_NAME ".concat(e,"_").concat(B[r],"\n\n"):""}({id:n,source:i,type:s}),"\n").concat(function(t){let{type:e}=t;return"\n#define SHADER_TYPE_".concat(B[e].toUpperCase(),"\n")}({type:s}),"\n").concat(b(t),"\n").concat(function(t){let e="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return v(t,A.GLSL_FRAG_DEPTH)&&(e+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),v(t,A.GLSL_DERIVATIVES)&&y(t,A.GLSL_DERIVATIVES)&&(e+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),v(t,A.GLSL_FRAG_DATA)&&y(t,A.GLSL_FRAG_DATA,{behavior:"require"})&&(e+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),v(t,A.GLSL_TEXTURE_LOD)&&(e+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),e}(t),"\n").concat(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,n="";for(const r in t){0===e&&(n+="\n// APPLICATION DEFINES\n"),e++;const i=t[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(t[r],"\n"))}0===e&&(n+="\n");return n}(E),"\n").concat(p?"":N,"\n"):"".concat(w,"\n");const C=function(t){const e={vs:{},fs:{}};return t.forEach((t=>{let n;"string"!==typeof t?(n=t,t=n.hook):n={},t=t.trim();const[r,i]=t.split(":"),o=t.replace(/\(.+/,"");e[r][o]=Object.assign(n,{signature:i})})),e}(c),P={},M={},T={};for(const r in u){const t="string"===typeof u[r]?{injection:u[r],order:0}:u[r],e=r.match(/^(v|f)s:(#)?([\w-]+)$/);if(e){const n=e[2],i=e[3];n?"decl"===i?M[r]=[t]:T[r]=[t]:P[r]=[t]}else T[r]=[t]}for(const r of a){d&&r.checkDeprecations(x,d);S+=r.getModuleSource(s,m);const t=r.injections[s];for(const e in t){const n=e.match(/^(v|f)s:#([\w-]+)$/);if(n){const r="decl"===n[2]?M:T;r[e]=r[e]||[],r[e].push(t[e])}else P[e]=P[e]||[],P[e].push(t[e])}}return S+=k,S=(0,_.Ay)(S,s,M),S+=function(t,e){let n="";for(const r in t){const i=t[r];if(n+="void ".concat(i.signature," {\n"),i.header&&(n+="  ".concat(i.header)),e[r]){const t=e[r];t.sort(((t,e)=>t.order-e.order));for(const e of t)n+="  ".concat(e.injection,"\n")}i.footer&&(n+="  ".concat(i.footer)),n+="}\n"}return n}(C[s],P),S+=x,S=(0,_.Ay)(S,s,T),S=R(S,h?100:m,p),S}function F(t){return function(e){const n={};for(const r of t){const t=r.getUniforms(e,n);Object.assign(n,t)}return n}}var j=n(69535);class U{static getDefaultProgramManager(t){return t.luma=t.luma||{},t.luma.defaultProgramManager=t.luma.defaultProgramManager||new U(t),t.luma.defaultProgramManager}constructor(t){this.gl=t,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(t){this._defaultModules.find((e=>e.name===t.name))||this._defaultModules.push(t),this.stateHash++}removeDefaultModule(t){const e="string"===typeof t?t:t.name;this._defaultModules=this._defaultModules.filter((t=>t.name!==e)),this.stateHash++}addShaderHook(t,e){e&&(t=Object.assign(e,{hook:t})),this._hookFunctions.push(t),this.stateHash++}get(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:e="",fs:n="",defines:i={},inject:o={},varyings:a=[],bufferMode:l=35981,transpileToGLSL100:c=!1}=t,u=this._getModuleList(t.modules),h=this._getHash(e),f=this._getHash(n),d=u.map((t=>this._getHash(t.name))).sort(),p=a.map((t=>this._getHash(t))),A=Object.keys(i).sort(),g=Object.keys(o).sort(),y=[],m=[];for(const r of A)y.push(this._getHash(r)),y.push(this._getHash(i[r]));for(const r of g)m.push(this._getHash(r)),m.push(this._getHash(o[r]));const v="".concat(h,"/").concat(f,"D").concat(y.join("/"),"M").concat(d.join("/"),"I").concat(m.join("/"),"V").concat(p.join("/"),"H").concat(this.stateHash,"B").concat(l).concat(c?"T":"");if(!this._programCache[v]){const t=function(t,e){const{vs:n,fs:i}=e,o=s(e.modules||[]);return{gl:t,vs:D(t,Object.assign({},e,{source:n,type:r.T,modules:o})),fs:D(t,Object.assign({},e,{source:i,type:r.B,modules:o})),getUniforms:F(o)}}(this.gl,{vs:e,fs:n,modules:u,inject:o,defines:i,hookFunctions:this._hookFunctions,transpileToGLSL100:c});this._programCache[v]=new j.A(this.gl,{hash:v,vs:t.vs,fs:t.fs,varyings:a,bufferMode:l}),this._getUniforms[v]=t.getUniforms||(t=>{}),this._useCounts[v]=0}return this._useCounts[v]++,this._programCache[v]}getUniforms(t){return this._getUniforms[t.hash]||null}release(t){const e=t.hash;this._useCounts[e]--,0===this._useCounts[e]&&(this._programCache[e].delete(),delete this._programCache[e],delete this._getUniforms[e],delete this._useCounts[e])}_getHash(t){return void 0===this._hashes[t]&&(this._hashes[t]=this._hashCounter++),this._hashes[t]}_getModuleList(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=new Array(this._defaultModules.length+t.length),n={};let r=0;for(let i=0,o=this._defaultModules.length;i<o;++i){const t=this._defaultModules[i],o=t.name;e[r++]=t,n[o]=!0}for(let i=0,o=t.length;i<o;++i){const o=t[i],s=o.name;n[s]||(e[r++]=o,n[s]=!0)}return e.length=r,e}}},26425:(t,e,n)=>{"use strict";n.d(e,{A:()=>M});var r=n(93152);const i="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",o="#version 300 es\n".concat(i);function s(t,e){e=Array.isArray(e)?e:[e];const n=t.replace(/^\s+/,"").split(/\s+/),[r,i,o]=n;if(!e.includes(r)||!i||!o)return null;return{qualifier:r,type:i,name:o.split(";")[0]}}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:e=100,input:n,inputType:s,output:a}=t;if(!n)return 300===e?o:e>300?"#version ".concat(e,"\n").concat(i):"void main() {gl_FragColor = vec4(0);}";const l=function(t,e){switch(e){case"float":return"vec4(".concat(t,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(t,", 0.0, 1.0)");case"vec3":return"vec4(".concat(t,", 1.0)");case"vec4":return t;default:return(0,r.A)(!1),null}}(n,s);return e>=300?"#version ".concat(e," ").concat(300===e?"es":"","\nin ").concat(s," ").concat(n,";\nout vec4 ").concat(a,";\nvoid main() {\n  ").concat(a," = ").concat(l,";\n}"):"varying ".concat(s," ").concat(n,";\nvoid main() {\n  gl_FragColor = ").concat(l,";\n}")}var l=n(45882),c=n(8858),u=n(87188),h=n(71425);class f{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(e),Object.seal(this)}setupResources(t){for(const e of this.bindings)this._setupTransformFeedback(e,t)}updateModelProps(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:e}=this;return e.length>0&&(t=Object.assign({},t,{varyings:e})),t}getDrawOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this.bindings[this.currentIndex],{sourceBuffers:n,transformFeedback:r}=e;return{attributes:Object.assign({},n,t.attributes),transformFeedback:r}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(t)}getBuffer(t){const{feedbackBuffers:e}=this.bindings[this.currentIndex],n=t?e[t]:null;return n?n instanceof c.A?n:n.buffer:null}getData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:e}=t,n=this.getBuffer(e);return n?n.getData():null}delete(){for(const t in this.resources)this.resources[t].delete()}_initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(t),this.varyings=t.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&(0,h.v)((0,l.C6)(this.gl))}_getFeedbackBuffers(t){const{sourceBuffers:e={}}=t,n={};if(this.bindings[this.currentIndex]&&Object.assign(n,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const r in this.feedbackMap){const t=this.feedbackMap[r];r in e&&(n[t]=r)}Object.assign(n,t.feedbackBuffers);for(const r in n){const t=n[r];if("string"===typeof t){const i=e[t],{byteLength:o,usage:s,accessor:a}=i;n[r]=this._createNewBuffer(r,{byteLength:o,usage:s,accessor:a})}}return n}_setupBuffers(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:e=null}=t;Object.assign(this.feedbackMap,t.feedbackMap);const n=this._getFeedbackBuffers(t);this._updateBindings({sourceBuffers:e,feedbackBuffers:n})}_setupTransformFeedback(t,e){let{model:n}=e;const{program:r}=n;t.transformFeedback=new u.A(this.gl,{program:r,buffers:t.feedbackBuffers})}_updateBindings(t){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],t),this.feedbackMap){const{sourceBuffers:t,feedbackBuffers:e}=this._swapBuffers(this.bindings[this.currentIndex]),n=this._getNextIndex();this.bindings[n]=this._updateBinding(this.bindings[n],{sourceBuffers:t,feedbackBuffers:e})}}_updateBinding(t,e){return t?(Object.assign(t.sourceBuffers,e.sourceBuffers),Object.assign(t.feedbackBuffers,e.feedbackBuffers),t.transformFeedback&&t.transformFeedback.setBuffers(t.feedbackBuffers),t):{sourceBuffers:Object.assign({},e.sourceBuffers),feedbackBuffers:Object.assign({},e.feedbackBuffers)}}_swapBuffers(t){if(!this.feedbackMap)return null;const e=Object.assign({},t.sourceBuffers),n=Object.assign({},t.feedbackBuffers);for(const r in this.feedbackMap){const i=this.feedbackMap[r];e[r]=t.feedbackBuffers[i],n[i]=t.sourceBuffers[r],(0,h.v)(n[i]instanceof c.A)}return{sourceBuffers:e,feedbackBuffers:n}}_createNewBuffer(t,e){const n=new c.A(this.gl,e);return this.resources[t]&&this.resources[t].delete(),this.resources[t]=n,n}_getNextIndex(){return(this.currentIndex+1)%2}}var d=n(72059),p=n(59375),A=n(38349),g=n(90740);function y(t){let e=100;const n=t.match(/[^\s]+/g);if(n.length>=2&&"#version"===n[0]){const t=parseInt(n[1],10);Number.isFinite(t)&&(e=t)}return e}var m=n(78872);const v={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},b="transform_uSampler_",_="transform_uSize_",w="transform_position";function x(t){let{vs:e,sourceTextureMap:n,targetTextureVarying:i,targetTexture:o}=t;let a=Object.keys(n).length,l=null;const c={};let u=e,f={};if(a>0||i){const t=u.split("\n"),e=t.slice();if(t.forEach(((t,o,u)=>{if(a>0){const i=function(t,e){const n={},i=function(t){return s(t,["attribute","in"])}(t);if(!i)return null;const{type:o,name:a}=i;if(a&&e[a]){const e="// ".concat(t," => Replaced by Transform with a sampler"),{samplerName:i,sizeName:s,uniformDeclerations:l}=function(t){const e="".concat(b).concat(t),n="".concat(_).concat(t),r="  uniform sampler2D ".concat(e,";\n  uniform vec2 ").concat(n,";");return{samplerName:e,sizeName:n,uniformDeclerations:r}}(a),c=function(t){switch(t){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return(0,r.A)(!1),null}}(o),u="  ".concat(o," ").concat(a," = transform_getInput(").concat(i,", ").concat(s,").").concat(c,";\n");n[i]=a;return{updatedLine:e,inject:{"vs:#decl":l,"vs:#main-start":u},samplerTextureMap:n}}return null}(t,n);if(i){const{updatedLine:t,inject:n}=i;e[o]=t,f=(0,m.Qt)([f,n]),Object.assign(c,i.samplerTextureMap),a--}}i&&!l&&(l=function(t,e){const n=s(t,["varying","out"]);if(!n)return null;return n.name===e?n.type:null}(t,i))})),i){(0,h.v)(o);const t="".concat(_).concat(i),e={"vs:#decl":"uniform vec2 ".concat(t,";\n"),"vs:#main-start":"     vec2 ".concat(w," = transform_getPos(").concat(t,");\n     gl_Position = vec4(").concat(w,", 0, 1.);\n")};f=(0,m.Qt)([f,e])}u=e.join("\n")}return{vs:u,targetTextureType:l,inject:f,samplerTextureMap:c}}const E={10241:9728,10240:9728,10242:33071,10243:33071};class S{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(e),Object.seal(this)}updateModelProps(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this._processVertexShader(t);return Object.assign({},t,e)}getDrawOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:e,sourceTextures:n,framebuffer:r,targetTexture:i}=this.bindings[this.currentIndex],o=Object.assign({},e,t.attributes),s=Object.assign({},t.uniforms),a=Object.assign({},t.parameters);let l=t.discard;if(this.hasSourceTextures||this.hasTargetTexture){o.transform_elementID=this.elementIDBuffer;for(const e in this.samplerTextureMap){const t=this.samplerTextureMap[e];s[e]=n[t]}this._setSourceTextureParameters();const t=function(t){let{sourceTextureMap:e,targetTextureVarying:n,targetTexture:r}=t;const i={};let o,s;n&&(({width:o,height:s}=r),i["".concat(_).concat(n)]=[o,s]);for(const a in e)({width:o,height:s}=e[a]),i["".concat(_).concat(a)]=[o,s];return i}({sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:i});Object.assign(s,t)}return this.hasTargetTexture&&(l=!1,a.viewport=[0,0,r.width,r.height]),{attributes:o,framebuffer:r,uniforms:s,discard:l,parameters:a}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(t)}getTargetTexture(){const{targetTexture:t}=this.bindings[this.currentIndex];return t}getData(){let{packed:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:e}=this.bindings[this.currentIndex],n=(0,d.sy)(e);if(!t)return n;const i=n.constructor,o=function(t){switch(t){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return(0,r.A)(!1),null}}(this.targetTextureType),s=new i(n.length*o/4);let a=0;for(let r=0;r<n.length;r+=4)for(let t=0;t<o;t++)s[a++]=n[r+t];return s}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:e,_swapTexture:n}=t;this._swapTexture=n,this.targetTextureVarying=e,this.hasTargetTexture=e,this._setupTextures(t)}_createTargetTexture(t){const{sourceTextures:e,textureOrReference:n}=t;if(n instanceof p.A)return n;const r=e[n];return r?(this._targetRefTexName=n,this._createNewTexture(r)):null}_setupTextures(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:e,_sourceTextures:n={},_targetTexture:r}=t,i=this._createTargetTexture({sourceTextures:n,textureOrReference:r});this.hasSourceTextures=this.hasSourceTextures||n&&Object.keys(n).length>0,this._updateBindings({sourceBuffers:e,sourceTextures:n,targetTexture:i}),"elementCount"in t&&this._updateElementIDBuffer(t.elementCount)}_updateElementIDBuffer(t){if("number"!==typeof t||this.elementCount>=t)return;const e=new Float32Array(t);e.forEach(((t,e,n)=>{n[e]=e})),this.elementIDBuffer?this.elementIDBuffer.setData({data:e}):this.elementIDBuffer=new c.A(this.gl,{data:e,accessor:{size:1}}),this.elementCount=t}_updateBindings(t){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],t),this._swapTexture){const{sourceTextures:t,targetTexture:e}=this._swapTextures(this.bindings[this.currentIndex]),n=this._getNextIndex();this.bindings[n]=this._updateBinding(this.bindings[n],{sourceTextures:t,targetTexture:e})}}_updateBinding(t,e){const{sourceBuffers:n,sourceTextures:r,targetTexture:i}=e;if(t||(t={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(t.sourceTextures,r),Object.assign(t.sourceBuffers,n),i){t.targetTexture=i;const{width:e,height:n}=i,{framebuffer:r}=t;r?(r.update({attachments:{36064:i},resizeAttachments:!1}),r.resize({width:e,height:n})):t.framebuffer=new A.A(this.gl,{id:"transform-framebuffer",width:e,height:n,attachments:{36064:i}})}return t}_setSourceTextureParameters(){const t=this.currentIndex,{sourceTextures:e}=this.bindings[t];for(const n in e)e[n].setParameters(E)}_swapTextures(t){if(!this._swapTexture)return null;const e=Object.assign({},t.sourceTextures);e[this._swapTexture]=t.targetTexture;return{sourceTextures:e,targetTexture:t.sourceTextures[this._swapTexture]}}_createNewTexture(t){const e=(0,g.j)(t,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=e,e}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:e,targetTexture:n}=this.bindings[this.currentIndex],{vs:r,uniforms:i,targetTextureType:o,inject:s,samplerTextureMap:l}=x({vs:t.vs,sourceTextureMap:e,targetTextureVarying:this.targetTextureVarying,targetTexture:n}),c=(0,m.Qt)([t.inject||{},s]);this.targetTextureType=o,this.samplerTextureMap=l;return{vs:r,fs:t._fs||a({version:y(r),input:this.targetTextureVarying,inputType:o,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[v].concat(t.modules||[]):t.modules,uniforms:i,inject:c}}}var C=n(65658),P=n(50953);class M{static isSupported(t){return(0,l.C6)(t)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(e),Object.seal(this)}delete(){const{model:t,bufferTransform:e,textureTransform:n}=this;t&&t.delete(),e&&e.delete(),n&&n.delete()}run(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:e=!0}=t,n=this._updateDrawOptions(t);e&&n.framebuffer&&n.framebuffer.clear({color:!0}),this.model.transform(n)}swap(){let t=!1;const e=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const n of e)t=t||n.swap();(0,h.v)(t,"Nothing to swap")}getBuffer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(t)}getData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const n of e){const e=n.getData(t);if(e)return e}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in t&&this.model.setVertexCount(t.elementCount);const e=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const n of e)n.update(t)}_initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:e}=this;this._buildResourceTransforms(e,t),t=this._updateModelProps(t),this.model=new P.A(e,Object.assign({},t,{fs:t.fs||a({version:y(t.vs)}),id:t.id||"transform-model",drawMode:t.drawMode||0,vertexCount:t.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(t){let e=Object.assign({},t);const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of n)e=r.updateModelProps(e);return e}_buildResourceTransforms(t,e){(function(t){if(!(0,C.ZF)(t.feedbackBuffers)||!(0,C.ZF)(t.feedbackMap)||t.varyings&&t.varyings.length>0)return!0;return!1})(e)&&(this.bufferTransform=new f(t,e)),function(t){if(!(0,C.ZF)(t._sourceTextures)||t._targetTexture||t._targetTextureVarying)return!0;return!1}(e)&&(this.textureTransform=new S(t,e)),(0,h.v)(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(t){let e=Object.assign({},t);const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of n)e=Object.assign(e,r.getDrawOptions(e));return e}}},84303:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(50953),i=n(84707);const o=[-1,-1,1,-1,-1,1,1,1];class s extends r.A{constructor(t,e){const n=o.map((t=>-1===t?0:t));super(t,Object.assign({},e,{vs:"attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",geometry:new i.A({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(o)},aTexCoord:{size:2,value:new Float32Array(n)},aCoordinate:{size:2,value:new Float32Array(n)}}})})),this.setVertexCount(4)}}},17475:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(51934),i=n(34551),o=n(59375),s=n(45882);class a{constructor(t,e){let{attributes:n,material:o,pbrDebug:s,imageBasedLightingEnvironment:a,lights:l,useTangents:c}=e;this.gl=t,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},(0,r.jI)(t,i.G.GLSL_TEXTURE_LOD)&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],a&&(this.uniforms.u_DiffuseEnvSampler=a.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=a.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=a.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),s&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(n.NORMAL,"HAS_NORMALS"),this.defineIfPresent(n.TANGENT&&c,"HAS_TANGENTS"),this.defineIfPresent(n.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(a,"USE_IBL"),this.defineIfPresent(l,"USE_LIGHTS"),this.defineIfPresent(s,"PBR_DEBUG"),o&&this.parseMaterial(o)}defineIfPresent(t,e){t&&(this.defines[e]=1)}parseTexture(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=t.texture&&t.texture.sampler&&t.texture.sampler.parameters||{},i=t.texture.source.image;let s,a={};i.compressed?(s=i,a={[this.gl.TEXTURE_MIN_FILTER]:i.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR}):s={data:i};const l=new o.A(this.gl,{id:t.name||t.id,parameters:{...r,...a},pixelStore:{[this.gl.UNPACK_FLIP_Y_WEBGL]:!1},...s});this.uniforms[e]=l,this.defineIfPresent(n,n),this.generatedTextures.push(l)}parsePbrMetallicRoughness(t){t.baseColorTexture&&this.parseTexture(t.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=t.baseColorFactor||[1,1,1,1],t.metallicRoughnessTexture&&this.parseTexture(t.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");const{metallicFactor:e=1,roughnessFactor:n=1}=t;this.uniforms.u_MetallicRoughnessValues=[e,n]}parseMaterial(t){if(this.uniforms.pbr_uUnlit=Boolean(t.unlit),t.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(t.pbrMetallicRoughness),t.normalTexture){this.parseTexture(t.normalTexture,"u_NormalSampler","HAS_NORMALMAP");const{scale:e=1}=t.normalTexture;this.uniforms.u_NormalScale=e}if(t.occlusionTexture){this.parseTexture(t.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");const{strength:e=1}=t.occlusionTexture;this.uniforms.u_OcclusionStrength=e}if(t.emissiveTexture&&(this.parseTexture(t.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=t.emissiveFactor||[0,0,0]),"MASK"===t.alphaMode){const{alphaCutoff:e=.5}=t;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=e}else"BLEND"===t.alphaMode&&(s.Rm.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}delete(){this.generatedTextures.forEach((t=>t.delete()))}}},45882:(t,e,n)=>{"use strict";n.d(e,{Dz:()=>h,tj:()=>u,XZ:()=>lt,w8:()=>nt,o0:()=>et,bQ:()=>Z,NG:()=>c,uZ:()=>ct,uF:()=>a,C6:()=>l,Rm:()=>r,AB:()=>$,ZA:()=>ut,Rz:()=>J,zv:()=>tt});const r=new(n(60156).t)({id:"luma.gl"});function i(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}const o="Invalid WebGLRenderingContext",s="Requires WebGL2";function a(t){return"undefined"!==typeof WebGLRenderingContext&&t instanceof WebGLRenderingContext||("undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||Boolean(t&&Number.isFinite(t._version)))}function l(t){return"undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||Boolean(t&&2===t._version)}function c(t){return l(t)?t:null}function u(t){return i(a(t),o),t}function h(t){return i(l(t),s),t}const f={};function d(t,e){var n;f[t]=!0,void 0!==e&&(n=e,globalThis.console&&globalThis.console.error&&globalThis.console.error(n))}const p=function t(e){const n=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(let r=0;r<this.attribs.length;r++){const e=new t.VertexAttrib(n);this.attribs[r]=e}this.maxAttrib=0};(p.VertexAttrib=function(t){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const A=function(t){const e=this;this.gl=t,function(t){const e=t.getError;t.getError=function(){let n;do{n=e.apply(t),0!==n&&(f[n]=!0)}while(0!==n);for(n in f)if(f[n])return delete f[n],parseInt(n,10);return 0}}(t);const n=this.original={getParameter:t.getParameter,enableVertexAttribArray:t.enableVertexAttribArray,disableVertexAttribArray:t.disableVertexAttribArray,bindBuffer:t.bindBuffer,getVertexAttrib:t.getVertexAttrib,vertexAttribPointer:t.vertexAttribPointer};t.getParameter=function(t){return t===e.VERTEX_ARRAY_BINDING_OES?e.currentVertexArrayObject===e.defaultVertexArrayObject?null:e.currentVertexArrayObject:n.getParameter.apply(this,arguments)},t.enableVertexAttribArray=function(t){const r=e.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,t);return r.attribs[t].enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},t.disableVertexAttribArray=function(t){const r=e.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,t);return r.attribs[t].enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},t.bindBuffer=function(t,r){switch(t){case 34962:e.currentArrayBuffer=r;break;case 34963:e.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},t.getVertexAttrib=function(t,r){const i=e.currentVertexArrayObject.attribs[t];switch(r){case 34975:return i.buffer;case 34338:return i.enabled;case 34339:return i.size;case 34340:return i.stride;case 34341:return i.type;case 34922:return i.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},t.vertexAttribPointer=function(t,r,i,o,s,a){const l=e.currentVertexArrayObject;l.maxAttrib=Math.max(l.maxAttrib,t);const c=l.attribs[t];return c.buffer=e.currentArrayBuffer,c.size=r,c.type=i,c.normalized=o,c.stride=s,c.offset=a,c.recache(),n.vertexAttribPointer.apply(this,arguments)},t.instrumentExtension&&t.instrumentExtension(this,"OES_vertex_array_object"),t.canvas&&t.canvas.addEventListener("webglcontextrestored",(()=>{var t;t="OESVertexArrayObject emulation library context restored",globalThis.console&&globalThis.console.log&&globalThis.console.log(t),e.reset_()}),!0),this.reset_()};A.prototype.VERTEX_ARRAY_BINDING_OES=34229,A.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;const t=this.gl;this.maxVertexAttribs=t.getParameter(34921),this.defaultVertexArrayObject=new p(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},A.prototype.createVertexArrayOES=function(){const t=new p(this);return this.vertexArrayObjects.push(t),t},A.prototype.deleteVertexArrayOES=function(t){t.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(t),1),this.currentVertexArrayObject===t&&this.bindVertexArrayOES(null)},A.prototype.isVertexArrayOES=function(t){return!!(t&&t instanceof p&&t.hasBeenBound&&t.ext===this)},A.prototype.bindVertexArrayOES=function(t){const e=this.gl;if(t&&!t.isAlive)return void d(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const n=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=t||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const i=this.currentVertexArrayObject;if(r===i)return;r&&i.elementArrayBuffer===r.elementArrayBuffer||n.bindBuffer.call(e,34963,i.elementArrayBuffer);let o=this.currentArrayBuffer;const s=Math.max(r?r.maxAttrib:0,i.maxAttrib);for(let a=0;a<=s;a++){const t=i.attribs[a],s=r?r.attribs[a]:null;if(r&&t.enabled===s.enabled||(t.enabled?n.enableVertexAttribArray.call(e,a):n.disableVertexAttribArray.call(e,a)),t.enabled){let i=!1;r&&t.buffer===s.buffer||(o!==t.buffer&&(n.bindBuffer.call(e,34962,t.buffer),o=t.buffer),i=!0),(i||t.cached!==s.cached)&&n.vertexAttribPointer.call(e,a,t.size,t.type,t.normalized,t.stride,t.offset)}}this.currentArrayBuffer!==o&&n.bindBuffer.call(e,34962,this.currentArrayBuffer)};const g="OES_element_index",y="WEBGL_draw_buffers",m="WEBGL_debug_renderer_info",v=35723,b=36795,_=34047,w=37445,x=37446,E=t=>l(t)?void 0:0,S={3074:t=>l(t)?void 0:36064,[v]:t=>l(t)?void 0:4352,35977:E,32937:E,[b]:(t,e)=>{const n=l(t)?t.getExtension("EXT_disjoint_timer_query_webgl2"):t.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?e(n.GPU_DISJOINT_EXT):0},[w]:(t,e)=>{const n=t.getExtension(m);return e(n&&n.UNMASKED_VENDOR_WEBGL||7936)},[x]:(t,e)=>{const n=t.getExtension(m);return e(n&&n.UNMASKED_RENDERER_WEBGL||7937)},[_]:(t,e)=>{const n=t.luma.extensions.EXT_texture_filter_anisotropic;return n?e(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:E,35071:E,37447:E,36063:(t,e)=>{if(!l(t)){const n=t.getExtension(y);return n?e(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:E,35374:E,35377:E,34852:t=>{if(!l(t)){const e=t.getExtension(y);return e?e.MAX_DRAW_BUFFERS_WEBGL:0}},36203:t=>t.getExtension(g)?2147483647:65535,33001:t=>t.getExtension(g)?16777216:65535,33e3:t=>16777216,37157:E,35373:E,35657:E,36183:E,37137:E,34045:E,35978:E,35979:E,35968:E,35376:E,35375:E,35659:E,37154:E,35371:E,35658:E,35076:E,35077:E,35380:E};const C="OES_vertex_array_object",P="ANGLE_instanced_arrays",M="WEBGL_draw_buffers",T="EXT_disjoint_timer_query";const O={[C]:{meta:{suffix:"OES"},createVertexArray:()=>{i(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[P]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(t,e){i(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},[M]:{meta:{suffix:"WEBGL"},drawBuffers:()=>{i(!1)}},[T]:{meta:{suffix:"EXT"},createQuery:()=>{i(!1)},deleteQuery:()=>{i(!1)},beginQuery:()=>{i(!1)},endQuery:()=>{},getQuery(t,e){return this.getQueryObject(t,e)},getQueryParameter(t,e){return this.getQueryObject(t,e)},getQueryObject:()=>{}}},I={readBuffer:(t,e,n)=>{l(t)&&e(n)},getVertexAttrib:(t,e,n,r)=>{const{webgl2:i,ext:o}=function(t,e){return{webgl2:l(t),ext:t.getExtension(e)}}(t,P);let s;switch(r){case 35069:s=!!i&&void 0;break;case 35070:s=i||o?void 0:0}return void 0!==s?s:e(n,r)},getProgramParameter:(t,e,n,r)=>{if(!l(t))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return e(n,r)},getInternalformatParameter:(t,e,n,r,i)=>l(t)||32937!==i?t.getInternalformatParameter(n,r,i):new Int32Array([0]),getTexParameter(t,e,n,r){if(34046===r){const{extensions:e}=t.luma,n=e.EXT_texture_filter_anisotropic;r=n&&n.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(n,r)},getParameter:function(t,e,n){const r=S[n],i="function"===typeof r?r(t,e,n):r;return void 0!==i?i:e(n)},hint:(t,e,n,r)=>e(n,r)};function R(t,e){let{extension:n,target:r,target2:o}=e;const s=O[n];i(s);const{meta:a={}}=s,{suffix:l=""}=a,c=t.getExtension(n);for(const i of Object.keys(s)){const e="".concat(i).concat(l);let n=null;"meta"===i||"function"===typeof t[i]||(c&&"function"===typeof c[e]?n=function(){return c[e](...arguments)}:"function"===typeof s[i]&&(n=s[i].bind(r))),n&&(r[i]=n,o[i]=n)}}globalThis.polyfillContext=function(t){t.luma=t.luma||{};const{luma:e}=t;return e.polyfilled||(!function(t){if("function"===typeof t.createVertexArray)return;const e=t.getSupportedExtensions;t.getSupportedExtensions=function(){const t=e.call(this)||[];return t.indexOf("OES_vertex_array_object")<0&&t.push("OES_vertex_array_object"),t};const n=t.getExtension;t.getExtension=function(e){return n.call(this,e)||("OES_vertex_array_object"!==e?null:(t.__OESVertexArrayObject||(this.__OESVertexArrayObject=new A(this)),this.__OESVertexArrayObject))}}(t),function(t){t.luma.extensions={};const e=t.getSupportedExtensions()||[];for(const n of e)t.luma[n]=t.getExtension(n)}(t),function(t,e){for(const n of Object.getOwnPropertyNames(e))"overrides"!==n&&R(t,{extension:n,target:t.luma,target2:t})}(t,O),function(t,e){let{target:n,target2:r}=e;Object.keys(I).forEach((e=>{if("function"===typeof I[e]){const i=t[e]?t[e].bind(t):()=>{},o=I[e].bind(null,t,i);n[e]=o,r[e]=o}}))}(t,{target:e,target2:t}),e.polyfilled=!0),t};const L={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},k=(t,e,n)=>e?t.enable(n):t.disable(n),B=(t,e,n)=>t.hint(n,e),N=(t,e,n)=>t.pixelStorei(n,e);function D(t){return Array.isArray(t)||ArrayBuffer.isView(t)}const F={3042:k,32773:(t,e)=>t.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(t,e)=>t.clearColor(...e),3107:(t,e)=>t.colorMask(...e),2884:k,2885:(t,e)=>t.cullFace(e),2929:k,2931:(t,e)=>t.clearDepth(e),2932:(t,e)=>t.depthFunc(e),2928:(t,e)=>t.depthRange(...e),2930:(t,e)=>t.depthMask(e),3024:k,35723:B,36006:(t,e)=>{const n=l(t)?36009:36160;return t.bindFramebuffer(n,e)},2886:(t,e)=>t.frontFace(e),33170:B,2849:(t,e)=>t.lineWidth(e),32823:k,32824:"polygonOffset",10752:"polygonOffset",35977:k,32938:"sampleCoverage",32939:"sampleCoverage",3089:k,3088:(t,e)=>t.scissor(...e),2960:k,2961:(t,e)=>t.clearStencil(e),2968:(t,e)=>t.stencilMaskSeparate(1028,e),36005:(t,e)=>t.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(t,e)=>t.viewport(...e),3333:N,3317:N,37440:N,37441:N,37443:N,3330:N,3332:N,3331:N,36010:(t,e)=>t.bindFramebuffer(36008,e),3314:N,32878:N,3316:N,3315:N,32877:N,framebuffer:(t,e)=>{const n=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,n)},blend:(t,e)=>e?t.enable(3042):t.disable(3042),blendColor:(t,e)=>t.blendColor(...e),blendEquation:(t,e)=>{e=D(e)?e:[e,e],t.blendEquationSeparate(...e)},blendFunc:(t,e)=>{e=D(e)&&2===e.length?[...e,...e]:e,t.blendFuncSeparate(...e)},clearColor:(t,e)=>t.clearColor(...e),clearDepth:(t,e)=>t.clearDepth(e),clearStencil:(t,e)=>t.clearStencil(e),colorMask:(t,e)=>t.colorMask(...e),cull:(t,e)=>e?t.enable(2884):t.disable(2884),cullFace:(t,e)=>t.cullFace(e),depthTest:(t,e)=>e?t.enable(2929):t.disable(2929),depthFunc:(t,e)=>t.depthFunc(e),depthMask:(t,e)=>t.depthMask(e),depthRange:(t,e)=>t.depthRange(...e),dither:(t,e)=>e?t.enable(3024):t.disable(3024),derivativeHint:(t,e)=>{t.hint(35723,e)},frontFace:(t,e)=>t.frontFace(e),mipmapHint:(t,e)=>t.hint(33170,e),lineWidth:(t,e)=>t.lineWidth(e),polygonOffsetFill:(t,e)=>e?t.enable(32823):t.disable(32823),polygonOffset:(t,e)=>t.polygonOffset(...e),sampleCoverage:(t,e)=>t.sampleCoverage(...e),scissorTest:(t,e)=>e?t.enable(3089):t.disable(3089),scissor:(t,e)=>t.scissor(...e),stencilTest:(t,e)=>e?t.enable(2960):t.disable(2960),stencilMask:(t,e)=>{e=D(e)?e:[e,e];const[n,r]=e;t.stencilMaskSeparate(1028,n),t.stencilMaskSeparate(1029,r)},stencilFunc:(t,e)=>{e=D(e)&&3===e.length?[...e,...e]:e;const[n,r,i,o,s,a]=e;t.stencilFuncSeparate(1028,n,r,i),t.stencilFuncSeparate(1029,o,s,a)},stencilOp:(t,e)=>{e=D(e)&&3===e.length?[...e,...e]:e;const[n,r,i,o,s,a]=e;t.stencilOpSeparate(1028,n,r,i),t.stencilOpSeparate(1029,o,s,a)},viewport:(t,e)=>t.viewport(...e)};function j(t,e,n){return void 0!==e[t]?e[t]:n[t]}const U={blendEquation:(t,e,n)=>t.blendEquationSeparate(j(32777,e,n),j(34877,e,n)),blendFunc:(t,e,n)=>t.blendFuncSeparate(j(32969,e,n),j(32968,e,n),j(32971,e,n),j(32970,e,n)),polygonOffset:(t,e,n)=>t.polygonOffset(j(32824,e,n),j(10752,e,n)),sampleCoverage:(t,e,n)=>t.sampleCoverage(j(32938,e,n),j(32939,e,n)),stencilFuncFront:(t,e,n)=>t.stencilFuncSeparate(1028,j(2962,e,n),j(2967,e,n),j(2963,e,n)),stencilFuncBack:(t,e,n)=>t.stencilFuncSeparate(1029,j(34816,e,n),j(36003,e,n),j(36004,e,n)),stencilOpFront:(t,e,n)=>t.stencilOpSeparate(1028,j(2964,e,n),j(2965,e,n),j(2966,e,n)),stencilOpBack:(t,e,n)=>t.stencilOpSeparate(1029,j(34817,e,n),j(34818,e,n),j(34819,e,n))},z={enable:(t,e)=>t({[e]:!0}),disable:(t,e)=>t({[e]:!1}),pixelStorei:(t,e,n)=>t({[e]:n}),hint:(t,e,n)=>t({[e]:n}),bindFramebuffer:(t,e,n)=>{switch(e){case 36160:return t({36006:n,36010:n});case 36009:return t({36006:n});case 36008:return t({36010:n});default:return null}},blendColor:(t,e,n,r,i)=>t({32773:new Float32Array([e,n,r,i])}),blendEquation:(t,e)=>t({32777:e,34877:e}),blendEquationSeparate:(t,e,n)=>t({32777:e,34877:n}),blendFunc:(t,e,n)=>t({32969:e,32968:n,32971:e,32970:n}),blendFuncSeparate:(t,e,n,r,i)=>t({32969:e,32968:n,32971:r,32970:i}),clearColor:(t,e,n,r,i)=>t({3106:new Float32Array([e,n,r,i])}),clearDepth:(t,e)=>t({2931:e}),clearStencil:(t,e)=>t({2961:e}),colorMask:(t,e,n,r,i)=>t({3107:[e,n,r,i]}),cullFace:(t,e)=>t({2885:e}),depthFunc:(t,e)=>t({2932:e}),depthRange:(t,e,n)=>t({2928:new Float32Array([e,n])}),depthMask:(t,e)=>t({2930:e}),frontFace:(t,e)=>t({2886:e}),lineWidth:(t,e)=>t({2849:e}),polygonOffset:(t,e,n)=>t({32824:e,10752:n}),sampleCoverage:(t,e,n)=>t({32938:e,32939:n}),scissor:(t,e,n,r,i)=>t({3088:new Int32Array([e,n,r,i])}),stencilMask:(t,e)=>t({2968:e,36005:e}),stencilMaskSeparate:(t,e,n)=>t({[1028===e?2968:36005]:n}),stencilFunc:(t,e,n,r)=>t({2962:e,2967:n,2963:r,34816:e,36003:n,36004:r}),stencilFuncSeparate:(t,e,n,r,i)=>t({[1028===e?2962:34816]:n,[1028===e?2967:36003]:r,[1028===e?2963:36004]:i}),stencilOp:(t,e,n,r)=>t({2964:e,2965:n,2966:r,34817:e,34818:n,34819:r}),stencilOpSeparate:(t,e,n,r,i)=>t({[1028===e?2964:34817]:n,[1028===e?2965:34818]:r,[1028===e?2966:34819]:i}),viewport:(t,e,n,r,i)=>t({2978:[e,n,r,i]})},G=(t,e)=>t.isEnabled(e),V={3042:G,2884:G,2929:G,3024:G,32823:G,32926:G,32928:G,3089:G,2960:G,35977:G};function H(t){for(const e in t)return!1;return!0}function W(t,e){if(t===e)return!0;const n=Array.isArray(t)||ArrayBuffer.isView(t),r=Array.isArray(e)||ArrayBuffer.isView(e);if(n&&r&&t.length===e.length){for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}return!1}function q(t,e){const n=t[e].bind(t);t[e]=function(){const e=arguments.length<=0?void 0:arguments[0];return e in t.state.cache&&t.state.enable?t.state.cache[e]:n(...arguments)},Object.defineProperty(t[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function X(t,e,n){const r=t[e].bind(t);t[e]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];const{valueChanged:s,oldValue:a}=n(t.state._updateCache,...i);return s&&r(...i),a},Object.defineProperty(t[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}class Y{constructor(t){let{copyState:e=!1,log:n=()=>{}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=e?Z(t):Object.assign({},L),this.log=n,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){i(this.stateStack.length>0);const t=this.stateStack[this.stateStack.length-1];J(this.gl,t),this.stateStack.pop()}_updateCache(t){let e,n=!1;const r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const o in t){i(void 0!==o);const s=t[o],a=this.cache[o];W(s,a)||(n=!0,e=a,r&&!(o in r)&&(r[o]=a),this.cache[o]=s)}return{valueChanged:n,oldValue:e}}}function Q(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:n=!0,copyState:r}=e;if(i(void 0!==r),!t.state){const{polyfillContext:e}=globalThis;e&&e(t),t.state=new Y(t,{copyState:r}),function(t){const e=t.useProgram.bind(t);t.useProgram=function(n){t.state.program!==n&&(e(n),t.state.program=n)}}(t);for(const n in z){X(t,n,z[n])}q(t,"getParameter"),q(t,"isEnabled")}return t.state.enable=n,t}function K(t){i(t.state),t.state.pop()}function J(t,e){if(i(a(t),"setParameters requires a WebGL context"),H(e))return;const n={};for(const i in e){const r=Number(i),o=F[i];o&&("string"===typeof o?n[o]=!0:o(t,e[i],r))}const r=t.state&&t.state.cache;if(r)for(const i in n){(0,U[i])(t,e,r)}}function Z(t,e){if("number"===typeof(e=e||L)){const n=e,r=V[n];return r?r(t,n):t.getParameter(n)}const n=Array.isArray(e)?e:Object.keys(e),r={};for(const i of n){const e=V[i];r[i]=e?e(t,Number(i)):t.getParameter(Number(i))}return r}function $(t){J(t,L)}function tt(t,e,n){if(H(e))return n(t);const{nocatch:r=!0}=e;let i;if(function(t){t.state||Q(t,{copyState:!1}),t.state.push()}(t),J(t,e),r)i=n(t),K(t);else try{i=n(t)}finally{K(t)}return i}function et(t){const{luma:e}=t;if(t.canvas&&e){const n=e.canvasSizeInfo,r="clientWidth"in n?n.clientWidth:t.canvas.clientWidth;return r?t.drawingBufferWidth/r:1}return 1}function nt(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(t,e,n,r,i){const o=rt(t[0],e,n);let s=it(t[1],e,r,i),a=rt(t[0]+1,e,n);const l=a===n-1?a:a-1;let c;a=it(t[1]+1,e,r,i),i?(a=0===a?a:a+1,c=s,s=a):c=a===r-1?a:a-1;return{x:o,y:s,width:Math.max(l-o+1,1),height:Math.max(c-s+1,1)}}(e,et(t),t.drawingBufferWidth,t.drawingBufferHeight,n)}function rt(t,e,n){return Math.min(Math.round(t*e),n-1)}function it(t,e,n,r){return r?Math.max(0,n-1-Math.round(t*e)):Math.min(Math.round(t*e),n-1)}const ot=(0,n(74583).A)(),st=ot&&"undefined"!==typeof document,at={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function lt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(ot,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),t=Object.assign({},at,t);const{width:e,height:n}=t;function o(e){if(t.throwOnError)throw new Error(e);return console.error(e),null}let s;t.onError=o;const{canvas:a}=t,c=function(t){let e,{canvas:n,width:r=800,height:i=600,onError:o}=t;if("string"===typeof n){st&&"complete"===document.readyState||o("createGLContext called on canvas '".concat(n,"' before page was loaded")),e=document.getElementById(n)}else n?e=n:(e=document.createElement("canvas"),e.id="lumagl-canvas",e.style.width=Number.isFinite(r)?"".concat(r,"px"):"100%",e.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",document.body.insertBefore(e,document.body.firstChild));return e}({canvas:a,width:e,height:n,onError:o});return s=function(t,e){const{onError:n}=e;let r=null;const i=t=>r=t.statusMessage||r;t.addEventListener("webglcontextcreationerror",i,!1);const{webgl1:o=!0,webgl2:s=!0}=e;let a=null;s&&(a=a||t.getContext("webgl2",e),a=a||t.getContext("experimental-webgl2",e));o&&(a=a||t.getContext("webgl",e),a=a||t.getContext("experimental-webgl",e));if(t.removeEventListener("webglcontextcreationerror",i,!1),!a)return n("Failed to create ".concat(s&&!o?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"));e.onContextLost&&t.addEventListener("webglcontextlost",e.onContextLost,!1);e.onContextRestored&&t.addEventListener("webglcontextrestored",e.onContextRestored,!1);return a}(c,t),s?(s=ct(s,t),function(t){const e=l(t)?"WebGL2":"WebGL1",n=function(t){const e=t.getParameter(7936),n=t.getParameter(7937),r=t.getExtension("WEBGL_debug_renderer_info"),i=r&&t.getParameter(r.UNMASKED_VENDOR_WEBGL||7936),o=r&&t.getParameter(r.UNMASKED_RENDERER_WEBGL||7937);return{vendor:i||e,renderer:o||n,vendorMasked:e,rendererMasked:n,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}(t),i=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",o=t.debug?" debug":"";r.info(1,"".concat(e).concat(o," context ").concat(i))()}(s),s):null}function ct(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||t._instrumented)return t;t._version=t._version||function(t){if("undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext)return 2;return 1}(t),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{},e=Object.assign({},at,e);const{manageState:n,debug:i}=e;return n&&Q(t,{copyState:!1,log:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.log(1,...e)()}}),ot&&i&&(globalThis.makeDebugContext?(t=globalThis.makeDebugContext(t,e),r.level=Math.max(r.level,1)):r.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),t._instrumented=!0,t}function ut(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.canvas){return void function(t,e,n){let i="width"in n?n.width:t.canvas.clientWidth,o="height"in n?n.height:t.canvas.clientHeight;i&&o||(r.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,i=t.canvas.width||1,o=t.canvas.height||1);t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};const s=t.luma.canvasSizeInfo;if(s.clientWidth!==i||s.clientHeight!==o||s.devicePixelRatio!==e){let n=e;const s=Math.floor(i*n),a=Math.floor(o*n);t.canvas.width=s,t.canvas.height=a,t.drawingBufferWidth===s&&t.drawingBufferHeight===a||(r.warn("Device pixel ratio clamped")(),n=Math.min(t.drawingBufferWidth/i,t.drawingBufferHeight/o),t.canvas.width=Math.floor(i*n),t.canvas.height=Math.floor(o*n)),Object.assign(t.luma.canvasSizeInfo,{clientWidth:i,clientHeight:o,devicePixelRatio:e})}}(t,function(t){const e="undefined"===typeof window?1:window.devicePixelRatio||1;return Number.isFinite(t)?t<=0?1:t:t?e:1}(e.useDevicePixels),e)}const n=t.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in e&&"height"in e&&n.resize(e.width,e.height)}},92075:(t,e,n)=>{"use strict";n.d(e,{B:()=>i,T:()=>r});const r="vs",i="fs"},78872:(t,e,n)=>{"use strict";n.d(e,{O_:()=>s,Qt:()=>h,Ay:()=>u});var r=n(92075),i=n(93152);const o={[r.T]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",[r.B]:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},s="__LUMA_INJECT_DECLARATIONS__",a=/void\s+main\s*\([^)]*\)\s*\{\n?/,l=/}\n?[^{}]*$/,c=[];function u(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const u=e===r.T;for(const r in n){const e=n[r];e.sort(((t,e)=>t.order-e.order)),c.length=e.length;for(let t=0,n=e.length;t<n;++t)c[t]=e[t].injection;const i="".concat(c.join("\n"),"\n");switch(r){case"vs:#decl":u&&(t=t.replace(s,i));break;case"vs:#main-start":u&&(t=t.replace(a,(t=>t+i)));break;case"vs:#main-end":u&&(t=t.replace(l,(t=>i+t)));break;case"fs:#decl":u||(t=t.replace(s,i));break;case"fs:#main-start":u||(t=t.replace(a,(t=>t+i)));break;case"fs:#main-end":u||(t=t.replace(l,(t=>i+t)));break;default:t=t.replace(r,(t=>t+i))}}return t=t.replace(s,""),i&&(t=t.replace(/\}\s*$/,(t=>t+o[e]))),t}function h(t){const e={};return(0,i.A)(Array.isArray(t)&&t.length>1),t.forEach((t=>{for(const n in t)e[n]=e[n]?"".concat(e[n],"\n").concat(t[n]):t[n]})),e}},88066:(t,e,n)=>{"use strict";n.d(e,{A:()=>a,b:()=>l});var r=n(93152);const i={number:{validate:(t,e)=>Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)},array:{validate:(t,e)=>Array.isArray(t)||ArrayBuffer.isView(t)}};function o(t){let e=s(t);return"object"===e?t?"type"in t?Object.assign({},t,i[t.type]):"value"in t?(e=s(t.value),Object.assign({type:e},t,i[e])):{type:"object",value:t}:{type:"object",value:null}:Object.assign({type:e,value:t},i[e])}function s(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}class a{constructor(t){let{name:e,vs:n,fs:i,dependencies:s=[],uniforms:a,getUniforms:l,deprecations:c=[],defines:u={},inject:h={},vertexShader:f,fragmentShader:d}=t;(0,r.A)("string"===typeof e),this.name=e,this.vs=n||f,this.fs=i||d,this.getModuleUniforms=l,this.dependencies=s,this.deprecations=this._parseDeprecationDefinitions(c),this.defines=u,this.injections=function(t){const e={vs:{},fs:{}};for(const n in t){let r=t[n];"string"===typeof r&&(r={order:0,injection:r}),e[n.slice(0,2)][n]=r}return e}(h),a&&(this.uniforms=function(t){const e={};for(const n in t){const r=o(t[n]);e[n]=r}return e}(a))}getModuleSource(t){let e;switch(t){case"vs":e=this.vs||"";break;case"fs":e=this.fs||"";break;default:(0,r.A)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(e,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(t,e){return this.getModuleUniforms?this.getModuleUniforms(t,e):this.uniforms?this._defaultGetUniforms(t):{}}getDefines(){return this.defines}checkDeprecations(t,e){this.deprecations.forEach((n=>{n.regex.test(t)&&(n.deprecated?e.deprecated(n.old,n.new)():e.removed(n.old,n.new)())}))}_parseDeprecationDefinitions(t){return t.forEach((t=>{if("function"===t.type)t.regex=new RegExp("\\b".concat(t.old,"\\("));else t.regex=new RegExp("".concat(t.type," ").concat(t.old,";"))})),t}_defaultGetUniforms(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={},n=this.uniforms;for(const i in n){const o=n[i];i in t&&!o.private?(o.validate&&(0,r.A)(o.validate(t[i],o),"".concat(this.name,": invalid ").concat(i)),e[i]=t[i]):e[i]=o.value}return e}}function l(t){if(!t.normalized&&(t.normalized=!0,t.uniforms&&!t.getUniforms)){const e=new a(t);t.getUniforms=e.getUniforms.bind(e)}return t}},25503:(t,e,n)=>{"use strict";n.d(e,{i:()=>r});const r={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null}},22928:(t,e,n)=>{"use strict";n.d(e,{_:()=>s});const r="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",i={lightSources:{}};function o(){let{color:t=[0,0,0],intensity:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.map((t=>t*e/255))}const s={name:"lights",vs:r,fs:r,getUniforms:function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if("lightSources"in e){const{ambientLight:t,pointLights:n,directionalLights:r}=e.lightSources||{};return t||n&&n.length>0||r&&r.length>0?Object.assign({},function(t){let{ambientLight:e,pointLights:n=[],directionalLights:r=[]}=t;const i={};return i["lighting_uAmbientLight.color"]=e?o(e):[0,0,0],n.forEach(((t,e)=>{i["lighting_uPointLight[".concat(e,"].color")]=o(t),i["lighting_uPointLight[".concat(e,"].position")]=t.position,i["lighting_uPointLight[".concat(e,"].attenuation")]=t.attenuation||[1,0,0]})),i.lighting_uPointLightCount=n.length,r.forEach(((t,e)=>{i["lighting_uDirectionalLight[".concat(e,"].color")]=o(t),i["lighting_uDirectionalLight[".concat(e,"].direction")]=t.direction})),i.lighting_uDirectionalLightCount=r.length,i}({ambientLight:t,pointLights:n,directionalLights:r}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in e){const n={pointLights:[],directionalLights:[]};for(const t of e.lights||[])switch(t.type){case"ambient":n.ambientLight=t;break;case"directional":n.directionalLights.push(t);break;case"point":n.pointLights.push(t)}return t({lightSources:n})}return{}},defines:{MAX_LIGHTS:3}}},91052:(t,e,n)=>{"use strict";n.d(e,{R:()=>r});const r={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[n(22928)._]}},70574:(t,e,n)=>{"use strict";n.d(e,{K:()=>a,p:()=>l});var r=n(22928);const i="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",o={};function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(!("material"in t))return{};const{material:e}=t;return e?function(t){const{ambient:e=.35,diffuse:n=.6,shininess:r=32,specularColor:i=[30,30,30]}=t;return{lighting_uAmbient:e,lighting_uDiffuse:n,lighting_uShininess:r,lighting_uSpecularColor:i.map((t=>t/255))}}(e):{lighting_uEnabled:!1}}const a={name:"gouraud-lighting",dependencies:[r._],vs:i,defines:{LIGHTING_VERTEX:1},getUniforms:s},l={name:"phong-lighting",dependencies:[r._],fs:i,defines:{LIGHTING_FRAGMENT:1},getUniforms:s}},99055:(t,e,n)=>{"use strict";n.d(e,{q:()=>i});const r={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};const i={name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;const e={};if(void 0!==t.pickingSelectedColor)if(t.pickingSelectedColor){const n=t.pickingSelectedColor.slice(0,3);e.picking_uSelectedColorValid=1,e.picking_uSelectedColor=n}else e.picking_uSelectedColorValid=0;if(t.pickingHighlightColor){const n=Array.from(t.pickingHighlightColor,(t=>t/255));Number.isFinite(n[3])||(n[3]=1),e.picking_uHighlightColor=n}return void 0!==t.pickingActive&&(e.picking_uActive=Boolean(t.pickingActive),e.picking_uAttribute=Boolean(t.pickingAttribute)),e}}},93152:(t,e,n)=>{"use strict";function r(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}n.d(e,{A:()=>r})},40663:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(12591),i=n(71425),o=n(25652);const s={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},a={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class l{static getBytesPerElement(t){return(0,r.Xj)(t.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(t){(0,i.v)(t.size);return(0,r.Xj)(t.type||5126).BYTES_PER_ELEMENT*t.size}static resolve(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new l(...[s,...e])}constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((t=>this._assign(t))),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return l.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return l.getBytesPerVertex(this)}_assign(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=(0,o.N)("Accessor",t,a),void 0!==t.type&&(this.type=t.type,5124!==t.type&&5125!==t.type||(this.integer=!0)),void 0!==t.size&&(this.size=t.size),void 0!==t.offset&&(this.offset=t.offset),void 0!==t.stride&&(this.stride=t.stride),void 0!==t.normalized&&(this.normalized=t.normalized),void 0!==t.integer&&(this.integer=t.integer),void 0!==t.divisor&&(this.divisor=t.divisor),void 0!==t.buffer&&(this.buffer=t.buffer),void 0!==t.index&&("boolean"===typeof t.index?this.index=t.index?1:0:this.index=t.index),void 0!==t.instanced&&(this.divisor=t.instanced?1:0),void 0!==t.isInstanced&&(this.divisor=t.isInstanced?1:0),this}}},8858:(t,e,n)=>{"use strict";n.d(e,{A:()=>f});var r=n(42532),i=n(40663),o=n(12591),s=n(45882),a=n(71425),l=n(25652);const c={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},u={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:c},h={removedProps:c};class f extends r.A{get[Symbol.toStringTag](){return"Buffer"}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=e.target||(this.gl.webgl2?36662:34962),this.initialize(e),Object.seal(this)}getElementCount(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/i.A.getBytesPerElement(t))}getVertexCount(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/i.A.getBytesPerVertex(t))}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(t)&&(t={data:t}),Number.isFinite(t)&&(t={byteLength:t}),t=(0,l.N)("Buffer",t,u),this.usage=t.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},t,t.accessor)),t.data?this._setData(t.data,t.offset,t.byteLength):this._setByteLength(t.byteLength||0),this}setProps(t){return"accessor"in(t=(0,l.N)("Buffer",t,h))&&this.setAccessor(t.accessor),this}setAccessor(t){return delete(t=Object.assign({},t)).buffer,this.accessor=new i.A(t),this}reallocate(t){return t>this.byteLength?(this._setByteLength(t),!0):(this.bytesUsed=t,!1)}setData(t){return this.initialize(t)}subData(t){ArrayBuffer.isView(t)&&(t={data:t});const{data:e,offset:n=0,srcOffset:r=0}=t,i=t.byteLength||t.length;(0,a.v)(e);const o=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(o,this.handle),0!==r||void 0!==i?((0,s.Dz)(this.gl),this.gl.bufferSubData(this.target,n,e,r,i)):this.gl.bufferSubData(o,n,e),this.gl.bindBuffer(o,null),this.debugData=null,this._inferType(e),this}copyData(t){let{sourceBuffer:e,readOffset:n=0,writeOffset:r=0,size:i}=t;const{gl:o}=this;return(0,s.Dz)(o),o.bindBuffer(36662,e.handle),o.bindBuffer(36663,this.handle),o.copyBufferSubData(36662,36663,n,r,i),o.bindBuffer(36662,null),o.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:t=null,srcByteOffset:e=0,dstOffset:n=0,length:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.Dz)(this.gl);const i=(0,o.Xj)(this.accessor.type||5126,{clamped:!1}),l=this._getAvailableElementCount(e),c=n;let u,h;t?(h=t.length,u=h-c):(u=Math.min(l,r||l),h=c+u);const f=Math.min(l,u);return r=r||f,(0,a.v)(r<=f),t=t||new i(h),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,e,t,n,r),this.gl.bindBuffer(36662,null),t}bind(){let{target:t=this.target,index:e=this.accessor&&this.accessor.index,offset:n=0,size:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===t||35982===t?void 0!==r?this.gl.bindBufferRange(t,e,this.handle,n,r):((0,a.v)(0===n),this.gl.bindBufferBase(t,e,this.handle)):this.gl.bindBuffer(t,this.handle),this}unbind(){let{target:t=this.target,index:e=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===t||35982===t?this.gl.bindBufferBase(t,e,null):this.gl.bindBuffer(t,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.byteLength+e;(0,a.v)(ArrayBuffer.isView(t)),this._trackDeallocatedMemory();const r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.usage),this.gl.bufferSubData(r,e,t),this.gl.bindBuffer(r,null),this.debugData=t.slice(0,10),this.bytesUsed=n,this._trackAllocatedMemory(n);const s=(0,o.jX)(t);return(0,a.v)(s),this.setAccessor(new i.A(this.accessor,{type:s})),this}_setByteLength(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;(0,a.v)(t>=0),this._trackDeallocatedMemory();let n=t;0===t&&(n=new Float32Array(0));const r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,e),this.gl.bindBuffer(r,null),this.usage=e,this.debugData=null,this.bytesUsed=t,this._trackAllocatedMemory(t),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(t){const e=t/(0,o.Xj)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-e}_inferType(t){this.accessor.type||this.setAccessor(new i.A(this.accessor,{type:(0,o.jX)(t)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(t){this.gl.bindBuffer(this.target,this.handle);const e=this.gl.getBufferParameter(this.target,t);return this.gl.bindBuffer(this.target,null),e}get type(){return s.Rm.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return s.Rm.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(t){return s.Rm.deprecated("setByteLength","reallocate")(),this.reallocate(t)}updateAccessor(t){return s.Rm.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new i.A(this.accessor,t),this}}},73091:(t,e,n)=>{"use strict";n.d(e,{I:()=>d,i:()=>p});var r=n(45882),i=n(71425);const o=256,s=1024,a=16384,l=6144,c=6145,u=6146,h=34041,f="clear: bad arguments";function d(t){let{framebuffer:e=null,color:n=null,depth:l=null,stencil:c=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u={};e&&(u.framebuffer=e);let h=0;n&&(h|=a,!0!==n&&(u.clearColor=n)),l&&(h|=o,!0!==l&&(u.clearDepth=l)),c&&(h|=s,!0!==l&&(u.clearStencil=l)),(0,i.v)(0!==h,f),(0,r.zv)(t,u,(()=>{t.clear(h)}))}function p(t){let{framebuffer:e=null,buffer:n=l,drawBuffer:o=0,value:s=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Dz)(t),(0,r.zv)(t,{framebuffer:e},(()=>{switch(n){case l:switch(s.constructor){case Int32Array:t.clearBufferiv(n,o,s);break;case Uint32Array:t.clearBufferuiv(n,o,s);break;case Float32Array:default:t.clearBufferfv(n,o,s)}break;case c:t.clearBufferfv(c,0,[s]);break;case u:t.clearBufferiv(u,0,[s]);break;case h:const[e,r]=s;t.clearBufferfi(h,0,e,r);break;default:(0,i.v)(!1,f)}}))}},72059:(t,e,n)=>{"use strict";n.d(e,{Cj:()=>d,ob:()=>p,sy:()=>h,fY:()=>f});var r=n(8858),i=n(38349),o=n(36493),s=n(45882),a=n(12591),l=n(71425);function c(t){switch(t){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return(0,l.v)(!1),0}}var u=n(90740);function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:n=0,sourceY:r=0,sourceFormat:i=6408}=e;let{sourceAttachment:o=36064,target:s=null,sourceWidth:u,sourceHeight:h,sourceType:f}=e;const{framebuffer:d,deleteFramebuffer:p}=A(t);(0,l.v)(d);const{gl:g,handle:y,attachments:m}=d;u=u||d.width,h=h||d.height,36064===o&&null===y&&(o=1028),(0,l.v)(m[o]),f=f||m[o].type,s=function(t,e,n,r,i){if(t)return t;e=e||5121;const o=(0,a.Xj)(e,{clamped:!1}),s=c(n);return new o(r*i*s)}(s,f,i,u,h),f=f||(0,a.jX)(s);const v=g.bindFramebuffer(36160,y);return g.readPixels(n,r,u,h,i,f,s),g.bindFramebuffer(36160,v||null),p&&d.delete(),s}function f(t,e){let{sourceX:n=0,sourceY:i=0,sourceFormat:o=6408,target:a=null,targetByteOffset:u=0,sourceWidth:h,sourceHeight:f,sourceType:d}=e;const{framebuffer:p,deleteFramebuffer:g}=A(t);(0,l.v)(p),h=h||p.width,f=f||p.height;const y=(0,s.Dz)(p.gl);if(d=d||(a?a.type:5121),!a){const t=c(o),e=function(t){switch(t){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return(0,l.v)(!1),0}}(d),n=u+h*f*t*e;a=new r.A(y,{byteLength:n,accessor:{type:d,size:t}})}return a.bind({target:35051}),(0,s.zv)(y,{framebuffer:p},(()=>{y.readPixels(n,i,h,f,o,d,u)})),a.unbind({target:35051}),g&&p.delete(),a}function d(t){let{sourceAttachment:e=36064,targetMaxHeight:n=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=h(t,{sourceAttachment:e}),{width:i,height:o}=t;for(;o>n;)({data:r,width:i,height:o}=(0,a.Ij)({data:r,width:i,height:o}));(0,a.H)({data:r,width:i,height:o});const s=document.createElement("canvas");s.width=i,s.height=o;const l=s.getContext("2d"),c=l.createImageData(i,o);return c.data.set(r),l.putImageData(c,0,0),s.toDataURL()}function p(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:r=0,sourceY:i=0,targetMipmaplevel:a=0,targetInternalFormat:c=6408}=n;let{targetX:u,targetY:h,targetZ:f,width:d,height:p}=n;const{framebuffer:g,deleteFramebuffer:y}=A(t);(0,l.v)(g);const{gl:m,handle:v}=g,b="undefined"!==typeof u||"undefined"!==typeof h||"undefined"!==typeof f;u=u||0,h=h||0,f=f||0;const _=m.bindFramebuffer(36160,v);(0,l.v)(e);let w=null;if(e instanceof o.A&&(w=e,d=Number.isFinite(d)?d:w.width,p=Number.isFinite(p)?p:w.height,w.bind(0),e=w.target),b)switch(e){case 3553:case 34067:m.copyTexSubImage2D(e,a,u,h,r,i,d,p);break;case 35866:case 32879:(0,s.Dz)(m).copyTexSubImage3D(e,a,u,h,f,r,i,d,p)}else m.copyTexImage2D(e,a,c,r,i,d,p,0);return w&&w.unbind(),m.bindFramebuffer(36160,_||null),y&&g.delete(),w}function A(t){return t instanceof i.A?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:(0,u.$)(t),deleteFramebuffer:!0}}},38349:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var r=n(45882),i=n(42532),o=n(59375),s=n(40507),a=n(73091),l=n(72059),c=n(51934),u=n(89711),h=n(71425);const f="Multiple render targets not supported";class d extends i.A{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:n,colorBufferHalfFloat:r}=e;let i=!0;return n&&(i=Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("WEBGL_color_buffer_float")||t.getExtension("OES_texture_float"))),r&&(i=i&&Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("EXT_color_buffer_half_float"))),i}static getDefaultFramebuffer(t){return t.luma=t.luma||{},t.luma.defaultFramebuffer=t.luma.defaultFramebuffer||new d(t,{id:"default-framebuffer",handle:null,attachments:{}}),t.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const t=(0,r.Dz)(this.gl);return t.getParameter(t.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const t=(0,r.Dz)(this.gl);return t.getParameter(t.MAX_DRAW_BUFFERS)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(e),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(t){let{width:e=1,height:n=1,attachments:r=null,color:i=!0,depth:o=!0,stencil:s=!1,check:a=!0,readBuffer:l,drawBuffers:c}=t;if((0,h.v)(e>=0&&n>=0,"Width and height need to be integers"),this.width=e,this.height=n,r)for(const u in r){const t=r[u];(Array.isArray(t)?t[0]:t).resize({width:e,height:n})}else r=this._createDefaultAttachments(i,o,s,e,n);this.update({clearAttachments:!0,attachments:r,readBuffer:l,drawBuffers:c}),r&&a&&this.checkStatus()}delete(){for(const t of this.ownResources)t.delete();return super.delete(),this}update(t){let{attachments:e={},readBuffer:n,drawBuffers:r,clearAttachments:i=!1,resizeAttachments:o=!0}=t;this.attach(e,{clearAttachments:i,resizeAttachments:o});const{gl:s}=this,a=s.bindFramebuffer(36160,this.handle);return n&&this._setReadBuffer(n),r&&this._setDrawBuffers(r),s.bindFramebuffer(36160,a||null),this}resize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:e,height:n}=t;if(null===this.handle)return(0,h.v)(void 0===e&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===e&&(e=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),e!==this.width&&n!==this.height&&r.Rm.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(e,"x").concat(n))();for(const r in this.attachments)this.attachments[r].resize({width:e,height:n});return this.width=e,this.height=n,this}attach(t){let{clearAttachments:e=!1,resizeAttachments:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};e&&Object.keys(this.attachments).forEach((t=>{r[t]=null})),Object.assign(r,t);const i=this.gl.bindFramebuffer(36160,this.handle);for(const o in r){(0,h.v)(void 0!==o,"Misspelled framebuffer binding point?");const t=Number(o),e=r[t];let i=e;if(i)if(i instanceof s.A)this._attachRenderbuffer({attachment:t,renderbuffer:i});else if(Array.isArray(e)){const[n,r=0,o=0]=e;i=n,this._attachTexture({attachment:t,texture:n,layer:r,level:o})}else this._attachTexture({attachment:t,texture:i,layer:0,level:0});else this._unattach(t);n&&i&&i.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,i||null),Object.assign(this.attachments,t),Object.keys(this.attachments).filter((t=>!this.attachments[t])).forEach((t=>{delete this.attachments[t]}))}checkStatus(){const{gl:t}=this,e=this.getStatus();if(36053!==e)throw new Error(function(t){return(d.STATUS||{})[t]||"Framebuffer error ".concat(t)}(e));return this}getStatus(){const{gl:t}=this,e=t.bindFramebuffer(36160,this.handle),n=t.checkFramebufferStatus(36160);return t.bindFramebuffer(36160,e||null),n}clear(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:e,depth:n,stencil:r,drawBuffers:i=[]}=t,o=this.gl.bindFramebuffer(36160,this.handle);return(e||n||r)&&(0,a.I)(this.gl,{color:e,depth:n,stencil:r}),i.forEach(((t,e)=>{(0,a.i)(this.gl,{drawBuffer:e,value:t})})),this.gl.bindFramebuffer(36160,o||null),this}readPixels(){return r.Rm.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return r.Rm.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return r.Rm.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return r.Rm.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return r.Rm.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return r.Rm.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(t){let{attachments:e=[],x:n=0,y:i=0,width:o,height:s}=t;const a=(0,r.Dz)(this.gl),l=a.bindFramebuffer(36008,this.handle);return 0===n&&0===i&&void 0===o&&void 0===s?a.invalidateFramebuffer(36008,e):a.invalidateFramebuffer(36008,e,n,i,o,s),a.bindFramebuffer(36008,l),this}getAttachmentParameter(t,e,n){let r=this._getAttachmentParameterFallback(e);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,t,e),this.gl.bindFramebuffer(36160,null)),n&&r>1e3&&(r=(0,u.i7)(this.gl,r)),r}getAttachmentParameters(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const r={};for(const i of n){r[e?(0,u.i7)(this.gl,i):i]=this.getAttachmentParameter(t,i,e)}return r}getParameters(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=Object.keys(this.attachments),n={};for(const r of e){const e=Number(r);n[t?(0,u.i7)(this.gl,e):e]=this.getAttachmentParameters(e,t)}return n}show(){return"undefined"!==typeof window&&window.open((0,l.Cj)(this),"luma-debug-texture"),this}log(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t>r.Rm.level||"undefined"===typeof window)return this;e=e||"Framebuffer ".concat(this.id);const n=(0,l.Cj)(this,{targetMaxHeight:100});return r.Rm.image({logLevel:t,message:e,image:n},e)(),this}bind(){let{target:t=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(t,this.handle),this}unbind(){let{target:t=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(t,null),this}_createDefaultAttachments(t,e,n,r,i){let a=null;return t&&(a=a||{},a[36064]=new o.A(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:i,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(a[36064])),e&&n?(a=a||{},a[33306]=new s.A(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}),this.ownResources.push(a[33306])):e?(a=a||{},a[36096]=new s.A(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:i}),this.ownResources.push(a[36096])):n&&(0,h.v)(!1),a}_unattach(t){const e=this.attachments[t];e&&(e instanceof s.A?this.gl.framebufferRenderbuffer(36160,t,36161,null):this.gl.framebufferTexture2D(36160,t,3553,null,0),delete this.attachments[t])}_attachRenderbuffer(t){let{attachment:e=36064,renderbuffer:n}=t;const{gl:r}=this;r.framebufferRenderbuffer(36160,e,36161,n.handle),this.attachments[e]=n}_attachTexture(t){let{attachment:e=36064,texture:n,layer:i,level:o}=t;const{gl:s}=this;switch(s.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:(0,r.Dz)(s).framebufferTextureLayer(36160,e,n.target,o,i);break;case 34067:const t=function(t){return t<34069?t+34069:t}(i);s.framebufferTexture2D(36160,e,t,n.handle,o);break;case 3553:s.framebufferTexture2D(36160,e,3553,n.handle,o);break;default:(0,h.v)(!1,"Illegal texture type")}s.bindTexture(n.target,null),this.attachments[e]=n}_setReadBuffer(t){const e=(0,r.NG)(this.gl);e?e.readBuffer(t):(0,h.v)(36064===t||1029===t,f),this.readBuffer=t}_setDrawBuffers(t){const{gl:e}=this,n=(0,r.Dz)(e);if(n)n.drawBuffers(t);else{const n=e.getExtension("WEBGL_draw_buffers");n?n.drawBuffersWEBGL(t):(0,h.v)(1===t.length&&(36064===t[0]||1029===t[0]),f)}this.drawBuffers=t}_getAttachmentParameterFallback(t){const e=(0,c.i)(this.gl);switch(t){case 36052:return e.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return e.WEBGL2?null:8;case 33297:return e.WEBGL2?null:5125;case 33296:return e.WEBGL2||e.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(t){return this.gl.bindFramebuffer(36160,t)}}d.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},69535:(t,e,n)=>{"use strict";n.d(e,{A:()=>k});var r=n(42532),i=n(36493),o=n(38349),s=n(45882),a=n(40507),l=n(71425);const c={5126:x.bind(null,"uniform1fv",A,1,E),35664:x.bind(null,"uniform2fv",A,2,E),35665:x.bind(null,"uniform3fv",A,3,E),35666:x.bind(null,"uniform4fv",A,4,E),5124:x.bind(null,"uniform1iv",g,1,E),35667:x.bind(null,"uniform2iv",g,2,E),35668:x.bind(null,"uniform3iv",g,3,E),35669:x.bind(null,"uniform4iv",g,4,E),35670:x.bind(null,"uniform1iv",g,1,E),35671:x.bind(null,"uniform2iv",g,2,E),35672:x.bind(null,"uniform3iv",g,3,E),35673:x.bind(null,"uniform4iv",g,4,E),35674:x.bind(null,"uniformMatrix2fv",A,4,S),35675:x.bind(null,"uniformMatrix3fv",A,9,S),35676:x.bind(null,"uniformMatrix4fv",A,16,S),35678:w,35680:w,5125:x.bind(null,"uniform1uiv",y,1,E),36294:x.bind(null,"uniform2uiv",y,2,E),36295:x.bind(null,"uniform3uiv",y,3,E),36296:x.bind(null,"uniform4uiv",y,4,E),35685:x.bind(null,"uniformMatrix2x3fv",A,6,S),35686:x.bind(null,"uniformMatrix2x4fv",A,8,S),35687:x.bind(null,"uniformMatrix3x2fv",A,6,S),35688:x.bind(null,"uniformMatrix3x4fv",A,12,S),35689:x.bind(null,"uniformMatrix4x2fv",A,8,S),35690:x.bind(null,"uniformMatrix4x3fv",A,12,S),35678:w,35680:w,35679:w,35682:w,36289:w,36292:w,36293:w,36298:w,36299:w,36300:w,36303:w,36306:w,36307:w,36308:w,36311:w},u={},h={},f={},d=[0];function p(t,e,n,r){1===e&&"boolean"===typeof t&&(t=t?1:0),Number.isFinite(t)&&(d[0]=t,t=d);const i=t.length;if(i%e&&s.Rm.warn("Uniform size should be multiples of ".concat(e),t)(),t instanceof n)return t;let o=r[i];o||(o=new n(i),r[i]=o);for(let s=0;s<i;s++)o[s]=t[s];return o}function A(t,e){return p(t,e,Float32Array,u)}function g(t,e){return p(t,e,Int32Array,h)}function y(t,e){return p(t,e,Uint32Array,f)}function m(t,e,n){const r=c[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,t,e)}function v(t){if("]"!==t[t.length-1])return{name:t,length:1,isArray:!1};const e=t.match(/([^[]*)(\[[0-9]+\])?/);if(!e||e.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(t));return{name:e[1],length:e[2]||1,isArray:Boolean(e[2])}}function b(t){return Array.isArray(t)||ArrayBuffer.isView(t)?function(t){if(0===t.length)return!1;const e=Math.min(t.length,16);for(let n=0;n<e;++n)if(!Number.isFinite(t[n]))return!1;return!0}(t):!!isFinite(t)||(!0===t||!1===t||(t instanceof i.A||(t instanceof a.A||t instanceof o.A&&Boolean(t.texture))))}function _(t,e,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(t[e]){const r=t[e];for(let t=0,e=n.length;t<e;++t)r[t]=n[t]}else t[e]=n.slice();else t[e]=n}function w(){let t=null;return(e,n,r)=>{const i=t!==r;return i&&(e.uniform1i(n,r),t=r),i}}function x(t,e,n,r){let i=null,o=null;return(s,a,c)=>{const u=e(c,n),h=u.length;let f=!1;if(null===i)i=new Float32Array(h),o=h,f=!0;else{(0,l.v)(o===h,"Uniform length cannot change.");for(let t=0;t<h;++t)if(u[t]!==i[t]){f=!0;break}}return f&&(r(s,t,a,u),i.set(u)),f}}function E(t,e,n,r){t[e](n,r)}function S(t,e,n,r){t[e](n,!1,r)}var C=n(59043),P=n(40663),M=n(9335);class T{constructor(t){this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}getAttributeInfo(t){const e=Number(t);return Number.isFinite(e)?this.attributeInfosByLocation[e]:this.attributeInfosByName[t]||null}getAttributeLocation(t){const e=this.getAttributeInfo(t);return e?e.location:-1}getAttributeAccessor(t){const e=this.getAttributeInfo(t);return e?e.accessor:null}getVaryingInfo(t){const e=Number(t);return Number.isFinite(e)?this.varyingInfos[e]:this.varyingInfosByName[t]||null}getVaryingIndex(t){const e=this.getVaryingInfo();return e?e.location:-1}getVaryingAccessor(t){const e=this.getVaryingInfo();return e?e.accessor:null}_readAttributesFromProgram(t){const{gl:e}=t,n=e.getProgramParameter(t.handle,35721);for(let r=0;r<n;r++){const{name:n,type:i,size:o}=e.getActiveAttrib(t.handle,r),s=e.getAttribLocation(t.handle,n);s>=0&&this._addAttribute(s,n,i,o)}this.attributeInfos.sort(((t,e)=>t.location-e.location))}_readVaryingsFromProgram(t){const{gl:e}=t;if(!(0,s.C6)(e))return;const n=e.getProgramParameter(t.handle,35971);for(let r=0;r<n;r++){const{name:n,type:i,size:o}=e.getTransformFeedbackVarying(t.handle,r);this._addVarying(r,n,i,o)}this.varyingInfos.sort(((t,e)=>t.location-e.location))}_addAttribute(t,e,n,r){const{type:i,components:o}=(0,M.ir)(n),s={type:i,size:r*o};this._inferProperties(t,e,s);const a={location:t,name:e,accessor:new P.A(s)};this.attributeInfos.push(a),this.attributeInfosByLocation[t]=a,this.attributeInfosByName[a.name]=a}_inferProperties(t,e,n){/instance/i.test(e)&&(n.divisor=1)}_addVarying(t,e,n,r){const{type:i,components:o}=(0,M.ir)(n),s={location:t,name:e,accessor:new P.A({type:i,size:r*o})};this.varyingInfos.push(s),this.varyingInfosByName[s.name]=s}}var O=n(89711),I=n(65658);const R=35981,L=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class k extends r.A{get[Symbol.toStringTag](){return"Program"}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),this.stubRemovedMethods("Program","v6.0",L),this._isCached=!1,this.initialize(e),Object.seal(this),this._setId(e.id)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:e,vs:n,fs:r,varyings:i,bufferMode:o=R}=t;return this.hash=e||"",this.vs="string"===typeof n?new C.o0(this.gl,{id:"".concat(t.id,"-vs"),source:n}):n,this.fs="string"===typeof r?new C._Y(this.gl,{id:"".concat(t.id,"-fs"),source:r}):r,(0,l.v)(this.vs instanceof C.o0),(0,l.v)(this.fs instanceof C._Y),this.uniforms={},this._textureUniforms={},i&&i.length>0&&((0,s.Dz)(this.gl),this.varyings=i,this.gl2.transformFeedbackVaryings(this.handle,i,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new T(this),this.setProps(t)}delete(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:super.delete(t)}setProps(t){return"uniforms"in t&&this.setUniforms(t.uniforms),this}draw(t){let{logPriority:e,drawMode:n=4,vertexCount:r,offset:i=0,start:o,end:a,isIndexed:c=!1,indexType:u=5123,instanceCount:h=0,isInstanced:f=h>0,vertexArray:d=null,transformFeedback:p,framebuffer:A,parameters:g={},uniforms:y,samplers:m}=t;if((y||m)&&(s.Rm.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(y||{})),s.Rm.priority>=e){const t=A?A.id:"default",i="mode=".concat((0,O.i7)(this.gl,n)," verts=").concat(r," ")+"instances=".concat(h," indexType=").concat((0,O.i7)(this.gl,u)," ")+"isInstanced=".concat(f," isIndexed=").concat(c," ")+"Framebuffer=".concat(t);s.Rm.log(e,i)()}return(0,l.v)(d),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===r||f&&0===h)&&(d.bindForDraw(r,h,(()=>{if(void 0!==A&&(g=Object.assign({},g,{framebuffer:A})),p){const t=(0,M.F4)(n);p.begin(t)}this._bindTextures(),(0,s.zv)(this.gl,g,(()=>{c&&f?this.gl2.drawElementsInstanced(n,r,u,i,h):c&&(0,s.C6)(this.gl)&&!isNaN(o)&&!isNaN(a)?this.gl2.drawRangeElements(n,o,a,r,u,i):c?this.gl.drawElements(n,r,u,i):f?this.gl2.drawArraysInstanced(n,i,r,h):this.gl.drawArrays(n,i,r)})),p&&p.end()})),!0)}setUniforms(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.Rm.priority>=2&&function(t,e,n){for(const r in t){const i=t[r];if((!n||Boolean(n[r]))&&!b(i))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(r),i),new Error("".concat(e," Bad uniform ").concat(r))}}(t,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const e in t){const n=t[e],r=this._uniformSetters[e];if(r){let t=n,s=!1;if(t instanceof o.A&&(t=t.texture),t instanceof i.A)if(s=this.uniforms[e]!==n,s){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);const n=t,{textureIndex:i}=r;n.bind(i),t=i,this._textureUniforms[e]=n}else t=r.textureIndex;else this._textureUniforms[e]&&delete this._textureUniforms[e];(r(t)||s)&&_(this.uniforms,e,n)}}return this}_areTexturesRenderable(){let t=!0;for(const e in this._textureUniforms){const n=this._textureUniforms[e];n.update(),t=t&&n.loaded}return t}_bindTextures(){for(const t in this._textureUniforms){const e=this._uniformSetters[t].textureIndex;this._textureUniforms[t].bind(e)}}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(t){const e=this.gl.getAttachedShaders(t),n={};for(const r of e){switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:n.vs=new C.o0({handle:r});break;case 35632:n.fs=new C._Y({handle:r})}}return n}_getParameter(t){return this.gl.getProgramParameter(this.handle,t)}_setId(t){if(!t){const t=this._getName();this.id=(0,I.Ld)(t)}}_getName(){let t=this.vs.getName()||this.fs.getName();return t=t.replace(/shader/i,""),t=t?"".concat(t,"-program"):"program",t}_compileAndLink(){const{gl:t}=this;if(t.attachShader(this.handle,this.vs.handle),t.attachShader(this.handle,this.fs.handle),s.Rm.time(4,"linkProgram for ".concat(this._getName()))(),t.linkProgram(this.handle),s.Rm.timeEnd(4,"linkProgram for ".concat(this._getName()))(),t.debug||s.Rm.level>0){if(!t.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(t.getProgramInfoLog(this.handle)));t.validateProgram(this.handle);if(!t.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(t.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:t}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let e=0;e<this._uniformCount;e++){const n=this.gl.getActiveUniform(this.handle,e),{name:r}=v(n.name);let i=t.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=m(t,i,n),n.size>1)for(let e=0;e<n.size;e++)i=t.getUniformLocation(this.handle,"".concat(r,"[").concat(e,"]")),this._uniformSetters["".concat(r,"[").concat(e,"]")]=m(t,i,n)}this._textureIndexCounter=0}getActiveUniforms(t,e){return this.gl2.getActiveUniforms(this.handle,t,e)}getUniformBlockIndex(t){return this.gl2.getUniformBlockIndex(this.handle,t)}getActiveUniformBlockParameter(t,e){return this.gl2.getActiveUniformBlockParameter(this.handle,t,e)}uniformBlockBinding(t,e){this.gl2.uniformBlockBinding(this.handle,t,e)}}},40507:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(42532);const i="EXT_color_buffer_float",o={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:i,bpp:2},33327:{gl2:i,bpp:4},34842:{gl2:i,bpp:8},33326:{gl2:i,bpp:4},33328:{gl2:i,bpp:8},34836:{gl2:i,bpp:16},35898:{gl2:i,bpp:4}};var s=n(45882),a=n(71425);class l extends r.A{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(t){let{format:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!e||function(t,e,n){const r=n[e];if(!r)return!1;const i=(0,s.C6)(t)&&r.gl2||r.gl1;return"string"===typeof i?t.getExtension(i):i}(t,e,o)}static getSamplesForFormat(t,e){let{format:n}=e;return t.getInternalformatParameter(36161,n,32937)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),this.initialize(e),Object.seal(this)}initialize(t){let{format:e,width:n=1,height:r=1,samples:i=0}=t;return(0,a.v)(e,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==i&&(0,s.C6)(this.gl)?this.gl.renderbufferStorageMultisample(36161,i,e,n,r):this.gl.renderbufferStorage(36161,e,n,r),this.format=e,this.width=n,this.height=r,this.samples=i,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*o[this.format].bpp),this}resize(t){let{width:e,height:n}=t;return e!==this.width||n!==this.height?this.initialize({width:e,height:n,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(t){this.gl.bindRenderbuffer(36161,t)}_syncHandle(t){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(t){this.gl.bindRenderbuffer(36161,this.handle);return this.gl.getRenderbufferParameter(36161,t)}}},42532:(t,e,n)=>{"use strict";n.d(e,{A:()=>u});var r=n(45882),i=n(58547),o=n(89711),s=n(71425),a=n(65658),l=n(36932);const c="Resource subclass must define virtual methods";class u{get[Symbol.toStringTag](){return"Resource"}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.tj)(t);const{id:n,userData:i={}}=e;this.gl=t,this.gl2=t,this.id=n||(0,a.Ld)(this[Symbol.toStringTag]),this.userData=i,this._bound=!1,this._handle=e.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,e&&t&&e.filter(Boolean).forEach((t=>t.delete())),this}bind(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t)}unbind(){this.bind(null)}getParameter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=(0,o.fm)(this.gl,t),(0,s.v)(t);const n=(this.constructor.PARAMETERS||{})[t];if(n){const t=(0,r.C6)(this.gl);if(!((!("webgl2"in n)||t)&&(!("extension"in n)||this.gl.getExtension(n.extension)))){const e=n.webgl1,r="webgl2"in n?n.webgl2:n.webgl1;return t?r:e}}return this._getParameter(t,e)}getParameters(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:e,keys:n}=t,i=this.constructor.PARAMETERS||{},s=(0,r.C6)(this.gl),a={},l=e||Object.keys(i);for(const r of l){const e=i[r];if(e&&(!("webgl2"in e)||s)&&(!("extension"in e)||this.gl.getExtension(e.extension))){const i=n?(0,o.i7)(this.gl,r):r;a[i]=this.getParameter(r,t),n&&"GLenum"===e.type&&(a[i]=(0,o.i7)(this.gl,a[i]))}}return a}setParameter(t,e){t=(0,o.fm)(this.gl,t),(0,s.v)(t);const n=(this.constructor.PARAMETERS||{})[t];if(n){const t=(0,r.C6)(this.gl);if(!((!("webgl2"in n)||t)&&(!("extension"in n)||this.gl.getExtension(n.extension))))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(e=(0,o.fm)(e))}return this._setParameter(t,e),this}setParameters(t){for(const e in t)this.setParameter(e,t[e]);return this}stubRemovedMethods(t,e,n){return(0,l.R)(this,t,e,n)}initialize(t){}_createHandle(){throw new Error(c)}_deleteHandle(){throw new Error(c)}_bindHandle(t){throw new Error(c)}_getOptsFromHandle(){throw new Error(c)}_getParameter(t,e){throw new Error(c)}_setParameter(t,e){throw new Error(c)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const t=this[Symbol.toStringTag],e=i.dJ.get("Resource Counts");e.get("Resources Created").incrementCount(),e.get("".concat(t,"s Created")).incrementCount(),e.get("".concat(t,"s Active")).incrementCount()}_removeStats(){const t=this[Symbol.toStringTag];i.dJ.get("Resource Counts").get("".concat(t,"s Active")).decrementCount()}_trackAllocatedMemory(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(t,e),this._trackAllocatedMemoryForContext(t,e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=t}_trackAllocatedMemoryForContext(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=i.dJ.get("Memory Usage".concat(n));r.get("GPU Memory").addCount(t),r.get("".concat(e," Memory")).addCount(t)}_trackDeallocatedMemory(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(t),this._trackDeallocatedMemoryForContext(t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=i.dJ.get("Memory Usage".concat(e));n.get("GPU Memory").subtractCount(this.byteLength),n.get("".concat(t," Memory")).subtractCount(this.byteLength)}}},59043:(t,e,n)=>{"use strict";n.d(e,{_Y:()=>A,o0:()=>p});var r=n(45882);function i(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const n=t.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return n?n[1]:e}const o=35632,s=35633;function a(t,e,n,r){const a=t.split(/\r?\n/),u={},h={},f=r||i(e)||"(unnamed)",d="".concat(function(t){switch(t){case o:return"fragment";case s:return"vertex";default:return"unknown type"}}(n)," shader ").concat(f);for(let i=0;i<a.length;i++){const e=a[i];if(e.length<=1)continue;const n=e.split(":"),r=n[0],o=parseInt(n[2],10);if(isNaN(o))throw new Error("GLSL compilation error in ".concat(d,": ").concat(t));"WARNING"!==r?u[o]=e:h[o]=e}const p=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const r=t.split(/\r?\n/),i=String(r.length+e-1).length;return r.map(((t,r)=>{const o=String(r+e),s=o.length;return c(o,i-s)+n+t}))}(e);return{shaderName:d,errors:l(u,p),warnings:l(h,p)}}function l(t,e){let n="";for(let r=0;r<e.length;r++){const i=e[r];if((t[r+3]||t[r+2]||t[r+1])&&(n+="".concat(i,"\n"),t[r+1])){const e=t[r+1],i=e.split(":",3),o=i[0],s=parseInt(i[1],10)||0,a=e.substring(i.join(":").length+1).trim();n+=c("^^^ ".concat(o,": ").concat(a,"\n\n"),s)}}return n}function c(t,e){let n="";for(let r=0;r<e;++r)n+=" ";return"".concat(n).concat(t)}var u=n(71425),h=n(65658),f=n(42532);class d extends f.A{get[Symbol.toStringTag](){return"Shader"}static getTypeName(t){switch(t){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return(0,u.v)(!1),"unknown"}}constructor(t,e){(0,r.tj)(t),(0,u.v)("string"===typeof e.source,"Shader: GLSL source code must be a JavaScript string");super(t,{id:i(e.source,null)||e.id||(0,h.Ld)("unnamed ".concat(d.getTypeName(e.shaderType)))}),this.shaderType=e.shaderType,this.source=e.source,this.initialize(e)}initialize(t){let{source:e}=t;const n=i(e,null);n&&(this.id=(0,h.Ld)(n)),this._compile(e)}getParameter(t){return this.gl.getShaderParameter(this.handle,t)}toString(){return"".concat(d.getTypeName(this.shaderType),":").concat(this.id)}getName(){return i(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const t=this.gl.getExtension("WEBGL_debug_shaders");return t?t.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;t.startsWith("#version ")||(t="#version 100\n".concat(t)),this.source=t,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);if(!this.getParameter(35713)){const t=this.gl.getShaderInfoLog(this.handle),{shaderName:e,errors:n,warnings:i}=a(t,this.source,this.shaderType,this.id);throw r.Rm.error("GLSL compilation errors in ".concat(e,"\n").concat(n))(),r.Rm.warn("GLSL compilation warnings in ".concat(e,"\n").concat(i))(),new Error("GLSL compilation errors in ".concat(e))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class p extends d{get[Symbol.toStringTag](){return"VertexShader"}constructor(t,e){"string"===typeof e&&(e={source:e}),super(t,Object.assign({},e,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class A extends d{get[Symbol.toStringTag](){return"FragmentShader"}constructor(t,e){"string"===typeof e&&(e={source:e}),super(t,Object.assign({},e,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}},59375:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(45882),i=n(36493),o=n(71425);let s="";class a extends i.A{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(t,e){return i.A.isSupported(t,e)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,i;(0,r.tj)(t),(e instanceof Promise||"string"===typeof e)&&(e={data:e}),"string"===typeof e.data&&(e=Object.assign({},e,{data:(n=e.data,(0,o.v)("string"===typeof n),n=s+n,new Promise(((t,e)=>{try{const r=new Image;r.onload=()=>t(r),r.onerror=()=>e(new Error("Could not load image ".concat(n,"."))),r.crossOrigin=i&&i.crossOrigin||"anonymous",r.src=n}catch(r){e(r)}})))})),super(t,Object.assign({},e,{target:3553})),this.initialize(e),Object.seal(this)}}},51885:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(45882),i=n(36493),o=n(86208),s=n(8858);class a extends i.A{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(t){return(0,r.C6)(t)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Dz)(t),e=Object.assign({depth:1},e,{target:32879,unpackFlipY:!1}),super(t,e),this.initialize(e),Object.seal(this)}setImageData(t){let{level:e=0,dataFormat:n=6408,width:i,height:a,depth:l=1,border:c=0,format:u,type:h=5121,offset:f=0,data:d,parameters:p={}}=t;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),(0,r.zv)(this.gl,p,(()=>{ArrayBuffer.isView(d)&&this.gl.texImage3D(this.target,e,n,i,a,l,c,u,h,d),d instanceof s.A&&(this.gl.bindBuffer(35052,d.handle),this.gl.texImage3D(this.target,e,n,i,a,l,c,u,h,f))})),d&&d.byteLength)this._trackAllocatedMemory(d.byteLength,"Texture");else{const t=o.gI[this.dataFormat]||4,e=o.Ce[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*t*e,"Texture")}return this.loaded=!0,this}}},22415:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(45882),i=n(36493);const o=[34069,34070,34071,34072,34073,34074];class s extends i.A{get[Symbol.toStringTag](){return"TextureCube"}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.tj)(t),super(t,Object.assign({},e,{target:34067})),this.initialize(e),Object.seal(this)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:e=!0,parameters:n={}}=t;return this.opts=t,this.setCubeMapImageData(t).then((()=>{this.loaded=!0,e&&this.generateMipmap(t),this.setParameters(n)})),this}subImage(t){let{face:e,data:n,x:r=0,y:i=0,mipmapLevel:o=0}=t;return this._subImage({target:e,data:n,x:r,y:i,mipmapLevel:o})}async setCubeMapImageData(t){let{width:e,height:n,pixels:i,data:s,border:a=0,format:l=6408,type:c=5121}=t;const{gl:u}=this,h=i||s,f=await Promise.all(o.map((t=>{const e=h[t];return Promise.all(Array.isArray(e)?e:[e])})));this.bind(),o.forEach(((t,i)=>{f[i].length>1&&!1!==this.opts.mipmaps&&r.Rm.warn("".concat(this.id," has mipmap and multiple LODs."))(),f[i].forEach(((r,i)=>{e&&n?u.texImage2D(t,i,l,e,n,a,l,c,r):u.texImage2D(t,i,l,l,c,r)}))})),this.unbind()}setImageDataForFace(t){const{face:e,width:n,height:r,pixels:i,data:o,border:s=0,format:a=6408,type:l=5121}=t,{gl:c}=this,u=i||o;return this.bind(),u instanceof Promise?u.then((n=>this.setImageDataForFace(Object.assign({},t,{face:e,data:n,pixels:n})))):this.width||this.height?c.texImage2D(e,0,a,n,r,s,a,l,u):c.texImage2D(e,0,a,a,l,u),this}}s.FACES=o},86208:(t,e,n)=>{"use strict";n.d(e,{Ce:()=>s,KS:()=>l,gI:()=>o,pj:()=>i,qS:()=>a});var r=n(45882);const i={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},o={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},s={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function a(t,e){const n=i[e];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;const o=(0,r.C6)(t)&&n.gl2||n.gl1;return"string"===typeof o?t.getExtension(o):o}function l(t,e){const n=i[e];switch(n&&n.types[0]){case 5126:return t.getExtension("OES_texture_float_linear");case 5131:return t.getExtension("OES_texture_half_float_linear");default:return!0}}},36493:(t,e,n)=>{"use strict";n.d(e,{A:()=>h});var r=n(45882),i=n(42532),o=n(8858),s=n(86208),a=n(71425),l=n(65658);const c=[9729,9728],u=globalThis.WebGLBuffer||function(){};class h extends i.A{get[Symbol.toStringTag](){return"Texture"}static isSupported(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:n,linearFiltering:r}=e;let i=!0;return n&&(i=i&&(0,s.qS)(t,n),i=i&&(!r||(0,s.KS)(t,n))),i}constructor(t,e){const{id:n=(0,l.Ld)("texture"),handle:r,target:i}=e;super(t,{id:n,handle:r}),this.target=i,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data;if(e instanceof Promise)return e.then((e=>this.initialize(Object.assign({},t,{pixels:e,data:e})))),this;const n="undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement;if(n&&e.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,e.addEventListener("loadeddata",(()=>this.initialize(t))),this;const{pixels:i=null,format:o=6408,border:s=0,recreate:a=!1,parameters:l={},pixelStore:c={},textureUnit:u}=t;e||(e=i);let{width:h,height:f,dataFormat:d,type:p,compressed:A=!1,mipmaps:g=!0}=t;const{depth:y=0}=t;return({width:h,height:f,compressed:A,dataFormat:d,type:p}=this._deduceParameters({format:o,type:p,dataFormat:d,compressed:A,data:e,width:h,height:f})),this.width=h,this.height=f,this.depth=y,this.format=o,this.type=p,this.dataFormat=d,this.border=s,this.textureUnit=u,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),g&&this._isNPOT()&&(r.Rm.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),g=!1,this._updateForNPOT(l)),this.mipmaps=g,this.setImageData({data:e,width:h,height:f,depth:y,format:o,type:p,dataFormat:d,border:s,mipmaps:g,parameters:c,compressed:A}),g&&this.generateMipmap(),this.setParameters(l),a&&(this.data=e),n&&(this._video={video:e,parameters:l,lastTime:e.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?e.currentTime:-1}),this}update(){if(this._video){const{video:t,parameters:e,lastTime:n}=this._video;if(n===t.currentTime||t.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:t,parameters:e}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=t.currentTime}}resize(t){let{height:e,width:n,mipmaps:r=!1}=t;return n!==this.width||e!==this.height?this.initialize({width:n,height:e,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:r}):this}generateMipmap(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(r.Rm.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),(0,r.zv)(this.gl,t,(()=>{this.gl.generateMipmap(this.target)})),this.gl.bindTexture(this.target,null),this)}setImageData(t){this._trackDeallocatedMemory("Texture");const{target:e=this.target,pixels:n=null,level:i=0,format:o=this.format,border:l=this.border,offset:c=0,parameters:u={}}=t;let{data:h=null,type:f=this.type,width:d=this.width,height:p=this.height,dataFormat:A=this.dataFormat,compressed:g=!1}=t;h||(h=n),({type:f,dataFormat:A,compressed:g,width:d,height:p}=this._deduceParameters({format:o,type:f,dataFormat:A,compressed:g,data:h,width:d,height:p}));const{gl:y}=this;y.bindTexture(this.target,this.handle);let m,v=null;({data:h,dataType:v}=this._getDataType({data:h,compressed:g}));let b=0;if((0,r.zv)(this.gl,u,(()=>{switch(v){case"null":y.texImage2D(e,i,o,d,p,l,A,f,h);break;case"typed-array":y.texImage2D(e,i,o,d,p,l,A,f,h,c);break;case"buffer":m=(0,r.Dz)(y),m.bindBuffer(35052,h.handle||h),m.texImage2D(e,i,o,d,p,l,A,f,c),m.bindBuffer(35052,null);break;case"browser-object":(0,r.C6)(y)?y.texImage2D(e,i,o,d,p,l,A,f,h):y.texImage2D(e,i,o,A,f,h);break;case"compressed":for(const[t,n]of h.entries())y.compressedTexImage2D(e,t,n.format,n.width,n.height,l,n.data),b+=n.levelSize;break;default:(0,a.v)(!1,"Unknown image data type")}})),"compressed"===v)this._trackAllocatedMemory(b,"Texture");else if(h&&h.byteLength)this._trackAllocatedMemory(h.byteLength,"Texture");else{const t=s.gI[this.dataFormat]||4,e=s.Ce[this.type]||1;this._trackAllocatedMemory(this.width*this.height*t*e,"Texture")}return this.loaded=!0,this}setSubImageData(t){let{target:e=this.target,pixels:n=null,data:i=null,x:s=0,y:l=0,width:c=this.width,height:h=this.height,level:f=0,format:d=this.format,type:p=this.type,dataFormat:A=this.dataFormat,compressed:g=!1,offset:y=0,border:m=this.border,parameters:v={}}=t;if(({type:p,dataFormat:A,compressed:g,width:c,height:h}=this._deduceParameters({format:d,type:p,dataFormat:A,compressed:g,data:i,width:c,height:h})),(0,a.v)(0===this.depth,"texSubImage not supported for 3D textures"),i||(i=n),i&&i.data){const t=i;i=t.data,c=t.shape[0],h=t.shape[1]}i instanceof o.A&&(i=i.handle),this.gl.bindTexture(this.target,this.handle),(0,r.zv)(this.gl,v,(()=>{if(g)this.gl.compressedTexSubImage2D(e,f,s,l,c,h,d,i);else if(null===i)this.gl.texSubImage2D(e,f,s,l,c,h,A,p,null);else if(ArrayBuffer.isView(i))this.gl.texSubImage2D(e,f,s,l,c,h,A,p,i,y);else if(i instanceof u){const t=(0,r.Dz)(this.gl);t.bindBuffer(35052,i),t.texSubImage2D(e,f,s,l,c,h,A,p,y),t.bindBuffer(35052,null)}else if((0,r.C6)(this.gl)){(0,r.Dz)(this.gl).texSubImage2D(e,f,s,l,c,h,A,p,i)}else this.gl.texSubImage2D(e,f,s,l,A,p,i)})),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return r.Rm.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:e}=this;return void 0!==t&&(this.textureUnit=t,e.activeTexture(33984+t)),e.bindTexture(this.target,this.handle),t}unbind(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:e}=this;return void 0!==t&&(this.textureUnit=t,e.activeTexture(33984+t)),e.bindTexture(this.target,null),t}_getDataType(t){let{data:e,compressed:n=!1}=t;return n?{data:e,dataType:"compressed"}:null===e?{data:e,dataType:"null"}:ArrayBuffer.isView(e)?{data:e,dataType:"typed-array"}:e instanceof o.A?{data:e.handle,dataType:"buffer"}:e instanceof u?{data:e,dataType:"buffer"}:{data:e,dataType:"browser-object"}}_deduceParameters(t){const{format:e,data:n}=t;let{width:r,height:i,dataFormat:o,type:a,compressed:l}=t;const c=s.pj[e];return o=o||c&&c.dataFormat,a=a||c&&c.types[0],l=l||c&&c.compressed,({width:r,height:i}=this._deduceImageSize(n,r,i)),{dataFormat:o,type:a,compressed:l,width:r,height:i,format:e,data:n}}_deduceImageSize(t,e,n){let r;return r="undefined"!==typeof ImageData&&t instanceof ImageData?{width:t.width,height:t.height}:"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?{width:t.width,height:t.height}:"undefined"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t?{width:e,height:n}:{width:e>=0?e:1,height:n>=0?n:1},(0,a.v)(r,"Could not deduced texture size"),(0,a.v)(void 0===e||r.width===e,"Deduced texture width does not match supplied width"),(0,a.v)(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(t){switch(t){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const e=this.gl.getTexParameter(this.target,t);return this.gl.bindTexture(this.target,null),e}}_setParameter(t,e){switch(this.gl.bindTexture(this.target,this.handle),e=this._getNPOTParam(t,e),t){case 33082:case 33083:this.gl.texParameterf(this.handle,t,e);break;case 4096:case 4097:(0,a.v)(!1);break;default:this.gl.texParameteri(this.target,t,e)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!(0,r.C6)(this.gl)&&(!(!this.width||!this.height)&&(!(0,l.r6)(this.width)||!(0,l.r6)(this.height)))}_updateForNPOT(t){void 0===t[this.gl.TEXTURE_MIN_FILTER]&&(t[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===t[this.gl.TEXTURE_WRAP_S]&&(t[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===t[this.gl.TEXTURE_WRAP_T]&&(t[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(t,e){if(this._isNPOT())switch(t){case 10241:-1===c.indexOf(e)&&(e=9729);break;case 10242:case 10243:33071!==e&&(e=33071)}return e}}},87188:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(45882),i=n(42532),o=n(8858),s=n(65658);class a extends i.A{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(t){return(0,r.C6)(t)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Dz)(t),super(t,e),this.initialize(e),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,(0,s.ZF)(this.buffers)||this.bind((()=>this._unbindBuffers())),this.setProps(t),this}setProps(t){"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"bindOnUse"in t&&(t=t.bindOnUse),"buffers"in t&&this.setBuffers(t.buffers)}setBuffers(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((()=>{for(const e in t)this.setBuffer(e,t[e])})),this}setBuffer(t,e){const n=this._getVaryingIndex(t),{buffer:i,byteSize:o,byteOffset:s}=this._getBufferParams(e);return n<0?(this.unused[t]=i,r.Rm.warn("".concat(this.id," unused varying buffer ").concat(t))(),this):(this.buffers[n]=e,this.bindOnUse||this._bindBuffer(n,i,s,o),this)}begin(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(t),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(t){let e,n,r;return t instanceof o.A===!1?(r=t.buffer,n=t.byteSize,e=t.byteOffset):r=t,void 0===e&&void 0===n||(e=e||0,n=n||r.byteLength-e),{buffer:r,byteOffset:e,byteSize:n}}_getVaryingInfo(t){return this.configuration&&this.configuration.getVaryingInfo(t)}_getVaryingIndex(t){if(this.configuration)return this.configuration.getVaryingInfo(t).location;const e=Number(t);return Number.isFinite(e)?e:-1}_bindBuffers(){if(this.bindOnUse)for(const t in this.buffers){const{buffer:e,byteSize:n,byteOffset:r}=this._getBufferParams(this.buffers[t]);this._bindBuffer(t,e,r,n)}}_unbindBuffers(){if(this.bindOnUse)for(const t in this.buffers)this._bindBuffer(t,null)}_bindBuffer(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;const i=e&&e.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,t,i,n,r):this.gl.bindBufferBase(35982,t,i),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(t){this.gl.bindTransformFeedback(36386,this.handle)}}},51934:(t,e,n)=>{"use strict";n.d(e,{QN:()=>l,i:()=>c,jI:()=>a});var r=n(34551),i=n(45882),o=n(71425);const s=2;function a(t,e){return l(t,e)}function l(t,e){return(e=Array.isArray(e)?e:[e]).every((e=>u(t,e)))}function c(t){t.luma=t.luma||{},t.luma.caps=t.luma.caps||{};for(const e in r.A)void 0===t.luma.caps[e]&&(t.luma.caps[e]=u(t,e));return t.luma.caps}function u(t,e){return t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},void 0===t.luma.caps[e]&&(t.luma.caps[e]=function(t,e){const n=r.A[e];let s;(0,o.v)(n,e);const a=(0,i.C6)(t)&&n[1]||n[0];if("function"===typeof a)s=a(t);else if(Array.isArray(a)){s=!0;for(const e of a)s=s&&Boolean(t.getExtension(e))}else"string"===typeof a?s=Boolean(t.getExtension(a)):"boolean"===typeof a?s=a:(0,o.v)(!1);return s}(t,e)),t.luma.caps[e]||i.Rm.log(s,"Feature: ".concat(e," not supported"))(),t.luma.caps[e]}},34551:(t,e,n)=>{"use strict";n.d(e,{A:()=>s,G:()=>o});var r=n(38349),i=n(59375);const o={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};const s={[o.WEBGL2]:[!1,!0],[o.VERTEX_ARRAY_OBJECT]:["OES_vertex_array_object",!0],[o.TIMER_QUERY]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],[o.INSTANCED_RENDERING]:["ANGLE_instanced_arrays",!0],[o.MULTIPLE_RENDER_TARGETS]:["WEBGL_draw_buffers",!0],[o.ELEMENT_INDEX_UINT32]:["OES_element_index_uint",!0],[o.BLEND_EQUATION_MINMAX]:["EXT_blend_minmax",!0],[o.FLOAT_BLEND]:["EXT_float_blend"],[o.COLOR_ENCODING_SRGB]:["EXT_sRGB",!0],[o.TEXTURE_DEPTH]:["WEBGL_depth_texture",!0],[o.TEXTURE_FLOAT]:["OES_texture_float",!0],[o.TEXTURE_HALF_FLOAT]:["OES_texture_half_float",!0],[o.TEXTURE_FILTER_LINEAR_FLOAT]:["OES_texture_float_linear"],[o.TEXTURE_FILTER_LINEAR_HALF_FLOAT]:["OES_texture_half_float_linear"],[o.TEXTURE_FILTER_ANISOTROPIC]:["EXT_texture_filter_anisotropic"],[o.COLOR_ATTACHMENT_RGBA32F]:[function(t){const e=new i.A(t,{format:6408,type:5126,dataFormat:6408}),n=new r.A(t,{id:"test-framebuffer",check:!1,attachments:{36064:e}}),o=n.getStatus();return e.delete(),n.delete(),36053===o},"EXT_color_buffer_float"],[o.COLOR_ATTACHMENT_FLOAT]:[!1,"EXT_color_buffer_float"],[o.COLOR_ATTACHMENT_HALF_FLOAT]:["EXT_color_buffer_half_float"],[o.GLSL_FRAG_DATA]:["WEBGL_draw_buffers",!0],[o.GLSL_FRAG_DEPTH]:["EXT_frag_depth",!0],[o.GLSL_DERIVATIVES]:["OES_standard_derivatives",!0],[o.GLSL_TEXTURE_LOD]:["EXT_shader_texture_lod",!0]}},58547:(t,e,n)=>{"use strict";n.d(e,{dJ:()=>a});var r=n(45882),i=n(12041),o=n(74583);const s="8.5.21";const a=new class{constructor(){this.stats=new Map}get(t){return this.stats.has(t)||this.stats.set(t,new i.A({id:t})),this.stats.get(t)}};if(globalThis.luma&&globalThis.luma.VERSION!==s)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(s));globalThis.luma||((0,o.A)()&&r.Rm.log(1,"luma.gl ".concat(s," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:s,version:s,log:r.Rm,stats:a,globals:{modules:{},nodeIO:{}}});globalThis.luma},71425:(t,e,n)=>{"use strict";function r(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}n.d(e,{v:()=>r})},25652:(t,e,n)=>{"use strict";n.d(e,{N:()=>i});var r=n(45882);function i(t,e,n){const{removedProps:i={},deprecatedProps:o={},replacedProps:s={}}=n;for(const l in i)if(l in e){const e=i[l]?"".concat(t,".").concat(i[l]):"N/A";r.Rm.removed("".concat(t,".").concat(l),e)()}for(const l in o)if(l in e){const e=o[l];r.Rm.deprecated("".concat(t,".").concat(l),"".concat(t,".").concat(e))()}let a=null;for(const l in s)if(l in e){const n=s[l];r.Rm.deprecated("".concat(t,".").concat(l),"".concat(t,".").concat(n))(),a=a||Object.assign({},e),a[n]=e[l],delete a[l]}return a||e}},36932:(t,e,n)=>{"use strict";n.d(e,{R:()=>i});var r=n(45882);function i(t,e,n,i){const o="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),s=Object.getPrototypeOf(t);i.forEach((t=>{s.methodName||(s[t]=()=>{throw r.Rm.removed("Calling removed method ".concat(e,".").concat(t,": "),o)(),new Error(t)})}))}},65658:(t,e,n)=>{"use strict";n.d(e,{Ld:()=>o,ZF:()=>a,r6:()=>s});var r=n(71425);const i={};function o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";i[t]=i[t]||1;const e=i[t]++;return"".concat(t,"-").concat(e)}function s(t){return(0,r.v)("number"===typeof t,"Input must be a number"),t&&0===(t&t-1)}function a(t){let e=!0;for(const n in t){e=!1;break}return e}},9335:(t,e,n)=>{"use strict";n.d(e,{F4:()=>z,bF:()=>V,ir:()=>G});var r=n(71425);const i=5120,o=5121,s=5122,a=5123,l=0,c=1,u=2,h=3,f=4,d=5,p=6,A=5126,g=35664,y=35665,m=35666,v=5124,b=35667,_=35668,w=35669,x=5125,E=36294,S=36295,C=36296,P=35670,M=35671,T=35672,O=35673,I=35674,R=35675,L=35676,k=35685,B=35686,N=35687,D=35688,F=35689,j=35690,U={[A]:[A,1,"float"],[g]:[A,2,"vec2"],[y]:[A,3,"vec3"],[m]:[A,4,"vec4"],[v]:[v,1,"int"],[b]:[v,2,"ivec2"],[_]:[v,3,"ivec3"],[w]:[v,4,"ivec4"],[x]:[x,1,"uint"],[E]:[x,2,"uvec2"],[S]:[x,3,"uvec3"],[C]:[x,4,"uvec4"],[P]:[A,1,"bool"],[M]:[A,2,"bvec2"],[T]:[A,3,"bvec3"],[O]:[A,4,"bvec4"],[I]:[A,8,"mat2"],[k]:[A,8,"mat2x3"],[B]:[A,8,"mat2x4"],[R]:[A,12,"mat3"],[N]:[A,12,"mat3x2"],[D]:[A,12,"mat3x4"],[L]:[A,16,"mat4"],[F]:[A,16,"mat4x2"],[j]:[A,16,"mat4x3"]};function z(t){switch(t){case l:return l;case c:case h:case u:return c;case f:case d:case p:return f;default:return(0,r.v)(!1),0}}function G(t){const e=U[t];if(!e)return null;const[n,r]=e;return{type:n,components:r}}function V(t,e){switch(t){case i:case o:case s:case a:t=A}for(const n in U){const[r,i,o]=U[n];if(r===t&&i===e)return{glType:n,name:o}}return null}},89711:(t,e,n)=>{"use strict";n.d(e,{fm:()=>i,i7:()=>o});var r=n(71425);function i(t,e){if("string"!==typeof e)return e;const n=Number(e);if(!isNaN(n))return n;const i=t[e=e.replace(/^.*\./,"")];return(0,r.v)(void 0!==i,"Accessing undefined constant GL.".concat(e)),i}function o(t,e){e=Number(e);for(const n in t)if(t[n]===e)return"GL.".concat(n);return String(e)}},90740:(t,e,n)=>{"use strict";n.d(e,{$:()=>c,j:()=>l});var r=n(59375),i=n(22415),o=n(51885),s=n(38349),a=n(71425);function l(t,e){(0,a.v)(t instanceof r.A||t instanceof i.A||t instanceof o.A);const n=t.constructor,{gl:s,width:l,height:c,format:u,type:h,dataFormat:f,border:d,mipmaps:p}=t;return new n(s,Object.assign({width:l,height:c,format:u,type:h,dataFormat:f,border:d,mipmaps:p},e))}function c(t,e){const{gl:n,width:r,height:i,id:o}=t;return new s.A(n,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:r,height:i,attachments:{36064:t}}))}},12591:(t,e,n)=>{"use strict";n.d(e,{H:()=>s,Ij:()=>a,Xj:()=>o,jX:()=>i});const r="Failed to deduce GL constant from typed array";function i(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(r)}}function o(t){let{clamped:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return e?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function s(t){let{data:e,width:n,height:r,bytesPerPixel:i=4,temp:o}=t;const s=n*i;o=o||new Uint8Array(s);for(let a=0;a<r/2;++a){const t=a*s,n=(r-a-1)*s;o.set(e.subarray(t,t+s)),e.copyWithin(t,n,n+s),e.set(o,n)}}function a(t){let{data:e,width:n,height:r}=t;const i=Math.round(n/2),o=Math.round(r/2),s=new Uint8Array(i*o*4);for(let a=0;a<o;a++)for(let t=0;t<i;t++)for(let r=0;r<4;r++)s[4*(a*i+t)+r]=e[4*(2*a*n+2*t)+r];return{data:s,width:i,height:o}}},89911:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(67567);class i extends(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<this.ELEMENTS;++n)this[n]=t[n+e];return this.check()}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<this.ELEMENTS;++n)t[e+n]=this[n];return t}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}to(t){return t===this?this:(0,r.cy)(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(r.$W)}formatString(t){let e="";for(let n=0;n<this.ELEMENTS;++n)e+=(n>0?", ":"")+(0,r.Fl)(this[n],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(!(0,r.aI)(this[e],t[e]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,e,n){if(void 0===n)return this.lerp(this,t,e);for(let r=0;r<this.ELEMENTS;++r){const i=t[r];this[r]=i+n*(e[r]-i)}return this.check()}min(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}max(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}clamp(t,e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t[n]),e[n]);return this.check()}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(const r of e)for(let t=0;t<this.ELEMENTS;++t)this[t]+=r[t];return this.check()}subtract(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(const r of e)for(let t=0;t<this.ELEMENTS;++t)this[t]-=r[t];return this.check()}scale(t){if("number"===typeof t)for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;else for(let e=0;e<this.ELEMENTS&&e<t.length;++e)this[e]*=t[e];return this.check()}multiplyByScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}check(){if(r.$W.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}sub(t){return this.subtract(t)}setScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}addScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}divideScalar(t){return this.multiplyByScalar(1/t)}clampScalar(t,e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t),e);return this.check()}get elements(){return this}}},45088:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(89911),i=n(75365),o=n(67567);class s extends r.A{toString(){let t="[";if(o.$W.printRowMajor){t+="row-major:";for(let e=0;e<this.RANK;++e)for(let n=0;n<this.RANK;++n)t+=" ".concat(this[n*this.RANK+e])}else{t+="column-major:";for(let e=0;e<this.ELEMENTS;++e)t+=" ".concat(this[e])}return t+="]",t}getElementIndex(t,e){return e*this.RANK+t}getElement(t,e){return this[e*this.RANK+t]}setElement(t,e,n){return this[e*this.RANK+t]=(0,i.ws)(n),this}getColumn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0);const n=t*this.RANK;for(let r=0;r<this.RANK;++r)e[r]=this[n+r];return e}setColumn(t,e){const n=t*this.RANK;for(let r=0;r<this.RANK;++r)this[n+r]=e[r];return this}}},40790:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(89911),i=n(75365),o=n(15476);class s extends r.A{get x(){return this[0]}set x(t){this[0]=(0,i.ws)(t)}get y(){return this[1]}set y(t){this[1]=(0,i.ws)(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let e=0;for(let n=0;n<this.ELEMENTS;++n){const r=this[n]-t[n];e+=r*r}return(0,i.ws)(e)}dot(t){let e=0;for(let n=0;n<this.ELEMENTS;++n)e+=this[n]*t[n];return(0,i.ws)(e)}normalize(){const t=this.magnitude();if(0!==t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}multiply(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(const r of e)for(let t=0;t<this.ELEMENTS;++t)this[t]*=r[t];return this.check()}divide(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(const r of e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=r[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return(0,o.A)(t>=0&&t<this.ELEMENTS,"index is out of range"),(0,i.ws)(this[t])}setComponent(t,e){return(0,o.A)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}addVectors(t,e){return this.copy(t).add(e)}subVectors(t,e){return this.copy(t).subtract(e)}multiplyVectors(t,e){return this.copy(t).multiply(e)}addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}},9881:(t,e,n)=>{"use strict";n.d(e,{A:()=>h});var r,i=n(45088),o=n(75365),s=n(57323),a=n(620),l=n(10355),c=n(10092);!function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL1ROW0=3]="COL1ROW0",t[t.COL1ROW1=4]="COL1ROW1",t[t.COL1ROW2=5]="COL1ROW2",t[t.COL2ROW0=6]="COL2ROW0",t[t.COL2ROW1=7]="COL2ROW1",t[t.COL2ROW2=8]="COL2ROW2"}(r||(r={}));const u=Object.freeze([1,0,0,0,1,0,0,0,1]);class h extends i.A{static get IDENTITY(){return function(){d||(d=new h,Object.freeze(d));return d}()}static get ZERO(){return function(){f||(f=new h([0,0,0,0,0,0,0,0,0]),Object.freeze(f));return f}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return r}constructor(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):n.length>0?this.copy([t,...n]):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}identity(){return this.copy(u)}fromObject(t){return this.check()}fromQuaternion(t){return a.I0(this,t),this.check()}set(t,e,n,r,i,o,s,a,l){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=s,this[7]=a,this[8]=l,this.check()}setRowMajor(t,e,n,r,i,o,s,a,l){return this[0]=t,this[1]=r,this[2]=s,this[3]=e,this[4]=i,this[5]=a,this[6]=n,this[7]=o,this[8]=l,this.check()}determinant(){return a.a4(this)}transpose(){return a.mg(this,this),this.check()}invert(){return a.B8(this,this),this.check()}multiplyLeft(t){return a.lw(this,t,this),this.check()}multiplyRight(t){return a.lw(this,this,t),this.check()}rotate(t){return a.e$(this,this,t),this.check()}scale(t){return Array.isArray(t)?a.hs(this,this,t):a.hs(this,this,[t,t]),this.check()}translate(t){return a.Tl(this,this,t),this.check()}transform(t,e){let n;switch(t.length){case 2:n=l.ei(e||[-0,-0],t,this);break;case 3:n=c.ei(e||[-0,-0,-0],t,this);break;case 4:n=(0,s.vE)(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,o.qk)(n,t.length),n}transformVector(t,e){return this.transform(t,e)}transformVector2(t,e){return this.transform(t,e)}transformVector3(t,e){return this.transform(t,e)}}let f,d},92684:(t,e,n)=>{"use strict";n.d(e,{A:()=>g});var r,i=n(45088),o=n(75365),s=n(57323),a=n(36153),l=n(10355),c=n(10092),u=n(45625);!function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"}(r||(r={}));const h=45*Math.PI/180,f=1,d=.1,p=500,A=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class g extends i.A{static get IDENTITY(){return function(){m||(m=new g,Object.freeze(m));return m}()}static get ZERO(){return function(){y||(y=new g([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(y));return y}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return r}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,e,n,r,i,o,s,a,l,c,u,h,f,d,p,A){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=s,this[7]=a,this[8]=l,this[9]=c,this[10]=u,this[11]=h,this[12]=f,this[13]=d,this[14]=p,this[15]=A,this.check()}setRowMajor(t,e,n,r,i,o,s,a,l,c,u,h,f,d,p,A){return this[0]=t,this[1]=i,this[2]=l,this[3]=f,this[4]=e,this[5]=o,this[6]=c,this[7]=d,this[8]=n,this[9]=s,this[10]=u,this[11]=p,this[12]=r,this[13]=a,this[14]=h,this[15]=A,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy(A)}fromObject(t){return this.check()}fromQuaternion(t){return a.I0(this,t),this.check()}frustum(t){const{left:e,right:n,bottom:r,top:i,near:o=d,far:s=p}=t;return s===1/0?function(t,e,n,r,i,o){const s=2*o/(n-e),a=2*o/(i-r),l=(n+e)/(n-e),c=(i+r)/(i-r),u=-1,h=-1,f=-2*o;t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=l,t[9]=c,t[10]=u,t[11]=h,t[12]=0,t[13]=0,t[14]=f,t[15]=0}(this,e,n,r,i,o):a.$h(this,e,n,r,i,o,s),this.check()}lookAt(t){const{eye:e,center:n=[0,0,0],up:r=[0,1,0]}=t;return a.t5(this,e,n,r),this.check()}ortho(t){const{left:e,right:n,bottom:r,top:i,near:o=d,far:s=p}=t;return a.v3(this,e,n,r,i,o,s),this.check()}orthographic(t){const{fovy:e=h,aspect:n=f,focalDistance:r=1,near:i=d,far:o=p}=t;v(e);const s=e/2,a=r*Math.tan(s),l=a*n;return this.ortho({left:-l,right:l,bottom:-a,top:a,near:i,far:o})}perspective(t){const{fovy:e=45*Math.PI/180,aspect:n=1,near:r=.1,far:i=500}=t;return v(e),a.fN(this,e,n,r,i),this.check()}determinant(){return a.a4(this)}getScale(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t,e){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=e||[-0,-0,-0];const n=this.getScale(e),r=1/n[0],i=1/n[1],o=1/n[2];return t[0]=this[0]*r,t[1]=this[1]*i,t[2]=this[2]*o,t[3]=0,t[4]=this[4]*r,t[5]=this[5]*i,t[6]=this[6]*o,t[7]=0,t[8]=this[8]*r,t[9]=this[9]*i,t[10]=this[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t,e){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=e||[-0,-0,-0];const n=this.getScale(e),r=1/n[0],i=1/n[1],o=1/n[2];return t[0]=this[0]*r,t[1]=this[1]*i,t[2]=this[2]*o,t[3]=this[4]*r,t[4]=this[5]*i,t[5]=this[6]*o,t[6]=this[8]*r,t[7]=this[9]*i,t[8]=this[10]*o,t}transpose(){return a.mg(this,this),this.check()}invert(){return a.B8(this,this),this.check()}multiplyLeft(t){return a.lw(this,t,this),this.check()}multiplyRight(t){return a.lw(this,this,t),this.check()}rotateX(t){return a.eL(this,this,t),this.check()}rotateY(t){return a.Z8(this,this,t),this.check()}rotateZ(t){return a.Qr(this,this,t),this.check()}rotateXYZ(t){return this.rotateX(t[0]).rotateY(t[1]).rotateZ(t[2])}rotateAxis(t,e){return a.e$(this,this,t,e),this.check()}scale(t){return a.hs(this,this,Array.isArray(t)?t:[t,t,t]),this.check()}translate(t){return a.Tl(this,this,t),this.check()}transform(t,e){return 4===t.length?(e=u.Z0(e||[-0,-0,-0,-0],t,this),(0,o.qk)(e,4),e):this.transformAsPoint(t,e)}transformAsPoint(t,e){const{length:n}=t;let r;switch(n){case 2:r=l.Z0(e||[-0,-0],t,this);break;case 3:r=c.Z0(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,o.qk)(r,t.length),r}transformAsVector(t,e){let n;switch(t.length){case 2:n=(0,s.B$)(e||[-0,-0],t,this);break;case 3:n=(0,s.cL)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,o.qk)(n,t.length),n}transformPoint(t,e){return this.transformAsPoint(t,e)}transformVector(t,e){return this.transformAsPoint(t,e)}transformDirection(t,e){return this.transformAsVector(t,e)}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,e,n){return this.identity().translate([t,e,n])}}let y,m;function v(t){if(t>2*Math.PI)throw Error("expected radians")}},50516:(t,e,n)=>{"use strict";n.d(e,{A:()=>E});var r=n(89911),i=n(75365),o=n(39618),s=n(62374),a=n(620),l=n(10092),c=n(45625);function u(){var t=new s.tb(4);return s.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function h(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function f(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+s*a+i*c-o*l,t[1]=i*u+s*l+o*a-r*c,t[2]=o*u+s*c+r*l-i*a,t[3]=s*u-r*a-i*l-o*c,t}function d(t,e,n,r){var i,o,a,l,c,u=e[0],h=e[1],f=e[2],d=e[3],p=n[0],A=n[1],g=n[2],y=n[3];return(o=u*p+h*A+f*g+d*y)<0&&(o=-o,p=-p,A=-A,g=-g,y=-y),1-o>s.p8?(i=Math.acos(o),a=Math.sin(i),l=Math.sin((1-r)*i)/a,c=Math.sin(r*i)/a):(l=1-r,c=r),t[0]=l*u+c*p,t[1]=l*h+c*A,t[2]=l*f+c*g,t[3]=l*d+c*y,t}function p(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,s=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*s+s]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+s]-e[3*s+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[s]=(e[3*s+i]+e[3*i+s])*n}return t}c.o8,c.fA,c.C,c.hZ;var A=c.WQ,g=c.hs,y=c.Om,m=c.Cc,v=c.Bw,b=c.m3,_=c.S8,w=(c.t2,c.aI,function(){var t=l.vt(),e=l.fA(1,0,0),n=l.fA(0,1,0);return function(r,i,o){var s=l.Om(i,o);return s<-.999999?(l.$A(t,e,i),l.Il(t)<1e-6&&l.$A(t,n,i),l.S8(t,t),h(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(l.$A(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,_(r,r))}}());(function(){var t=u(),e=u()})(),function(){var t=a.vt()}();const x=[0,0,0,1];class E extends r.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(-0,-0,-0,-0),Array.isArray(t)&&1===arguments.length?this.copy(t):this.set(t,e,n,r)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,e,n,r){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this.check()}fromObject(t){return this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this.check()}fromMatrix3(t){return p(this,t),this.check()}fromAxisRotation(t,e){return h(this,t,e),this.check()}identity(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.check()}setAxisAngle(t,e){return this.fromAxisRotation(t,e)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=(0,i.ws)(t)}get y(){return this[1]}set y(t){this[1]=(0,i.ws)(t)}get z(){return this[2]}set z(t){this[2]=(0,i.ws)(t)}get w(){return this[3]}set w(t){this[3]=(0,i.ws)(t)}len(){return v(this)}lengthSquared(){return b(this)}dot(t){return y(this,t)}rotationTo(t,e){return w(this,t,e),this.check()}add(t){return A(this,this,t),this.check()}calculateW(){return function(t,e){var n=e[0],r=e[1],i=e[2];t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i))}(this,this),this.check()}conjugate(){var t,e;return e=this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.check()}invert(){return function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o,a=s?1/s:0;t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=o*a}(this,this),this.check()}lerp(t,e,n){return void 0===n?this.lerp(this,t,e):(m(this,t,e,n),this.check())}multiplyRight(t){return f(this,this,t),this.check()}multiplyLeft(t){return f(this,t,this),this.check()}normalize(){const t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}rotateX(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),l=Math.cos(n);t[0]=r*l+s*a,t[1]=i*l+o*a,t[2]=o*l-i*a,t[3]=s*l-r*a}(this,this,t),this.check()}rotateY(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),l=Math.cos(n);t[0]=r*l-o*a,t[1]=i*l+s*a,t[2]=o*l+r*a,t[3]=s*l-i*a}(this,this,t),this.check()}rotateZ(t){return function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),l=Math.cos(n);t[0]=r*l+i*a,t[1]=i*l-r*a,t[2]=o*l+s*a,t[3]=s*l-o*a}(this,this,t),this.check()}scale(t){return g(this,this,t),this.check()}slerp(t,e,n){let r,i,o;switch(arguments.length){case 1:({start:r=x,target:i,ratio:o}=t);break;case 2:r=this,i=t,o=e;break;default:r=t,i=e,o=n}return d(this,r,i,o),this.check()}transformVector4(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.A;return c.gL(e,t,this),(0,i.qk)(e,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,e){return this.setAxisAngle(t,e)}premultiply(t){return this.multiplyLeft(t)}multiply(t){return this.multiplyRight(t)}}},69694:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(54705),i=n(83051),o=n(67567),s=n(10092);const a=1e-6,l=6371e3;class c{constructor(){let{phi:t=0,theta:e=0,radius:n=1,bearing:i,pitch:o,altitude:s,radiusScale:a=l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.A)(this,"phi",void 0),(0,r.A)(this,"theta",void 0),(0,r.A)(this,"radius",void 0),(0,r.A)(this,"radiusScale",void 0),this.phi=t,this.theta=e,this.radius=n||s||1,this.radiusScale=a||1,void 0!==i&&(this.bearing=i),void 0!==o&&(this.pitch=o),this.check()}toString(){return this.formatString(o.$W)}formatString(t){let{printTypes:e=!1}=t;const n=o.Fl;return"".concat(e?"Spherical":"","[rho:").concat(n(this.radius),",theta:").concat(n(this.theta),",phi:").concat(n(this.phi),"]")}equals(t){return(0,o.aI)(this.radius,t.radius)&&(0,o.aI)(this.theta,t.theta)&&(0,o.aI)(this.phi,t.phi)}exactEquals(t){return this.radius===t.radius&&this.theta===t.theta&&this.phi===t.phi}get bearing(){return 180-(0,o.uj)(this.phi)}set bearing(t){this.phi=Math.PI-(0,o.F2)(t)}get pitch(){return(0,o.uj)(this.theta)}set pitch(t){this.theta=(0,o.F2)(t)}get longitude(){return(0,o.uj)(this.phi)}get latitude(){return(0,o.uj)(this.theta)}get lng(){return(0,o.uj)(this.phi)}get lat(){return(0,o.uj)(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this.check()}clone(){return(new c).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this.check()}fromLngLatZ(t){let[e,n,r]=t;return this.radius=1+r/this.radiusScale,this.phi=(0,o.F2)(n),this.theta=(0,o.F2)(e),this.check()}fromVector3(t){return this.radius=s.Bw(t),this.radius>0&&(this.theta=Math.atan2(t[0],t[1]),this.phi=Math.acos((0,o.qE)(t[2]/this.radius,-1,1))),this.check()}toVector3(){return new i.A(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(a,Math.min(Math.PI-a,this.phi)),this}check(){if(!Number.isFinite(this.phi)||!Number.isFinite(this.theta)||!(this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}},61028:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var r=n(40790),i=n(67567),o=n(75365),s=n(10355),a=n(57323);class l extends r.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(2),(0,i.cy)(t)&&1===arguments.length?this.copy(t):(i.$W.debug&&((0,o.ws)(t),(0,o.ws)(e)),this[0]=t,this[1]=e)}set(t,e){return this[0]=t,this[1]=e,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this.check()}fromObject(t){return i.$W.debug&&((0,o.ws)(t.x),(0,o.ws)(t.y)),this[0]=t.x,this[1]=t.y,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return s.Z0(this,this,t),this.check()}transformAsVector(t){return(0,a.B$)(this,this,t),this.check()}transformByMatrix3(t){return s.ei(this,this,t),this.check()}transformByMatrix2x3(t){return s.l0(this,this,t),this.check()}transformByMatrix2(t){return s.ZF(this,this,t),this.check()}}},83051:(t,e,n)=>{"use strict";n.d(e,{A:()=>u});var r=n(40790),i=n(67567),o=n(75365),s=n(10092),a=n(57323);const l=[0,0,0];let c;class u extends r.A{static get ZERO(){return c||(c=new u(0,0,0),Object.freeze(c)),c}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(-0,-0,-0),1===arguments.length&&(0,i.cy)(t)?this.copy(t):(i.$W.debug&&((0,o.ws)(t),(0,o.ws)(e),(0,o.ws)(n)),this[0]=t,this[1]=e,this[2]=n)}set(t,e,n){return this[0]=t,this[1]=e,this[2]=n,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return i.$W.debug&&((0,o.ws)(t.x),(0,o.ws)(t.y),(0,o.ws)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=(0,o.ws)(t)}angle(t){return s.g7(this,t)}cross(t){return s.$A(this,this,t),this.check()}rotateX(t){let{radians:e,origin:n=l}=t;return s.eL(this,this,n,e),this.check()}rotateY(t){let{radians:e,origin:n=l}=t;return s.Z8(this,this,n,e),this.check()}rotateZ(t){let{radians:e,origin:n=l}=t;return s.x6(this,this,n,e),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return s.Z0(this,this,t),this.check()}transformAsVector(t){return(0,a.cL)(this,this,t),this.check()}transformByMatrix3(t){return s.ei(this,this,t),this.check()}transformByMatrix2(t){return(0,a.J4)(this,this,t),this.check()}transformByQuaternion(t){return s.gL(this,this,t),this.check()}}},39618:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(40790),i=n(67567),o=n(75365),s=n(10092),a=n(57323);let l;class c extends r.A{static get ZERO(){return l||(l=new c(0,0,0,0),Object.freeze(l)),l}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(-0,-0,-0,-0),(0,i.cy)(t)&&1===arguments.length?this.copy(t):(i.$W.debug&&((0,o.ws)(t),(0,o.ws)(e),(0,o.ws)(n),(0,o.ws)(r)),this[0]=t,this[1]=e,this[2]=n,this[3]=r)}set(t,e,n,r){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}fromObject(t){return i.$W.debug&&((0,o.ws)(t.x),(0,o.ws)(t.y),(0,o.ws)(t.z),(0,o.ws)(t.w)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t.w=this[3],t}get ELEMENTS(){return 4}get z(){return this[2]}set z(t){this[2]=(0,o.ws)(t)}get w(){return this[3]}set w(t){this[3]=(0,o.ws)(t)}transform(t){return s.Z0(this,this,t),this.check()}transformByMatrix3(t){return(0,a.vE)(this,this,t),this.check()}transformByMatrix2(t){return(0,a.Cg)(this,this,t),this.check()}transformByQuaternion(t){return s.gL(this,this,t),this.check()}applyMatrix4(t){return t.transform(this,this),this}}},15476:(t,e,n)=>{"use strict";function r(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}n.d(e,{A:()=>r})},67567:(t,e,n)=>{"use strict";n.d(e,{$W:()=>s,Cc:()=>w,F2:()=>d,F8:()=>A,Fl:()=>l,HQ:()=>v,Ml:()=>y,ZK:()=>S,aI:()=>x,cy:()=>c,eh:()=>h,gn:()=>g,jK:()=>a,o8:()=>u,qE:()=>_,qR:()=>m,rY:()=>b,t2:()=>E,uj:()=>p,xW:()=>f});var r=n(15476);const i=1/Math.PI*180,o=1/180*Math.PI,s={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function a(t){for(const e in t)(0,r.A)(e in s),s[e]=t[e];return s}function l(t){let{precision:e=s.precision}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=function(t){return Math.round(t/s.EPSILON)*s.EPSILON}(t),"".concat(parseFloat(t.toPrecision(e)))}function c(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function u(t){return"clone"in t?t.clone():t.slice()}function h(t){return d(t)}function f(t){return p(t)}function d(t,e){return C(t,(t=>t*o),e)}function p(t,e){return C(t,(t=>t*i),e)}function A(t,e){return C(t,(t=>Math.sin(t)),e)}function g(t,e){return C(t,(t=>Math.cos(t)),e)}function y(t,e){return C(t,(t=>Math.tan(t)),e)}function m(t,e){return C(t,(t=>Math.asin(t)),e)}function v(t,e){return C(t,(t=>Math.acos(t)),e)}function b(t,e){return C(t,(t=>Math.atan(t)),e)}function _(t,e,n){return C(t,(t=>Math.max(e,Math.min(n,t))))}function w(t,e,n){return c(t)?t.map(((t,r)=>w(t,e[r],n))):n*e+(1-n)*t}function x(t,e,n){const r=s.EPSILON;n&&(s.EPSILON=n);try{if(t===e)return!0;if(c(t)&&c(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!x(t[n],e[n]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):"number"===typeof t&&"number"===typeof e&&Math.abs(t-e)<=s.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{s.EPSILON=r}}function E(t,e){if(t===e)return!0;if(t&&"object"===typeof t&&e&&"object"===typeof e){if(t.constructor!==e.constructor)return!1;if(t.exactEquals)return t.exactEquals(e)}if(c(t)&&c(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!E(t[n],e[n]))return!1;return!0}return!1}function S(t,e){const n=s.EPSILON;let r;s.EPSILON=t;try{r=e()}finally{s.EPSILON=n}return r}function C(t,e,n){if(c(t)){const r=t;n=n||function(t){return t.clone?t.clone():new Array(t.length)}(r);for(let i=0;i<n.length&&i<r.length;++i)n[i]=e(t[i],i,n);return n}return e(t)}},57323:(t,e,n)=>{"use strict";function r(t,e,n){const r=e[0],i=e[1],o=n[3]*r+n[7]*i||1;return t[0]=(n[0]*r+n[4]*i)/o,t[1]=(n[1]*r+n[5]*i)/o,t}function i(t,e,n){const r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o||1;return t[0]=(n[0]*r+n[4]*i+n[8]*o)/s,t[1]=(n[1]*r+n[5]*i+n[9]*o)/s,t[2]=(n[2]*r+n[6]*i+n[10]*o)/s,t}function o(t,e,n){const r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t[2]=e[2],t}function s(t,e,n){const r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t[2]=e[2],t[3]=e[3],t}function a(t,e,n){const r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r+n[3]*i+n[6]*o,t[1]=n[1]*r+n[4]*i+n[7]*o,t[2]=n[2]*r+n[5]*i+n[8]*o,t[3]=e[3],t}n.d(e,{B$:()=>r,Cg:()=>s,J4:()=>o,cL:()=>i,vE:()=>a})},83004:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},75365:(t,e,n)=>{"use strict";n.d(e,{qk:()=>o,ws:()=>i});var r=n(67567);function i(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function o(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(r.$W.debug&&!function(t,e){if(t.length!==e)return!1;for(let n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}(t,e))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return t}},58752:(t,e,n)=>{"use strict";n.d(e,{rJ:()=>r,wk:()=>U,Eg:()=>X,Mk:()=>N,Iy:()=>q,hY:()=>s,IC:()=>o,UD:()=>i});const r={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(o(t,e))}(t,n);return r!==e&&(function(t,e){const{start:n=0,end:r=t.length,size:i=2}=e,o=(r-n)/i,s=Math.floor(o/2);for(let a=0;a<s;++a){const e=n+a*i,r=n+(o-1-a)*i;for(let n=0;n<i;++n){const i=t[e+n];t[e+n]=t[r+n],t[r+n]=i}}}(t,n),!0)}function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{start:n=0,end:r=t.length}=e,i=e.size||2;let o=0;for(let s=n,a=r-i;s<r;s+=i)o+=(t[s]-t[a])*(t[s+1]+t[a+1]),a=s;return o/2}function s(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3?arguments[3]:void 0;const i=e&&e.length,o=i?e[0]*n:t.length;let s=a(t,0,o,n,!0,r&&r[0]);const u=[];if(!s||s.next===s.prev)return u;let h,f,d,g,y,v,b;if(i&&(s=function(t,e,n,r,i){const o=[];let s,c,u,h,f;for(s=0,c=e.length;s<c;s++)u=e[s]*r,h=s<c-1?e[s+1]*r:t.length,f=a(t,u,h,r,!1,i&&i[s+1]),f===f.next&&(f.steiner=!0),o.push(m(f));for(o.sort(p),s=0;s<o.length;s++)A(o[s],n),n=l(n,n.next);return n}(t,e,s,n,r)),t.length>80*n){g=f=t[0],y=d=t[1];for(let e=n;e<o;e+=n)v=t[e],b=t[e+1],v<g&&(g=v),b<y&&(y=b),v>f&&(f=v),b>d&&(d=b);h=Math.max(f-g,d-y),h=0!==h?1/h:0}return c(s,u,n,g,y,h),u}function a(t,e,n,r,i,s){let a,l;if(void 0===s&&(s=o(t,{start:e,end:n,size:r})),i===s<0)for(a=e;a<n;a+=r)l=M(a,t[a],t[a+1],l);else for(a=n-r;a>=e;a-=r)l=M(a,t[a],t[a+1],l);return l&&w(l,l.next)&&(T(l),l=l.next),l}function l(t,e){if(!t)return t;e||(e=t);let n,r=t;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==_(r.prev,r,r.next))r=r.next;else{if(T(r),r=e=r.prev,r===r.next)break;n=!0}}while(n||r!==e);return e}function c(t,e,n,r,i,o,s){if(!t)return;!s&&o&&function(t,e,n,r){let i=t;do{null===i.z&&(i.z=y(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e,n,r,i,o,s,a,l,c=1;do{for(i=t,t=null,l=null,r=0;i;){for(r++,s=i,o=0,n=0;n<c&&(o++,s=s.nextZ,s);n++);for(a=c;o>0||a>0&&s;)0!==o&&(0===a||!s||i.z<=s.z)?(e=i,i=i.nextZ,o--):(e=s,s=s.nextZ,a--),l?l.nextZ=e:t=e,e.prevZ=l,l=e;i=s}l.nextZ=null,c*=2}while(r>1)}(i)}(t,r,i,o);let a,p,A=t;for(;t.prev!==t.next;)if(a=t.prev,p=t.next,o?h(t,r,i,o):u(t))e.push(a.i/n),e.push(t.i/n),e.push(p.i/n),T(t),t=p.next,A=p.next;else if((t=p)===A){s?1===s?c(t=f(l(t),e,n),e,n,r,i,o,2):2===s&&d(t,e,n,r,i,o):c(l(t),e,n,r,i,o,1);break}}function u(t){const e=t.prev,n=t,r=t.next;if(_(e,n,r)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(v(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&_(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function h(t,e,n,r){const i=t.prev,o=t,s=t.next;if(_(i,o,s)>=0)return!1;const a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,l=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,u=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=y(a,l,e,n,r),f=y(c,u,e,n,r);let d=t.prevZ,p=t.nextZ;for(;d&&d.z>=h&&p&&p.z<=f;){if(d!==t.prev&&d!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function f(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!w(i,o)&&x(i,r,r.next,o)&&C(i,o)&&C(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),T(r),T(r.next),r=t=o),r=r.next}while(r!==t);return l(r)}function d(t,e,n,r,i,o){let s=t;do{let t=s.next.next;for(;t!==s.prev;){if(s.i!==t.i&&b(s,t)){let a=P(s,t);return s=l(s,s.next),a=l(a,a.next),c(s,e,n,r,i,o),void c(a,e,n,r,i,o)}t=t.next}s=s.next}while(s!==t)}function p(t,e){return t.x-e.x}function A(t,e){if(e=function(t,e){let n=e;const r=t.x,i=t.y;let o,s=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const t=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=r&&t>s){if(s=t,t===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(r===s)return o;const a=o,l=o.x,c=o.y;let u,h=1/0;n=o;do{r>=n.x&&n.x>=l&&r!==n.x&&v(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(r-n.x),C(n,t)&&(u<h||u===h&&(n.x>o.x||n.x===o.x&&g(o,n)))&&(o=n,h=u)),n=n.next}while(n!==a);return o}(t,e),e){const n=P(e,t);l(e,e.next),l(n,n.next)}}function g(t,e){return _(t.prev,t,e.prev)<0&&_(e.next,t,t.next)<0}function y(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function m(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&x(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(C(t,e)&&C(e,t)&&function(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(_(t.prev,t,e.prev)||_(t,e.prev,e))||w(t,e)&&_(t.prev,t,t.next)>0&&_(e.prev,e,e.next)>0)}function _(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,n,r){const i=S(_(t,e,n)),o=S(_(t,e,r)),s=S(_(n,r,t)),a=S(_(n,r,e));return i!==o&&s!==a||(!(0!==i||!E(t,n,e))||(!(0!==o||!E(t,r,e))||(!(0!==s||!E(n,t,r))||!(0!==a||!E(n,e,r)))))}function E(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function S(t){return t>0?1:t<0?-1:0}function C(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function P(t,e){const n=new O(t.i,t.x,t.y),r=new O(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function M(t,e,n,r){const i=new O(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(t,e,n,r){let i,o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&n)i=(r[3]-t[1])/(e[1]-t[1]),o=3;else if(4&n)i=(r[1]-t[1])/(e[1]-t[1]),o=1;else if(2&n)i=(r[2]-t[0])/(e[0]-t[0]),o=2;else{if(!(1&n))return null;i=(r[0]-t[0])/(e[0]-t[0]),o=0}for(let a=0;a<t.length;a++)s[a]=(1&o)===a?r[o]:i*(e[a]-t[a])+t[a];return s}function R(t,e){let n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function L(t,e){const n=e.length,r=t.length;if(r>0){let i=!0;for(let o=0;o<n;o++)if(t[r-n+o]!==e[o]){i=!1;break}if(i)return!1}for(let i=0;i<n;i++)t[r+i]=e[i];return!0}function k(t,e){const n=e.length;for(let r=0;r<n;r++)t[r]=e[r]}function B(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const o=r+e*n;for(let s=0;s<n;s++)i[s]=t[o+s];return i}function N(t,e){const{size:n=2,broken:r=!1,gridResolution:i=10,gridOffset:o=[0,0],startIndex:s=0,endIndex:a=t.length}=e||{},l=(a-s)/n;let c=[];const u=[c],h=B(t,0,n,s);let f,d;const p=G(h,i,o,[]),A=[];L(c,h);for(let g=1;g<l;g++){for(f=B(t,g,n,s,f),d=R(f,p);d;){I(h,f,d,p,A);const t=R(A,p);t&&(I(h,A,t,p,A),d=t),L(c,A),k(h,A),V(p,i,d),r&&c.length>n&&(c=[],u.push(c),L(c,h)),d=R(f,p)}L(c,f),k(h,f)}return r?u:u[0]}const D=0,F=1;function j(t,e){for(let n=0;n<e.length;n++)t.push(e[n]);return t}function U(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;if(!t.length)return[];const{size:r=2,gridResolution:i=10,gridOffset:o=[0,0],edgeTypes:s=!1}=n||{},a=[],l=[{pos:t,types:s?new Array(t.length/r).fill(F):null,holes:e||[]}],c=[[],[]];let u=[];for(;l.length;){const{pos:t,types:e,holes:n}=l.shift();H(t,r,n[0]||t.length,c),u=G(c[0],i,o,u);const h=R(c[1],u);if(h){let i=z(t,e,r,0,n[0]||t.length,u,h);const o={pos:i[0].pos,types:i[0].types,holes:[]},a={pos:i[1].pos,types:i[1].types,holes:[]};l.push(o,a);for(let l=0;l<n.length;l++)i=z(t,e,r,n[l],n[l+1]||t.length,u,h),i[0]&&(o.holes.push(o.pos.length),o.pos=j(o.pos,i[0].pos),s&&(o.types=j(o.types,i[0].types))),i[1]&&(a.holes.push(a.pos.length),a.pos=j(a.pos,i[1].pos),s&&(a.types=j(a.types,i[1].types)))}else{const r={positions:t};s&&(r.edgeTypes=e),n.length&&(r.holeIndices=n),a.push(r)}}return a}function z(t,e,n,r,i,o,s){const a=(i-r)/n,l=[],c=[],u=[],h=[],f=[];let d,p,A;const g=B(t,a-1,n,r);let y=Math.sign(8&s?g[1]-o[3]:g[0]-o[2]),m=e&&e[a-1],v=0,b=0;for(let _=0;_<a;_++)d=B(t,_,n,r,d),p=Math.sign(8&s?d[1]-o[3]:d[0]-o[2]),A=e&&e[r/n+_],p&&y&&y!==p&&(I(g,d,s,o,f),L(l,f)&&u.push(m),L(c,f)&&h.push(m)),p<=0?(L(l,d)&&u.push(A),v-=p):u.length&&(u[u.length-1]=D),p>=0?(L(c,d)&&h.push(A),b+=p):h.length&&(h[h.length-1]=D),k(g,d),y=p,m=A;return[v?{pos:l,types:e&&u}:null,b?{pos:c,types:e&&h}:null]}function G(t,e,n,r){const i=Math.floor((t[0]-n[0])/e)*e+n[0],o=Math.floor((t[1]-n[1])/e)*e+n[1];return r[0]=i,r[1]=o,r[2]=i+e,r[3]=o+e,r}function V(t,e,n){8&n?(t[1]+=e,t[3]+=e):4&n?(t[1]-=e,t[3]-=e):2&n?(t[0]+=e,t[2]+=e):1&n&&(t[0]-=e,t[2]-=e)}function H(t,e,n,r){let i=1/0,o=-1/0,s=1/0,a=-1/0;for(let l=0;l<n;l+=e){const e=t[l],n=t[l+1];i=e<i?e:i,o=e>o?e:o,s=n<s?n:s,a=n>a?n:a}return r[0][0]=i,r[0][1]=s,r[1][0]=o,r[1][1]=a,r}const W=85.051129;function q(t,e){const{size:n=2,startIndex:r=0,endIndex:i=t.length,normalize:o=!0}=e||{},s=t.slice(r,i);K(s,n,0,i-r);const a=N(s,{size:n,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(o)for(const l of a)J(l,n);return a}function X(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;const{size:r=2,normalize:i=!0,edgeTypes:o=!1}=n||{};e=e||[];const s=[],a=[];let l=0,c=0;for(let h=0;h<=e.length;h++){const i=e[h]||t.length,o=c,u=Y(t,r,l,i);for(let e=u;e<i;e++)s[c++]=t[e];for(let e=l;e<u;e++)s[c++]=t[e];K(s,r,o,c),Q(s,r,o,c,null===n||void 0===n?void 0:n.maxLatitude),l=i,a[h]=c}a.pop();const u=U(s,a,{size:r,gridResolution:360,gridOffset:[-180,-180],edgeTypes:o});if(i)for(const h of u)J(h.positions,r);return u}function Y(t,e,n,r){let i=-1,o=-1;for(let s=n+1;s<r;s+=e){const e=Math.abs(t[s]);e>i&&(i=e,o=s-1)}return o}function Q(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:W;const o=t[n],s=t[r-e];if(Math.abs(o-s)>180){const r=B(t,0,e,n);r[0]+=360*Math.round((s-o)/360),L(t,r),r[1]=Math.sign(r[1])*i,L(t,r),r[0]=o,L(t,r)}}function K(t,e,n,r){let i,o=t[0];for(let s=n;s<r;s+=e){i=t[s];const e=i-o;(e>180||e<-180)&&(i-=360*Math.round(e/360)),t[s]=o=i}}function J(t,e){let n;const r=t.length/e;for(let o=0;o<r&&(n=t[o*e],(n+180)%360===0);o++);const i=360*-Math.round(n/360);if(0!==i)for(let o=0;o<r;o++)t[o*e]+=i}},17844:(t,e,n)=>{"use strict";n.d(e,{aH:()=>v,KH:()=>U,dT:()=>M,Os:()=>R,Fe:()=>N,rj:()=>q,wZ:()=>L,gW:()=>F,nI:()=>P,v7:()=>X,fO:()=>S,Jh:()=>I,om:()=>O,rY:()=>T,Gw:()=>x,CK:()=>G,xJ:()=>B,J9:()=>w,mY:()=>C,iV:()=>E,VJ:()=>k,XM:()=>_});var r=n(54705),i=n(45625);function o(t,e){const n=(0,i.Z0)([],e,t);return(0,i.hs)(n,n,1/n[3]),n}function s(t,e){const n=t%e;return n<0?e+n:n}function a(t,e,n){return t<e?e:t>n?n:t}const l=Math.log2||function(t){return Math.log(t)*Math.LOG2E};var c=n(36153),u=n(10355),h=n(10092);function f(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const d=Math.PI,p=d/4,A=d/180,g=180/d,y=512,m=4003e4,v=85.051129,b=1.5;function _(t){return Math.pow(2,t)}function w(t){return l(t)}function x(t){const[e,n]=t;f(Number.isFinite(e)),f(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const r=n*A;return[y*(e*A+d)/(2*d),y*(d+Math.log(Math.tan(p+.5*r)))/(2*d)]}function E(t){const[e,n]=t,r=e/y*(2*d)-d,i=2*(Math.atan(Math.exp(n/y*(2*d)-d))-p);return[r*g,i*g]}function S(t){const{latitude:e}=t;f(Number.isFinite(e));const n=Math.cos(e*A);return w(m*n)-9}function C(t){const e=Math.cos(t*A);return y/m/e}function P(t){const{latitude:e,longitude:n,highPrecision:r=!1}=t;f(Number.isFinite(e)&&Number.isFinite(n));const i=y,o=Math.cos(e*A),s=i/360,a=s/o,l=i/m/o,c={unitsPerMeter:[l,l,l],metersPerUnit:[1/l,1/l,1/l],unitsPerDegree:[s,a,l],degreesPerUnit:[1/s,1/a,1/l]};if(r){const t=A*Math.tan(e*A)/o,n=s*t/2,r=i/m*t,u=r/a*l;c.unitsPerDegree2=[0,n,r],c.unitsPerMeter2=[u,0,u]}return c}function M(t,e){const[n,r,i]=t,[o,s,a]=e,{unitsPerMeter:l,unitsPerMeter2:c}=P({longitude:n,latitude:r,highPrecision:!0}),u=x(t);u[0]+=o*(l[0]+c[0]*s),u[1]+=s*(l[1]+c[1]*s);const h=E(u),f=(i||0)+(a||0);return Number.isFinite(i)||Number.isFinite(a)?[h[0],h[1],f]:h}function T(t){const{height:e,pitch:n,bearing:r,altitude:i,scale:o,center:s}=t,a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];c.Tl(a,a,[0,0,-i]),c.eL(a,a,-n*A),c.Qr(a,a,r*A);const l=o/e;return c.hs(a,a,[l,l,l]),s&&c.Tl(a,a,h.ze([],s)),a}function O(t){const{width:e,height:n,altitude:r,pitch:i=0,offset:o,center:s,scale:l,nearZMultiplier:c=1,farZMultiplier:u=1}=t;let{fovy:h=R(b)}=t;void 0!==r&&(h=R(r));const f=h*A,d=i*A,p=L(h);let g=p;s&&(g+=s[2]*l/Math.cos(d)/n);const y=f*(.5+(o?o[1]:0)/n),m=Math.sin(y)*g/Math.sin(a(Math.PI/2-d-y,.01,Math.PI-.01)),v=Math.sin(d)*m+g,_=10*g;return{fov:f,aspect:e/n,focalDistance:p,near:c,far:Math.min(v*u,_)}}function I(t){const{fov:e,aspect:n,near:r,far:i}=O(t);return c.fN([],e,n,r,i)}function R(t){return 2*Math.atan(.5/t)*g}function L(t){return.5/Math.tan(.5*t*A)}function k(t,e){const[n,r,i=0]=t;return f(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(i)),o(e,[n,r,i,1])}function B(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[r,i,s]=t;if(f(Number.isFinite(r)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(s)){return o(e,[r,i,s,1])}const a=o(e,[r,i,0,1]),l=o(e,[r,i,1,1]),c=a[2],h=l[2],d=c===h?0:((n||0)-c)/(h-c);return u.Cc([],a,l,d)}function N(t){const{width:e,height:n,bounds:r,minExtent:i=0,maxZoom:o=24,offset:s=[0,0]}=t,[[c,u],[h,d]]=r,p=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"===typeof t)return{top:t,bottom:t,left:t,right:t};return f(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t}(t.padding),A=x([c,a(d,-v,v)]),g=x([h,a(u,-v,v)]),y=[Math.max(Math.abs(g[0]-A[0]),i),Math.max(Math.abs(g[1]-A[1]),i)],m=[e-p.left-p.right-2*Math.abs(s[0]),n-p.top-p.bottom-2*Math.abs(s[1])];f(m[0]>0&&m[1]>0);const b=m[0]/y[0],_=m[1]/y[1],w=(p.right-p.left)/2/b,S=(p.top-p.bottom)/2/_,C=E([(g[0]+A[0])/2+w,(g[1]+A[1])/2+S]),P=Math.min(o,l(Math.abs(Math.min(b,_))));return f(Number.isFinite(P)),{longitude:C[0],latitude:C[1],zoom:P}}const D=Math.PI/180;function F(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{width:n,height:r,unproject:i}=t,o={targetZ:e},s=i([0,r],o),a=i([n,r],o);let l,c;return(t.fovy?.5*t.fovy*D:Math.atan(.5/t.altitude))>(90-t.pitch)*D-.01?(l=j(t,0,e),c=j(t,n,e)):(l=i([0,0],o),c=i([n,0],o)),[s,a,c,l]}function j(t,e,n){const{pixelUnprojectionMatrix:r}=t,i=o(r,[e,0,1,1]),s=o(r,[e,t.height,1,1]),a=(n*t.distanceScales.unitsPerMeter[2]-i[2])/(s[2]-i[2]),l=E(u.Cc([],i,s,a));return l.push(n),l}class U{constructor(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1};(0,r.A)(this,"latitude",void 0),(0,r.A)(this,"longitude",void 0),(0,r.A)(this,"zoom",void 0),(0,r.A)(this,"pitch",void 0),(0,r.A)(this,"bearing",void 0),(0,r.A)(this,"altitude",void 0),(0,r.A)(this,"fovy",void 0),(0,r.A)(this,"meterOffset",void 0),(0,r.A)(this,"center",void 0),(0,r.A)(this,"width",void 0),(0,r.A)(this,"height",void 0),(0,r.A)(this,"scale",void 0),(0,r.A)(this,"distanceScales",void 0),(0,r.A)(this,"viewMatrix",void 0),(0,r.A)(this,"projectionMatrix",void 0),(0,r.A)(this,"viewProjectionMatrix",void 0),(0,r.A)(this,"pixelProjectionMatrix",void 0),(0,r.A)(this,"pixelUnprojectionMatrix",void 0),(0,r.A)(this,"equals",(t=>t instanceof U&&(t.width===this.width&&t.height===this.height&&c.aI(t.projectionMatrix,this.projectionMatrix)&&c.aI(t.viewMatrix,this.viewMatrix)))),(0,r.A)(this,"project",(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{topLeft:r=!0}=n,i=k(t.projectPosition(e),t.pixelProjectionMatrix),[o,s]=i,a=r?s:t.height-s;return 2===e.length?[o,a]:[o,a,i[2]]})),(0,r.A)(this,"unproject",(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{topLeft:r=!0,targetZ:i}=n,[o,s,a]=e,l=r?s:t.height-s,c=i&&i*t.distanceScales.unitsPerMeter[2],u=B([o,l,a],t.pixelUnprojectionMatrix,c),[h,f,d]=t.unprojectPosition(u);return Number.isFinite(a)?[h,f,d]:Number.isFinite(i)?[h,f,i]:[h,f]})),(0,r.A)(this,"projectPosition",(t=>{const[e,n]=x(t);return[e,n,(t[2]||0)*this.distanceScales.unitsPerMeter[2]]})),(0,r.A)(this,"unprojectPosition",(t=>{const[e,n]=E(t);return[e,n,(t[2]||0)*this.distanceScales.metersPerUnit[2]]}));let{width:n,height:i,altitude:o=null,fovy:s=null}=e;const{latitude:a=0,longitude:l=0,zoom:u=0,pitch:f=0,bearing:d=0,position:p=null,nearZMultiplier:A=.02,farZMultiplier:g=1.01}=e;n=n||1,i=i||1,null===s&&null===o?(o=b,s=R(o)):null===s?s=R(o):null===o&&(o=L(s));const y=_(u);o=Math.max(.75,o);const m=P({longitude:l,latitude:a}),v=x([l,a]);v.push(0),p&&h.WQ(v,v,h.lK([],p,m.unitsPerMeter)),this.projectionMatrix=I({width:n,height:i,scale:y,center:v,pitch:f,fovy:s,nearZMultiplier:A,farZMultiplier:g}),this.viewMatrix=T({height:i,scale:y,center:v,pitch:f,bearing:d,altitude:o}),this.width=n,this.height=i,this.scale=y,this.latitude=a,this.longitude=l,this.zoom=u,this.pitch=f,this.bearing=d,this.altitude=o,this.fovy=s,this.center=v,this.meterOffset=p||[0,0,0],this.distanceScales=m,this._initMatrices(),Object.freeze(this)}_initMatrices(){const{width:t,height:e,projectionMatrix:n,viewMatrix:r}=this,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];c.lw(i,i,n),c.lw(i,i,r),this.viewProjectionMatrix=i;const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];c.hs(o,o,[t/2,-e/2,1]),c.Tl(o,o,[1,-1,0]),c.lw(o,o,i);const s=c.B8([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o);if(!s)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=s}projectFlat(t){return x(t)}unprojectFlat(t){return E(t)}getMapCenterByLngLatPosition(t){let{lngLat:e,pos:n}=t;const r=B(n,this.pixelUnprojectionMatrix),i=x(e),o=u.WQ([],i,u.ze([],r));return E(u.WQ([],this.center,o))}fitBounds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n,height:r}=this,{longitude:i,latitude:o,zoom:s}=N(Object.assign({width:n,height:r,bounds:t},e));return new U({width:n,height:r,longitude:i,latitude:o,zoom:s})}getBounds(t){const e=this.getBoundingRegion(t),n=Math.min(...e.map((t=>t[0]))),r=Math.max(...e.map((t=>t[0])));return[[n,Math.min(...e.map((t=>t[1])))],[r,Math.max(...e.map((t=>t[1])))]]}getBoundingRegion(){return F(this,(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0)}getLocationAtPoint(t){let{lngLat:e,pos:n}=t;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}}const z=512;function G(t){const{width:e,height:n,pitch:r=0}=t;let{longitude:i,latitude:o,zoom:a,bearing:c=0}=t;(i<-180||i>180)&&(i=s(i+180,360)-180),(c<-180||c>180)&&(c=s(c+180,360)-180);const u=l(n/z);if(a<=u)a=u,o=0;else{const t=n/2/Math.pow(2,a),e=E([0,t])[1];if(o<e)o=e;else{const e=E([0,z-t])[1];o>e&&(o=e)}}return{width:e,height:n,longitude:i,latitude:o,zoom:a,pitch:r,bearing:c}}const V=.01,H=["longitude","latitude","zoom"],W={curve:1.414,speed:1.2};function q(t,e,n,r){const{startZoom:i,startCenterXY:o,uDelta:s,w0:a,u1:l,S:c,rho:h,rho2:f,r0:d}=Y(t,e,r);if(l<V){const r={};for(const i of H){const o=t[i],s=e[i];r[i]=(p=n)*s+(1-p)*o}return r}var p;const A=n*c,g=Math.cosh(d)/Math.cosh(d+h*A),y=a*((Math.cosh(d)*Math.tanh(d+h*A)-Math.sinh(d))/f)/l,m=i+w(1/g),v=u.hs([],s,y);u.WQ(v,v,o);const b=E(v);return{longitude:b[0],latitude:b[1],zoom:m}}function X(t,e,n){const r={...W,...n},{screenSpeed:i,speed:o,maxDuration:s}=r,{S:a,rho:l}=Y(t,e,r),c=1e3*a;let u;return u=Number.isFinite(i)?c/(i/l):c/o,Number.isFinite(s)&&u>s?0:u}function Y(t,e,n){const r=(n=Object.assign({},W,n)).curve,i=t.zoom,o=[t.longitude,t.latitude],s=_(i),a=e.zoom,l=[e.longitude,e.latitude],c=_(a-i),h=x(o),f=x(l),d=u.jb([],f,h),p=Math.max(t.width,t.height),A=p/c,g=u.Bw(d)*s,y=Math.max(g,V),m=r*r,v=(A*A-p*p+m*m*y*y)/(2*p*m*y),b=(A*A-p*p-m*m*y*y)/(2*A*m*y),w=Math.log(Math.sqrt(v*v+1)-v),E=Math.log(Math.sqrt(b*b+1)-b);return{startZoom:i,startCenterXY:h,uDelta:d,w0:p,u1:g,S:(E-w)/r,rho:r,rho2:m,r0:w,r1:E}}},17026:(t,e,n)=>{"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GeoJsonEditMode",{enumerable:!0,get:function(){return o.GeoJsonEditMode}}),Object.defineProperty(e,"ModifyMode",{enumerable:!0,get:function(){return s.ModifyMode}}),Object.defineProperty(e,"ResizeCircleMode",{enumerable:!0,get:function(){return a.ResizeCircleMode}}),Object.defineProperty(e,"TranslateMode",{enumerable:!0,get:function(){return l.TranslateMode}}),Object.defineProperty(e,"ScaleMode",{enumerable:!0,get:function(){return c.ScaleMode}}),Object.defineProperty(e,"RotateMode",{enumerable:!0,get:function(){return u.RotateMode}}),Object.defineProperty(e,"DuplicateMode",{enumerable:!0,get:function(){return h.DuplicateMode}}),Object.defineProperty(e,"ExtendLineStringMode",{enumerable:!0,get:function(){return f.ExtendLineStringMode}}),Object.defineProperty(e,"SplitPolygonMode",{enumerable:!0,get:function(){return d.SplitPolygonMode}}),Object.defineProperty(e,"ExtrudeMode",{enumerable:!0,get:function(){return p.ExtrudeMode}}),Object.defineProperty(e,"ElevationMode",{enumerable:!0,get:function(){return A.ElevationMode}}),Object.defineProperty(e,"TransformMode",{enumerable:!0,get:function(){return g.TransformMode}}),Object.defineProperty(e,"DrawPointMode",{enumerable:!0,get:function(){return y.DrawPointMode}}),Object.defineProperty(e,"DrawLineStringMode",{enumerable:!0,get:function(){return m.DrawLineStringMode}}),Object.defineProperty(e,"DrawPolygonMode",{enumerable:!0,get:function(){return v.DrawPolygonMode}}),Object.defineProperty(e,"DrawRectangleMode",{enumerable:!0,get:function(){return b.DrawRectangleMode}}),Object.defineProperty(e,"DrawSquareMode",{enumerable:!0,get:function(){return _.DrawSquareMode}}),Object.defineProperty(e,"DrawRectangleFromCenterMode",{enumerable:!0,get:function(){return w.DrawRectangleFromCenterMode}}),Object.defineProperty(e,"DrawSquareFromCenterMode",{enumerable:!0,get:function(){return x.DrawSquareFromCenterMode}}),Object.defineProperty(e,"DrawCircleByDiameterMode",{enumerable:!0,get:function(){return E.DrawCircleByDiameterMode}}),Object.defineProperty(e,"DrawCircleFromCenterMode",{enumerable:!0,get:function(){return S.DrawCircleFromCenterMode}}),Object.defineProperty(e,"DrawEllipseByBoundingBoxMode",{enumerable:!0,get:function(){return C.DrawEllipseByBoundingBoxMode}}),Object.defineProperty(e,"DrawEllipseUsingThreePointsMode",{enumerable:!0,get:function(){return P.DrawEllipseUsingThreePointsMode}}),Object.defineProperty(e,"DrawRectangleUsingThreePointsMode",{enumerable:!0,get:function(){return M.DrawRectangleUsingThreePointsMode}}),Object.defineProperty(e,"Draw90DegreePolygonMode",{enumerable:!0,get:function(){return T.Draw90DegreePolygonMode}}),Object.defineProperty(e,"DrawPolygonByDraggingMode",{enumerable:!0,get:function(){return O.DrawPolygonByDraggingMode}}),Object.defineProperty(e,"ImmutableFeatureCollection",{enumerable:!0,get:function(){return I.ImmutableFeatureCollection}}),Object.defineProperty(e,"ViewMode",{enumerable:!0,get:function(){return R.ViewMode}}),Object.defineProperty(e,"MeasureDistanceMode",{enumerable:!0,get:function(){return L.MeasureDistanceMode}}),Object.defineProperty(e,"MeasureAreaMode",{enumerable:!0,get:function(){return k.MeasureAreaMode}}),Object.defineProperty(e,"MeasureAngleMode",{enumerable:!0,get:function(){return B.MeasureAngleMode}}),Object.defineProperty(e,"CompositeMode",{enumerable:!0,get:function(){return N.CompositeMode}}),Object.defineProperty(e,"SnappableMode",{enumerable:!0,get:function(){return D.SnappableMode}}),Object.defineProperty(e,"_memoize",{enumerable:!0,get:function(){return F.default}}),e.utils=void 0;var i,o=n(68636),s=n(33760),a=n(55177),l=n(36510),c=n(10982),u=n(2307),h=n(56092),f=n(11249),d=n(58081),p=n(13987),A=n(77449),g=n(82612),y=n(66681),m=n(28919),v=n(5289),b=n(67080),_=n(80222),w=n(41853),x=n(12827),E=n(80265),S=n(40802),C=n(76990),P=n(96417),M=n(88642),T=n(95313),O=n(91453),I=n(88930),R=n(8557),L=n(19210),k=n(34412),B=n(16634),N=n(10205),D=n(42128),F=(i=n(89878))&&i.__esModule?i:{default:i},j=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=U();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(17219));function U(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return U=function(){return t},t}e.utils=j},10205:(t,e,n)=>{"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return function(){var e,n=u(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var i=u(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;return c(t)}(this,e)}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.CompositeMode=void 0;var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(u,t);var e,n,r,s=l(u);function u(t){var e,n,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=s.call(this),n=c(e),i=void 0,(r="_modes")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,e._modes=t,e}return e=u,n=[{key:"_coalesce",value:function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=0;r<this._modes.length&&(e=t(this._modes[r]),!(n?n(e):e));r++);return e}},{key:"handleClick",value:function(t,e){this._coalesce((function(n){return n.handleClick(t,e)}))}},{key:"handlePointerMove",value:function(t,e){return this._coalesce((function(n){return n.handlePointerMove(t,e)}))}},{key:"handleStartDragging",value:function(t,e){return this._coalesce((function(n){return n.handleStartDragging(t,e)}))}},{key:"handleStopDragging",value:function(t,e){return this._coalesce((function(n){return n.handleStopDragging(t,e)}))}},{key:"handleDragging",value:function(t,e){return this._coalesce((function(n){return n.handleDragging(t,e)}))}},{key:"getGuides",value:function(t){var e,n=[],r=function(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=o(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,s=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}(this._modes);try{for(r.s();!(e=r.n()).done;){var s=e.value;n.push.apply(n,i(s.getGuides(t).features))}}catch(a){r.e(a)}finally{r.f()}return{type:"FeatureCollection",features:n}}}],n&&a(e.prototype,n),r&&a(e,r),u}(n(68636).GeoJsonEditMode);e.CompositeMode=f},95313:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Draw90DegreePolygonMode=void 0;var r=c(n(40859)),i=c(n(76605)),o=c(n(76537)),s=c(n(68320)),a=n(64310),l=n(17219);function c(t){return t&&t.__esModule?t:{default:t}}function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function h(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return g="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},g(t,e,n||t)}function y(t){return function(){var e,n=m(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===u(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}var b=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(d,t);var e,n,c,u=y(d);function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),u.apply(this,arguments)}return e=d,(n=[{key:"createTentativeFeature",value:function(t){var e,n=this.getClickSequence(),r=t.lastPointerMoveEvent.mapCoords;if(1===n.length)e=r;else{var i=n[n.length-2],o=n[n.length-1];e=f((0,l.generatePointsParallelToLinePoints)(i,o,r),1)[0]}return n.length<3?{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(h(n),[e])}}:{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Polygon",coordinates:[[].concat(h(n),[e,n[0]])]}}}},{key:"getGuides",value:function(t){var e={type:"FeatureCollection",features:[]};if(0===this.getClickSequence().length||!t.lastPointerMoveEvent)return e;var n=this.createTentativeFeature(t);return e.features.push(n),e.features=e.features.concat((0,l.getEditHandlesForGeometry)(n.geometry,-1)),e.features=e.features.slice(0,-1),e}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell"),g(m(d.prototype),"handlePointerMove",this).call(this,t,e)}},{key:"handleClick",value:function(t,e){var n=t.picks,r=this.getTentativeGuide(e);this.addClickSequence(t);var i=this.getClickSequence();if(r){if(3===i.length&&"LineString"===r.geometry.type){var o=r.geometry;i[i.length-1]=o.coordinates[o.coordinates.length-1]}else if(i.length>3&&"Polygon"===r.geometry.type){var s=r.geometry;i[i.length-1]=s.coordinates[0][s.coordinates[0].length-2];var a=(0,l.getPickedEditHandle)(n);if(a&&Array.isArray(a.properties.positionIndexes)&&(0===a.properties.positionIndexes[1]||a.properties.positionIndexes[1]===s.coordinates[0].length-3)){var c={type:"Polygon",coordinates:this.finalizedCoordinates(h(s.coordinates[0]))};this.resetClickSequence();var u=this.getAddFeatureOrBooleanPolygonAction(c,e);u&&e.onEdit(u)}}var f={screenCoords:[-1,-1],mapCoords:t.mapCoords,picks:[],pointerDownPicks:null,pointerDownScreenCoords:null,pointerDownMapCoords:null,cancelPan:function(){},sourceEvent:null};this.handlePointerMove(f,e)}}},{key:"finalizedCoordinates",value:function(t){var e=[[].concat(h(t.slice(0,-2)),[t[0]])],n=this.getIntermediatePoint(h(t));if(n)e=[[].concat(h(t.slice(0,-2)),[n,t[0]])];else{var r=h(t);r.splice(-3,1),(n=this.getIntermediatePoint(h(r)))&&(e=[[].concat(h(t.slice(0,-3)),[n,t[0]])])}return e}},{key:"getIntermediatePoint",value:function(t){var e;if(t.length>4){var n=h(t),l=n[0],c=n[1],u=(0,i.default)(l,c),f=t[t.length-3],d=t[t.length-4],p=(0,i.default)(f,d),A={first:[],second:[]};[1,2,3].forEach((function(t){var e=u+90*t;A.first.push(e>180?e-360:e);var n=p+90*t;A.second.push(n>180?n-360:n)}));var g=(0,s.default)((0,a.point)(l),(0,a.point)(f));[0,1,2].forEach((function(t){var n=(0,a.lineString)([l,(0,r.default)(l,g,A.first[t]).geometry.coordinates]);[0,1,2].forEach((function(t){var i=(0,a.lineString)([f,(0,r.default)(f,g,A.second[t]).geometry.coordinates]),s=(0,o.default)(n,i);s&&s.features.length&&(e=s.features[0].geometry.coordinates)}))}))}return e}}])&&A(e.prototype,n),c&&A(e,c),d}(n(68636).GeoJsonEditMode);e.Draw90DegreePolygonMode=b},80265:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawCircleByDiameterMode=void 0;var r=s(n(99575)),i=s(n(68320)),o=n(68636);function s(t){return t&&t.__esModule?t:{default:t}}function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return function(){var e,n=u(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(u,t);var e,n,s,a=c(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"getTwoClickPolygon",value:function(t,e,n){var s=(n||{}).steps,a=void 0===s?64:s,l={steps:a};a<4&&(console.warn("Minimum steps to draw a circle is 4 "),l.steps=4);var c=(0,o.getIntermediatePosition)(t,e),u=Math.max((0,i.default)(t,c),.001),h=(0,r.default)(c,u,l);return h.properties=h.properties||{},h.properties.shape="Circle",h}}])&&l(e.prototype,n),s&&l(e,s),u}(n(44632).TwoClickPolygonMode);e.DrawCircleByDiameterMode=f},40802:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawCircleFromCenterMode=void 0;var r=o(n(99575)),i=o(n(68320));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return function(){var e,n=c(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,t);var e,n,o,s=l(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),s.apply(this,arguments)}return e=c,(n=[{key:"getTwoClickPolygon",value:function(t,e,n){var o=(n||{}).steps,s=void 0===o?64:o,a={steps:s};s<4&&(console.warn("Minimum steps to draw a circle is 4 "),a.steps=4);var l=Math.max((0,i.default)(t,e),.001),c=(0,r.default)(t,l,a);return c.properties=c.properties||{},c.properties.shape="Circle",c}}])&&a(e.prototype,n),o&&a(e,o),c}(n(44632).TwoClickPolygonMode);e.DrawCircleFromCenterMode=h},76990:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawEllipseByBoundingBoxMode=void 0;var r=l(n(80503)),i=l(n(68320)),o=l(n(60637)),s=n(64310),a=n(68636);function l(t){return t&&t.__esModule?t:{default:t}}function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t){return function(){var e,n=f(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=f(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(f,t);var e,n,l,c=h(f);function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),c.apply(this,arguments)}return e=f,(n=[{key:"getTwoClickPolygon",value:function(t,e,n){var l=Math.min(t[0],e[0]),c=Math.min(t[1],e[1]),u=Math.max(t[0],e[0]),h=Math.max(t[1],e[1]),f=(0,r.default)([l,c,u,h]).geometry.coordinates[0],d=(0,a.getIntermediatePosition)(t,e),p=Math.max((0,i.default)((0,s.point)(f[0]),(0,s.point)(f[1])),.001),A=Math.max((0,i.default)((0,s.point)(f[0]),(0,s.point)(f[3])),.001);return(0,o.default)(d,p,A)}}])&&u(e.prototype,n),l&&u(e,l),f}(n(44632).TwoClickPolygonMode);e.DrawEllipseByBoundingBoxMode=p},96417:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawEllipseUsingThreePointsMode=void 0;var r=l(n(68320)),i=l(n(60637)),o=l(n(76605)),s=n(64310),a=n(68636);function l(t){return t&&t.__esModule?t:{default:t}}function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t){return function(){var e,n=f(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=f(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(f,t);var e,n,l,c=h(f);function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),c.apply(this,arguments)}return e=f,(n=[{key:"getThreeClickPolygon",value:function(t,e,n,l){var c=(0,a.getIntermediatePosition)(t,e),u=Math.max((0,r.default)(c,(0,s.point)(n)),.001),h=Math.max((0,r.default)(t,e),.001)/2,f={angle:(0,o.default)(t,e)};return(0,i.default)(c,u,h,f)}}])&&u(e.prototype,n),l&&u(e,l),f}(n(94302).ThreeClickPolygonMode);e.DrawEllipseUsingThreePointsMode=p},28919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawLineStringMode=void 0;var r=n(17219);function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return function(){var e,n=c(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,t);var e,n,i,s=l(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),s.apply(this,arguments)}return e=c,(n=[{key:"handleClick",value:function(t,e){var n=t.picks,i=(0,r.getPickedEditHandle)(n),s=!1;i||(this.addClickSequence(t),s=!0);var a=this.getClickSequence();if(a.length>1&&i&&Array.isArray(i.properties.positionIndexes)&&i.properties.positionIndexes[0]===a.length-1){var l={type:"LineString",coordinates:o(a)};this.resetClickSequence();var c=this.getAddFeatureAction(l,e.data);c&&e.onEdit(c)}else s&&e.onEdit({updatedData:e.data,editType:"addTentativePosition",editContext:{position:t.mapCoords}})}},{key:"handleKeyUp",value:function(t,e){if("Enter"===t.key){var n=this.getClickSequence();if(n.length>1){var r={type:"LineString",coordinates:o(n)};this.resetClickSequence();var i=this.getAddFeatureAction(r,e.data);i&&e.onEdit(i)}}}},{key:"getGuides",value:function(t){var e,n,r=t.lastPointerMoveEvent,i=this.getClickSequence(),s=r?[r.mapCoords]:[],a={type:"FeatureCollection",features:[]};i.length>0&&(n={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(o(i),s)}}),n&&a.features.push(n);var l=i.map((function(t,e){return{type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[e]},geometry:{type:"Point",coordinates:t}}}));return(e=a.features).push.apply(e,o(l)),a}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell")}}])&&a(e.prototype,n),i&&a(e,i),c}(n(68636).GeoJsonEditMode);e.DrawLineStringMode=h},66681:(t,e,n)=>{"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},o(t,e,n||t)}function s(t){return function(){var e,n=a(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var i=a(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DrawPointMode=void 0;var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,n,r,c=s(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"createTentativeFeature",value:function(t){var e=t.lastPointerMoveEvent;return{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Point",coordinates:(e?[e.mapCoords]:[])[0]}}}},{key:"handleClick",value:function(t,e){var n={type:"Point",coordinates:t.mapCoords};e.onEdit(this.getAddFeatureAction(n,e.data))}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell"),o(a(u.prototype),"handlePointerMove",this).call(this,t,e)}}])&&i(e.prototype,n),r&&i(e,r),u}(n(68636).GeoJsonEditMode);e.DrawPointMode=c},91453:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawPolygonByDraggingMode=void 0;var r,i=(r=n(70381))&&r.__esModule?r:{default:r},o=n(17219);function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return function(){var e,n=f(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=f(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"===typeof e))return e;return h(t)}(this,e)}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(l,t);var e,n,r,s=u(l);function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(h(t=s.call.apply(s,[this].concat(n))),"handleDraggingThrottled",null),t}return e=l,(n=[{key:"handleClick",value:function(t,e){}},{key:"handleStartDragging",value:function(t,e){t.cancelPan(),e.modeConfig&&e.modeConfig.throttleMs?this.handleDraggingThrottled=(0,i.default)(this.handleDraggingAux,e.modeConfig.throttleMs):this.handleDraggingThrottled=this.handleDraggingAux}},{key:"handleStopDragging",value:function(t,e){this.addClickSequence(t);var n=this.getClickSequence();if(this.handleDraggingThrottled&&this.handleDraggingThrottled.cancel&&this.handleDraggingThrottled.cancel(),n.length>2){var r={type:"Polygon",coordinates:[[].concat(a(n),[n[0]])]};this.resetClickSequence();var i=this.getAddFeatureOrBooleanPolygonAction(r,e);i&&e.onEdit(i)}}},{key:"handleDraggingAux",value:function(t,e){var n=t.picks;(0,o.getPickedEditHandle)(n)||this.addClickSequence(t)}},{key:"handleDragging",value:function(t,e){this.handleDraggingThrottled&&this.handleDraggingThrottled(t,e)}}])&&c(e.prototype,n),r&&c(e,r),l}(n(5289).DrawPolygonMode);e.DrawPolygonByDraggingMode=p},5289:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawPolygonMode=void 0;var r,i=(r=n(76537))&&r.__esModule?r:{default:r},o=n(64310),s=n(17219);function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},h(t,e,n||t)}function f(t){return function(){var e,n=d(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var A=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(c,t);var e,n,r,a=f(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return e=c,(n=[{key:"createTentativeFeature",value:function(t){var e,n=t.lastPointerMoveEvent,r=this.getClickSequence(),i=n?[n.mapCoords]:[];return 1===r.length||2===r.length?e={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(l(r),i)}}:r.length>2&&(e={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Polygon",coordinates:[[].concat(l(r),i,[r[0]])]}}),e}},{key:"getGuides",value:function(t){var e,n=this.getClickSequence(),r={type:"FeatureCollection",features:[]},i=this.createTentativeFeature(t);i&&r.features.push(i);var o=n.map((function(t,e){return{type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[e]},geometry:{type:"Point",coordinates:t}}}));return(e=r.features).push.apply(e,l(o)),r}},{key:"handleClick",value:function(t,e){var n=t.picks,r=(0,s.getPickedEditHandle)(n),a=this.getClickSequence(),c=!1;if(a.length>2&&e.modeConfig&&e.modeConfig.preventOverlappingLines){var u=(0,o.lineString)([a[a.length-1],t.mapCoords]),h=(0,o.lineString)(l(a.slice(0,a.length-1)));(0,i.default)(u,h).features.length>0&&(c=!0)}var f=!1;if(r||c||(this.addClickSequence(t),f=!0),a.length>2&&r&&Array.isArray(r.properties.positionIndexes)&&(0===r.properties.positionIndexes[0]||r.properties.positionIndexes[0]===a.length-1)){var d={type:"Polygon",coordinates:[[].concat(l(a),[a[0]])]};this.resetClickSequence();var p=this.getAddFeatureOrBooleanPolygonAction(d,e);p&&e.onEdit(p)}else f&&e.onEdit({updatedData:e.data,editType:"addTentativePosition",editContext:{position:t.mapCoords}})}},{key:"handleKeyUp",value:function(t,e){if("Enter"===t.key){var n=this.getClickSequence();if(n.length>2){var r={type:"Polygon",coordinates:[[].concat(l(n),[n[0]])]};this.resetClickSequence();var i=this.getAddFeatureOrBooleanPolygonAction(r,e);i&&e.onEdit(i)}}}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell"),h(d(c.prototype),"handlePointerMove",this).call(this,t,e)}}])&&u(e.prototype,n),r&&u(e,r),c}(n(68636).GeoJsonEditMode);e.DrawPolygonMode=A},41853:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawRectangleFromCenterMode=void 0;var r,i=(r=n(80503))&&r.__esModule?r:{default:r};function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){return function(){var e,n=l(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,o=a(l);function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),o.apply(this,arguments)}return e=l,(n=[{key:"getTwoClickPolygon",value:function(t,e,n){var r=t[0]>e[0]?t[0]+Math.abs(t[0]-e[0]):t[0]-Math.abs(t[0]-e[0]),o=t[1]>e[1]?t[1]+Math.abs(t[1]-e[1]):t[1]-Math.abs(t[1]-e[1]),s=(0,i.default)([r,o,e[0],e[1]]);return s.properties=s.properties||{},s.properties.shape="Rectangle",s}}])&&s(e.prototype,n),r&&s(e,r),l}(n(44632).TwoClickPolygonMode);e.DrawRectangleFromCenterMode=u},67080:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawRectangleMode=void 0;var r,i=(r=n(80503))&&r.__esModule?r:{default:r};function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){return function(){var e,n=l(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,o=a(l);function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),o.apply(this,arguments)}return e=l,(n=[{key:"getTwoClickPolygon",value:function(t,e,n){var r=(0,i.default)([t[0],t[1],e[0],e[1]]);return r.properties=r.properties||{},r.properties.shape="Rectangle",r}}])&&s(e.prototype,n),r&&s(e,r),l}(n(44632).TwoClickPolygonMode);e.DrawRectangleMode=u},88642:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawRectangleUsingThreePointsMode=void 0;var r=n(17219);function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return function(){var e,n=c(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,t);var e,n,i,s=l(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),s.apply(this,arguments)}return e=c,(n=[{key:"getThreeClickPolygon",value:function(t,e,n,i){var s=o((0,r.generatePointsParallelToLinePoints)(t,e,n),2);return{type:"Feature",properties:{shape:"Rectangle"},geometry:{type:"Polygon",coordinates:[[t,e,s[0],s[1],t]]}}}}])&&a(e.prototype,n),i&&a(e,i),c}(n(94302).ThreeClickPolygonMode);e.DrawRectangleUsingThreePointsMode=h},12827:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawSquareFromCenterMode=void 0;var r=a(n(80503)),i=a(n(68320)),o=a(n(27798)),s=n(64310);function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return function(){var e,n=h(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(h,t);var e,n,a,l=u(h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),l.apply(this,arguments)}return e=h,(n=[{key:"getTwoClickPolygon",value:function(t,e,n){var a=[e[0],t[1]],l=[t[0],e[1]],c=(0,i.default)((0,s.point)(a),(0,s.point)(t)),u=(0,i.default)((0,s.point)(l),(0,s.point)(t)),h=c<=u?c:u,f=c<=u?a:l,d=(0,s.lineString)([f,e]),p=(0,o.default)(d,h).geometry.coordinates,A=t[0]>p[0]?t[0]+Math.abs(t[0]-p[0]):t[0]-Math.abs(t[0]-p[0]),g=t[1]>p[1]?t[1]+Math.abs(t[1]-p[1]):t[1]-Math.abs(t[1]-p[1]),y=(0,r.default)([A,g,p[0],p[1]]);return y.properties=y.properties||{},y.properties.shape="Square",y}}])&&c(e.prototype,n),a&&c(e,a),h}(n(44632).TwoClickPolygonMode);e.DrawSquareFromCenterMode=d},80222:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawSquareMode=void 0;var r=a(n(80503)),i=a(n(68320)),o=a(n(27798)),s=n(64310);function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return function(){var e,n=h(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(h,t);var e,n,a,l=u(h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),l.apply(this,arguments)}return e=h,(n=[{key:"getTwoClickPolygon",value:function(t,e,n){var a=[e[0],t[1]],l=[t[0],e[1]],c=(0,i.default)((0,s.point)(a),(0,s.point)(t)),u=(0,i.default)((0,s.point)(l),(0,s.point)(t)),h=c<=u?c:u,f=c<=u?a:l,d=(0,s.lineString)([f,e]),p=(0,o.default)(d,h).geometry.coordinates,A=(0,r.default)([t[0],t[1],p[0],p[1]]);return A.properties=A.properties||{},A.properties.shape="Square",A}}])&&c(e.prototype,n),a&&c(e,a),h}(n(44632).TwoClickPolygonMode);e.DrawSquareMode=d},56092:(t,e,n)=>{"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},o(t,e,n||t)}function s(t){return function(){var e,n=a(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var i=a(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DuplicateMode=void 0;var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,n,r,c=s(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"handleStartDragging",value:function(t,e){o(a(u.prototype),"handleStartDragging",this).call(this,t,e),this._geometryBeforeTranslate&&e.onEdit(this.getAddManyFeaturesAction(this._geometryBeforeTranslate,e.data))}},{key:"updateCursor",value:function(t){this._isTranslatable?t.onUpdateCursor("copy"):t.onUpdateCursor(null)}}])&&i(e.prototype,n),r&&i(e,r),u}(n(36510).TranslateMode);e.DuplicateMode=c},77449:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElevationMode=void 0;var r=n(17219);function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},s(t,e,n||t)}function a(t){return function(){var e,n=l(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){var e=t.pointerDownScreenCoords,n=t.screenCoords;return 10*(e[1]-n[1])}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(f,t);var e,n,i,h=a(f);function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),h.apply(this,arguments)}return e=f,i=[{key:"calculateElevationChangeWithViewport",value:function(t,e){var n=e.pointerDownScreenCoords,r=e.screenCoords;return 156543.03392*Math.cos(t.latitude*Math.PI/180)/Math.pow(2,t.zoom)*(n[1]-r[1])/2}}],(n=[{key:"makeElevatedEvent",value:function(t,e,n){var r=n.modeConfig||{},i=r.minElevation,o=void 0===i?0:i,s=r.maxElevation,a=void 0===s?2e4:s,l=r.calculateElevationChange,c=void 0===l?u:l;if(!t.pointerDownScreenCoords)return t;var h=3===e.length?e[2]:0;return h+=c({pointerDownScreenCoords:t.pointerDownScreenCoords,screenCoords:t.screenCoords}),h=Math.min(h,a),h=Math.max(h,o),Object.assign({},t,{mapCoords:[e[0],e[1],h]})}},{key:"handlePointerMove",value:function(t,e){var n=(0,r.getPickedEditHandle)(t.pointerDownPicks),i=n?n.geometry.coordinates:t.mapCoords;s(l(f.prototype),"handlePointerMove",this).call(this,this.makeElevatedEvent(t,i,e),e)}},{key:"handleStopDragging",value:function(t,e){var n=(0,r.getPickedEditHandle)(t.picks),i=n?n.geometry.coordinates:t.mapCoords;s(l(f.prototype),"handleStopDragging",this).call(this,this.makeElevatedEvent(t,i,e),e)}},{key:"getCursor",value:function(t){var e=s(l(f.prototype),"getCursor",this).call(this,t);return"cell"===e&&(e="ns-resize"),e}}])&&o(e.prototype,n),i&&o(e,i),f}(n(33760).ModifyMode);e.ElevationMode=h},11249:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtendLineStringMode=void 0;var r=n(68636),i=n(88930);function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){return function(){var e,n=l(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,o=a(l);function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),o.apply(this,arguments)}return e=l,(n=[{key:"getSingleSelectedLineString",value:function(t){var e=this.getSelectedGeometry(t);return e&&"LineString"===e.type?e:null}},{key:"handleClick",value:function(t,e){var n=e.selectedIndexes,r=this.getSingleSelectedLineString(e);if(r){var o=[r.coordinates.length],s=e.modeConfig;s&&s.drawAtFront&&(o=[0]);var a=n[0],l=new i.ImmutableFeatureCollection(e.data).addPosition(a,o,t.mapCoords).getObject();e.onEdit({updatedData:l,editType:"addPosition",editContext:{featureIndexes:[a],positionIndexes:o,position:t.mapCoords}})}else console.warn("ExtendLineStringMode only supported for single LineString selection")}},{key:"getGuides",value:function(t){var e={type:"FeatureCollection",features:[]},n=this.getSingleSelectedLineString(t);if(!n)return e;var r=t.lastPointerMoveEvent&&t.lastPointerMoveEvent.mapCoords,i=null,o=t.modeConfig;return i=o&&o.drawAtFront?n.coordinates[0]:n.coordinates[n.coordinates.length-1],e.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[i,r]}}),e}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell")}}])&&s(e.prototype,n),r&&s(e,r),l}(r.GeoJsonEditMode);e.ExtendLineStringMode=u},13987:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtrudeMode=void 0;var r,i=(r=n(76605))&&r.__esModule?r:{default:r},o=n(17219),s=n(33760),a=n(88930);function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return function(){var e,n=g(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;return A(t)}(this,e)}}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}var m=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(l,t);var e,n,r,s=p(l);function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(A(t=s.call.apply(s,[this].concat(n))),"isPointAdded",!1),t}return e=l,(n=[{key:"handleDragging",value:function(t,e){var n=(0,o.getPickedEditHandle)(t.pointerDownPicks);if(n){var r=n.properties.featureIndex,i=n.properties.positionIndexes,s=this.coordinatesSize(i,r,e.data);i=this.isPointAdded?this.nextPositionIndexes(i,s):i;var l=this.getPointForPositionIndexes(this.prevPositionIndexes(i,s),r,e.data),c=this.getPointForPositionIndexes(i,r,e.data);if(l&&c){var h=u((0,o.generatePointsParallelToLinePoints)(l,c,t.mapCoords),2),f=h[0],d=h[1],p=new a.ImmutableFeatureCollection(e.data).replacePosition(r,this.prevPositionIndexes(i,s),d).replacePosition(r,i,f).getObject();e.onEdit({updatedData:p,editType:"extruding",editContext:{featureIndexes:[r],positionIndexes:this.nextPositionIndexes(i,s),position:f}}),t.cancelPan()}}}},{key:"handleStartDragging",value:function(t,e){var n=e.selectedIndexes,r=(0,o.getPickedIntermediateEditHandle)(t.picks);if(n.length&&r){var i=r.properties,s=i.positionIndexes,l=i.featureIndex,c=this.coordinatesSize(s,l,e.data),u=this.getPointForPositionIndexes(this.prevPositionIndexes(s,c),l,e.data),h=this.getPointForPositionIndexes(s,l,e.data);if(u&&h){var f=new a.ImmutableFeatureCollection(e.data);this.isOrthogonal(s,l,c,e.data)||(f=f.addPosition(l,s,h)),this.isOrthogonal(this.prevPositionIndexes(s,c),l,c,e.data)||(f=f.addPosition(l,s,u),this.isPointAdded=!0),e.onEdit({updatedData:f.getObject(),editType:"startExtruding",editContext:{featureIndexes:[l],positionIndexes:s,position:u}})}}}},{key:"handleStopDragging",value:function(t,e){var n=e.selectedIndexes,r=(0,o.getPickedEditHandle)(t.pointerDownPicks);if(n.length&&r){var i=r.properties.featureIndex,s=r.properties.positionIndexes,l=this.coordinatesSize(s,i,e.data);s=this.isPointAdded?this.nextPositionIndexes(s,l):s;var c=this.getPointForPositionIndexes(this.prevPositionIndexes(s,l),i,e.data),h=this.getPointForPositionIndexes(s,i,e.data);if(c&&h){var f=u((0,o.generatePointsParallelToLinePoints)(c,h,t.mapCoords),2),d=f[0],p=f[1],A=new a.ImmutableFeatureCollection(e.data).replacePosition(i,this.prevPositionIndexes(s,l),p).replacePosition(i,s,d).getObject();e.onEdit({updatedData:A,editType:"extruded",editContext:{featureIndexes:[i],positionIndexes:s,position:d}})}}this.isPointAdded=!1}},{key:"coordinatesSize",value:function(t,e,n){var r=n.features,i=0;if(Array.isArray(t)){var o=r[e].geometry.coordinates;if(3===t.length){var s=u(t,2),a=s[0],l=s[1];o.length&&o[a].length&&(i=o[a][l].length)}else{var c=u(t,1)[0];o.length&&o[c].length&&(i=o[c].length)}}return i}},{key:"getBearing",value:function(t,e){var n=(0,i.default)(t,e);return n<0?Math.floor(360+n):Math.floor(n)}},{key:"isOrthogonal",value:function(t,e,n,r){if(!Array.isArray(t))return!1;t[t.length-1]===n-1&&(t[t.length-1]=0);var i=this.getPointForPositionIndexes(this.prevPositionIndexes(t,n),e,r),o=this.getPointForPositionIndexes(this.nextPositionIndexes(t,n),e,r),s=this.getPointForPositionIndexes(t,e,r),a=this.getBearing(s,i),l=this.getBearing(s,o);return[89,90,91,269,270,271].includes(Math.abs(a-l))}},{key:"nextPositionIndexes",value:function(t,e){if(!Array.isArray(t))return[];var n=c(t);return n.length&&(n[n.length-1]=n[n.length-1]===e-1?0:n[n.length-1]+1),n}},{key:"prevPositionIndexes",value:function(t,e){if(!Array.isArray(t))return[];var n=c(t);return n.length&&(n[n.length-1]=0===n[n.length-1]?e-2:n[n.length-1]-1),n}},{key:"getPointForPositionIndexes",value:function(t,e,n){var r,i=n.features;if(Array.isArray(t)){var o=i[e].geometry.coordinates;if(3===t.length){var s=u(t,3),a=s[0],l=s[1],c=s[2];o.length&&o[a].length&&(r=o[a][l][c])}else{var h=u(t,2),f=h[0],d=h[1];o.length&&o[f].length&&(r=o[f][d])}}return r}}])&&d(e.prototype,n),r&&d(e,r),l}(s.ModifyMode);e.ExtrudeMode=m},68636:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIntermediatePosition=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]},e.GeoJsonEditMode=void 0;var r=c(n(17588)),i=c(n(61740)),o=c(n(92618)),s=c(n(43514)),a=n(17219),l=n(88930);function c(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p={type:"FeatureCollection",features:[]},A=[],g=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=[],(n="_clickSequence")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n,c;return e=t,(n=[{key:"getGuides",value:function(t){return p}},{key:"getTooltips",value:function(t){return A}},{key:"getSelectedFeature",value:function(t){return 1===t.selectedIndexes.length?t.data.features[t.selectedIndexes[0]]:null}},{key:"getSelectedGeometry",value:function(t){var e=this.getSelectedFeature(t);return e?e.geometry:null}},{key:"getSelectedFeaturesAsFeatureCollection",value:function(t){var e=t.data.features;return{type:"FeatureCollection",features:t.selectedIndexes.map((function(t){return e[t]}))}}},{key:"getClickSequence",value:function(){return this._clickSequence}},{key:"addClickSequence",value:function(t){var e=t.mapCoords;this._clickSequence.push(e)}},{key:"resetClickSequence",value:function(){this._clickSequence=[]}},{key:"getTentativeGuide",value:function(t){return this.getGuides(t).features.find((function(t){return t.properties&&"tentative"===t.properties.guideType}))}},{key:"isSelectionPicked",value:function(t,e){if(!t.length)return!1;var n=(0,a.getNonGuidePicks)(t).map((function(t){return t.index})),r=(0,a.getPickedEditHandles)(t).map((function(t){return t.properties.featureIndex})),i=new Set([].concat(u(n),u(r)));return e.selectedIndexes.some((function(t){return i.has(t)}))}},{key:"rewindPolygon",value:function(t){var e=t.geometry;return"Polygon"===e.type||"MultiPolygon"===e.type?(0,s.default)(t):t}},{key:"getAddFeatureAction",value:function(t,e){var n=t,r="Feature"===n.type?n:{type:"Feature",properties:{},geometry:n},i=this.rewindPolygon(r),o=new l.ImmutableFeatureCollection(e).addFeature(i).getObject();return{updatedData:o,editType:"addFeature",editContext:{featureIndexes:[o.features.length-1]}}}},{key:"getAddManyFeaturesAction",value:function(t,e){var n,r=t.features,i=new l.ImmutableFeatureCollection(e),o=i.getObject().features.length,s=[],a=function(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=h(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(r);try{for(a.s();!(n=a.n()).done;){var c=n.value,u=c.properties,f=c.geometry;i=i.addFeature({type:"Feature",properties:u,geometry:f}),s.push(o+s.length)}}catch(d){a.e(d)}finally{a.f()}return{updatedData:i.getObject(),editType:"addFeature",editContext:{featureIndexes:s}}}},{key:"getAddFeatureOrBooleanPolygonAction",value:function(t,e){var n=t,s=this.getSelectedFeature(e),a=e.modeConfig;if(a&&a.booleanOperation){if(!s||"Polygon"!==s.geometry.type&&"MultiPolygon"!==s.geometry.type)return console.warn("booleanOperation only supported for single Polygon or MultiPolygon selection"),null;var c,u="Feature"===n.type?n:{type:"Feature",geometry:n};if("union"===a.booleanOperation)c=(0,r.default)(s,u);else if("difference"===a.booleanOperation)c=(0,i.default)(s,u);else{if("intersection"!==a.booleanOperation)return console.warn("Invalid booleanOperation ".concat(a.booleanOperation)),null;c=(0,o.default)(s,u)}if(!c)return console.warn("Canceling edit. Boolean operation erased entire polygon."),null;var h=e.selectedIndexes[0];return{updatedData:new l.ImmutableFeatureCollection(e.data).replaceGeometry(h,c.geometry).getObject(),editType:"unionGeometry",editContext:{featureIndexes:[h]}}}return this.getAddFeatureAction(t,e.data)}},{key:"createTentativeFeature",value:function(t){return null}},{key:"handleClick",value:function(t,e){}},{key:"handlePointerMove",value:function(t,e){var n=this.createTentativeFeature(e);n&&e.onEdit({updatedData:e.data,editType:"updateTentativeFeature",editContext:{feature:n}})}},{key:"handleStartDragging",value:function(t,e){}},{key:"handleStopDragging",value:function(t,e){}},{key:"handleDragging",value:function(t,e){}},{key:"handleKeyUp",value:function(t,e){"Escape"===t.key&&(this.resetClickSequence(),e.onEdit({updatedData:e.data,editType:"cancelFeature",editContext:{}}))}}])&&d(e.prototype,n),c&&d(e,c),t}();e.GeoJsonEditMode=g},88930:(t,e)=>{"use strict";function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.ImmutableFeatureCollection=void 0;var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"featureCollection",void 0),this.featureCollection=e}var e,r,i;return e=t,(r=[{key:"getObject",value:function(){return this.featureCollection}},{key:"replacePosition",value:function(t,e,n){var r=this.featureCollection.features[t].geometry,i="Polygon"===r.type||"MultiPolygon"===r.type,s=o({},r,{coordinates:u(r.coordinates,e,n,i)});return this.replaceGeometry(t,s)}},{key:"removePosition",value:function(t,e){var n=this.featureCollection.features[t].geometry;if("Point"===n.type)throw Error("Can't remove a position from a Point or there'd be nothing left");if("MultiPoint"===n.type&&n.coordinates.length<2)throw Error("Can't remove the last point of a MultiPoint or there'd be nothing left");if("LineString"===n.type&&n.coordinates.length<3)throw Error("Can't remove position. LineString must have at least two positions");if("Polygon"===n.type&&n.coordinates[0].length<5&&Array.isArray(e)&&0===e[0])throw Error("Can't remove position. Polygon's outer ring must have at least four positions");if("MultiLineString"===n.type&&1===n.coordinates.length&&n.coordinates[0].length<3)throw Error("Can't remove position. MultiLineString must have at least two positions");if("MultiPolygon"===n.type&&1===n.coordinates.length&&n.coordinates[0][0].length<5&&Array.isArray(e)&&0===e[0]&&0===e[1])throw Error("Can't remove position. MultiPolygon's outer ring must have at least four positions");var r="Polygon"===n.type||"MultiPolygon"===n.type,i=o({},n,{coordinates:h(n.coordinates,e,r)});return function(t){switch(t.type){case"Polygon":!function(t){for(var e=t.coordinates,n=1;n<e.length;n++)d(e,n)&&n--}(t);break;case"MultiLineString":!function(t){for(var e=0;e<t.coordinates.length;e++)1===t.coordinates[e].length&&(t.coordinates.splice(e,1),e--)}(t);break;case"MultiPolygon":!function(t){for(var e=0;e<t.coordinates.length;e++){var n=t.coordinates[e];n[0].length<=3&&(t.coordinates.splice(e,1),e--);for(var r=1;r<n.length;r++)d(n,r)&&r--}}(t)}}(i),this.replaceGeometry(t,i)}},{key:"addPosition",value:function(t,e,n){var r=this.featureCollection.features[t].geometry;if("Point"===r.type)throw new Error("Unable to add a position to a Point feature");var i="Polygon"===r.type||"MultiPolygon"===r.type,s=o({},r,{coordinates:f(r.coordinates,e,n,i)});return this.replaceGeometry(t,s)}},{key:"replaceGeometry",value:function(e,r){var i=o({},this.featureCollection.features[e],{geometry:r});return new t(o({},this.featureCollection,{features:[].concat(n(this.featureCollection.features.slice(0,e)),[i],n(this.featureCollection.features.slice(e+1)))}))}},{key:"addFeature",value:function(t){return this.addFeatures([t])}},{key:"addFeatures",value:function(e){return new t(o({},this.featureCollection,{features:[].concat(n(this.featureCollection.features),n(e))}))}},{key:"deleteFeature",value:function(t){return this.deleteFeatures([t])}},{key:"deleteFeatures",value:function(e){var r=n(this.featureCollection.features);e.sort();for(var i=e.length-1;i>=0;i--){var s=e[i];s>=0&&s<r.length&&r.splice(s,1)}return new t(o({},this.featureCollection,{features:r}))}}])&&s(e.prototype,r),i&&s(e,i),t}();function c(t,e){if(2===t.length&&3===e.length){var n=e[2];return[t[0],t[1],n]}return t}function u(t,e,r,i){if(!e)return t;if(0===e.length)return c(r,t);if(1===e.length){var o=[].concat(n(t.slice(0,e[0])),[c(r,t[e[0]])],n(t.slice(e[0]+1)));return!i||0!==e[0]&&e[0]!==t.length-1||(o[0]=c(r,t[0]),o[t.length-1]=c(r,t[0])),o}return[].concat(n(t.slice(0,e[0])),[u(t[e[0]],e.slice(1,e.length),r,i)],n(t.slice(e[0]+1)))}function h(t,e,r){if(!e)return t;if(0===e.length)throw Error("Must specify the index of the position to remove");if(1===e.length){var i=[].concat(n(t.slice(0,e[0])),n(t.slice(e[0]+1)));return!r||0!==e[0]&&e[0]!==t.length-1||(0===e[0]?i[i.length-1]=i[0]:e[0]===t.length-1&&(i[0]=i[i.length-1])),i}return[].concat(n(t.slice(0,e[0])),[h(t[e[0]],e.slice(1,e.length),r)],n(t.slice(e[0]+1)))}function f(t,e,r,i){if(!e)return t;if(0===e.length)throw Error("Must specify the index of the position to remove");return 1===e.length?[].concat(n(t.slice(0,e[0])),[r],n(t.slice(e[0]))):[].concat(n(t.slice(0,e[0])),[f(t[e[0]],e.slice(1,e.length),r,i)],n(t.slice(e[0]+1)))}function d(t,e){return t[e].length<=3&&(t.splice(e,1),!0)}e.ImmutableFeatureCollection=l},16634:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureAngleMode=void 0;var r=a(n(76605)),i=a(n(73406)),o=a(n(89878)),s=n(68636);function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return function(){var e,n=p(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;return d(t)}(this,e)}}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function A(t,e){return A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},A(t,e)}var g=[],y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(l,t);var e,n,s,a=f(l);function l(){var t,e,n,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];return t=a.call.apply(a,[this].concat(u)),e=d(t),n="_getTooltips",s=(0,o.default)((function(t){var e=t.modeConfig,n=t.vertex,o=t.point1,s=t.point2,a=g;if(n&&o&&s){var l,c=e||{},u=c.formatTooltip,h=c.measurementCallback,f=(0,r.default)(n,o),d=(0,r.default)(n,s),p=Math.abs(f-d);p>180&&(p=360-p),l=u?u(p):"".concat(parseFloat(p).toFixed(2)," ").concat("deg"),h&&h(p),a=[{position:(0,i.default)({type:"FeatureCollection",features:[o,s].map((function(t){return{type:"Feature",geometry:{type:"Point",coordinates:t}}}))}).geometry.coordinates,text:l}]}return a})),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,t}return e=l,(n=[{key:"handleClick",value:function(t,e){this.getClickSequence().length>=3&&this.resetClickSequence(),this.addClickSequence(t)}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell")}},{key:"getPoints",value:function(t){var e=this.getClickSequence(),n=c(e);return e.length<3&&t.lastPointerMoveEvent&&n.push(t.lastPointerMoveEvent.mapCoords),n}},{key:"getGuides",value:function(t){var e={type:"FeatureCollection",features:[]},n=e.features,r=this.getPoints(t);return r.length>2?n.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[r[1],r[0],r[2]]}}):r.length>1&&n.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[r[1],r[0]]}}),e}},{key:"getTooltips",value:function(t){var e=this.getPoints(t);return this._getTooltips({modeConfig:t.modeConfig,vertex:e[0],point1:e[1],point2:e[2]})}}])&&h(e.prototype,n),s&&h(e,s),l}(s.GeoJsonEditMode);e.MeasureAngleMode=y},34412:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureAreaMode=void 0;var r=s(n(17414)),i=s(n(46675)),o=n(5289);function s(t){return t&&t.__esModule?t:{default:t}}function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},h(t,e,n||t)}function f(t){return function(){var e,n=d(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var A=[],g=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(a,t);var e,n,o,s=f(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),s.apply(this,arguments)}return e=a,n=[{key:"handleClick",value:function(t,e){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{onEdit:function(){}});h(d(a.prototype),"handleClick",this).call(this,t,n)}},{key:"getTooltips",value:function(t){var e=this.getTentativeGuide(t);if(e&&"Polygon"===e.geometry.type){var n,o=t.modeConfig||{},s=o.formatTooltip,a=o.measurementCallback,l=(0,i.default)(e),c=(0,r.default)(e);return n=s?s(c):"".concat(parseFloat(c).toFixed(2)," ").concat("sq. m"),a&&a(c),[{position:l.geometry.coordinates,text:n}]}return A}}],n&&u(e.prototype,n),o&&u(e,o),a}(o.DrawPolygonMode);e.MeasureAreaMode=g},19210:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureDistanceMode=void 0;var r=s(n(68320)),i=s(n(92763)),o=n(17219);function s(t){return t&&t.__esModule?t:{default:t}}function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t){return function(){var e,n=d(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;return f(t)}(this,e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(c,t);var e,n,s,a=h(c);function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return A(f(t=a.call.apply(a,[this].concat(n))),"_isMeasuringSessionFinished",!1),A(f(t),"_currentTooltips",[]),A(f(t),"_currentDistance",0),A(f(t),"_calculateDistanceForTooltip",(function(t){var e=t.positionA,n=t.positionB,i=t.modeConfig||{},o=i.turfOptions,s=i.measurementCallback,a=(0,r.default)(e,n,o);return s&&s(a),a})),t}return e=c,(n=[{key:"_formatTooltip",value:function(t,e){var n=e||{},r=n.formatTooltip,i=n.turfOptions,o=i&&i.units||"kilometers";return r?r(t):"".concat(parseFloat(t).toFixed(2)," ").concat(o)}},{key:"handleClick",value:function(t,e){var n=e.modeConfig,r=e.data,s=e.onEdit,a=(n||{}).centerTooltipsOnLine,l=void 0!==a&&a;this._isMeasuringSessionFinished&&(this._isMeasuringSessionFinished=!1,this.resetClickSequence(),this._currentTooltips=[],this._currentDistance=0);var c=t.picks,u=(0,o.getPickedEditHandle)(c),h=!1;u||(this.addClickSequence(t),h=!0);var f=this.getClickSequence();if(f.length>1&&u&&Array.isArray(u.properties.positionIndexes)&&u.properties.positionIndexes[0]===f.length-1)this._isMeasuringSessionFinished=!0;else if(h){if(f.length>1){this._currentDistance+=this._calculateDistanceForTooltip({positionA:f[f.length-2],positionB:f[f.length-1],modeConfig:n});var d=l?(0,i.default)(f[f.length-2],f[f.length-1]).geometry.coordinates:t.mapCoords;this._currentTooltips.push({position:d,text:this._formatTooltip(this._currentDistance,n)})}s({updatedData:r,editType:"addTentativePosition",editContext:{position:t.mapCoords}})}}},{key:"handleKeyUp",value:function(t,e){if(!this._isMeasuringSessionFinished){t.stopPropagation();var n=t.key,r=this.getClickSequence().length;switch(n){case"Escape":this._isMeasuringSessionFinished=!0,1===r&&(this.resetClickSequence(),this._currentTooltips=[]),e.onUpdateCursor("cell");break;case"Enter":this.handleClick(e.lastPointerMoveEvent,e),this._isMeasuringSessionFinished=!0}}}},{key:"getGuides",value:function(t){var e,n=t.lastPointerMoveEvent,r=this.getClickSequence(),i=n&&!this._isMeasuringSessionFinished?[n.mapCoords]:[],o={type:"FeatureCollection",features:[]};r.length>0&&o.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(l(r),i)}});var s=r.map((function(t,e){return{type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[e]},geometry:{type:"Point",coordinates:t}}}));return(e=o.features).push.apply(e,l(s)),o}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell")}},{key:"getTooltips",value:function(t){var e=t.lastPointerMoveEvent,n=t.modeConfig,r=(n||{}).centerTooltipsOnLine,o=void 0!==r&&r,s=this.getClickSequence();if(s.length>0&&e&&!this._isMeasuringSessionFinished){var a=this._calculateDistanceForTooltip({positionA:s[s.length-1],positionB:e.mapCoords,modeConfig:t.modeConfig}),c=o?(0,i.default)(s[s.length-1],e.mapCoords).geometry.coordinates:e.mapCoords;return[].concat(l(this._currentTooltips),[{position:c,text:this._formatTooltip(this._currentDistance+a,n)}])}return this._currentTooltips}}])&&u(e.prototype,n),s&&u(e,s),c}(n(68636).GeoJsonEditMode);e.MeasureDistanceMode=g},33760:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModifyMode=void 0;var r=n(64310),i=n(17219),o=n(68636),s=n(88930);function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return function(){var e,n=d(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var A=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(u,t);var e,n,o,a=f(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"getGuides",value:function(t){var e,n=this,o=[],s=t.data,a=t.lastPointerMoveEvent,u=s.features,h=a&&a.picks,f=a&&a.mapCoords,d=function(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=c(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(t.selectedIndexes);try{for(d.s();!(e=d.n()).done;){var p=e.value;if(p<u.length){var A=u[p].geometry;o.push.apply(o,l((0,i.getEditHandlesForGeometry)(A,p)))}else console.warn("selectedFeatureIndexes out of range ".concat(p))}}catch(E){d.e(E)}finally{d.f()}if(h&&h.length&&f){var g,y=!(0,i.getPickedExistingEditHandle)(h)&&h.find((function(t){return!t.isGuide}));if(y&&!y.object.geometry.type.includes("Point")&&(!(null===(g=t.modeConfig)||void 0===g?void 0:g.lockRectangles)||"Rectangle"!==y.object.properties.shape)&&t.selectedIndexes.includes(y.index)){var m=null,v=[],b=(0,r.point)(f);if((0,i.recursivelyTraverseNestedArrays)(y.object.geometry.coordinates,[],(function(e,i){var o=(0,r.lineString)(e),s=n.getNearestPoint(o,b,t.modeConfig&&t.modeConfig.viewport);(!m||s.properties.dist<m.properties.dist)&&(m=s,v=i)})),m){var _=m,w=_.geometry.coordinates,x=_.properties.index;o.push({type:"Feature",properties:{guideType:"editHandle",editHandleType:"intermediate",featureIndex:y.index,positionIndexes:[].concat(l(v),[x+1])},geometry:{type:"Point",coordinates:w}})}}}return{type:"FeatureCollection",features:o}}},{key:"getNearestPoint",value:function(t,e,n){if(t.geometry.coordinates.some((function(t){return t.length>2}))){if(n)return(0,i.nearestPointOnProjectedLine)(t,e,n);console.log("Editing 3D point but modeConfig.viewport not provided. Falling back to 2D logic.")}return(0,i.nearestPointOnLine)(t,e,n)}},{key:"handleClick",value:function(t,e){var n=(0,i.getPickedExistingEditHandle)(t.picks),r=(0,i.getPickedIntermediateEditHandle)(t.picks);if(n){var o,a=n.properties,l=a.featureIndex,c=a.positionIndexes;try{o=new s.ImmutableFeatureCollection(e.data).removePosition(l,c).getObject()}catch(g){}o&&e.onEdit({updatedData:o,editType:"removePosition",editContext:{featureIndexes:[l],positionIndexes:c,position:n.geometry.coordinates}})}else if(r){var u,h=r.properties,f=h.featureIndex,d=h.positionIndexes,p=e.data.features[f];if(!(null===(u=e.modeConfig)||void 0===u?void 0:u.lockRectangles)||"Rectangle"!==(null===p||void 0===p?void 0:p.properties.shape)){var A=new s.ImmutableFeatureCollection(e.data).addPosition(f,d,r.geometry.coordinates).getObject();A&&e.onEdit({updatedData:A,editType:"addPosition",editContext:{featureIndexes:[f],positionIndexes:d,position:r.geometry.coordinates}})}}}},{key:"handleDragging",value:function(t,e){var n=(0,i.getPickedEditHandle)(t.pointerDownPicks);n&&(t.cancelPan(),this._dragEditHandle("movePosition",e,n,t))}},{key:"_dragEditHandle",value:function(t,e,n,r){var o,a,l=n.properties,c=e.data.features[l.featureIndex];if((null===(o=e.modeConfig)||void 0===o?void 0:o.lockRectangles)&&"Rectangle"===c.properties.shape){var u=(0,i.updateRectanglePosition)(c,l.positionIndexes[1],r.mapCoords);a=new s.ImmutableFeatureCollection(e.data).replaceGeometry(l.featureIndex,{coordinates:u,type:"Polygon"}).getObject()}else a=new s.ImmutableFeatureCollection(e.data).replacePosition(l.featureIndex,l.positionIndexes,r.mapCoords).getObject();e.onEdit({updatedData:a,editType:t,editContext:{featureIndexes:[l.featureIndex],positionIndexes:l.positionIndexes,position:r.mapCoords}})}},{key:"handlePointerMove",value:function(t,e){var n=this.getCursor(t);e.onUpdateCursor(n)}},{key:"handleStartDragging",value:function(t,e){var n=e.selectedIndexes,r=(0,i.getPickedIntermediateEditHandle)(t.picks);if(n.length&&r){var o=r.properties,a=new s.ImmutableFeatureCollection(e.data).addPosition(o.featureIndex,o.positionIndexes,t.mapCoords).getObject();e.onEdit({updatedData:a,editType:"addPosition",editContext:{featureIndexes:[o.featureIndex],positionIndexes:o.positionIndexes,position:t.mapCoords}})}}},{key:"handleStopDragging",value:function(t,e){var n=e.selectedIndexes,r=(0,i.getPickedEditHandle)(t.picks);n.length&&r&&this._dragEditHandle("finishMovePosition",e,r,t)}},{key:"getCursor",value:function(t){var e=t&&t.picks||[];return(0,i.getPickedEditHandles)(e).length?"cell":null}}])&&h(e.prototype,n),o&&h(e,o),u}(o.GeoJsonEditMode);e.ModifyMode=A},55177:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeCircleMode=void 0;var r=h(n(25909)),i=n(64310),o=h(n(99575)),s=h(n(68320)),a=h(n(73406)),l=n(17219),c=n(68636),u=n(88930);function h(t){return t&&t.__esModule?t:{default:t}}function f(t){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t){return function(){var e,n=m(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"===typeof e))return e;return y(t)}(this,e)}}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(f,t);var e,n,c,h=g(f);function f(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return b(y(t=h.call.apply(h,[this].concat(n))),"_selectedEditHandle",void 0),b(y(t),"_isResizing",!1),t}return e=f,(n=[{key:"getGuides",value:function(t){var e=this,n=[],r=t.selectedIndexes,o=t.lastPointerMoveEvent,s=o&&o.picks,a=o&&o.mapCoords;if(s&&s.length&&a&&1===r.length&&!this._isResizing){var c=s.find((function(t){return!t.isGuide}));if(c&&c.object.properties.shape&&c.object.properties.shape.includes("Circle")&&t.selectedIndexes.includes(c.index)){var u=null,h=[],f=(0,i.point)(a);if((0,l.recursivelyTraverseNestedArrays)(c.object.geometry.coordinates,[],(function(n,r){var o=(0,i.lineString)(n),s=e.getNearestPoint(o,f,t.modeConfig&&t.modeConfig.viewport);(!u||s.properties.dist<u.properties.dist)&&(u=s,h=r)})),u){var p=u,A=p.geometry.coordinates,g=p.properties.index;n.push({type:"Feature",properties:{guideType:"editHandle",editHandleType:"intermediate",featureIndex:c.index,positionIndexes:[].concat(d(h),[g+1])},geometry:{type:"Point",coordinates:A}})}}}return{type:"FeatureCollection",features:n}}},{key:"getNearestPoint",value:function(t,e,n){if(t.geometry.coordinates.some((function(t){return t.length>2}))){if(n)return(0,l.nearestPointOnProjectedLine)(t,e,n);console.log("Editing 3D point but modeConfig.viewport not provided. Falling back to 2D logic.")}return(0,r.default)(t,e)}},{key:"handleDragging",value:function(t,e){var n=(0,l.getPickedEditHandle)(t.pointerDownPicks);if(n){t.cancelPan();var r=n.properties,i=this.getSelectedFeature(e),c=(0,a.default)(i).geometry.coordinates,h=Object.entries(i.geometry.coordinates[0]).length-1,f=Math.max((0,s.default)(c,t.mapCoords),.001),d={}.steps,p={steps:void 0===d?h:d},A=(0,o.default)(c,f,p).geometry,g=new u.ImmutableFeatureCollection(e.data).replaceGeometry(r.featureIndex,A).getObject();e.onEdit({updatedData:g,editType:"unionGeometry",editContext:{featureIndexes:[r.featureIndex]}})}}},{key:"handlePointerMove",value:function(t,e){if(!this._isResizing){var n=(0,l.getPickedEditHandle)(t.picks);this._selectedEditHandle=n&&"intermediate"===n.properties.editHandleType?n:null}var r=this.getCursor(t);e.onUpdateCursor(r)}},{key:"handleStartDragging",value:function(t,e){this._selectedEditHandle&&(this._isResizing=!0)}},{key:"handleStopDragging",value:function(t,e){this._isResizing&&(this._selectedEditHandle=null,this._isResizing=!1)}},{key:"getCursor",value:function(t){var e=t&&t.picks||[];return(0,l.getPickedEditHandles)(e).length?"cell":null}}])&&A(e.prototype,n),c&&A(e,c),f}(c.GeoJsonEditMode);e.ResizeCircleMode=_},2307:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RotateMode=void 0;var r=g(n(81592)),i=g(n(46675)),o=g(n(76605)),s=g(n(80503)),a=g(n(68320)),l=n(46606),c=n(71659),u=n(64310),h=g(n(20883)),f=g(n(72402)),d=n(17219),p=n(68636),A=n(88930);function g(t){return t&&t.__esModule?t:{default:t}}function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t){return function(){var e,n=_(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=_(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"===typeof e))return e;return b(t)}(this,e)}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(_,t);var e,n,g,y=v(_);function _(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return x(b(t=y.call.apply(y,[this].concat(n))),"_selectedEditHandle",void 0),x(b(t),"_geometryBeingRotated",void 0),x(b(t),"_isRotating",!1),x(b(t),"_isSinglePointGeometrySelected",(function(t){var e=(t||{}).features;return!(!Array.isArray(e)||1!==e.length)&&"Point"===(0,c.getGeom)(e[0]).type})),x(b(t),"getIsRotating",(function(){return t._isRotating})),t}return e=_,(n=[{key:"getGuides",value:function(t){var e=this._geometryBeingRotated||this.getSelectedFeaturesAsFeatureCollection(t);if(this._isSinglePointGeometrySelected(e))return{type:"FeatureCollection",features:[]};if(this._isRotating)return(0,u.featureCollection)([(0,i.default)(e)]);var n=(0,s.default)((0,r.default)(e)),o=null,c=null,h=0;(0,l.coordEach)(n,(function(t){if(o){var e=(0,p.getIntermediatePosition)(t,o);(!c||e[1]>c[1])&&(c=e);var n=(0,a.default)(t,o);h=Math.max(h,n)}o=t}));var d=c&&[c[0],c[1]+h/1e3],A=(0,u.lineString)([c,d]),g=(0,u.point)(d,{guideType:"editHandle",editHandleType:"rotate"});return(0,u.featureCollection)([(0,f.default)(n),g,A])}},{key:"handleDragging",value:function(t,e){if(this._isRotating){var n=this.getRotateAction(t.pointerDownMapCoords,t.mapCoords,"rotating",e);n&&e.onEdit(n),t.cancelPan()}}},{key:"handlePointerMove",value:function(t,e){if(!this._isRotating){var n=(0,d.getPickedEditHandle)(t.picks);this._selectedEditHandle=n&&"rotate"===n.properties.editHandleType?n:null}this.updateCursor(e)}},{key:"handleStartDragging",value:function(t,e){this._selectedEditHandle&&(this._isRotating=!0,this._geometryBeingRotated=this.getSelectedFeaturesAsFeatureCollection(e))}},{key:"handleStopDragging",value:function(t,e){if(this._isRotating){var n=this.getRotateAction(t.pointerDownMapCoords,t.mapCoords,"rotated",e);n&&e.onEdit(n),this._geometryBeingRotated=null,this._selectedEditHandle=null,this._isRotating=!1}}},{key:"updateCursor",value:function(t){this._selectedEditHandle?t.onUpdateCursor("crosshair"):t.onUpdateCursor(null)}},{key:"getRotateAction",value:function(t,e,n,r){if(!this._geometryBeingRotated)return null;for(var s=(0,i.default)(this._geometryBeingRotated),a=function(t,e,n){var r=(0,o.default)(t,e),i=(0,o.default)(t,n);return i-r}(s,t,e),l=(0,h.default)(this._geometryBeingRotated,a,{pivot:s}),c=new A.ImmutableFeatureCollection(r.data),u=r.selectedIndexes,f=0;f<u.length;f++){var d=u[f],p=l.features[f];c=c.replaceGeometry(d,p.geometry)}return{updatedData:c.getObject(),editType:n,editContext:{featureIndexes:u}}}}])&&m(e.prototype,n),g&&m(e,g),_}(p.GeoJsonEditMode);e.RotateMode=E},10982:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScaleMode=void 0;var r=g(n(81592)),i=g(n(46675)),o=g(n(76605)),s=g(n(80503)),a=n(64310),l=g(n(72402)),c=n(46606),u=g(n(68320)),h=g(n(89968)),f=n(71659),d=n(17219),p=n(68636),A=n(88930);function g(t){return t&&t.__esModule?t:{default:t}}function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t){return function(){var e,n=x(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"===typeof e))return e;return w(t)}(this,e)}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function E(t,e){return E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},E(t,e)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(y,t);var e,n,p,g=_(y);function y(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return S(w(t=g.call.apply(g,[this].concat(n))),"_geometryBeingScaled",void 0),S(w(t),"_selectedEditHandle",void 0),S(w(t),"_cornerGuidePoints",void 0),S(w(t),"_cursor",void 0),S(w(t),"_isScaling",!1),S(w(t),"_isSinglePointGeometrySelected",(function(t){var e=(t||{}).features;return!(!Array.isArray(e)||1!==e.length)&&"Point"===(0,f.getGeom)(e[0]).type})),S(w(t),"_getOppositeScaleHandle",(function(e){var n=e&&e.properties&&Array.isArray(e.properties.positionIndexes)&&e.properties.positionIndexes[0];if("number"!==typeof n)return null;var r=t._cornerGuidePoints.length,i=(n+r/2)%r;return t._cornerGuidePoints.find((function(t){return!!Array.isArray(t.properties.positionIndexes)&&t.properties.positionIndexes[0]===i}))})),S(w(t),"_getUpdatedData",(function(t,e){for(var n=new A.ImmutableFeatureCollection(t.data),r=t.selectedIndexes,i=0;i<r.length;i++){var o=r[i],s=e.features[i];n=n.replaceGeometry(o,s.geometry)}return n.getObject()})),S(w(t),"isEditHandleSelected",(function(){return Boolean(t._selectedEditHandle)})),S(w(t),"getScaleAction",(function(e,n,r,i){if(!t._selectedEditHandle)return null;var o=t._getOppositeScaleHandle(t._selectedEditHandle),s=(0,f.getCoord)(o),a=function(t,e,n){var r=(0,u.default)(t,e),i=(0,u.default)(t,n);return i/r}(s,e,n),l=(0,h.default)(t._geometryBeingScaled,a,{origin:s});return{updatedData:t._getUpdatedData(i,l),editType:r,editContext:{featureIndexes:i.selectedIndexes}}})),S(w(t),"updateCursor",(function(e){if(t._selectedEditHandle){t._cursor&&e.onUpdateCursor(t._cursor);var n=t.getSelectedFeaturesAsFeatureCollection(e),r=(0,i.default)(n),s=(0,o.default)(r,t._selectedEditHandle),a=s<0?s+180:s;a>=0&&a<=90||a>=180&&a<=270?(t._cursor="nesw-resize",e.onUpdateCursor("nesw-resize")):(t._cursor="nwse-resize",e.onUpdateCursor("nwse-resize"))}else e.onUpdateCursor(null),t._cursor=null})),t}return e=y,(n=[{key:"handlePointerMove",value:function(t,e){if(!this._isScaling){var n=(0,d.getPickedEditHandle)(t.picks);this._selectedEditHandle=n&&"scale"===n.properties.editHandleType?n:null,this.updateCursor(e)}}},{key:"handleStartDragging",value:function(t,e){this._selectedEditHandle&&(this._isScaling=!0,this._geometryBeingScaled=this.getSelectedFeaturesAsFeatureCollection(e))}},{key:"handleDragging",value:function(t,e){if(this._isScaling){e.onUpdateCursor(this._cursor);var n=this.getScaleAction(t.pointerDownMapCoords,t.mapCoords,"scaling",e);n&&e.onEdit(n),t.cancelPan()}}},{key:"handleStopDragging",value:function(t,e){if(this._isScaling){var n=this.getScaleAction(t.pointerDownMapCoords,t.mapCoords,"scaled",e);n&&e.onEdit(n),e.onUpdateCursor(null),this._geometryBeingScaled=null,this._selectedEditHandle=null,this._cursor=null,this._isScaling=!1}}},{key:"getGuides",value:function(t){this._cornerGuidePoints=[];var e=this.getSelectedFeaturesAsFeatureCollection(t);if(this._isSinglePointGeometrySelected(e))return{type:"FeatureCollection",features:[]};var n=(0,s.default)((0,r.default)(e));n.properties.mode="scale";var i=[];return(0,c.coordEach)(n,(function(t,e){if(e<4){var n=(0,a.point)(t,{guideType:"editHandle",editHandleType:"scale",positionIndexes:[e]});i.push(n)}})),this._cornerGuidePoints=i,(0,a.featureCollection)([(0,l.default)(n)].concat(m(this._cornerGuidePoints)))}}])&&b(e.prototype,n),p&&b(e,p),y}(p.GeoJsonEditMode);e.ScaleMode=C},42128:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnappableMode=void 0;var r=n(17219);function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return function(){var e,n=f(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=f(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;return h(t)}(this,e)}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(f,t);var e,n,i,a=u(f);function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),p(h(e=a.call(this)),"_handler",void 0),e._handler=t,e}return e=f,n=[{key:"_getSnappedMouseEvent",value:function(t,e,n){return Object.assign(t,{mapCoords:n.geometry.coordinates,pointerDownMapCoords:e&&e.geometry.coordinates})}},{key:"_getPickedSnapTarget",value:function(t){return(0,r.getPickedEditHandles)(t).find((function(t){return"snap-target"===t.properties.editHandleType}))}},{key:"_getPickedSnapSource",value:function(t){return(0,r.getPickedSnapSourceEditHandle)(t)}},{key:"_getUpdatedSnapSourceHandle",value:function(t,e){var n=t.properties,r=n.featureIndex,i=n.positionIndexes;if(!Array.isArray(i))return t;var o=e.features[r];return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{geometry:{type:"Point",coordinates:i.reduce((function(t,e){return t[e]}),o.geometry.coordinates)}})}},{key:"_getSnapTargets",value:function(t){var e=(t.modeConfig||{}).additionalSnapTargets;return e=e||[],[].concat(o(t.data.features),o(e))}},{key:"_getSnapTargetHandles",value:function(t){for(var e=[],n=this._getSnapTargets(t),i=0;i<n.length;i++)if(!t.selectedIndexes.includes(i)){var s=n[i].geometry;e.push.apply(e,o((0,r.getEditHandlesForGeometry)(s,i,"snap-target")))}return e}},{key:"getGuides",value:function(t){var e=t.modeConfig,n=t.lastPointerMoveEvent,i=(e||{}).enableSnapping,a={type:"FeatureCollection",features:o(this._handler.getGuides(t).features)};if(!i)return a;var l,c=n&&this._getPickedSnapSource(n.pointerDownPicks);if(c)return(l=a.features).push.apply(l,o(this._getSnapTargetHandles(t)).concat([this._getUpdatedSnapSourceHandle(c,t.data)])),a;var u,h=t.data.features,f=function(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=s(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}(t.selectedIndexes);try{for(f.s();!(u=f.n()).done;){var d=u.value;if(d<h.length){var p,A=h[d].geometry;(p=a.features).push.apply(p,o((0,r.getEditHandlesForGeometry)(A,d,"snap-source")))}}}catch(g){f.e(g)}finally{f.f()}return a}},{key:"_getSnapAwareEvent",value:function(t,e){var n=this._getPickedSnapSource(e.lastPointerMoveEvent.pointerDownPicks),r=this._getPickedSnapTarget(t.picks);return n&&r?this._getSnappedMouseEvent(t,n,r):t}},{key:"handleStartDragging",value:function(t,e){this._handler.handleStartDragging(t,e)}},{key:"handleStopDragging",value:function(t,e){this._handler.handleStopDragging(this._getSnapAwareEvent(t,e),e)}},{key:"handleDragging",value:function(t,e){this._handler.handleDragging(this._getSnapAwareEvent(t,e),e)}},{key:"handlePointerMove",value:function(t,e){this._handler.handlePointerMove(this._getSnapAwareEvent(t,e),e)}}],n&&c(e.prototype,n),i&&c(e,i),f}(n(68636).GeoJsonEditMode);e.SnappableMode=A},58081:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitPolygonMode=void 0;var r=g(n(61681)),i=g(n(61740)),o=g(n(23357)),s=g(n(76537)),a=n(64310),l=g(n(76605)),c=g(n(68320)),u=g(n(40859)),h=g(n(72402)),f=g(n(25909)),d=n(17219),p=n(68636),A=n(88930);function g(t){return t&&t.__esModule?t:{default:t}}function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"===typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t){return function(){var e,n=E(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=E(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function S(t,e){return S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},S(t,e)}var C=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(y,t);var e,n,p,g=x(y);function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),g.apply(this,arguments)}return e=y,(n=[{key:"calculateMapCoords",value:function(t,e,n){var r=n.modeConfig;if(!r||!r.lock90Degree||!t.length)return e;if(1===t.length){var i=t[0],o=this.getSelectedGeometry(n),s=(0,h.default)(o),p="FeatureCollection"===s.type?s.features:[s],A=Number.MAX_SAFE_INTEGER,g=null;if(p.forEach((function(t){var e=(0,f.default)(t,i),n=(0,c.default)(e,i);A>n&&(A=n,g=e)})),g){var y=(0,l.default)(i,g),m=(0,c.default)(i,e,{units:"meters"});return(0,u.default)(i,m,y,{units:"meters"}).geometry.coordinates}return e}var b=t[t.length-1],_=v((0,d.generatePointsParallelToLinePoints)(t[t.length-2],b,e),1)[0];return(0,f.default)((0,a.lineString)([b,_]),e).geometry.coordinates}},{key:"getGuides",value:function(t){var e=this.getClickSequence(),n={type:"FeatureCollection",features:[]};if(0===e.length||!t.lastPointerMoveEvent)return n;var r=t.lastPointerMoveEvent.mapCoords;return n.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(m(e),[this.calculateMapCoords(e,r,t)])}}),n}},{key:"handleClick",value:function(t,e){var n=this.getTentativeGuide(e),i=this.getSelectedGeometry(e);if(i){var o=this.getClickSequence();n&&"LineString"===n.geometry.type?o.push(n.geometry.coordinates[n.geometry.coordinates.length-1]):this.addClickSequence(t);var a={type:"Point",coordinates:o[o.length-1]},l=(0,r.default)(a,i);if(o.length>1&&n&&!l){if(this.resetClickSequence(),0===(0,s.default)(n,i).features.length)return;var c=this.splitPolygon(n,e);c&&e.onEdit(c)}}else console.warn("A polygon must be selected for splitting")}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell")}},{key:"splitPolygon",value:function(t,e){var n=this.getSelectedGeometry(e),r=e.selectedIndexes[0],s=e.modeConfig||{},a=s.gap,l=void 0===a?.1:a,c=s.units,u=void 0===c?"centimeters":c;0===l&&(l=.1,u="centimeters");var h=(0,o.default)(t,l,{units:u}),f=(0,i.default)(n,h);if(!f)return console.warn("Canceling edit. Split Polygon erased"),null;var d=f.geometry,p=d.type,g=d.coordinates,y=[];return y="Polygon"===p?g.map((function(t){return[t]})):g.reduce((function(t,e){return e.forEach((function(e){t.push([e])})),t}),[]),{updatedData:new A.ImmutableFeatureCollection(e.data).replaceGeometry(r,{type:"MultiPolygon",coordinates:y}).getObject(),editType:"split",editContext:{featureIndexes:[r]}}}}])&&w(e.prototype,n),p&&w(e,p),y}(p.GeoJsonEditMode);e.SplitPolygonMode=C},94302:(t,e,n)=>{"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},o(t,e,n||t)}function s(t){return function(){var e,n=a(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var i=a(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ThreeClickPolygonMode=void 0;var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,n,r,c=s(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"handleClick",value:function(t,e){this.addClickSequence(t);var n=this.getClickSequence(),r=this.getTentativeGuide(e);if(n.length>2&&r&&"Polygon"===r.geometry.type){var i=this.getAddFeatureOrBooleanPolygonAction(r.geometry,e);this.resetClickSequence(),i&&e.onEdit(i)}}},{key:"getGuides",value:function(t){var e=t.lastPointerMoveEvent,n=t.modeConfig,r=this.getClickSequence(),i={type:"FeatureCollection",features:[]};if(0===r.length)return i;var o=e.mapCoords;if(1===r.length)i.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[r[0],o]}});else{var s=this.getThreeClickPolygon(r[0],r[1],o,n);s&&i.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:s.geometry})}return i}},{key:"getThreeClickPolygon",value:function(t,e,n,r){return null}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell"),o(a(u.prototype),"handlePointerMove",this).call(this,t,e)}},{key:"createTentativeFeature",value:function(t){var e,n=t.lastPointerMoveEvent,r=this.getClickSequence(),i=n?[n.mapCoords]:[];return 2===r.length&&(e=this.getThreeClickPolygon(r[0],r[1],i[0],t.modeConfig)),e}}])&&i(e.prototype,n),r&&i(e,r),u}(n(68636).GeoJsonEditMode);e.ThreeClickPolygonMode=c},82612:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransformMode=void 0;var r=n(64310),i=n(36510),o=n(10982),s=n(2307);function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},h(t,e,n||t)}function f(t){return function(){var e,n=d(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var A=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(g,t);var e,n,a,A=f(g);function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),A.call(this,[new i.TranslateMode,new o.ScaleMode,new s.RotateMode])}return e=g,n=[{key:"handlePointerMove",value:function(t,e){var n=null;h(d(g.prototype),"handlePointerMove",this).call(this,t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{onUpdateCursor:function(t){n=t||n}})),e.onUpdateCursor(n)}},{key:"handleStartDragging",value:function(t,e){var n=null,r=null,s=[];this._modes.forEach((function(t){t instanceof i.TranslateMode?r=t:(t instanceof o.ScaleMode&&(n=t),s.push(t))})),n instanceof o.ScaleMode&&!n.isEditHandleSelected()&&s.push(r),s.filter(Boolean).forEach((function(n){return n.handleStartDragging(t,e)}))}},{key:"getGuides",value:function(t){var e=h(d(g.prototype),"getGuides",this).call(this,t),n=(this._modes||[]).find((function(t){return t instanceof s.RotateMode}));if(n instanceof s.RotateMode){var i=e.features.filter((function(t){var e=t.properties||{},r=e.editHandleType,i=[e.mode];return n.getIsRotating()&&i.push(r),!i.includes("scale")}));e=(0,r.featureCollection)(i)}return e}}],n&&u(e.prototype,n),a&&u(e,a),g}(n(10205).CompositeMode);e.TransformMode=A},36510:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TranslateMode=void 0;var r=h(n(76605)),i=h(n(68320)),o=h(n(29280)),s=n(64310),a=h(n(63506)),l=n(17219),c=n(68636),u=n(88930);function h(t){return t&&t.__esModule?t:{default:t}}function f(t){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return function(){var e,n=g(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"===typeof e))return e;return A(t)}(this,e)}}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(f,t);var e,n,c,h=p(f);function f(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(A(t=h.call.apply(h,[this].concat(n))),"_geometryBeforeTranslate",void 0),m(A(t),"_isTranslatable",void 0),t}return e=f,(n=[{key:"handleDragging",value:function(t,e){if(this._isTranslatable){if(this._geometryBeforeTranslate){var n=this.getTranslateAction(t.pointerDownMapCoords,t.mapCoords,"translating",e);n&&e.onEdit(n)}t.cancelPan()}}},{key:"handlePointerMove",value:function(t,e){this._isTranslatable=this.isSelectionPicked(t.pointerDownPicks||t.picks,e),this.updateCursor(e)}},{key:"handleStartDragging",value:function(t,e){this._isTranslatable&&(this._geometryBeforeTranslate=this.getSelectedFeaturesAsFeatureCollection(e))}},{key:"handleStopDragging",value:function(t,e){if(this._geometryBeforeTranslate){var n=this.getTranslateAction(t.pointerDownMapCoords,t.mapCoords,"translated",e);n&&e.onEdit(n),this._geometryBeforeTranslate=null}}},{key:"updateCursor",value:function(t){this._isTranslatable?t.onUpdateCursor("move"):t.onUpdateCursor(null)}},{key:"getTranslateAction",value:function(t,e,n,c){var h=this;if(!this._geometryBeforeTranslate)return null;var f=new u.ImmutableFeatureCollection(c.data),d=c.selectedIndexes,p=c.modeConfig||{},A=p.viewport,g=p.screenSpace;if(A&&g)!function(){for(var n=A.project?A:new a.default(A),r=n.project(t),i=n.project(e),o=i[0]-r[0],s=i[1]-r[1],c=0;c<d.length;c++){var u=d[c],p=h._geometryBeforeTranslate.features[c],g=p.geometry.coordinates;g&&(g=(0,l.mapCoords)(g,(function(t){var e=n.project(t);return e?(e[0]+=o,e[1]+=s,n.unproject(e)):null})),f=f.replaceGeometry(u,{type:p.geometry.type,coordinates:g}))}}();else for(var y=(0,s.point)(t),m=(0,s.point)(e),v=(0,i.default)(y,m),b=(0,r.default)(y,m),_=(0,o.default)(this._geometryBeforeTranslate,v,b),w=0;w<d.length;w++){var x=d[w],E=_.features[w];f=f.replaceGeometry(x,E.geometry)}return{updatedData:f.getObject(),editType:n,editContext:{featureIndexes:d}}}}])&&d(e.prototype,n),c&&d(e,c),f}(c.GeoJsonEditMode);e.TranslateMode=v},44632:(t,e,n)=>{"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},o(t,e,n||t)}function s(t){return function(){var e,n=a(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var i=a(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TwoClickPolygonMode=void 0;var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,n,r,c=s(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"handleClick",value:function(t,e){e.modeConfig&&e.modeConfig.dragToDraw||(this.addClickSequence(t),this.checkAndFinishPolygon(e))}},{key:"handleStartDragging",value:function(t,e){e.modeConfig&&e.modeConfig.dragToDraw&&(this.addClickSequence(t),t.cancelPan())}},{key:"handleStopDragging",value:function(t,e){e.modeConfig&&e.modeConfig.dragToDraw&&(this.addClickSequence(t),this.checkAndFinishPolygon(e))}},{key:"checkAndFinishPolygon",value:function(t){var e=this.getClickSequence(),n=this.getTentativeGuide(t);if(e.length>1&&n&&"Polygon"===n.geometry.type){var r={type:"Feature",properties:{shape:n.properties.shape},geometry:{type:"Polygon",coordinates:n.geometry.coordinates}},i=this.getAddFeatureOrBooleanPolygonAction(r,t);this.resetClickSequence(),i&&t.onEdit(i)}}},{key:"getGuides",value:function(t){var e=t.lastPointerMoveEvent,n=t.modeConfig,r=this.getClickSequence(),i={type:"FeatureCollection",features:[]};if(0===r.length)return i;var o=r[0],s=e.mapCoords,a=this.getTwoClickPolygon(o,s,n);return a&&i.features.push({type:"Feature",properties:{shape:a.properties&&a.properties.shape,guideType:"tentative"},geometry:a.geometry}),i}},{key:"getTwoClickPolygon",value:function(t,e,n){return null}},{key:"handlePointerMove",value:function(t,e){e.onUpdateCursor("cell"),o(a(u.prototype),"handlePointerMove",this).call(this,t,e)}},{key:"createTentativeFeature",value:function(t){var e,n=t.lastPointerMoveEvent,r=this.getClickSequence(),i=n?[n.mapCoords]:[];return 1===r.length&&(e=this.getTwoClickPolygon(r[0],i[0],t.modeConfig)),e}}])&&i(e.prototype,n),r&&i(e,r),u}(n(68636).GeoJsonEditMode);e.TwoClickPolygonMode=c},8557:(t,e,n)=>{"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return function(){var e,n=o(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var i=o(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewMode=void 0;var a=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,t);var e=i(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.apply(this,arguments)}return n}(n(68636).GeoJsonEditMode);e.ViewMode=a},89878:(t,e)=>{"use strict";function n(t,e){if(t===e)return!0;if(Array.isArray(t)){var n=t.length;if(!e||e.length!==n)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,r={};return function(i){for(var o in i)if(!n(i[o],r[o])){e=t(i),r=i;break}return e}}},17219:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toDeckColor=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[255,0,0,255];if(!Array.isArray(t))return e;return[255*t[0],255*t[1],255*t[2],255*t[3]]},e.recursivelyTraverseNestedArrays=function t(e,n,r){if(!Array.isArray(e[0]))return!0;for(var i=0;i<e.length;i++)if(t(e[i],[].concat(f(n),[i]),r)){r(e,n);break}return!1},e.generatePointsParallelToLinePoints=function(t,e,n){var s={type:"LineString",coordinates:[t,e]},l=(0,a.point)(n),c=(0,o.default)(l,s),u=(0,i.default)(t,e),h=(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0]),f=h<0?u-90:u-270,d=(0,r.default)(e,c,f),p=(0,r.default)(t,c,f);return[d.geometry.coordinates,p.geometry.coordinates]},e.distance2d=A,e.mix=g,e.nearestPointOnProjectedLine=function(t,e,n){var r=new c.default(n),i=t.geometry.coordinates.map((function(t){var e=h(t,3),n=e[0],i=e[1],o=e[2],s=void 0===o?0:o;return r.project([n,i,s])})),o=h(r.project(e.geometry.coordinates),2),s=o[0],a=o[1],l=1/0,u={};i.forEach((function(t,e){var n=h(t,2),r=n[0],o=n[1];if(0!==e){var c=h(i[e-1],2),f=c[0],d=c[1],p=d-o,A=r-f,g=f*o-r*d,y=p*p+A*A,m=Math.abs(p*s+A*a+g)/Math.sqrt(y);m<l&&(l=m,u={index:e,x0:(A*(A*s-p*a)-p*g)/y,y0:(p*(-A*s+p*a)-A*g)/y})}}));var f=u,d=f.index,p=f.x0,y=f.y0,m=h(i[d-1],3),v=m[0],b=m[1],_=m[2],w=void 0===_?0:_,x=h(i[d],3),E=x[0],S=x[1],C=x[2],P=void 0===C?0:C,M=A(v,b,E,S),T=A(v,b,p,y),O=g(w,P,T/M);return{type:"Feature",geometry:{type:"Point",coordinates:r.unproject([p,y,O])},properties:{dist:l,index:d-1}}},e.nearestPointOnLine=function(t,e,n){var r,i,o;n&&(o=new c.default(n));var u=(0,a.point)([1/0,1/0],{dist:1/0});if(!(null===(r=t.geometry)||void 0===r?void 0:r.coordinates.length)||(null===(i=t.geometry)||void 0===i?void 0:i.coordinates.length)<2)return u;return(0,s.flattenEach)(t,(function(t){var n,r,i,s,c,h,f,d=(0,l.getCoords)(t),p=(0,l.getCoords)(e);if(d.length>1&&p.length){var A,g;o?(A=d.map((function(t){return o.project(t)})),g=o.project(p)):(A=d,g=p);for(var y=1;y<A.length;y++){if(A[y][0]!==A[y-1][0]){var m=(A[y][1]-A[y-1][1])/(A[y][0]-A[y-1][0]),v=A[y][1]-m*A[y][0];f=Math.abs(m*g[0]+v-g[1])/Math.sqrt(m*m+1)}else f=Math.abs(g[0]-A[y][0]);var b=Math.pow(A[y][1]-A[y-1][1],2)+Math.pow(A[y][0]-A[y-1][0],2),_=Math.pow(A[y][1]-g[1],2)+Math.pow(A[y][0]-g[0],2),w=Math.pow(A[y-1][1]-g[1],2)+Math.pow(A[y-1][0]-g[0],2),x=Math.pow(f,2),E=_-x+w-x;E>b&&(f=Math.sqrt(Math.min(_,w))),(null===n||void 0===n||n>f)&&(E>b?w<_?(r=0,i=1):(i=0,r=1):(r=Math.sqrt(w-x)/Math.sqrt(b),i=Math.sqrt(_-x)/Math.sqrt(b)),n=f,h=y)}var S=A[h-1][0]-A[h][0],C=A[h-1][1]-A[h][1];s=A[h-1][0]-S*r,c=A[h-1][1]-C*r}var P={x:s,y:c,idx:h-1,to:r,from:i};if(o){var M=o.unproject([P.x,P.y]);P={x:M[0],y:M[1],idx:h-1,to:r,from:i}}u=(0,a.point)([P.x,P.y],{dist:Math.abs(P.from-P.to),index:P.idx})})),u},e.getPickedEditHandle=function(t){var e=y(t);return e.length?e[0]:null},e.getPickedSnapSourceEditHandle=function(t){return y(t).find((function(t){return"snap-source"===t.properties.editHandleType}))},e.getNonGuidePicks=function(t){return t&&t.filter((function(t){return!t.isGuide}))},e.getPickedExistingEditHandle=function(t){return y(t).find((function(t){var e=t.properties;return e.featureIndex>=0&&"existing"===e.editHandleType}))},e.getPickedIntermediateEditHandle=function(t){return y(t).find((function(t){var e=t.properties;return e.featureIndex>=0&&"intermediate"===e.editHandleType}))},e.getPickedEditHandles=y,e.getEditHandlesForGeometry=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"existing",r=[];switch(t.type){case"Point":r=[{type:"Feature",properties:{guideType:"editHandle",editHandleType:n,positionIndexes:[],featureIndex:e},geometry:{type:"Point",coordinates:t.coordinates}}];break;case"MultiPoint":case"LineString":r=r.concat(m(t.coordinates,[],e,n));break;case"Polygon":case"MultiLineString":for(var i=0;i<t.coordinates.length;i++)r=r.concat(m(t.coordinates[i],[i],e,n)),"Polygon"===t.type&&(r=r.slice(0,-1));break;case"MultiPolygon":for(var o=0;o<t.coordinates.length;o++)for(var s=0;s<t.coordinates[o].length;s++)r=(r=r.concat(m(t.coordinates[o][s],[o,s],e,n))).slice(0,-1);break;default:throw Error("Unhandled geometry type: ".concat(t.type))}return r},e.updateRectanglePosition=function(t,e,n){var r=t.geometry.coordinates;if(!r)return null;var i=r[0].slice(0,4);i[e%4]=n;var o=i[(e+2)%4],s=i[e%4];return i[(e+1)%4]=[s[0],o[1]],i[(e+3)%4]=[o[0],s[1]],[[].concat(f(i),[i[0]])]},e.mapCoords=function t(e,n){if("number"===typeof e[0])return!isNaN(e[0])&&isFinite(e[0])?n(e):e;return e.map((function(e){return t(e,n)})).filter(Boolean)};var r=u(n(40859)),i=u(n(76605)),o=u(n(10168)),s=n(46606),a=n(64310),l=n(71659),c=u(n(63506));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function g(t,e,n){return e*n+t*(1-n)}function y(t){return t&&t.filter((function(t){return t.isGuide&&"editHandle"===t.object.properties.guideType})).map((function(t){return t.object}))||[]}function m(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"existing",i=[],o=0;o<t.length;o++){var s=t[o];i.push({type:"Feature",properties:{guideType:"editHandle",positionIndexes:[].concat(f(e),[o]),featureIndex:n,editHandleType:r},geometry:{type:"Point",coordinates:s}})}return i}},9186:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UNIT=e.PROJECTED_PIXEL_SIZE_MULTIPLIER=void 0;e.PROJECTED_PIXEL_SIZE_MULTIPLIER=2/3;e.UNIT={common:0,meters:1,pixels:2}},4319:(t,e,n)=>{"use strict";Object.defineProperty(e,"Tp",{enumerable:!0,get:function(){return i.default}});var r=n(74690),i=f(n(40034)),o=f(n(22783)),s=f(n(90480)),a=f(n(13766)),l=f(n(77899)),c=f(n(83549)),u=f(n(2268)),h=n(67994);function f(t){return t&&t.__esModule?t:{default:t}}},40034:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(28645),i=n(17026),o=n(9186),s=l(n(35780)),a=l(n(87098));function l(t){return t&&t.__esModule?t:{default:t}}function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},p(t,e,n||t)}function A(t){return function(){var e,n=g(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=[0,0,0,153],b=[0,0,0,144],_=[0,0,0,255],w=[0,0,144,144],x=[144,144,144,255],E=[144,144,144,144],S=[192,0,0,255],C=[0,0,0,128],P=[124,0,192,255],M=[255,255,255,255],T=32*o.PROJECTED_PIXEL_SIZE_MULTIPLIER,O=i.DrawPolygonMode;function I(t){return t&&"function"===typeof t?function(e){return t(function(t){if(t.__source)return t.__source.object;if(t.sourceFeature)return t.sourceFeature.feature;return t}(e))}:t}function R(t){switch(t.properties.editHandleType){case"existing":return S;case"snap-source":return P;default:return C}}var L={mode:O,onEdit:function(){},pickable:!0,pickingRadius:10,pickingDepth:5,fp64:!1,filled:!0,stroked:!0,lineWidthScale:o.PROJECTED_PIXEL_SIZE_MULTIPLIER,lineWidthMinPixels:1,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,pickingLineWidthExtraPixels:0,lineWidthUnits:"pixels",lineJointRounded:!1,lineCapRounded:!1,lineMiterLimit:4,pointRadiusScale:1,pointRadiusMinPixels:2,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,getLineColor:function(t,e,n){return e?_:v},getFillColor:function(t,e,n){return e?w:b},getRadius:function(t){return t&&t.properties&&t.properties.radius||t&&t.properties&&t.properties.size||1},getLineWidth:function(t){return t&&t.properties&&t.properties.lineWidth||3},getTentativeLineColor:function(t){return x},getTentativeFillColor:function(t){return E},getTentativeLineWidth:function(t){return t&&t.properties&&t.properties.lineWidth||3},editHandleType:"point",editHandlePointRadiusScale:1,editHandlePointOutline:!0,editHandlePointStrokeWidth:2,editHandlePointRadiusUnits:"pixels",editHandlePointRadiusMinPixels:4,editHandlePointRadiusMaxPixels:8,getEditHandlePointColor:R,getEditHandlePointOutlineColor:function(t){return M},getEditHandlePointRadius:function(t){switch(t.properties.editHandleType){case"existing":return 5;case"snap":return 7;default:return 3}},editHandleIconAtlas:null,editHandleIconMapping:null,editHandleIconSizeScale:1,editHandleIconSizeUnits:"pixels",getEditHandleIcon:function(t){return t.properties.editHandleType},getEditHandleIconSize:10,getEditHandleIconColor:R,getEditHandleIconAngle:0,billboard:!0},k={view:i.ViewMode,modify:i.ModifyMode,translate:new i.SnappableMode(new i.TranslateMode),transform:new i.SnappableMode(new i.TransformMode),scale:i.ScaleMode,rotate:i.RotateMode,duplicate:i.DuplicateMode,split:i.SplitPolygonMode,extrude:i.ExtrudeMode,elevation:i.ElevationMode,drawPoint:i.DrawPointMode,drawLineString:i.DrawLineStringMode,drawPolygon:i.DrawPolygonMode,drawRectangle:i.DrawRectangleMode,drawSquare:i.DrawSquareMode,drawRectangleFromCenter:i.DrawRectangleFromCenterMode,drawSquareFromCenter:i.DrawSquareFromCenterMode,drawCircleFromCenter:i.DrawCircleFromCenterMode,drawCircleByBoundingBox:i.DrawCircleByDiameterMode,drawEllipseByBoundingBox:i.DrawEllipseByBoundingBoxMode,drawRectangleUsing3Points:i.DrawRectangleUsingThreePointsMode,drawEllipseUsing3Points:i.DrawEllipseUsingThreePointsMode,draw90DegreePolygon:i.Draw90DegreePolygonMode,drawPolygonByDragging:i.DrawPolygonByDraggingMode},B=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(s,t);var e,n,i,o=A(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return e=s,n=[{key:"renderLayers",value:function(){var t=this.getSubLayerProps({id:"geojson",data:this.props.data,fp64:this.props.fp64,filled:this.props.filled,stroked:this.props.stroked,lineWidthScale:this.props.lineWidthScale,lineWidthMinPixels:this.props.lineWidthMinPixels,lineWidthMaxPixels:this.props.lineWidthMaxPixels,lineWidthUnits:this.props.lineWidthUnits,lineJointRounded:this.props.lineJointRounded,lineCapRounded:this.props.lineCapRounded,lineMiterLimit:this.props.lineMiterLimit,pointRadiusScale:this.props.pointRadiusScale,pointRadiusMinPixels:this.props.pointRadiusMinPixels,pointRadiusMaxPixels:this.props.pointRadiusMaxPixels,getLineColor:this.selectionAwareAccessor(this.props.getLineColor),getFillColor:this.selectionAwareAccessor(this.props.getFillColor),getPointRadius:this.selectionAwareAccessor(this.props.getRadius),getLineWidth:this.selectionAwareAccessor(this.props.getLineWidth),_subLayerProps:{linestrings:{billboard:this.props.billboard,updateTriggers:{all:[this.props.selectedFeatureIndexes,this.props.mode]}},"polygons-stroke":{billboard:this.props.billboard,pickingLineWidthExtraPixels:this.props.pickingLineWidthExtraPixels,type:a.default,updateTriggers:{all:[this.props.selectedFeatureIndexes,this.props.mode]}}},updateTriggers:{getLineColor:[this.props.selectedFeatureIndexes,this.props.mode],getFillColor:[this.props.selectedFeatureIndexes,this.props.mode],getPointRadius:[this.props.selectedFeatureIndexes,this.props.mode],getLineWidth:[this.props.selectedFeatureIndexes,this.props.mode]}}),e=[new r.GeoJsonLayer(t)];return e=e.concat(this.createGuidesLayers(),this.createTooltipsLayers())}},{key:"initializeState",value:function(){p(g(s.prototype),"initializeState",this).call(this),this.setState({selectedFeatures:[],editHandles:[]})}},{key:"shouldUpdateState",value:function(t){return p(g(s.prototype),"shouldUpdateState",this).call(this,t)||t.changeFlags.stateChanged}},{key:"updateState",value:function(t){var e,n=t.props,r=t.oldProps,i=t.changeFlags,o=t.context;(p(g(s.prototype),"updateState",this).call(this,{oldProps:r,props:n,changeFlags:i,context:o}),!i.propsOrDataChanged||0!==Object.keys(r).length&&n.mode===r.mode)||("function"===typeof n.mode?e=new(0,n.mode):"string"===typeof n.mode?(e=k[n.mode],console.warn("Deprecated use of passing `mode` as a string. Pass the mode's class constructor instead.")):e=n.mode,e||(console.warn("No mode configured for ".concat(String(n.mode))),e=new O),e!==this.state.mode&&this.setState({mode:e,cursor:null}));var a=[];Array.isArray(n.selectedFeatureIndexes)&&(a=n.selectedFeatureIndexes.map((function(t){return n.data.features[t]}))),this.setState({selectedFeatures:a})}},{key:"getModeProps",value:function(t){var e=this;return{modeConfig:t.modeConfig,data:t.data,selectedIndexes:t.selectedFeatureIndexes,lastPointerMoveEvent:this.state.lastPointerMoveEvent,cursor:this.state.cursor,onEdit:function(n){e.setNeedsUpdate(),t.onEdit(n)},onUpdateCursor:function(t){e.setState({cursor:t})}}}},{key:"selectionAwareAccessor",value:function(t){var e=this;return"function"!==typeof t?t:function(n){return t(n,e.isFeatureSelected(n),e.props.mode)}}},{key:"isFeatureSelected",value:function(t){if(!this.props.data||!this.props.selectedFeatureIndexes)return!1;if(!this.props.selectedFeatureIndexes.length)return!1;var e=this.props.data.features.indexOf(t);return this.props.selectedFeatureIndexes.includes(e)}},{key:"getPickingInfo",value:function(t){var e=t.info;return t.sourceLayer.id.endsWith("guides")&&(e.isGuide=!0),e}},{key:"_updateAutoHighlight",value:function(t){if(null===t||void 0===t?void 0:t.sourceLayer)if(t.isGuide){var e,n=h(t.sourceLayer.getSubLayers());try{for(n.s();!(e=n.n()).done;)e.value.updateAutoHighlight(t)}catch(r){n.e(r)}finally{n.f()}}else t.sourceLayer.updateAutoHighlight(t)}},{key:"createGuidesLayers",value:function(){var t=this.getActiveMode().getGuides(this.getModeProps(this.props));if(!t||!t.features.length)return[];var e={linestrings:{billboard:this.props.billboard,autoHighlight:!1},"polygons-fill":{autoHighlight:!1},"polygons-stroke":{billboard:this.props.billboard}};return"icon"===this.props.editHandleType?e["points-icon"]={type:r.IconLayer,iconAtlas:this.props.editHandleIconAtlas,iconMapping:this.props.editHandleIconMapping,sizeUnits:this.props.editHandleIconSizeUnits,sizeScale:this.props.editHandleIconSizeScale,getIcon:I(this.props.getEditHandleIcon),getSize:I(this.props.getEditHandleIconSize),getColor:I(this.props.getEditHandleIconColor),getAngle:I(this.props.getEditHandleIconAngle)}:e["points-circle"]={type:r.ScatterplotLayer,radiusScale:this.props.editHandlePointRadiusScale,stroked:this.props.editHandlePointOutline,getLineWidth:this.props.editHandlePointStrokeWidth,radiusUnits:this.props.editHandlePointRadiusUnits,radiusMinPixels:this.props.editHandlePointRadiusMinPixels,radiusMaxPixels:this.props.editHandlePointRadiusMaxPixels,getRadius:I(this.props.getEditHandlePointRadius),getFillColor:I(this.props.getEditHandlePointColor),getLineColor:I(this.props.getEditHandlePointOutlineColor)},[new r.GeoJsonLayer(this.getSubLayerProps({id:"guides",data:t,fp64:this.props.fp64,_subLayerProps:e,lineWidthScale:this.props.lineWidthScale,lineWidthMinPixels:this.props.lineWidthMinPixels,lineWidthMaxPixels:this.props.lineWidthMaxPixels,lineWidthUnits:this.props.lineWidthUnits,lineJointRounded:this.props.lineJointRounded,lineCapRounded:this.props.lineCapRounded,lineMiterLimit:this.props.lineMiterLimit,getLineColor:I(this.props.getTentativeLineColor),getLineWidth:I(this.props.getTentativeLineWidth),getFillColor:I(this.props.getTentativeFillColor),pointType:"icon"===this.props.editHandleType?"icon":"circle",iconAtlas:this.props.editHandleIconAtlas}))]}},{key:"createTooltipsLayers",value:function(){var t=this.getActiveMode().getTooltips(this.getModeProps(this.props)),e=new r.TextLayer(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({getSize:T},this.getSubLayerProps({id:"tooltips",data:t})));return[e]}},{key:"onLayerClick",value:function(t){this.getActiveMode().handleClick(t,this.getModeProps(this.props))}},{key:"onLayerKeyUp",value:function(t){this.getActiveMode().handleKeyUp(t,this.getModeProps(this.props))}},{key:"onStartDragging",value:function(t){this.getActiveMode().handleStartDragging(t,this.getModeProps(this.props))}},{key:"onDragging",value:function(t){this.getActiveMode().handleDragging(t,this.getModeProps(this.props))}},{key:"onStopDragging",value:function(t){this.getActiveMode().handleStopDragging(t,this.getModeProps(this.props))}},{key:"onPointerMove",value:function(t){this.setState({lastPointerMoveEvent:t}),this.getActiveMode().handlePointerMove(t,this.getModeProps(this.props))}},{key:"getCursor",value:function(t){var e=t.isDragging;if(null===this.state||void 0===this.state)return null;var n=this.state.cursor;return n||(n=e?"grabbing":"grab"),n}},{key:"getActiveMode",value:function(){return this.state.mode}}],n&&d(e.prototype,n),i&&d(e,i),s}(s.default);e.default=B,m(B,"layerName","EditableGeoJsonLayer"),m(B,"defaultProps",L)},22783:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(55427),i=n(17026),o=n(52424),s=n(9186),a=c(n(40034)),l=c(n(35780));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function h(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},p(t,e,n||t)}function A(t){return function(){var e,n=g(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===u(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=i.ViewMode,w={type:"FeatureCollection",features:[]},x=v({mode:_},a.default.defaultProps,{data:[],selectedIndexes:[],filled:!1,stroked:!0,lineWidthScale:s.PROJECTED_PIXEL_SIZE_MULTIPLIER,lineWidthMinPixels:1,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineWidthUnits:"pixels",getHexagons:function(t){return t.hexIds},getEditedCluster:function(t,e){return e?v({},e,{hexIds:t}):{hexIds:t}},resolution:9}),E=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(l,t);var e,n,i,s=A(l);function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),s.apply(this,arguments)}return e=l,(n=[{key:"initializeState",value:function(){p(g(l.prototype),"initializeState",this).call(this),this.setState({tentativeHexagonIDs:[]})}},{key:"getDerivedHexagonIDs",value:function(t){return(0,o.polyfill)(t,this.props.resolution,!0)}},{key:"getDerivedHexagonID",value:function(t){return(0,o.geoToH3)(t[1],t[0],this.props.resolution)}},{key:"renderLayers",value:function(){var t=this;return[new a.default(this.getSubLayerProps({id:"editable-geojson",mode:this.props.mode,data:w,selectedFeatureIndexes:[],onEdit:function(e){var n=e.editType,r=e.editContext;switch(n){case"updateTentativeFeature":if("Polygon"===r.feature.geometry.type){var i=r.feature.geometry.coordinates,o=t.getDerivedHexagonIDs(i);t.setState({tentativeHexagonIDs:o})}else if("Point"===r.feature.geometry.type){var s=r.feature.geometry.coordinates,a=t.getDerivedHexagonID(s);t.setState({tentativeHexagonIDs:[a]})}break;case"addFeature":var l=h(t.props.data),c=t.props.modeConfig;if(c&&c.booleanOperation)if(1!==t.props.selectedIndexes.length)console.warn("booleanOperation only supported for single cluster selection");else{var u,f=new Set(t.getSelectedHexIDs()),d=new Set(t.state.tentativeHexagonIDs);switch(c.booleanOperation){case"union":default:u=h(new Set([].concat(h(f),h(d))));break;case"intersection":u=h(f).filter((function(t){return d.has(t)}));break;case"difference":u=h(f).filter((function(t){return!d.has(t)}))}var p=t.props.selectedIndexes[0],A=t.props.data[p];l[p]=t.props.getEditedCluster(u,A)}else l.push(t.props.getEditedCluster(t.state.tentativeHexagonIDs,null));t.setState({tentativeHexagonIDs:[]}),t.props.onEdit({updatedData:l})}}})),new r.H3ClusterLayer(this.getSubLayerProps({id:"hexagons",data:this.props.data,getHexagons:this.props.getHexagons})),new r.H3ClusterLayer(this.getSubLayerProps({id:"tentative-hexagons",data:[{hexIds:this.state.tentativeHexagonIDs}],getHexagons:function(t){return t.hexIds}}))]}},{key:"getSelectedHexIDs",value:function(){var t=this,e=[];return this.props.selectedIndexes.forEach((function(n){var r=t.props.data[n],i=t.props.getHexagons(r);e=e.concat(i)})),e}},{key:"getCursor",value:function(t){var e=t.isDragging,n=(this.state||{}).cursor;return n||(n=e?"grabbing":"grab"),n}}])&&d(e.prototype,n),i&&d(e,i),l}(l.default);e.default=E,b(E,"layerName","EditableH3ClusterLayer"),b(E,"defaultProps",x)},35780:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(1047);function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return function(){var e,n=h(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=["anyclick","pointermove","panstart","panmove","panend","keyup"],A=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(o,t);var e,n,r,i=u(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"onLayerClick",value:function(t){}},{key:"onStartDragging",value:function(t){}},{key:"onStopDragging",value:function(t){}},{key:"onDragging",value:function(t){}},{key:"onPointerMove",value:function(t){}},{key:"onLayerKeyUp",value:function(t){}},{key:"initializeState",value:function(){this.setState({_editableLayerState:{pointerDownPicks:null,pointerDownScreenCoords:null,pointerDownMapCoords:null,eventHandler:this._forwardEventToCurrentLayer.bind(this)}}),this._addEventHandlers()}},{key:"finalizeState",value:function(){this._removeEventHandlers()}},{key:"_addEventHandlers",value:function(){var t,e=this.context.deck.eventManager,n=this.state._editableLayerState.eventHandler,r=a(p);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.on(i,n,{priority:100})}}catch(o){r.e(o)}finally{r.f()}}},{key:"_removeEventHandlers",value:function(){var t,e=this.context.deck.eventManager,n=this.state._editableLayerState.eventHandler,r=a(p);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.off(i,n)}}catch(o){r.e(o)}finally{r.f()}}},{key:"_forwardEventToCurrentLayer",value:function(t){var e=this.getCurrentLayer(),n=e["_on".concat(t.type)].bind(e);n?n(t):console.warn("no handler for mjolnir.js event ".concat(t.type))}},{key:"_onanyclick",value:function(t){var e=t.srcEvent,n=this.getScreenCoords(e),r=this.getMapCoords(n),i=this.getPicks(n);this.onLayerClick({mapCoords:r,screenCoords:n,picks:i,sourceEvent:e})}},{key:"_onkeyup",value:function(t){var e=t.srcEvent;this.onLayerKeyUp(e)}},{key:"_onpanstart",value:function(t){var e=this.getScreenCoords(t.srcEvent),n=this.getMapCoords(e),r=this.getPicks(e);this.setState({_editableLayerState:s({},this.state._editableLayerState,{pointerDownScreenCoords:e,pointerDownMapCoords:n,pointerDownPicks:r})}),this.onStartDragging({picks:r,screenCoords:e,mapCoords:n,pointerDownScreenCoords:e,pointerDownMapCoords:n,cancelPan:t.stopImmediatePropagation,sourceEvent:t.srcEvent})}},{key:"_onpanmove",value:function(t){var e=t.srcEvent,n=this.getScreenCoords(e),r=this.getMapCoords(n),i=this.state._editableLayerState,o=i.pointerDownPicks,s=i.pointerDownScreenCoords,a=i.pointerDownMapCoords,l=this.getPicks(n);this.onDragging({screenCoords:n,mapCoords:r,picks:l,pointerDownPicks:o,pointerDownScreenCoords:s,pointerDownMapCoords:a,sourceEvent:e,cancelPan:t.stopImmediatePropagation})}},{key:"_onpanend",value:function(t){var e=t.srcEvent,n=this.getScreenCoords(e),r=this.getMapCoords(n),i=this.state._editableLayerState,o=i.pointerDownPicks,a=i.pointerDownScreenCoords,l=i.pointerDownMapCoords,c=this.getPicks(n);this.onStopDragging({picks:c,screenCoords:n,mapCoords:r,pointerDownPicks:o,pointerDownScreenCoords:a,pointerDownMapCoords:l,sourceEvent:e}),this.setState({_editableLayerState:s({},this.state._editableLayerState,{pointerDownScreenCoords:null,pointerDownMapCoords:null,pointerDownPicks:null})})}},{key:"_onpointermove",value:function(t){var e=t.srcEvent,n=this.getScreenCoords(e),r=this.getMapCoords(n),i=this.state._editableLayerState,o=i.pointerDownPicks,s=i.pointerDownScreenCoords,a=i.pointerDownMapCoords,l=this.getPicks(n);this.onPointerMove({screenCoords:n,mapCoords:r,picks:l,pointerDownPicks:o,pointerDownScreenCoords:s,pointerDownMapCoords:a,sourceEvent:e})}},{key:"getPicks",value:function(t){return this.context.deck.pickMultipleObjects({x:t[0],y:t[1],layerIds:[this.props.id],radius:this.props.pickingRadius,depth:this.props.pickingDepth})}},{key:"getScreenCoords",value:function(t){return[t.clientX-this.context.gl.canvas.getBoundingClientRect().left,t.clientY-this.context.gl.canvas.getBoundingClientRect().top]}},{key:"getMapCoords",value:function(t){return this.context.viewport.unproject([t[0],t[1]])}}])&&c(e.prototype,n),r&&c(e,r),o}(r.CompositeLayer);e.default=A,d(A,"layerName","EditableLayer")},87098:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(28645),i=n(67994);function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},a(t,e,n||t)}function l(t){return function(){var e,n=c(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=f({},r.PathLayer.defaultProps,{pickingLineWidthExtraPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER}}),A=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,n,r,o=l(h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),o.apply(this,arguments)}return e=h,(n=[{key:"getShaders",value:function(){var t,e=a(c(h.prototype),"getShaders",this).call(this);return e.vs=(0,i.insertBefore)(e.vs,"vec3 width;","\n       if(picking_uActive){\n        widthPixels.xy += pickingLineWidthExtraPixels;\n       }\n      "),f({},e,{inject:f({},e.inject||{},{"vs:#decl":((null===(t=e.inject)||void 0===t?void 0:t["vs:#decl"])||"").concat("uniform float pickingLineWidthExtraPixels;")})})}},{key:"draw",value:function(t){a(c(h.prototype),"draw",this).call(this,f({},t,{uniforms:f({},t.uniforms,{pickingLineWidthExtraPixels:this.props.pickingLineWidthExtraPixels})}))}}])&&s(e.prototype,n),r&&s(e,r),h}(r.PathLayer);e.default=A,A.defaultProps=p,A.layerName="EditablePathLayer"},13766:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(1047),i=n(28645);function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){return function(){var e,n=l(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,o=a(l);function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),o.apply(this,arguments)}return e=l,(n=[{key:"renderLayers",value:function(){return[new i.ScatterplotLayer(Object.assign({},this.props,{id:"".concat(this.props.id,"-ScatterplotLayer"),data:this.props.data})),new i.LineLayer(Object.assign({},this.props,{id:"".concat(this.props.id,"-LineLayer"),data:this.props.data,pickable:!1,getSourcePosition:function(t){var e=t.position;return[e[0],e[1],0]},getTargetPosition:function(t){var e=t.position;return[e[0],e[1],e[2]||0]},getColor:[150,150,150,200],getStrokeWidth:3}))]}}])&&s(e.prototype,n),r&&s(e,r),l}(r.CompositeLayer);e.default=h,u(h,"layerName","ElevatedEditHandleLayer"),u(h,"defaultProps",{})},2268:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(1047),i=n(28645);function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return function(){var e,n=u(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(s,t);var e,n,r,o=c(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"renderLayers",value:function(){var t=this.props,e=t.id,n=t.getFillColor,r=t.getStrokeColor,o=t.getInnerRadius,s=t.updateTriggers;return[new i.ScatterplotLayer(a({},this.props,{id:"".concat(e,"-full"),data:this.props.data,getLineColor:r,updateTriggers:a({},s,{getStrokeColor:s.getStrokeColor})})),new i.ScatterplotLayer(a({},this.props,{id:"".concat(e,"-inner"),data:this.props.data,getFillColor:n,getRadius:o,pickable:!1,updateTriggers:a({},s,{getFillColor:s.getFillColor,getRadius:s.getInnerRadius})}))]}}])&&l(e.prototype,n),r&&l(e,r),s}(r.CompositeLayer);e.default=d,f(d,"layerName","JunctionScatterplotLayer"),f(d,"defaultProps",a({},i.ScatterplotLayer.defaultProps,{getFillColor:function(t){return[0,0,0,255]},getStrokeColor:function(t){return[255,255,255,255]},getInnerRadius:function(t){return 1}}))},67996:(t,e,n)=>{"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return function(){var e,n=o(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var i=o(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,t);var e=i(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.call(this,Object.assign({},t,{attributes:l(t)}))}return n}(n(4369).Geometry);function l(t){for(var e=t.length,n=void 0===e?1:e,r=t.headSize,i=void 0===r?.2:r,o=t.tailWidth,s=void 0===o?.05:o,a=t.tailStart,l=void 0===a?.05:a,c=[.5,1,0,.5-i/2,1-i,0,.5+i/2,1-i,0,.5-s/2,l,0,.5+s/2,1-i,0,.5+s/2,l,0,.5-s/2,l,0,.5-s/2,1-i,0,.5+s/2,1-i,0],u=new Array(c.length),h=0;h<c.length/3;h++){var f=3*h;u[f+0]=(c[f+0]-.5)*n,u[f+1]=(c[f+1]-.5)*n,u[f+2]=0}return{positions:new Float32Array(u),normals:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]),texCoords:new Float32Array(c)}}e.default=a},53027:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=t.data,o=t.getPath,u=void 0===o?function(t){return t.path}:o,h=t.getDirection,f=void 0===h?function(t){return t.direction}:h,d=t.getColor,p=void 0===d?function(t){return a}:d,A=t.getMarkerPercentages,g=void 0===A?function(t,e){return[.5]}:A,y=t.projectFlat,m=[],v=i(n);try{for(v.s();!(e=v.n()).done;){var b,_=e.value,w=u(_),x=f(_)||l,E=p(_),S=w.map((function(t){return new r.Vector2(t)})),C=S.slice(0).reverse(),P=s(S),M=i(g(_,{lineLength:P}));try{for(M.s();!(b=M.n()).done;){var T=b.value;if(x.forward){var O=c({path:S,percentage:T,lineLength:P,color:E,object:_,projectFlat:y});m.push(O)}if(x.backward){var I=c({path:C,percentage:T,lineLength:P,color:E,object:_,projectFlat:y});m.push(I)}}}catch(R){M.e(R)}finally{M.f()}}}catch(R){v.e(R)}finally{v.f()}return m};var r=n(12709);function i(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,s=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].distance(t[n+1]);return e}var a=[0,0,0,255],l={forward:!0,backward:!1};function c(t){var e=t.path,n=t.percentage,i=t.lineLength,o=t.color,s=t.object,a=t.projectFlat,l=i*n,c=0,u=0,h=0;for(h=0;h<e.length-1&&!((c+=e[h].distance(e[h+1]))>l);h++)u=c;h===e.length-1&&(h-=1);var f=l-u,d=e[h+1].clone().subtract(e[h]).normalize().clone().multiply(new r.Vector2(f,f)).add(e[h]),p=180*new r.Vector2(a(e[h+1])).subtract(a(e[h])).verticalAngle()/Math.PI;return{position:[d.x,d.y,0],angle:p,color:o,object:s}}},83549:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(1047),i=n(28645),o=n(43448),s=u(n(77899)),a=u(n(67996)),l=u(n(53027)),c=n(76833);function u(t){return t&&t.__esModule?t:{default:t}}function h(t){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t){return function(){var e,n=g(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===h(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=o.SimpleMeshLayer,b={mesh:new a.default({headSize:.2,tailWidth:.05})},_=Object.assign({},s.default.defaultProps,{MarkerLayer:v,markerLayerProps:b,sizeScale:100,fp64:!1,highlightIndex:-1,highlightPoint:null,getPath:function(t){return t.path},getColor:function(t){return t.color},getMarkerColor:function(t){return[0,0,0,255]},getDirection:function(t){return t.direction},getMarkerPercentages:function(t,e){return e.lineLength>.1?[.25,.5,.75]:[.5]}}),w=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(h,t);var e,n,o,u=A(h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),u.apply(this,arguments)}return e=h,(n=[{key:"initializeState",value:function(){this.state={markers:[],mesh:new a.default({headSize:.2,tailWidth:.05}),closestPoint:null}}},{key:"projectFlat",value:function(t,e,n,i){if(n===r.COORDINATE_SYSTEM.METER_OFFSETS){var o=f(e.metersToLngLatDelta(t),2),s=o[0],a=o[1],l=f(i,2),c=l[0],u=l[1];return e.projectFlat([c+s,a+u])}if(n===r.COORDINATE_SYSTEM.LNGLAT_OFFSETS){var h=f(t,2),d=h[0],p=h[1],A=f(i,2),g=A[0],y=A[1];return e.projectFlat([g+d,p+y])}return e.projectFlat(t)}},{key:"updateState",value:function(t){var e=this,n=t.props,r=t.oldProps,i=t.changeFlags;if(i.dataChanged||i.updateTriggersChanged){var o=this.props,s=o.data,a=o.getPath,c=o.getDirection,u=o.getMarkerColor,h=o.getMarkerPercentages,f=o.coordinateSystem,d=o.coordinateOrigin,p=this.context.viewport;this.state.markers=(0,l.default)({data:s,getPath:a,getDirection:c,getColor:u,getMarkerPercentages:h,projectFlat:function(t){return e.projectFlat(t,p,f,d)}}),this._recalculateClosestPoint()}i.propsChanged&&n.point!==r.point&&this._recalculateClosestPoint()}},{key:"_recalculateClosestPoint",value:function(){var t=this.props,e=t.highlightPoint,n=t.highlightIndex;if(e&&n>=0){var r=this.props.data[n],i=this.props.getPath(r),o=(0,c.getClosestPointOnPolyline)({points:i,p:e}).point;this.state.closestPoints=[{position:o}]}else this.state.closestPoints=[]}},{key:"getPickingInfo",value:function(t){var e=t.info;return Object.assign(e,{object:e.object&&e.object.path||e.object})}},{key:"renderLayers",value:function(){return[new s.default(this.props,this.getSubLayerProps({id:"paths",data:this.props.data})),new this.props.MarkerLayer(this.getSubLayerProps(Object.assign({},this.props.markerLayerProps,{id:"markers",data:this.state.markers,getOrientation:function(t){return[0,-t.angle,0]},getColor:function(t){return t.color},sizeScale:this.props.sizeScale,fp64:this.props.fp64,pickable:!1,parameters:{blend:!1,depthTest:!1}}))),this.state.closestPoints&&new i.ScatterplotLayer({id:"".concat(this.props.id,"-highlight"),data:this.state.closestPoints,fp64:this.props.fp64})]}}])&&p(e.prototype,n),o&&p(e,o),h}(r.CompositeLayer);e.default=w,m(w,"layerName","PathMarkerLayer"),m(w,"defaultProps",_)},76833:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClosestPointOnLine=i,e.getClosestPointOnPolyline=function(t){var e=t.p,n=t.points;e=new r.Vector3(e);for(var o=null,s=1/0,a=-1,l=0;l<n.length-1;++l){var c=i({p:e,p1:n[l],p2:n[l+1]}),u=e.distanceSquared(c);u<s&&(s=u,o=c,a=l)}return{point:o,index:a,p1:n[a],p2:n[a+1],distanceSquared:s,distance:Math.sqrt(s)}};var r=n(12709);function i(t){var e=t.p,n=t.p1,i=t.p2,o=t.clampToLine,s=void 0===o||o,a=new r.Vector3(i).subtract(n),l=new r.Vector3(e).subtract(n),c=a.dot(l);return s&&(c=(0,r.clamp)(c,0,1)),a.lerp(c)}},77899:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(28645),i=l(n(46057)),o=n(4369),s=l(n(48771)),a=n(9186);function l(t){return t&&t.__esModule?t:{default:t}}function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},h(t,e,n||t)}function f(t){return function(){var e,n=d(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){var e=t.source,n=t.code,r=void 0===n?"":n;return e.replace(/}[^{}]*$/,r.concat("\n}\n"))}var y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(c,t);var e,n,r,l=f(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"getShaders",value:function(){var t=h(d(c.prototype),"getShaders",this).call(this);return Object.assign({},t,{modules:t.modules.concat([s.default]),vs:g({source:t.vs,code:"  outline_setUV(gl_Position);\n  outline_setZLevel(instanceZLevel);\n"}),fs:g({source:t.fs,code:"  gl_FragColor = outline_filterColor(gl_FragColor);\n"})})}},{key:"initializeState",value:function(t){h(d(c.prototype),"initializeState",this).call(this,t),this.setState({outlineFramebuffer:new o.Framebuffer(t.gl),dummyTexture:new o.Texture2D(t.gl)}),this.state.attributeManager.addInstanced({instanceZLevel:{size:1,type:i.default.UNSIGNED_BYTE,accessor:"getZLevel"}})}},{key:"draw",value:function(t){t.moduleParameters,t.parameters;var e=t.uniforms,n=(t.context,this.props),r=n.jointRounded,o=n.capRounded,s=n.billboard,l=n.miterLimit,c=n.widthUnits,u=n.widthScale,h=n.widthMinPixels,f=n.widthMaxPixels;e=Object.assign({},e,{jointType:Number(r),capType:Number(o),billboard:s,widthUnits:a.UNIT[c],widthScale:u,miterLimit:l,widthMinPixels:h,widthMaxPixels:f});var d=this.state,p=d.outlineFramebuffer,A=d.dummyTexture;p.resize(),p.clear({color:!0,depth:!0}),this.state.model.updateModuleSettings({outlineEnabled:!0,outlineRenderShadowmap:!0,outlineShadowmap:A}),this.state.model.draw({uniforms:Object.assign({},e,{jointType:0,widthScale:1.3*this.props.widthScale}),parameters:{depthTest:!1,blendEquation:i.default.MAX},framebuffer:p}),this.state.model.updateModuleSettings({outlineEnabled:!0,outlineRenderShadowmap:!1,outlineShadowmap:p}),this.state.model.draw({uniforms:Object.assign({},e,{jointType:Number(r),capType:Number(o),widthScale:this.props.widthScale}),parameters:{depthTest:!1}})}}])&&u(e.prototype,n),r&&u(e,r),c}(r.PathLayer);e.default=y,A(y,"layerName","PathOutlineLayer"),A(y,"defaultProps",{getZLevel:function(){return 0}})},90480:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SELECTION_TYPE=void 0;var r,i=n(1047),o=n(28645),s=n(65751),a=h(n(23357)),l=h(n(61740)),c=n(17026),u=h(n(40034));function h(t){return t&&t.__esModule?t:{default:t}}function f(t){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t){return function(){var e,n=_(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()){var r=_(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,e)}}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E={NONE:null,RECTANGLE:"rectangle",POLYGON:"polygon"};e.SELECTION_TYPE=E;var S=(x(r={},E.RECTANGLE,c.DrawRectangleMode),x(r,E.POLYGON,c.DrawPolygonMode),r),C=x({},E.RECTANGLE,{dragToDraw:!0}),P={selectionType:E.RECTANGLE,layerIds:[],onSelect:function(){}},M={type:"FeatureCollection",features:[]},T="selection-blocker",O=["lineWidthScale","lineWidthMinPixels","lineWidthMaxPixels","lineWidthUnits","lineJointRounded","lineCapRounded","lineMiterLimit","pointRadiusScale","pointRadiusMinPixels","pointRadiusMaxPixels","lineDashJustified","getLineColor","getFillColor","getRadius","getLineWidth","getLineDashArray","getTentativeLineDashArray","getTentativeLineColor","getTentativeFillColor","getTentativeLineWidth"],I=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(h,t);var e,n,r,i=b(h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),i.apply(this,arguments)}return e=h,(n=[{key:"_selectRectangleObjects",value:function(t){var e=this.props,n=e.layerIds,r=e.onSelect,i=g(this.context.viewport.project(t[0][0]),2),o=i[0],s=i[1],a=g(this.context.viewport.project(t[0][2]),2),l=a[0],c=a[1];r({pickingInfos:this.context.deck.pickObjects({x:Math.min(o,l),y:Math.min(s,c),width:Math.abs(l-o),height:Math.abs(c-s),layerIds:n})})}},{key:"_selectPolygonObjects",value:function(t){var e,n=this,r=this.props,i=r.layerIds,o=r.onSelect,c=t[0].map((function(t){return n.context.viewport.project(t)})),u=c.map((function(t){return t[0]})),h=c.map((function(t){return t[1]})),f=Math.min.apply(Math,A(u)),d=Math.min.apply(Math,A(h)),p=Math.max.apply(Math,A(u)),g=Math.max.apply(Math,A(h)),y=(0,s.polygon)(t),m=(0,a.default)(y,50);try{e=(0,l.default)(m,y)}catch(b){return void console.log("turfDifference() error",b)}this.setState({pendingPolygonSelection:{bigPolygon:e}});var v="".concat(this.props.id,"-").concat(T);setTimeout((function(){var t=n.context.deck.pickObjects({x:f,y:d,width:p-f,height:g-d,layerIds:[v].concat(A(i))});o({pickingInfos:t.filter((function(t){return t.layer.id!==n.props.id}))})}),250)}},{key:"renderLayers",value:function(){var t=this,e=this.state.pendingPolygonSelection,n=S[this.props.selectionType]||c.ViewMode,r=C[this.props.selectionType],i={};O.forEach((function(e){void 0!==t.props[e]&&(i[e]=t.props[e])}));var s=[new u.default(this.getSubLayerProps(p({id:"selection-geojson",pickable:!0,mode:n,modeConfig:r,selectedFeatureIndexes:[],data:M,onEdit:function(e){var n=e.updatedData;if("addFeature"===e.editType){var r=n.features[0].geometry.coordinates;t.props.selectionType===E.RECTANGLE?t._selectRectangleObjects(r):t.props.selectionType===E.POLYGON&&t._selectPolygonObjects(r)}}},i)))];if(e){var a=e.bigPolygon;s.push(new o.PolygonLayer(this.getSubLayerProps({id:T,pickable:!0,stroked:!1,opacity:1,data:[a],getLineColor:function(t){return[0,0,0,1]},getFillColor:function(t){return[0,0,0,1]},getPolygon:function(t){return t.geometry.coordinates}})))}return s}},{key:"shouldUpdateState",value:function(t){var e=t.changeFlags,n=e.stateChanged,r=e.propsOrDataChanged;return n||r}}])&&v(e.prototype,n),r&&v(e,r),h}(i.CompositeLayer);e.default=I,x(I,"layerName","SelectionLayer"),x(I,"defaultProps",P)},48771:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={outlineEnabled:!1,outlineRenderShadowmap:!1,outlineShadowmap:null};var r={name:"outline",vs:"attribute float instanceZLevel;\nvarying float outline_vzLevel;\nvarying vec4 outline_vPosition;\n\n// Set the z level for the outline shadowmap rendering\nvoid outline_setZLevel(float zLevel) {\n  outline_vzLevel = zLevel;\n}\n\n// Store an adjusted position for texture2DProj\nvoid outline_setUV(vec4 position) {\n  // mat4(\n  //   0.5, 0.0, 0.0, 0.0,\n  //   0.0, 0.5, 0.0, 0.0,\n  //   0.0, 0.0, 0.5, 0.0,\n  //   0.5, 0.5, 0.5, 1.0\n  // ) * position;\n  outline_vPosition = vec4(position.xyz * 0.5 + position.w * 0.5, position.w);\n}\n",fs:"uniform bool outline_uEnabled;\nuniform bool outline_uRenderOutlines;\nuniform sampler2D outline_uShadowmap;\n\nvarying float outline_vzLevel;\n// varying vec2 outline_vUV;\nvarying vec4 outline_vPosition;\n\nconst float OUTLINE_Z_LEVEL_ERROR = 0.01;\n\n// Return a darker color in shadowmap\nvec4 outline_filterShadowColor(vec4 color) {\n  return vec4(outline_vzLevel / 255., outline_vzLevel / 255., outline_vzLevel / 255., 1.);\n}\n\n// Return a darker color if in shadowmap\nvec4 outline_filterDarkenColor(vec4 color) {\n  if (outline_uEnabled) {\n    float maxZLevel;\n    if (outline_vPosition.q > 0.0) {\n      maxZLevel = texture2DProj(outline_uShadowmap, outline_vPosition).r * 255.;\n    } else {\n      discard;\n    }\n    if (maxZLevel < outline_vzLevel + OUTLINE_Z_LEVEL_ERROR) {\n      vec4(color.rgb * 0.5, color.a);\n    } else {\n      discard;\n    }\n  }\n  return color;\n}\n\n// if enabled and rendering outlines - Render depth to shadowmap\n// if enabled and rendering colors - Return a darker color if in shadowmap\n// if disabled, just return color\nvec4 outline_filterColor(vec4 color) {\n  if (outline_uEnabled) {\n    return outline_uRenderOutlines ?\n      outline_filterShadowColor(color) :\n      outline_filterDarkenColor(color);\n  }\n  return color;\n}\n",getUniforms:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,e=t.outlineEnabled,r=t.outlineRenderShadowmap,i=t.outlineShadowmap,o={};return void 0!==e&&(o.outline_uEnabled=e),void 0!==r&&(o.outline_uRenderOutlines=r),void 0!==i&&(o.outline_uShadowmap=i),o}};e.default=r},74690:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_ARROWS=e.DEFAULT_ARROWS=e.ArrowStyles=void 0;e.ArrowStyles={NONE:0,FORWARD:1,BACKWARD:2,BOTH:3};e.DEFAULT_ARROWS=1;e.MAX_ARROWS=3},67994:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toDeckColor=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[255,0,0,255];if(!Array.isArray(t))return e;return[255*t[0],255*t[1],255*t[2],255*t[3]]},e.recursivelyTraverseNestedArrays=function t(e,n,r){if(!Array.isArray(e[0]))return!0;for(var i=0;i<e.length;i++)if(t(e[i],[].concat(function(t){if(Array.isArray(t))return h(t)}(o=n)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(o)||u(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[i]),r)){r(e,n);break}var o;return!1},e.generatePointsParallelToLinePoints=function(t,e,n){var a={type:"LineString",coordinates:[t,e]},l=(0,s.point)(n),c=(0,o.default)(l,a),u=(0,i.default)(t,e),h=(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])<0?u-90:u-270,f=(0,r.default)(e,c,h),d=(0,r.default)(t,c,h);return[f.geometry.coordinates,d.geometry.coordinates]},e.distance2d=f,e.mix=d,e.nearestPointOnProjectedLine=function(t,e,n){var r=new a.default(n),i=t.geometry.coordinates.map((function(t){var e=c(t,3),n=e[0],i=e[1],o=e[2],s=void 0===o?0:o;return r.project([n,i,s])})),o=c(r.project(e.geometry.coordinates),2),s=o[0],l=o[1],u=1/0,h={};i.forEach((function(t,e){var n=c(t,2),r=n[0],o=n[1];if(0!==e){var a=c(i[e-1],2),f=a[0],d=a[1],p=d-o,A=r-f,g=f*o-r*d,y=p*p+A*A,m=Math.abs(p*s+A*l+g)/Math.sqrt(y);m<u&&(u=m,h={index:e,x0:(A*(A*s-p*l)-p*g)/y,y0:(p*(-A*s+p*l)-A*g)/y})}}));var p=h,A=p.index,g=p.x0,y=p.y0,m=c(i[A-1],3),v=m[0],b=m[1],_=m[2],w=void 0===_?0:_,x=c(i[A],3),E=x[0],S=x[1],C=x[2],P=void 0===C?0:C,M=f(v,b,E,S),T=f(v,b,g,y),O=d(w,P,T/M);return{type:"Feature",geometry:{type:"Point",coordinates:r.unproject([g,y,O])},properties:{dist:u,index:A-1}}},e.insertBefore=function(t,e,n){var r=t.indexOf(e);if(r<0)return t;return t.slice(0,r)+n+t.slice(r)};var r=l(n(70726)),i=l(n(98836)),o=l(n(24823)),s=n(65751),a=l(n(63506));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function d(t,e,n){return e*n+t*(1-n)}},18653:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(74583),i=n(35961);const o=globalThis;function s(t){if(!t&&!(0,r.A)())return"Node";if((0,i.A)(t))return"Electron";const e="undefined"!==typeof navigator?navigator:{},n=t||e.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";const s=-1!==n.indexOf("MSIE "),a=-1!==n.indexOf("Trident/");return s||a?"IE":o.chrome?"Chrome":o.safari?"Safari":o.mozInnerScreenX?"Firefox":"Unknown"}},74583:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(35961);function i(){return!("object"===typeof process&&"[object process]"===String(process)&&!process.browser)||(0,r.A)()}},35961:(t,e,n)=>{"use strict";function r(t){if("undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof process&&"object"===typeof process.versions&&Boolean(process.versions.electron))return!0;const e="object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent,n=t||e;return!!(n&&n.indexOf("Electron")>=0)}n.d(e,{A:()=>r})},60156:(t,e,n)=>{"use strict";n.d(e,{t:()=>b});var r=n(54705),i=n(74583);const o="undefined"!==typeof __VERSION__?__VERSION__:"untranspiled source";(0,i.A)();class s{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";(0,r.A)(this,"storage",void 0),(0,r.A)(this,"id",void 0),(0,r.A)(this,"config",void 0),this.storage=function(t){try{const e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(e){return null}}(n),this.id=t,this.config=e,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){if(Object.assign(this.config,t),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let t={};if(this.storage){const e=this.storage.getItem(this.id);t=e?JSON.parse(e):{}}return Object.assign(this.config,t),this}}function a(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const i=t.src.replace(/\(/g,"%28").replace(/\)/g,"%29");t.width>r&&(n=Math.min(n,r/t.width));const o=t.width*n,s=t.height*n,a=["font-size:1px;","padding:".concat(Math.floor(s/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(s,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(s,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let l;function c(t){return"string"===typeof t?l[t.toUpperCase()]||l.WHITE:t}function u(t,e){if(!t)throw new Error(e||"Assertion failed")}!function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(l||(l={}));const h={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof n.g&&n.g,document:"undefined"!==typeof document&&document,process:"object"===typeof process&&process},f=h.window||h.self||h.global,d=h.process||{};function p(){let t;var e,n;if(i.A&&"performance"in f)t=null===f||void 0===f||null===(e=f.performance)||void 0===e||null===(n=e.now)||void 0===n?void 0:n.call(e);else if("hrtime"in d){var r;const e=null===d||void 0===d||null===(r=d.hrtime)||void 0===r?void 0:r.call(d);t=1e3*e[0]+e[1]/1e6}else t=Date.now();return t}const A={debug:i.A&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},g={enabled:!0,level:0};function y(){}const m={},v={once:!0};class b{constructor(){let{id:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};(0,r.A)(this,"id",void 0),(0,r.A)(this,"VERSION",o),(0,r.A)(this,"_startTs",p()),(0,r.A)(this,"_deltaTs",p()),(0,r.A)(this,"_storage",void 0),(0,r.A)(this,"userData",{}),(0,r.A)(this,"LOG_THROTTLE_TIMEOUT",0),this.id=t,this.userData={},this._storage=new s("__probe-".concat(this.id,"__"),g),this.timeStamp("".concat(this.id," started")),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n);for(const i of r)"function"===typeof t[i]&&(e.find((t=>i===t))||(t[i]=t[i].bind(t)))}(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((p()-this._startTs).toPrecision(10))}getDelta(){return Number((p()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.setConfiguration({enabled:t}),this}setLevel(t){return this._storage.setConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,e){this._storage.setConfiguration({[t]:e})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,e){u(t,e)}warn(t){return this._getLogFunction(0,t,A.warn,arguments,v)}error(t){return this._getLogFunction(0,t,A.error,arguments)}deprecated(t,e){return this.warn("`".concat(t,"` is deprecated and will be removed in a later version. Use `").concat(e,"` instead"))}removed(t,e){return this.error("`".concat(t,"` has been removed. Use `").concat(e,"` instead"))}probe(t,e){return this._getLogFunction(t,e,A.log,arguments,{time:!0,once:!0})}log(t,e){return this._getLogFunction(t,e,A.debug,arguments)}info(t,e){return this._getLogFunction(t,e,console.info,arguments)}once(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction(t,e,A.debug||A.info,arguments,v)}table(t,e,n){return e?this._getLogFunction(t,e,console.table||y,n&&[n],{tag:x(e)}):y}image(t){let{logLevel:e,priority:n,image:r,message:o="",scale:s=1}=t;return this._shouldLog(e||n)?i.A?function(t){let{image:e,message:n="",scale:r=1}=t;if("string"===typeof e){const t=new Image;return t.onload=()=>{const e=a(t,n,r);console.log(...e)},t.src=e,y}const i=e.nodeName||"";if("img"===i.toLowerCase())return console.log(...a(e,n,r)),y;if("canvas"===i.toLowerCase()){const t=new Image;return t.onload=()=>console.log(...a(t,n,r)),t.src=e.toDataURL(),y}return y}({image:r,message:o,scale:s}):function(t){let{image:e,message:n="",scale:r=1}=t;return console.warn("removed"),y}({image:r,message:o,scale:s}):y}time(t,e){return this._getLogFunction(t,e,console.time?console.time:console.info)}timeEnd(t,e){return this._getLogFunction(t,e,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,e){return this._getLogFunction(t,e,console.timeStamp||y)}group(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=w({logLevel:t,message:e,opts:n}),{collapsed:i}=n;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(t,e,Object.assign({},n,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||y)}withGroup(t,e,n){this.group(t,e)();try{n()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=_(t)}_getLogFunction(t,e,n,r,o){if(this._shouldLog(t)){o=w({logLevel:t,message:e,args:r,opts:o}),u(n=n||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=p();const s=o.tag||o.message;if(o.once){if(m[s])return y;m[s]=p()}return e=function(t,e,n){if("string"===typeof e){const a=n.time?function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const n=Math.max(e-t.length,0);return"".concat(" ".repeat(n)).concat(t)}(function(t){let e;return e=t<10?"".concat(t.toFixed(2),"ms"):t<100?"".concat(t.toFixed(1),"ms"):t<1e3?"".concat(t.toFixed(0),"ms"):"".concat((t/1e3).toFixed(2),"s"),e}(n.total)):"";e=n.time?"".concat(t,": ").concat(a,"  ").concat(e):"".concat(t,": ").concat(e),r=e,o=n.color,s=n.background,i.A||"string"!==typeof r||(o&&(o=c(o),r="\x1b[".concat(o,"m").concat(r,"\x1b[39m")),s&&(o=c(s),r="\x1b[".concat(s+10,"m").concat(r,"\x1b[49m"))),e=r}var r,o,s;return e}(this.id,o.message,o),n.bind(console,e,...o.args)}return y}}function _(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return u(Number.isFinite(e)&&e>=0),e}function w(t){const{logLevel:e,message:n}=t;t.logLevel=_(e);const r=t.args?Array.from(t.args):[];for(;r.length&&r.shift()!==n;);switch(typeof e){case"string":case"function":void 0!==n&&r.unshift(n),t.message=e;break;case"object":Object.assign(t,e)}"function"===typeof t.message&&(t.message=t.message());const i=typeof t.message;return u("string"===i||"object"===i),Object.assign(t,{args:r},t.opts)}function x(t){for(const e in t)for(const n in t[e])return n||"untitled";return"empty"}(0,r.A)(b,"VERSION",o)},12041:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(54705);function i(){let t;if("undefined"!==typeof window&&window.performance)t=window.performance.now();else if("undefined"!==typeof process&&process.hrtime){const e=process.hrtime();t=1e3*e[0]+e[1]/1e6}else t=Date.now();return t}class o{constructor(t,e){(0,r.A)(this,"name",void 0),(0,r.A)(this,"type",void 0),(0,r.A)(this,"sampleSize",1),(0,r.A)(this,"time",void 0),(0,r.A)(this,"count",void 0),(0,r.A)(this,"samples",void 0),(0,r.A)(this,"lastTiming",void 0),(0,r.A)(this,"lastSampleTime",void 0),(0,r.A)(this,"lastSampleCount",void 0),(0,r.A)(this,"_count",0),(0,r.A)(this,"_time",0),(0,r.A)(this,"_samples",0),(0,r.A)(this,"_startTime",0),(0,r.A)(this,"_timerPending",!1),this.name=t,this.type=e,this.reset()}setSampleSize(t){return this.sampleSize=t,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(t){return this._count+=t,this._samples++,this._checkSampling(),this}subtractCount(t){return this._count-=t,this._samples++,this._checkSampling(),this}addTime(t){return this._time+=t,this.lastTiming=t,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=i(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(i()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class s{constructor(t){(0,r.A)(this,"id",void 0),(0,r.A)(this,"stats",{}),this.id=t.id,this.stats={},this._initializeStats(t.stats),Object.seal(this)}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:t,type:e})}get size(){return Object.keys(this.stats).length}reset(){for(const t in this.stats)this.stats[t].reset();return this}forEach(t){for(const e in this.stats)t(this.stats[e])}getTable(){const t={};return this.forEach((e=>{t[e.name]={time:e.time||0,count:e.count||0,average:e.getAverageTime()||0,hz:e.getHz()||0}})),t}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>this._getOrCreate(t)))}_getOrCreate(t){if(!t||!t.name)return null;const{name:e,type:n}=t;return this.stats[e]||(this.stats[e]=t instanceof o?t:new o(e,n)),this.stats[e]}}},93774:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(62665);e.default=function(t){for(var e,n,i=r.getCoords(t),o=0,s=1;s<i.length;)e=n||i[0],o+=((n=i[s])[0]-e[0])*(n[1]+e[1]),s++;return o>0}},92860:(t,e)=>{"use strict";function n(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=r(t.properties),e.geometry=i(t.geometry),e}function r(t){var e={};return t?(Object.keys(t).forEach((function(n){var i=t[n];"object"===typeof i?null===i?e[n]=null:Array.isArray(i)?e[n]=i.map((function(t){return t})):e[n]=r(i):e[n]=i})),e):e}function i(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return i(t)})),e):(e.coordinates=o(t.coordinates),e)}function o(t){var e=t;return"object"!==typeof e[0]?e.slice():e.map((function(t){return o(t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return n(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return n(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return i(t);default:throw new Error("unknown GeoJSON type")}}},20594:function(t){t.exports=function(){"use strict";function t(t,n,i,o,s){e(t,n,i||0,o||t.length-1,s||r)}function e(t,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,l=r-i+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);e(t,r,Math.max(i,Math.floor(r-l*u/a+h)),Math.min(o,Math.floor(r+(a-l)*u/a+h)),s)}var f=t[r],d=i,p=o;for(n(t,i,r),s(t[o],f)>0&&n(t,i,o);d<p;){for(n(t,d,p),d++,p--;s(t[d],f)<0;)d++;for(;s(t[p],f)>0;)p--}0===s(t[i],f)?n(t,i,p):n(t,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}function n(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function r(t,e){return t<e?-1:t>e?1:0}return t}()},80390:(t,e,n)=>{"use strict";t.exports=i,t.exports.default=i;var r=n(20594);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],l(i,t.leaf?r(o):o);return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function A(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,e,n,i,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(s=e+Math.ceil((n-e)/i/2)*i,r(t,s,e,n,o),a.push(e,s,s,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!A(t,e))return n;for(var i,o,s,a,l=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],A(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):l.push(s));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!A(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],A(t,s=e.leaf?n(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,s,a=this.data,l=this.toBBox(t),c=[],u=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],n=u.pop(),s=!0),a.leaf&&-1!==(i=o(t,a.children,e)))return a.children.splice(i,1),c.push(a),this._condense(c),this;s||a.leaf||!p(a,l)?r?(n++,a=r.children[n],s=!1):a=null:(c.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return s(i=g(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=g([])).leaf=!1,i.height=r;var l,c,u,h,f=Math.ceil(o/a),d=f*Math.ceil(Math.sqrt(a));for(y(t,e,n,d,this.compareMinX),l=e;l<=n;l+=d)for(y(t,l,u=Math.min(l+d-1,n),f,this.compareMinY),c=l;c<=u;c+=f)h=Math.min(c+f-1,u),i.children.push(this._build(t,c,h,r-1));return s(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,l,c,u,f,d,p;r.push(e),!e.leaf&&r.length-1!==n;){for(u=f=1/0,i=0,o=e.children.length;i<o;i++)l=h(s=e.children[i]),d=t,p=s,(c=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-l)<f?(f=c,u=l<u?l:u,a=s):c===f&&l<u&&(u=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),l(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,l,c,u,f;for(c=u=1/0,r=e;r<=n-e;r++)s=d(i=a(t,0,r,this.toBBox),o=a(t,r,n,this.toBBox)),l=h(i)+h(o),s<c?(c=s,f=r,u=l<u?l:u):s===c&&l<u&&(u=l,f=r);return f},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,c=a(t,0,e,s),u=a(t,n-e,n,s),h=f(c)+f(u);for(i=e;i<n-e;i++)o=t.children[i],l(c,t.leaf?s(o):o),h+=f(c);for(i=n-e-1;i>=e;i--)o=t.children[i],l(u,t.leaf?s(o):o),h+=f(u);return h},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)l(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},30952:(t,e)=>{"use strict";function n(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(t[0])||!d(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,r)}function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function a(t,e,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:t},e,r)}function c(t,e,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:t},e,r)}function u(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function h(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function f(t){return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return l(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return c(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return r(t,e)})),n)},e.polygon=i,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return i(t,e)})),n)},e.lineString=o,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return o(t,e)})),n)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=l,e.multiPolygon=c,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=u,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return f(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return u(h(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[n];if(!i)throw new Error("invalid original units");var o=e.areaFactors[r];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=d,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!d(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},62665:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30952);e.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},e.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},e.containsNumber=function t(e){if(e.length>1&&r.isNumber(e[0])&&r.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")},e.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},e.featureOf=function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},e.collectionOf=function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,i=t.features;r<i.length;r++){var o=i[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}},e.getGeom=function(t){return"Feature"===t.type?t.geometry:t},e.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}},36579:(t,e,n)=>{var r=n(2678),i=n(68317),o=n(52702),s=n(43290),a=n(92488),l=n(53913),c=Date.prototype.getTime;function u(t,e,n){var d=n||{};return!!(d.strict?o(t,e):t===e)||(!t||!e||"object"!==typeof t&&"object"!==typeof e?d.strict?o(t,e):t==e:function(t,e,n){var o,d;if(typeof t!==typeof e)return!1;if(h(t)||h(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t)!==i(e))return!1;var p=s(t),A=s(e);if(p!==A)return!1;if(p||A)return t.source===e.source&&a(t)===a(e);if(l(t)&&l(e))return c.call(t)===c.call(e);var g=f(t),y=f(e);if(g!==y)return!1;if(g||y){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!==typeof e)return!1;try{var m=r(t),v=r(e)}catch(b){return!1}if(m.length!==v.length)return!1;for(m.sort(),v.sort(),o=m.length-1;o>=0;o--)if(m[o]!=v[o])return!1;for(o=m.length-1;o>=0;o--)if(!u(t[d=m[o]],e[d],n))return!1;return!0}(t,e,d))}function h(t){return null===t||void 0===t}function f(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}t.exports=u},9012:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30952);function i(t,e,n){if(null!==t)for(var r,o,s,a,l,c,u,h,f=0,d=0,p=t.type,A="FeatureCollection"===p,g="Feature"===p,y=A?t.features.length:1,m=0;m<y;m++){l=(h=!!(u=A?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<l;v++){var b=0,_=0;if(null!==(a=h?u.geometries[v]:u)){c=a.coordinates;var w=a.type;switch(f=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(c,d,m,b,_))return!1;d++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(!1===e(c[r],d,m,b,_))return!1;d++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(o=0;o<c[r].length-f;o++){if(!1===e(c[r][o],d,m,b,_))return!1;d++}"MultiLineString"===w&&b++,"Polygon"===w&&_++}"Polygon"===w&&b++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(_=0,o=0;o<c[r].length;o++){for(s=0;s<c[r][o].length-f;s++){if(!1===e(c[r][o][s],d,m,b,_))return!1;d++}_++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===i(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function a(t,e){var n,r,i,o,s,a,l,c,u,h,f=0,d="FeatureCollection"===t.type,p="Feature"===t.type,A=d?t.features.length:1;for(n=0;n<A;n++){for(a=d?t.features[n].geometry:p?t.geometry:t,c=d?t.features[n].properties:p?t.properties:{},u=d?t.features[n].bbox:p?t.bbox:void 0,h=d?t.features[n].id:p?t.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=l?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,c,u,h))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,c,u,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,c,u,h))return!1;f++}}function l(t,e){a(t,(function(t,n,i,o,s){var a,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==e(r.feature(t,i,{bbox:o,id:s}),n,0)&&void 0}switch(l){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<t.coordinates.length;c++){var u={type:a,coordinates:t.coordinates[c]};if(!1===e(r.feature(u,i),n,c))return!1}}))}function c(t,e){l(t,(function(t,n,o){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var l,c=0,u=0,h=0;return!1!==i(t,(function(i,a,f,d,p){if(void 0===l||n>c||d>u||p>h)return l=i,c=n,u=d,h=p,void(s=0);var A=r.lineString([l,i],t.properties);if(!1===e(A,n,o,p,s))return!1;s++,l=i}))&&void 0}}}))}function u(t,e){if(!t)throw new Error("geojson is required");l(t,(function(t,n,i){if(null!==t.geometry){var o=t.geometry.type,s=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,n,i,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(r.lineString(s[a],t.properties),n,i,a))return!1}}}))}e.coordAll=function(t){var e=[];return i(t,(function(t){e.push(t)})),e},e.coordEach=i,e.coordReduce=function(t,e,n,r){var o=n;return i(t,(function(t,r,i,s,a){o=0===r&&void 0===n?t:e(o,t,r,i,s,a)}),r),o},e.featureEach=s,e.featureReduce=function(t,e,n){var r=n;return s(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.findPoint=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,l=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),l=l||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":l=l||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":return r.point(c,l,e);case"MultiPoint":return o<0&&(o=c.length+o),r.point(c[o],l,e);case"LineString":return a<0&&(a=c.length+a),r.point(c[a],l,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a),r.point(c[s][a],l,e);case"MultiLineString":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a),r.point(c[o][a],l,e);case"MultiPolygon":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s),a<0&&(a=c[o][s].length-a),r.point(c[o][s][a],l,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,l=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),l=l||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":l=l||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=c.length+a-1),r.lineString([c[a],c[a+1]],l,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a-1),r.lineString([c[s][a],c[s][a+1]],l,e);case"MultiLineString":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a-1),r.lineString([c[o][a],c[o][a+1]],l,e);case"MultiPolygon":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s),a<0&&(a=c[o][s].length-a-1),r.lineString([c[o][s][a],c[o][s][a+1]],l,e)}throw new Error("geojson is invalid")},e.flattenEach=l,e.flattenReduce=function(t,e,n){var r=n;return l(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r},e.geomEach=a,e.geomReduce=function(t,e,n){var r=n;return a(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r},e.lineEach=u,e.lineReduce=function(t,e,n){var r=n;return u(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r},e.propEach=o,e.propReduce=function(t,e,n){var r=n;return o(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.segmentEach=c,e.segmentReduce=function(t,e,n){var r=n,i=!1;return c(t,(function(t,o,s,a,l){r=!1===i&&void 0===n?t:e(r,t,o,s,a,l),i=!0})),r}},43514:(t,e,n)=>{"use strict";var r=n(92860),i=n(93774),o=n(9012),s=n(62665),a=n(30952);function l(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var c=l(r),u=l(i);function h(t,e){if(e=e||{},!a.isObject(e))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!==typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!==typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=c.default(t));var i=[];switch(t.type){case"GeometryCollection":return o.geomEach(t,(function(t){f(t,n)})),t;case"FeatureCollection":return o.featureEach(t,(function(t){o.featureEach(f(t,n),(function(t){i.push(t)}))})),a.featureCollection(i)}return f(t,n)}function f(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return o.geomEach(t,(function(t){f(t,e)})),t;case"LineString":return d(s.getCoords(t),e),t;case"Polygon":return p(s.getCoords(t),e),t;case"MultiLineString":return s.getCoords(t).forEach((function(t){d(t,e)})),t;case"MultiPolygon":return s.getCoords(t).forEach((function(t){p(t,e)})),t;case"Point":case"MultiPoint":return t}}function d(t,e){u.default(t)===e&&t.reverse()}function p(t,e){u.default(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)u.default(t[n])===e&&t[n].reverse()}t.exports=h,t.exports.default=h},88029:function(t){t.exports=function(){"use strict";function t(t,n,i,o,s){e(t,n,i||0,o||t.length-1,s||r)}function e(t,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,l=r-i+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);e(t,r,Math.max(i,Math.floor(r-l*u/a+h)),Math.min(o,Math.floor(r+(a-l)*u/a+h)),s)}var f=t[r],d=i,p=o;for(n(t,i,r),s(t[o],f)>0&&n(t,i,o);d<p;){for(n(t,d,p),d++,p--;s(t[d],f)<0;)d++;for(;s(t[p],f)>0;)p--}0===s(t[i],f)?n(t,i,p):n(t,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}function n(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function r(t,e){return t<e?-1:t>e?1:0}return t}()},12061:(t,e,n)=>{"use strict";t.exports=i,t.exports.default=i;var r=n(88029);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],l(i,t.leaf?r(o):o);return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function A(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,e,n,i,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(s=e+Math.ceil((n-e)/i/2)*i,r(t,s,e,n,o),a.push(e,s,s,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!A(t,e))return n;for(var i,o,s,a,l=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],A(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):l.push(s));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!A(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],A(t,s=e.leaf?n(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,s,a=this.data,l=this.toBBox(t),c=[],u=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],n=u.pop(),s=!0),a.leaf&&-1!==(i=o(t,a.children,e)))return a.children.splice(i,1),c.push(a),this._condense(c),this;s||a.leaf||!p(a,l)?r?(n++,a=r.children[n],s=!1):a=null:(c.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return s(i=g(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=g([])).leaf=!1,i.height=r;var l,c,u,h,f=Math.ceil(o/a),d=f*Math.ceil(Math.sqrt(a));for(y(t,e,n,d,this.compareMinX),l=e;l<=n;l+=d)for(y(t,l,u=Math.min(l+d-1,n),f,this.compareMinY),c=l;c<=u;c+=f)h=Math.min(c+f-1,u),i.children.push(this._build(t,c,h,r-1));return s(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,l,c,u,f,d,p;r.push(e),!e.leaf&&r.length-1!==n;){for(u=f=1/0,i=0,o=e.children.length;i<o;i++)l=h(s=e.children[i]),d=t,p=s,(c=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-l)<f?(f=c,u=l<u?l:u,a=s):c===f&&l<u&&(u=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),l(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,l,c,u,f;for(c=u=1/0,r=e;r<=n-e;r++)s=d(i=a(t,0,r,this.toBBox),o=a(t,r,n,this.toBBox)),l=h(i)+h(o),s<c?(c=s,f=r,u=l<u?l:u):s===c&&l<u&&(u=l,f=r);return f},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,c=a(t,0,e,s),u=a(t,n-e,n,s),h=f(c)+f(u);for(i=e;i<n-e;i++)o=t.children[i],l(c,t.leaf?s(o):o),h+=f(c);for(i=n-e-1;i>=e;i--)o=t.children[i],l(u,t.leaf?s(o):o),h+=f(u);return h},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)l(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},12028:(t,e,n)=>{"use strict";var r=n(60002),i=n(61712),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"===typeof n&&o(t,".prototype.")>-1?i(n):n}},61712:(t,e,n)=>{"use strict";var r=n(63864),i=n(60002),o=n(75438),s=n(54902),a=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||r.call(l,a),u=n(82090),h=i("%Math.max%");t.exports=function(t){if("function"!==typeof t)throw new s("a function is required");var e=c(r,l,arguments);return o(e,1+h(0,t.length-(arguments.length-1)),!0)};var f=function(){return c(r,a,arguments)};u?u(t.exports,"apply",{value:f}):t.exports.apply=f},33863:(t,e,n)=>{"use strict";var r=n(30642),i=n(44993),o=n(64185),s=n(10309).orient2d;function a(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;var i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var l=[e,n,r,i],c=l.slice();for(s=0;s<t.length;s++)o(t[s],l)||c.push(t[s]);return function(t){t.sort(v);for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&d(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var r=[],i=t.length-1;i>=0;i--){for(;r.length>=2&&d(r[r.length-2],r[r.length-1],t[i])<=0;)r.pop();r.push(t[i])}return r.pop(),e.pop(),e.concat(r)}(c)}(t),s=new r(16);s.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},s.compareMinX=function(t,e){return t[0]-e[0]},s.compareMinY=function(t,e){return t[1]-e[1]},s.load(t);for(var a,c=[],u=0;u<i.length;u++){var h=i[u];s.remove(h),a=A(h,a),c.push(a)}var f=new r(16);for(u=0;u<c.length;u++)f.insert(p(c[u]));for(var y=e*e,m=n*n;c.length;){var b=c.shift(),_=b.p,w=b.next.p,x=g(_,w);if(!(x<m)){var E=x/y;(h=l(s,b.prev.p,_,w,b.next.next.p,E,f))&&Math.min(g(h,_),g(h,w))<=E&&(c.push(b),c.push(A(h,b)),s.remove(h),f.remove(b),f.insert(p(b)),f.insert(p(b.next)))}}b=a;var S=[];do{S.push(b.p),b=b.next}while(b!==a);return S.push(b.p),S}function l(t,e,n,r,o,s,a){for(var l=new i([],c),h=t.data;h;){for(var d=0;d<h.children.length;d++){var p=h.children[d],A=h.leaf?y(p,n,r):u(n,r,p);A>s||l.push({node:p,dist:A})}for(;l.length&&!l.peek().node.children;){var g=l.pop(),m=g.node,v=y(m,e,n),b=y(m,r,o);if(g.dist<v&&g.dist<b&&f(n,m,a)&&f(r,m,a))return m}(h=l.pop())&&(h=h.node)}return null}function c(t,e){return t.dist-e.dist}function u(t,e,n){if(h(t,n)||h(e,n))return 0;var r=m(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=m(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=m(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=m(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}function h(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function f(t,e,n){for(var r,i,o,s,a=Math.min(t[0],e[0]),l=Math.min(t[1],e[1]),c=Math.max(t[0],e[0]),u=Math.max(t[1],e[1]),h=n.search({minX:a,minY:l,maxX:c,maxY:u}),f=0;f<h.length;f++)if(r=h[f].p,i=h[f].next.p,o=t,r!==(s=e)&&i!==o&&d(r,i,o)>0!==d(r,i,s)>0&&d(o,s,r)>0!==d(o,s,i)>0)return!1;return!0}function d(t,e,n){return s(t[0],t[1],e[0],e[1],n[0],n[1])}function p(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function A(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function g(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function y(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function m(t,e,n,r,i,o,s,a){var l,c,u,h,f=n-t,d=r-e,p=s-i,A=a-o,g=t-i,y=e-o,m=f*f+d*d,v=f*p+d*A,b=p*p+A*A,_=f*g+d*y,w=p*g+A*y,x=m*b-v*v,E=x,S=x;0===x?(c=0,E=1,h=w,S=b):(h=m*w-v*_,(c=v*w-b*_)<0?(c=0,h=w,S=b):c>E&&(c=E,h=w+v,S=b)),h<0?(h=0,-_<0?c=0:-_>m?c=E:(c=-_,E=m)):h>S&&(h=S,-_+v<0?c=0:-_+v>m?c=E:(c=-_+v,E=m));var C=(1-(u=0===h?0:h/S))*i+u*s-((1-(l=0===c?0:c/E))*t+l*n),P=(1-u)*o+u*a-((1-l)*e+l*r);return C*C+P*P}function v(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}i.default&&(i=i.default),t.exports=a,t.exports.default=a},10309:function(t,e){!function(t){"use strict";const e=134217729,n=33306690738754706e-32;function r(t,e,n,r,i){let o,s,a,l,c=e[0],u=r[0],h=0,f=0;u>c==u>-c?(o=c,c=e[++h]):(o=u,u=r[++f]);let d=0;if(h<t&&f<n)for(u>c==u>-c?(a=o-((s=c+o)-c),c=e[++h]):(a=o-((s=u+o)-u),u=r[++f]),o=s,0!==a&&(i[d++]=a);h<t&&f<n;)u>c==u>-c?(a=o-((s=o+c)-(l=s-o))+(c-l),c=e[++h]):(a=o-((s=o+u)-(l=s-o))+(u-l),u=r[++f]),o=s,0!==a&&(i[d++]=a);for(;h<t;)a=o-((s=o+c)-(l=s-o))+(c-l),c=e[++h],o=s,0!==a&&(i[d++]=a);for(;f<n;)a=o-((s=o+u)-(l=s-o))+(u-l),u=r[++f],o=s,0!==a&&(i[d++]=a);return 0===o&&0!==d||(i[d++]=o),d}function i(t){return new Float64Array(t)}const o=33306690738754716e-32,s=22204460492503146e-32,a=11093356479670487e-47,l=i(4),c=i(8),u=i(12),h=i(16),f=i(4);t.orient2d=function(t,i,d,p,A,g){const y=(i-g)*(d-A),m=(t-A)*(p-g),v=y-m;if(0===y||0===m||y>0!=m>0)return v;const b=Math.abs(y+m);return Math.abs(v)>=o*b?v:-function(t,i,o,d,p,A,g){let y,m,v,b,_,w,x,E,S,C,P,M,T,O,I,R,L,k;const B=t-p,N=o-p,D=i-A,F=d-A;_=(I=(E=B-(x=(w=e*B)-(w-B)))*(C=F-(S=(w=e*F)-(w-F)))-((O=B*F)-x*S-E*S-x*C))-(P=I-(L=(E=D-(x=(w=e*D)-(w-D)))*(C=N-(S=(w=e*N)-(w-N)))-((R=D*N)-x*S-E*S-x*C))),l[0]=I-(P+_)+(_-L),_=(T=O-((M=O+P)-(_=M-O))+(P-_))-(P=T-R),l[1]=T-(P+_)+(_-R),_=(k=M+P)-M,l[2]=M-(k-_)+(P-_),l[3]=k;let j=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,l),U=s*g;if(j>=U||-j>=U)return j;if(y=t-(B+(_=t-B))+(_-p),v=o-(N+(_=o-N))+(_-p),m=i-(D+(_=i-D))+(_-A),b=d-(F+(_=d-F))+(_-A),0===y&&0===m&&0===v&&0===b)return j;if(U=a*g+n*Math.abs(j),(j+=B*b+F*y-(D*v+N*m))>=U||-j>=U)return j;_=(I=(E=y-(x=(w=e*y)-(w-y)))*(C=F-(S=(w=e*F)-(w-F)))-((O=y*F)-x*S-E*S-x*C))-(P=I-(L=(E=m-(x=(w=e*m)-(w-m)))*(C=N-(S=(w=e*N)-(w-N)))-((R=m*N)-x*S-E*S-x*C))),f[0]=I-(P+_)+(_-L),_=(T=O-((M=O+P)-(_=M-O))+(P-_))-(P=T-R),f[1]=T-(P+_)+(_-R),_=(k=M+P)-M,f[2]=M-(k-_)+(P-_),f[3]=k;const z=r(4,l,4,f,c);_=(I=(E=B-(x=(w=e*B)-(w-B)))*(C=b-(S=(w=e*b)-(w-b)))-((O=B*b)-x*S-E*S-x*C))-(P=I-(L=(E=D-(x=(w=e*D)-(w-D)))*(C=v-(S=(w=e*v)-(w-v)))-((R=D*v)-x*S-E*S-x*C))),f[0]=I-(P+_)+(_-L),_=(T=O-((M=O+P)-(_=M-O))+(P-_))-(P=T-R),f[1]=T-(P+_)+(_-R),_=(k=M+P)-M,f[2]=M-(k-_)+(P-_),f[3]=k;const G=r(z,c,4,f,u);_=(I=(E=y-(x=(w=e*y)-(w-y)))*(C=b-(S=(w=e*b)-(w-b)))-((O=y*b)-x*S-E*S-x*C))-(P=I-(L=(E=m-(x=(w=e*m)-(w-m)))*(C=v-(S=(w=e*v)-(w-v)))-((R=m*v)-x*S-E*S-x*C))),f[0]=I-(P+_)+(_-L),_=(T=O-((M=O+P)-(_=M-O))+(P-_))-(P=T-R),f[1]=T-(P+_)+(_-R),_=(k=M+P)-M,f[2]=M-(k-_)+(P-_),f[3]=k;const V=r(G,u,4,f,h);return h[V-1]}(t,i,d,p,A,g,b)},t.orient2dfast=function(t,e,n,r,i,o){return(e-o)*(n-i)-(t-i)*(r-o)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},98210:function(t,e,n){var r;!function(){"use strict";var i,o=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",h=Math.floor,f=Math.pow,d=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,A=7,g=9007199254740991,y=h(g/A),m={};function v(t,e){var n,r,i,o,s,l,c,u,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),a?T(e,f):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=s,l=c.length),o>(l=(s=Math.ceil(f/A))>l?s+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return e.d=c,e.e=i,a?T(e,f):e}function b(t,e,n){if(t!==~~t||t<e||t>n)throw Error(c+t)}function _(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",(n=A-r.length)&&(o+=C(n)),o+=r;s=t[e],(n=A-(r=s+"").length)&&(o+=C(n))}else if(0===s)return"0";for(;s%10===0;)s/=10;return o+s}m.absoluteValue=m.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t},m.comparedTo=m.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(e=0,n=(r=o.d.length)<(i=t.d.length)?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},m.decimalPlaces=m.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*A;if(e=t.d[e])for(;e%10==0;e/=10)n--;return n<0?0:n},m.dividedBy=m.div=function(t){return w(this,new this.constructor(t))},m.dividedToIntegerBy=m.idiv=function(t){var e=this.constructor;return T(w(this,new e(t),0,1),e.precision)},m.equals=m.eq=function(t){return!this.cmp(t)},m.exponent=function(){return E(this)},m.greaterThan=m.gt=function(t){return this.cmp(t)>0},m.greaterThanOrEqualTo=m.gte=function(t){return this.cmp(t)>=0},m.isInteger=m.isint=function(){return this.e>this.d.length-2},m.isNegative=m.isneg=function(){return this.s<0},m.isPositive=m.ispos=function(){return this.s>0},m.isZero=function(){return 0===this.s},m.lessThan=m.lt=function(t){return this.cmp(t)<0},m.lessThanOrEqualTo=m.lte=function(t){return this.cmp(t)<1},m.logarithm=m.log=function(t){var e,n=this,r=n.constructor,o=r.precision,s=o+5;if(void 0===t)t=new r(10);else if((t=new r(t)).s<1||t.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(a=!1,e=w(P(n,s),P(t,s),s),a=!0,T(e,o))},m.minus=m.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?O(e,t):v(e,(t.s=-t.s,t))},m.modulo=m.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(!(t=new r(t)).s)throw Error(l+"NaN");return n.s?(a=!1,e=w(n,t,0,1).times(t),a=!0,n.minus(e)):T(new r(n),i)},m.naturalExponential=m.exp=function(){return x(this)},m.naturalLogarithm=m.ln=function(){return P(this)},m.negated=m.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t},m.plus=m.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v(e,t):O(e,(t.s=-t.s,t))},m.precision=m.sd=function(t){var e,n,r,i=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(c+t);if(e=E(i)+1,n=(r=i.d.length-1)*A+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n},m.squareRoot=m.sqrt=function(){var t,e,n,r,i,o,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(t=E(c),a=!1,0==(i=Math.sqrt(+c))||i==1/0?(((e=_(c.d)).length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=h((t+1)/2)-(t<0||t%2),r=new u(e=i==1/0?"5e"+t:(e=i.toExponential()).slice(0,e.indexOf("e")+1)+t)):r=new u(i.toString()),i=s=(n=u.precision)+3;;)if(r=(o=r).plus(w(c,o,s+2)).times(.5),_(o.d).slice(0,s)===(e=_(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&"4999"==e){if(T(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=e)break;s+=4}return a=!0,T(r,n)},m.times=m.mul=function(t){var e,n,r,i,o,s,l,c,u,h=this,f=h.constructor,d=h.d,A=(t=new f(t)).d;if(!h.s||!t.s)return new f(0);for(t.s*=h.s,n=h.e+t.e,(c=d.length)<(u=A.length)&&(o=d,d=A,A=o,s=c,c=u,u=s),o=[],r=s=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+A[r]*d[i-r-1]+e,o[i--]=l%p|0,e=l/p|0;o[i]=(o[i]+e)%p|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,a?T(t,f.precision):t},m.toDecimalPlaces=m.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(b(t,0,o),void 0===e?e=r.rounding:b(e,0,8),T(n,t+E(n)+1,e))},m.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=I(r,!0):(b(t,0,o),void 0===e?e=i.rounding:b(e,0,8),n=I(r=T(new i(r),t+1,e),!0,t+1)),n},m.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return void 0===t?I(i):(b(t,0,o),void 0===e?e=s.rounding:b(e,0,8),n=I((r=T(new s(i),t+E(i)+1,e)).abs(),!1,t+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},m.toInteger=m.toint=function(){var t=this,e=t.constructor;return T(new e(t),E(t)+1,e.rounding)},m.toNumber=function(){return+this},m.toPower=m.pow=function(t){var e,n,r,o,s,c,u=this,f=u.constructor,d=+(t=new f(t));if(!t.s)return new f(i);if(!(u=new f(u)).s){if(t.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=f.precision,t.eq(i))return T(u,r);if(c=(e=t.e)>=(n=t.d.length-1),s=u.s,c){if((n=d<0?-d:d)<=g){for(o=new f(i),e=Math.ceil(r/A+4),a=!1;n%2&&R((o=o.times(u)).d,e),0!==(n=h(n/2));)R((u=u.times(u)).d,e);return a=!0,t.s<0?new f(i).div(o):T(o,r)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&t.d[Math.max(e,n)]?-1:1,u.s=1,a=!1,o=t.times(P(u,r+12)),a=!0,(o=x(o)).s=s,o},m.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return void 0===t?r=I(i,(n=E(i))<=s.toExpNeg||n>=s.toExpPos):(b(t,1,o),void 0===e?e=s.rounding:b(e,0,8),r=I(i=T(new s(i),t,e),t<=(n=E(i))||n<=s.toExpNeg,t)),r},m.toSignificantDigits=m.tosd=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(b(t,1,o),void 0===e?e=n.rounding:b(e,0,8)),T(new n(this),t,e)},m.toString=m.valueOf=m.val=m.toJSON=function(){var t=this,e=E(t),n=t.constructor;return I(t,e<=n.toExpNeg||e>=n.toExpPos)};var w=function(){function t(t,e){var n,r=0,i=t.length;for(t=t.slice();i--;)n=t[i]*e+r,t[i]=n%p|0,r=n/p|0;return r&&t.unshift(r),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n){for(var r=0;n--;)t[n]-=r,r=t[n]<e[n]?1:0,t[n]=r*p+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,s){var a,c,u,h,f,d,g,y,m,v,b,_,w,x,S,C,P,M,O=r.constructor,I=r.s==i.s?1:-1,R=r.d,L=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,P=L.length,S=R.length,y=(g=new O(I)).d=[],u=0;L[u]==(R[u]||0);)++u;if(L[u]>(R[u]||0)&&--c,(_=null==o?o=O.precision:s?o+(E(r)-E(i))+1:o)<0)return new O(0);if(_=_/A+2|0,u=0,1==P)for(h=0,L=L[0],_++;(u<S||h)&&_--;u++)w=h*p+(R[u]||0),y[u]=w/L|0,h=w%L|0;else{for((h=p/(L[0]+1)|0)>1&&(L=t(L,h),R=t(R,h),P=L.length,S=R.length),x=P,v=(m=R.slice(0,P)).length;v<P;)m[v++]=0;(M=L.slice()).unshift(0),C=L[0],L[1]>=p/2&&++C;do{h=0,(a=e(L,m,P,v))<0?(b=m[0],P!=v&&(b=b*p+(m[1]||0)),(h=b/C|0)>1?(h>=p&&(h=p-1),1==(a=e(f=t(L,h),m,d=f.length,v=m.length))&&(h--,n(f,P<d?M:L,d))):(0==h&&(a=h=1),f=L.slice()),(d=f.length)<v&&f.unshift(0),n(m,f,v),-1==a&&(a=e(L,m,P,v=m.length))<1&&(h++,n(m,P<v?M:L,v)),v=m.length):0===a&&(h++,m=[0]),y[u++]=h,a&&m[0]?m[v++]=R[x]||0:(m=[R[x]],v=1)}while((x++<S||void 0!==m[0])&&_--)}return y[0]||y.shift(),g.e=c,T(g,s?o+E(g)+1:o)}}();function x(t,e){var n,r,o,s,l,c=0,h=0,d=t.constructor,p=d.precision;if(E(t)>16)throw Error(u+E(t));if(!t.s)return new d(i);for(null==e?(a=!1,l=p):l=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),h+=5;for(l+=Math.log(f(2,h))/Math.LN10*2+5|0,n=r=o=new d(i),d.precision=l;;){if(r=T(r.times(t),l),n=n.times(++c),_((s=o.plus(w(r,n,l))).d).slice(0,l)===_(o.d).slice(0,l)){for(;h--;)o=T(o.times(o),l);return d.precision=p,null==e?(a=!0,T(o,p)):o}o=s}}function E(t){for(var e=t.e*A,n=t.d[0];n>=10;n/=10)e++;return e}function S(t,e,n){if(e>t.LN10.sd())throw a=!0,n&&(t.precision=n),Error(l+"LN10 precision limit exceeded");return T(new t(t.LN10),e)}function C(t){for(var e="";t--;)e+="0";return e}function P(t,e){var n,r,o,s,c,u,h,f,d,p=1,A=t,g=A.d,y=A.constructor,m=y.precision;if(A.s<1)throw Error(l+(A.s?"NaN":"-Infinity"));if(A.eq(i))return new y(0);if(null==e?(a=!1,f=m):f=e,A.eq(10))return null==e&&(a=!0),S(y,f);if(f+=10,y.precision=f,r=(n=_(g)).charAt(0),s=E(A),!(Math.abs(s)<15e14))return h=S(y,f+2,m).times(s+""),A=P(new y(r+"."+n.slice(1)),f-10).plus(h),y.precision=m,null==e?(a=!0,T(A,m)):A;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=_((A=A.times(t)).d)).charAt(0),p++;for(s=E(A),r>1?(A=new y("0."+n),s++):A=new y(r+"."+n.slice(1)),u=c=A=w(A.minus(i),A.plus(i),f),d=T(A.times(A),f),o=3;;){if(c=T(c.times(d),f),_((h=u.plus(w(c,new y(o),f))).d).slice(0,f)===_(u.d).slice(0,f))return u=u.times(2),0!==s&&(u=u.plus(S(y,f+2,m).times(s+""))),u=w(u,new y(p),f),y.precision=m,null==e?(a=!0,T(u,m)):u;u=h,o+=2}}function M(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);)++r;for(i=e.length;48===e.charCodeAt(i-1);)--i;if(e=e.slice(r,i)){if(i-=r,n=n-r-1,t.e=h(n/A),t.d=[],r=(n+1)%A,n<0&&(r+=A),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=A;r<i;)t.d.push(+e.slice(r,r+=A));e=e.slice(r),r=A-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),a&&(t.e>y||t.e<-y))throw Error(u+n)}else t.s=0,t.e=0,t.d=[0];return t}function T(t,e,n){var r,i,o,s,l,c,d,g,m=t.d;for(s=1,o=m[0];o>=10;o/=10)s++;if((r=e-s)<0)r+=A,i=e,d=m[g=0];else{if((g=Math.ceil((r+1)/A))>=(o=m.length))return t;for(d=o=m[g],s=1;o>=10;o/=10)s++;i=(r%=A)-A+s}if(void 0!==n&&(l=d/(o=f(10,s-i-1))%10|0,c=e<0||void 0!==m[g+1]||d%o,c=n<4?(l||c)&&(0==n||n==(t.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?d/f(10,s-i):0:m[g-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(o=E(t),m.length=1,e=e-o-1,m[0]=f(10,(A-e%A)%A),t.e=h(-e/A)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(0==r?(m.length=g,o=1,g--):(m.length=g+1,o=f(10,A-r),m[g]=i>0?(d/f(10,s-i)%f(10,i)|0)*o:0),c)for(;;){if(0==g){(m[0]+=o)==p&&(m[0]=1,++t.e);break}if(m[g]+=o,m[g]!=p)break;m[g--]=0,o=1}for(r=m.length;0===m[--r];)m.pop();if(a&&(t.e>y||t.e<-y))throw Error(u+E(t));return t}function O(t,e){var n,r,i,o,s,l,c,u,h,f,d=t.constructor,g=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),a?T(e,g):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),s=u-r){for((h=s<0)?(n=c,s=-s,l=f.length):(n=f,r=u,l=c.length),s>(i=Math.max(Math.ceil(g/A),l)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((h=(i=c.length)<(l=f.length))&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){h=c[i]<f[i];break}s=0}for(h&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=f[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=r,a?T(e,g):e):new d(0)}function I(t,e,n){var r,i=E(t),o=_(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+C(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+C(-i-1)+o,n&&(r=n-s)>0&&(o+=C(r))):i>=s?(o+=C(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+C(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=C(r))),t.s<0?"-"+o:o}function R(t,e){if(t.length>e)return t.length=e,!0}function L(t){if(!t||"object"!==typeof t)throw Error(l+"Object expected");var e,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if(void 0!==(r=t[n=i[e]])){if(!(h(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=t[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function t(e){var n,r,i;function o(t){var e=this;if(!(e instanceof o))return new o(t);if(e.constructor=o,t instanceof o)return e.s=t.s,e.e=t.e,void(e.d=(t=t.d)?t.slice():t);if("number"===typeof t){if(0*t!==0)throw Error(c+t);if(t>0)e.s=1;else{if(!(t<0))return e.s=0,e.e=0,void(e.d=[0]);t=-t,e.s=-1}return t===~~t&&t<1e7?(e.e=0,void(e.d=[t])):M(e,t.toString())}if("string"!==typeof t)throw Error(c+t);if(45===t.charCodeAt(0)?(t=t.slice(1),e.s=-1):e.s=1,!d.test(t))throw Error(c+t);M(e,t)}if(o.prototype=m,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=t,o.config=o.set=L,void 0===e&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(s),s.default=s.Decimal=s,i=new s(1),void 0===(r=function(){return s}.call(e,n,e,t))||(t.exports=r)}()},74992:(t,e,n)=>{"use strict";var r=n(82090),i=n(62557),o=n(54902),s=n(95558);t.exports=function(t,e,n){if(!t||"object"!==typeof t&&"function"!==typeof t)throw new o("`obj` must be an object or a function`");if("string"!==typeof e&&"symbol"!==typeof e)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!s&&s(t,e);if(r)r(t,e,{configurable:null===c&&h?h.configurable:!c,enumerable:null===a&&h?h.enumerable:!a,value:n,writable:null===l&&h?h.writable:!l});else{if(!u&&(a||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}}},11779:(t,e,n)=>{"use strict";var r=n(2678),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=n(74992),l=n(12101)(),c=function(t,e,n,r){if(e in t)if(!0===r){if(t[e]===n)return}else if("function"!==typeof(i=r)||"[object Function]"!==o.call(i)||!r())return;var i;l?a(t,e,n,!0):a(t,e,n)},u=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)c(t,o[a],e[o[a]],n[o[a]])};u.supportsDescriptors=!!l,t.exports=u},64674:t=>{function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++){this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n)}return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)},62644:t=>{function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],"undefined"!==typeof t&&(this.dataset=t),"undefined"!==typeof e&&(this.k=e),"undefined"!==typeof n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(u),a=0,l=0;l<u;l++)s[l]=0;for(var c=0;c<n;c++){var u=this.dataset[c].length;if(o===this.assignments[c]){for(l=0;l<u;l++)s[l]+=this.dataset[c][l];a++}}if(a>0){for(l=0;l<u;l++)s[l]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)"undefined"===typeof e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<i&&(i=r,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)},29059:(t,e,n)=>{if(t.exports)var r=n(30226);function i(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}i.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var l=new r(null,null,"asc"),c=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,c,l),this._expandCluster(a,l))}return this.clusters},i.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},i.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},i.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},i.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},i.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++){if(this._regionQuery(t,n).length>=this.minPts)return n}},i.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},i.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=i)},30226:t=>{function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)},945:(t,e,n)=>{t.exports&&(t.exports={DBSCAN:n(64674),KMEANS:n(62644),OPTICS:n(29059),PriorityQueue:n(30226)})},10973:t=>{"use strict";function e(t,e,r){r=r||2;var o,s,a,l,h,f,p,A=e&&e.length,g=A?e[0]*r:t.length,y=n(t,0,g,r,!0),m=[];if(!y||y.next===y.prev)return m;if(A&&(y=function(t,e,r,i){var o,s,a,l=[];for(o=0,s=e.length;o<s;o++)(a=n(t,e[o]*i,o<s-1?e[o+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),l.push(d(a));for(l.sort(c),o=0;o<l.length;o++)r=u(l[o],r);return r}(t,e,y,r)),t.length>80*r){o=a=t[0],s=l=t[1];for(var v=r;v<g;v+=r)(h=t[v])<o&&(o=h),(f=t[v+1])<s&&(s=f),h>a&&(a=h),f>l&&(l=f);p=0!==(p=Math.max(a-o,l-s))?32767/p:0}return i(y,m,r,o,s,p,0),m}function n(t,e,n,r,i){var o,s;if(i===C(t,e,n,r)>0)for(o=e;o<n;o+=r)s=x(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=x(o,t[o],t[o+1],s);return s&&y(s,s.next)&&(E(s),s=s.next),s}function r(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(E(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function i(t,e,n,c,u,h,d){if(t){!d&&h&&function(t,e,n,r){var i=t;do{0===i.z&&(i.z=f(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,l,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ);e++);for(l=c;a>0||l>0&&r;)0!==a&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1)}(i)}(t,c,u,h);for(var p,A,g=t;t.prev!==t.next;)if(p=t.prev,A=t.next,h?s(t,c,u,h):o(t))e.push(p.i/n|0),e.push(t.i/n|0),e.push(A.i/n|0),E(t),t=A.next,g=A.next;else if((t=A)===g){d?1===d?i(t=a(r(t),e,n),e,n,c,u,h,2):2===d&&l(t,e,n,c,u,h):i(r(t),e,n,c,u,h,1);break}}}function o(t){var e=t.prev,n=t,r=t.next;if(g(e,n,r)>=0)return!1;for(var i=e.x,o=n.x,s=r.x,a=e.y,l=n.y,c=r.y,u=i<o?i<s?i:s:o<s?o:s,h=a<l?a<c?a:c:l<c?l:c,f=i>o?i>s?i:s:o>s?o:s,d=a>l?a>c?a:c:l>c?l:c,A=r.next;A!==e;){if(A.x>=u&&A.x<=f&&A.y>=h&&A.y<=d&&p(i,a,o,l,s,c,A.x,A.y)&&g(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function s(t,e,n,r){var i=t.prev,o=t,s=t.next;if(g(i,o,s)>=0)return!1;for(var a=i.x,l=o.x,c=s.x,u=i.y,h=o.y,d=s.y,A=a<l?a<c?a:c:l<c?l:c,y=u<h?u<d?u:d:h<d?h:d,m=a>l?a>c?a:c:l>c?l:c,v=u>h?u>d?u:d:h>d?h:d,b=f(A,y,e,n,r),_=f(m,v,e,n,r),w=t.prevZ,x=t.nextZ;w&&w.z>=b&&x&&x.z<=_;){if(w.x>=A&&w.x<=m&&w.y>=y&&w.y<=v&&w!==i&&w!==s&&p(a,u,l,h,c,d,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,x.x>=A&&x.x<=m&&x.y>=y&&x.y<=v&&x!==i&&x!==s&&p(a,u,l,h,c,d,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;w&&w.z>=b;){if(w.x>=A&&w.x<=m&&w.y>=y&&w.y<=v&&w!==i&&w!==s&&p(a,u,l,h,c,d,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;x&&x.z<=_;){if(x.x>=A&&x.x<=m&&x.y>=y&&x.y<=v&&x!==i&&x!==s&&p(a,u,l,h,c,d,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function a(t,e,n){var i=t;do{var o=i.prev,s=i.next.next;!y(o,s)&&m(o,i,i.next,s)&&_(o,s)&&_(s,o)&&(e.push(o.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),E(i),E(i.next),i=t=s),i=i.next}while(i!==t);return r(i)}function l(t,e,n,o,s,a){var l=t;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&A(l,c)){var u=w(l,c);return l=r(l,l.next),u=r(u,u.next),i(l,e,n,o,s,a,0),void i(u,e,n,o,s,a,0)}c=c.next}l=l.next}while(l!==t)}function c(t,e){return t.x-e.x}function u(t,e){var n=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s&&(s=a,n=r.x<r.next.x?r:r.next,a===i))return n}r=r.next}while(r!==e);if(!n)return null;var l,c=n,u=n.x,f=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&p(o<f?i:s,o,u,f,o<f?s:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),_(r,t)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,d=l)),r=r.next}while(r!==c);return n}(t,e);if(!n)return e;var i=w(n,t);return r(i,i.next),r(n,n.next)}function h(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function f(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function p(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function A(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&m(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(_(t,e)&&_(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||y(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,n,r){var i=b(g(t,e,n)),o=b(g(t,e,r)),s=b(g(n,r,t)),a=b(g(n,r,e));return i!==o&&s!==a||(!(0!==i||!v(t,n,e))||(!(0!==o||!v(t,r,e))||(!(0!==s||!v(n,t,r))||!(0!==a||!v(n,e,r)))))}function v(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function b(t){return t>0?1:t<0?-1:0}function _(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function w(t,e){var n=new S(t.i,t.x,t.y),r=new S(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function x(t,e,n,r){var i=new S(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(C(t,0,o,n));if(i)for(var a=0,l=e.length;a<l;a++){var c=e[a]*n,u=a<l-1?e[a+1]*n:t.length;s-=Math.abs(C(t,c,u,n))}var h=0;for(a=0;a<r.length;a+=3){var f=r[a]*n,d=r[a+1]*n,p=r[a+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},82090:(t,e,n)=>{"use strict";var r=n(60002)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(i){r=!1}t.exports=r},79820:t=>{"use strict";t.exports=EvalError},29304:t=>{"use strict";t.exports=Error},1725:t=>{"use strict";t.exports=RangeError},75077:t=>{"use strict";t.exports=ReferenceError},62557:t=>{"use strict";t.exports=SyntaxError},54902:t=>{"use strict";t.exports=TypeError},63094:t=>{"use strict";t.exports=URIError},17283:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],a]:t._events[l].push(a):(t._events[l]=a,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var l,c,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,o),!0;case 6:return u.fn.call(u.context,e,r,i,o,s),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,r);break;case 4:u[c].fn.call(u[c].context,e,r,i);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==e||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},48721:(t,e,n)=>{"use strict";const r=n(82301),i=n(42072),o=n(54439);t.exports={XMLParser:i,XMLValidator:r,XMLBuilder:o}},63975:(t,e)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+(n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*",i=new RegExp("^"+r+"$");e.isExist=function(t){return"undefined"!==typeof t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,n){if(e){const r=Object.keys(e),i=r.length;for(let o=0;o<i;o++)t[r[o]]="strict"===n?[e[r[o]]]:e[r[o]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.isName=function(t){const e=i.exec(t);return!(null===e||"undefined"===typeof e)},e.getAllMatches=function(t,e){const n=[];let r=e.exec(t);for(;r;){const i=[];i.startIndex=e.lastIndex-r[0].length;const o=r.length;for(let t=0;t<o;t++)i.push(r[t]);n.push(i),r=e.exec(t)}return n},e.nameRegexp=r},82301:(t,e,n)=>{"use strict";const r=n(63975),i={allowBooleanAttributes:!1,unpairedTags:[]};function o(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function s(t,e){const n=e;for(;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{const r=t.substr(n,e-n);if(e>5&&"xml"===r)return p("InvalidXml","XML declaration allowed only at the start of the document.",g(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function a(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&(n--,0===n))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}e.validate=function(t,e){e=Object.assign({},i,e);const n=[];let l=!1,c=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let i=0;i<t.length;i++)if("<"===t[i]&&"?"===t[i+1]){if(i+=2,i=s(t,i),i.err)return i}else{if("<"!==t[i]){if(o(t[i]))continue;return p("InvalidChar","char '"+t[i]+"' is not expected.",g(t,i))}{let A=i;if(i++,"!"===t[i]){i=a(t,i);continue}{let y=!1;"/"===t[i]&&(y=!0,i++);let m="";for(;i<t.length&&">"!==t[i]&&" "!==t[i]&&"\t"!==t[i]&&"\n"!==t[i]&&"\r"!==t[i];i++)m+=t[i];if(m=m.trim(),"/"===m[m.length-1]&&(m=m.substring(0,m.length-1),i--),h=m,!r.isName(h)){let e;return e=0===m.trim().length?"Invalid space after '<'.":"Tag '"+m+"' is an invalid name.",p("InvalidTag",e,g(t,i))}const v=u(t,i);if(!1===v)return p("InvalidAttr","Attributes for '"+m+"' have open quote.",g(t,i));let b=v.value;if(i=v.index,"/"===b[b.length-1]){const n=i-b.length;b=b.substring(0,b.length-1);const r=f(b,e);if(!0!==r)return p(r.err.code,r.err.msg,g(t,n+r.err.line));l=!0}else if(y){if(!v.tagClosed)return p("InvalidTag","Closing tag '"+m+"' doesn't have proper closing.",g(t,i));if(b.trim().length>0)return p("InvalidTag","Closing tag '"+m+"' can't have attributes or invalid starting.",g(t,A));if(0===n.length)return p("InvalidTag","Closing tag '"+m+"' has not been opened.",g(t,A));{const e=n.pop();if(m!==e.tagName){let n=g(t,e.tagStartPos);return p("InvalidTag","Expected closing tag '"+e.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+m+"'.",g(t,A))}0==n.length&&(c=!0)}}else{const r=f(b,e);if(!0!==r)return p(r.err.code,r.err.msg,g(t,i-b.length+r.err.line));if(!0===c)return p("InvalidXml","Multiple possible root nodes found.",g(t,i));-1!==e.unpairedTags.indexOf(m)||n.push({tagName:m,tagStartPos:A}),l=!0}for(i++;i<t.length;i++)if("<"===t[i]){if("!"===t[i+1]){i++,i=a(t,i);continue}if("?"!==t[i+1])break;if(i=s(t,++i),i.err)return i}else if("&"===t[i]){const e=d(t,i);if(-1==e)return p("InvalidChar","char '&' is not expected.",g(t,i));i=e}else if(!0===c&&!o(t[i]))return p("InvalidXml","Extra text at the end",g(t,i));"<"===t[i]&&i--}}}var h;return l?1==n.length?p("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",g(t,n[0].tagStartPos)):!(n.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(n.map((t=>t.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};const l='"',c="'";function u(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===l||t[e]===c)""===r?r=t[e]:r!==t[e]||(r="");else if(">"===t[e]&&""===r){i=!0;break}n+=t[e]}return""===r&&{value:n,index:e,tagClosed:i}}const h=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function f(t,e){const n=r.getAllMatches(t,h),i={};for(let r=0;r<n.length;r++){if(0===n[r][1].length)return p("InvalidAttr","Attribute '"+n[r][2]+"' has no space in starting.",y(n[r]));if(void 0!==n[r][3]&&void 0===n[r][4])return p("InvalidAttr","Attribute '"+n[r][2]+"' is without value.",y(n[r]));if(void 0===n[r][3]&&!e.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+n[r][2]+"' is not allowed.",y(n[r]));const t=n[r][2];if(!A(t))return p("InvalidAttr","Attribute '"+t+"' is an invalid name.",y(n[r]));if(i.hasOwnProperty(t))return p("InvalidAttr","Attribute '"+t+"' is repeated.",y(n[r]));i[t]=1}return!0}function d(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function p(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function A(t){return r.isName(t)}function g(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function y(t){return t.startIndex+t[1].length}},54439:(t,e,n)=>{"use strict";const r=n(79969),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(t){this.options=Object.assign({},i,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l),this.processTextOrObjNode=s,this.options.format?(this.indentate=a,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function s(t,e,n){const r=this.j2x(t,n+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}function a(t){return this.options.indentBy.repeat(t)}function l(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}o.prototype.build=function(t){return this.options.preserveOrder?r(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)},o.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if("undefined"===typeof t[i])this.isAttribute(i)&&(r+="");else if(null===t[i])this.isAttribute(i)?r+="":"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if("object"!==typeof t[i]){const o=this.isAttribute(i);if(o)n+=this.buildAttrPairStr(o,""+t[i]);else if(i===this.options.textNodeName){let e=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(e)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){const n=t[i].length;let o="";for(let s=0;s<n;s++){const n=t[i][s];"undefined"===typeof n||(null===n?"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:"object"===typeof n?this.options.oneListGroup?o+=this.j2x(n,e+1).val:o+=this.processTextOrObjNode(n,i,e):o+=this.buildTextValNode(n,i,"",e))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",e)),r+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const e=Object.keys(t[i]),r=e.length;for(let o=0;o<r;o++)n+=this.buildAttrPairStr(e[o],""+t[i][e[o]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}},o.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'},o.prototype.buildObjectNode=function(t,e,n,r){if(""===t)return"?"===e[0]?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,o="";return"?"===e[0]&&(o="?",i=""),!n&&""!==n||-1!==t.indexOf("<")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===o.length?this.indentate(r)+"\x3c!--".concat(t,"--\x3e")+this.newLine:this.indentate(r)+"<"+e+n+o+this.tagEndChar+t+this.indentate(r)+i:this.indentate(r)+"<"+e+n+o+">"+t+i}},o.prototype.closeTag=function(t){let e="";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e="/"):e=this.options.suppressEmptyNode?"/":"></".concat(t),e},o.prototype.buildTextValNode=function(t,e,n,r){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(r)+"<![CDATA[".concat(t,"]]>")+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(r)+"\x3c!--".concat(t,"--\x3e")+this.newLine;if("?"===e[0])return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),""===i?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}},o.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t},t.exports=o},79969:t=>{function e(t,s,a,l){let c="",u=!1;for(let h=0;h<t.length;h++){const f=t[h],d=n(f);if(void 0===d)continue;let p="";if(p=0===a.length?d:"".concat(a,".").concat(d),d===s.textNodeName){let t=f[d];i(p,s)||(t=s.tagValueProcessor(d,t),t=o(t,s)),u&&(c+=l),c+=t,u=!1;continue}if(d===s.cdataPropName){u&&(c+=l),c+="<![CDATA[".concat(f[d][0][s.textNodeName],"]]>"),u=!1;continue}if(d===s.commentPropName){c+=l+"\x3c!--".concat(f[d][0][s.textNodeName],"--\x3e"),u=!0;continue}if("?"===d[0]){const t=r(f[":@"],s),e="?xml"===d?"":l;let n=f[d][0][s.textNodeName];n=0!==n.length?" "+n:"",c+=e+"<".concat(d).concat(n).concat(t,"?>"),u=!0;continue}let A=l;""!==A&&(A+=s.indentBy);const g=r(f[":@"],s),y=l+"<".concat(d).concat(g),m=e(f[d],s,p,A);-1!==s.unpairedTags.indexOf(d)?s.suppressUnpairedNode?c+=y+">":c+=y+"/>":m&&0!==m.length||!s.suppressEmptyNode?m&&m.endsWith(">")?c+=y+">".concat(m).concat(l,"</").concat(d,">"):(c+=y+">",m&&""!==l&&(m.includes("/>")||m.includes("</"))?c+=l+s.indentBy+m+l:c+=m,c+="</".concat(d,">")):c+=y+"/>",u=!0}return c}function n(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(t.hasOwnProperty(r)&&":@"!==r)return r}}function r(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=o(i,e),!0===i&&e.suppressBooleanAttributes?n+=" ".concat(r.substr(e.attributeNamePrefix.length)):n+=" ".concat(r.substr(e.attributeNamePrefix.length),'="').concat(i,'"')}return n}function i(t,e){let n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function o(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}t.exports=function(t,n){let r="";return n.format&&n.indentBy.length>0&&(r="\n"),e(t,n,"",r)}},74411:(t,e,n)=>{const r=n(63975);function i(t,e){let n="";for(;e<t.length&&"'"!==t[e]&&'"'!==t[e];e++)n+=t[e];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const r=t[e++];let i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function o(t,e){return"!"===t[e+1]&&"-"===t[e+2]&&"-"===t[e+3]}function s(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"N"===t[e+3]&&"T"===t[e+4]&&"I"===t[e+5]&&"T"===t[e+6]&&"Y"===t[e+7]}function a(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"L"===t[e+3]&&"E"===t[e+4]&&"M"===t[e+5]&&"E"===t[e+6]&&"N"===t[e+7]&&"T"===t[e+8]}function l(t,e){return"!"===t[e+1]&&"A"===t[e+2]&&"T"===t[e+3]&&"T"===t[e+4]&&"L"===t[e+5]&&"I"===t[e+6]&&"S"===t[e+7]&&"T"===t[e+8]}function c(t,e){return"!"===t[e+1]&&"N"===t[e+2]&&"O"===t[e+3]&&"T"===t[e+4]&&"A"===t[e+5]&&"T"===t[e+6]&&"I"===t[e+7]&&"O"===t[e+8]&&"N"===t[e+9]}function u(t){if(r.isName(t))return t;throw new Error("Invalid entity name ".concat(t))}t.exports=function(t,e){const n={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");{e+=9;let r=1,h=!1,f=!1,d="";for(;e<t.length;e++)if("<"!==t[e]||f)if(">"===t[e]){if(f?"-"===t[e-1]&&"-"===t[e-2]&&(f=!1,r--):r--,0===r)break}else"["===t[e]?h=!0:d+=t[e];else{if(h&&s(t,e))e+=7,[entityName,val,e]=i(t,e+1),-1===val.indexOf("&")&&(n[u(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val:val});else if(h&&a(t,e))e+=8;else if(h&&l(t,e))e+=8;else if(h&&c(t,e))e+=9;else{if(!o)throw new Error("Invalid DOCTYPE");f=!0}r++,d=""}if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:e}}},5237:(t,e)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}};e.buildOptions=function(t){return Object.assign({},n,t)},e.defaultOptions=n},36229:(t,e,n)=>{"use strict";const r=n(63975),i=n(68487),o=n(74411),s=n(20908);function a(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function l(t,e,n,r,i,o,s){if(void 0!==t&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));const r=this.options.tagValueProcessor(e,t,n,i,o);if(null===r||void 0===r)return t;if(typeof r!==typeof t||r!==t)return r;if(this.options.trimValues)return b(t,this.options.parseTagValue,this.options.numberParseOptions);return t.trim()===t?b(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function c(t){if(this.options.removeNSPrefix){const e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}const u=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(t,e,n){if(!this.options.ignoreAttributes&&"string"===typeof t){const n=r.getAllMatches(t,u),i=n.length,o={};for(let t=0;t<i;t++){const r=this.resolveNameSpace(n[t][1]);let i=n[t][4],s=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(s=this.options.transformAttributeName(s)),"__proto__"===s&&(s="#__proto__"),void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);const t=this.options.attributeValueProcessor(r,i,e);o[s]=null===t||void 0===t?i:typeof t!==typeof i||t!==i?t:b(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[s]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=o,t}return o}}const f=function(t){t=t.replace(/\r\n?/g,"\n");const e=new i("!xml");let n=e,r="",s="";for(let a=0;a<t.length;a++){if("<"===t[a])if("/"===t[a+1]){const e=y(t,">",a,"Closing Tag is not closed.");let i=t.substring(a+2,e).trim();if(this.options.removeNSPrefix){const t=i.indexOf(":");-1!==t&&(i=i.substr(t+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),n&&(r=this.saveTextToParentTag(r,n,s));const o=s.substring(s.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw new Error("Unpaired tag can not be used as closing tag: </".concat(i,">"));let l=0;o&&-1!==this.options.unpairedTags.indexOf(o)?(l=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=s.lastIndexOf("."),s=s.substring(0,l),n=this.tagsNodeStack.pop(),r="",a=e}else if("?"===t[a+1]){let e=m(t,a,!1,"?>");if(!e)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),this.options.ignoreDeclaration&&"?xml"===e.tagName||this.options.ignorePiTags);else{const t=new i(e.tagName);t.add(this.options.textNodeName,""),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[":@"]=this.buildAttributesMap(e.tagExp,s,e.tagName)),this.addChild(n,t,s)}a=e.closeIndex+1}else if("!--"===t.substr(a+1,3)){const e=y(t,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const i=t.substring(a+4,e-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}a=e}else if("!D"===t.substr(a+1,2)){const e=o(t,a);this.docTypeEntities=e.entities,a=e.i}else if("!["===t.substr(a+1,2)){const e=y(t,"]]>",a,"CDATA is not closed.")-2,i=t.substring(a+9,e);r=this.saveTextToParentTag(r,n,s);let o=this.parseTextData(i,n.tagname,s,!0,!1,!0,!0);void 0==o&&(o=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]):n.add(this.options.textNodeName,o),a=e+2}else{let o=m(t,a,this.options.removeNSPrefix),l=o.tagName;const c=o.rawTagName;let u=o.tagExp,h=o.attrExpPresent,f=o.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,s,!1));const d=n;if(d&&-1!==this.options.unpairedTags.indexOf(d.tagname)&&(n=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),l!==e.tagname&&(s+=s?"."+l:l),this.isItStopNode(this.options.stopNodes,s,l)){let e="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)"/"===l[l.length-1]?(l=l.substr(0,l.length-1),s=s.substr(0,s.length-1),u=l):u=u.substr(0,u.length-1),a=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(l))a=o.closeIndex;else{const n=this.readStopNodeData(t,c,f+1);if(!n)throw new Error("Unexpected end of ".concat(c));a=n.i,e=n.tagContent}const r=new i(l);l!==u&&h&&(r[":@"]=this.buildAttributesMap(u,s,l)),e&&(e=this.parseTextData(e,l,s,!0,h,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),r.add(this.options.textNodeName,e),this.addChild(n,r,s)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){"/"===l[l.length-1]?(l=l.substr(0,l.length-1),s=s.substr(0,s.length-1),u=l):u=u.substr(0,u.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const t=new i(l);l!==u&&h&&(t[":@"]=this.buildAttributesMap(u,s,l)),this.addChild(n,t,s),s=s.substr(0,s.lastIndexOf("."))}else{const t=new i(l);this.tagsNodeStack.push(n),l!==u&&h&&(t[":@"]=this.buildAttributesMap(u,s,l)),this.addChild(n,t,s),n=t}r="",a=f}}else r+=t[a]}return e.child};function d(t,e,n){const r=this.options.updateTag(e.tagname,n,e[":@"]);!1===r||("string"===typeof r?(e.tagname=r,t.addChild(e)):t.addChild(e))}const p=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function A(t,e,n,r){return t&&(void 0===r&&(r=0===Object.keys(e.child).length),void 0!==(t=this.parseTextData(t,e.tagname,n,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,r))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function g(t,e,n){const r="*."+n;for(const i in t){const n=t[i];if(r===n||e===n)return!0}return!1}function y(t,e,n,r){const i=t.indexOf(e,n);if(-1===i)throw new Error(r);return i+e.length-1}function m(t,e,n){const r=function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",i="";for(let o=e;o<t.length;o++){let e=t[o];if(n)e===n&&(n="");else if('"'===e||"'"===e)n=e;else if(e===r[0]){if(!r[1])return{data:i,index:o};if(t[o+1]===r[1])return{data:i,index:o}}else"\t"===e&&(e=" ");i+=e}}(t,e+1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:">");if(!r)return;let i=r.data;const o=r.index,s=i.search(/\s/);let a=i,l=!0;-1!==s&&(a=i.substring(0,s),i=i.substring(s+1).trimStart());const c=a;if(n){const t=a.indexOf(":");-1!==t&&(a=a.substr(t+1),l=a!==r.data.substr(t+1))}return{tagName:a,tagExp:i,closeIndex:o,attrExpPresent:l,rawTagName:c}}function v(t,e,n){const r=n;let i=1;for(;n<t.length;n++)if("<"===t[n])if("/"===t[n+1]){const o=y(t,">",n,"".concat(e," is not closed"));if(t.substring(n+2,o).trim()===e&&(i--,0===i))return{tagContent:t.substring(r,n),i:o};n=o}else if("?"===t[n+1]){n=y(t,"?>",n+1,"StopNode is not closed.")}else if("!--"===t.substr(n+1,3)){n=y(t,"--\x3e",n+3,"StopNode is not closed.")}else if("!["===t.substr(n+1,2)){n=y(t,"]]>",n,"StopNode is not closed.")-2}else{const r=m(t,n,">");if(r){(r&&r.tagName)===e&&"/"!==r.tagExp[r.tagExp.length-1]&&i++,n=r.closeIndex}}}function b(t,e,n){if(e&&"string"===typeof t){const e=t.trim();return"true"===e||"false"!==e&&s(t,n)}return r.isExist(t)?t:""}t.exports=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"\u20ac"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"\u20b9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,e)=>String.fromCharCode(Number.parseInt(e,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,e)=>String.fromCharCode(Number.parseInt(e,16))}},this.addExternalEntities=a,this.parseXml=f,this.parseTextData=l,this.resolveNameSpace=c,this.buildAttributesMap=h,this.isItStopNode=g,this.replaceEntitiesValue=p,this.readStopNodeData=v,this.saveTextToParentTag=A,this.addChild=d}}},42072:(t,e,n)=>{const{buildOptions:r}=n(5237),i=n(36229),{prettify:o}=n(87126),s=n(82301);t.exports=class{constructor(t){this.externalEntities={},this.options=r(t)}parse(t,e){if("string"===typeof t);else{if(!t.toString)throw new Error("XML data is accepted in String or Bytes[] form.");t=t.toString()}if(e){!0===e&&(e={});const n=s.validate(t,e);if(!0!==n)throw Error("".concat(n.err.msg,":").concat(n.err.line,":").concat(n.err.col))}const n=new i(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(t);return this.options.preserveOrder||void 0===r?r:o(r,this.options)}addEntity(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===e)throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}}},87126:(t,e)=>{"use strict";function n(t,e,s){let a;const l={};for(let c=0;c<t.length;c++){const u=t[c],h=r(u);let f="";if(f=void 0===s?h:s+"."+h,h===e.textNodeName)void 0===a?a=u[h]:a+=""+u[h];else{if(void 0===h)continue;if(u[h]){let t=n(u[h],e,f);const r=o(t,e);u[":@"]?i(t,u[":@"],f,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==l[h]&&l.hasOwnProperty(h)?(Array.isArray(l[h])||(l[h]=[l[h]]),l[h].push(t)):e.isArray(h,f,r)?l[h]=[t]:l[h]=t}}}return"string"===typeof a?a.length>0&&(l[e.textNodeName]=a):void 0!==a&&(l[e.textNodeName]=a),l}function r(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const t=e[n];if(":@"!==t)return t}}function i(t,e,n,r){if(e){const i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){const o=i[s];r.isArray(o,n+"."+o,!0,!0)?t[o]=[e[o]]:t[o]=e[o]}}}function o(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return 0===r||!(1!==r||!t[n]&&"boolean"!==typeof t[n]&&0!==t[n])}e.prettify=function(t,e){return n(t,e)}},68487:t=>{"use strict";t.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){"__proto__"===t&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t){"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},17724:t=>{"use strict";var e=Object.prototype.toString,n=Math.max,r=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n};t.exports=function(t){var i=this;if("function"!==typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(t,e){for(var n=[],r=e||0,i=0;r<t.length;r+=1,i+=1)n[i]=t[r];return n}(arguments,1),a=n(0,i.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var e=i.apply(this,r(s,arguments));return Object(e)===e?e:this}return i.apply(t,r(s,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},63864:(t,e,n)=>{"use strict";var r=n(17724);t.exports=Function.prototype.bind||r},27699:t=>{"use strict";var e=function(){return"string"===typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(i){n=null}e.functionsHaveConfigurableNames=function(){if(!e()||!n)return!1;var t=n((function(){}),"name");return!!t&&!!t.configurable};var r=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"===typeof r&&""!==function(){}.bind().name},t.exports=e},85202:(t,e,n)=>{var r=n(3857),i=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:a};function o(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function s(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function a(t,e){return r(t,e,{strict:!0})}i.prototype.compare=function(t,e){if(t.type!==e.type||!s(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=o(t),i=o(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},i.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},i.prototype.compareLine=function(t,e,n,r){if(!s(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},i.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},i.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},i.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},i.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},i.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},i.prototype.removePseudo=function(t){return t},t.exports=i},3857:(t,e,n)=>{var r=n(2678),i=n(68317),o=n(52702),s=n(43290),a=n(92488),l=n(53913),c=Date.prototype.getTime;function u(t,e,n){var d=n||{};return!!(d.strict?o(t,e):t===e)||(!t||!e||"object"!==typeof t&&"object"!==typeof e?d.strict?o(t,e):t==e:function(t,e,n){var o,d;if(typeof t!==typeof e)return!1;if(h(t)||h(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t)!==i(e))return!1;var p=s(t),A=s(e);if(p!==A)return!1;if(p||A)return t.source===e.source&&a(t)===a(e);if(l(t)&&l(e))return c.call(t)===c.call(e);var g=f(t),y=f(e);if(g!==y)return!1;if(g||y){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!==typeof e)return!1;try{var m=r(t),v=r(e)}catch(b){return!1}if(m.length!==v.length)return!1;for(m.sort(),v.sort(),o=m.length-1;o>=0;o--)if(m[o]!=v[o])return!1;for(o=m.length-1;o>=0;o--)if(!u(t[d=m[o]],e[d],n))return!1;return!0}(t,e,d))}function h(t){return null===t||void 0===t}function f(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}t.exports=u},5574:(t,e,n)=>{var r=n(30642),i=n(96882),o=n(41186),s=n(72266).default,a=o.featureEach,l=(o.coordEach,i.polygon,i.featureCollection);function c(t){var e=new r(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})):a(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})),r.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.remove.call(this,t,e)},e.clear=function(){return r.prototype.clear.call(this)},e.search=function(t){var e=r.prototype.search.call(this,this.toBBox(t));return l(e)},e.collides=function(t){return r.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=r.prototype.all.call(this);return l(t)},e.toJSON=function(){return r.prototype.toJSON.call(this)},e.fromJSON=function(t){return r.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=s(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=s(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=c,t.exports.default=c},96882:(t,e)=>{"use strict";function n(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(t[0])||!d(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,r)}function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function a(t,e,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:t},e,r)}function c(t,e,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:t},e,r)}function u(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function h(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function f(t){return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return l(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return c(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return r(t,e)})),n)},e.polygon=i,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return i(t,e)})),n)},e.lineString=o,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return o(t,e)})),n)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=l,e.multiPolygon=c,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=u,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return f(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return u(h(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[n];if(!i)throw new Error("invalid original units");var o=e.areaFactors[r];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=d,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!d(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},41186:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(96882);function i(t,e,n){if(null!==t)for(var r,o,s,a,l,c,u,h,f=0,d=0,p=t.type,A="FeatureCollection"===p,g="Feature"===p,y=A?t.features.length:1,m=0;m<y;m++){l=(h=!!(u=A?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<l;v++){var b=0,_=0;if(null!==(a=h?u.geometries[v]:u)){c=a.coordinates;var w=a.type;switch(f=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(c,d,m,b,_))return!1;d++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(!1===e(c[r],d,m,b,_))return!1;d++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(o=0;o<c[r].length-f;o++){if(!1===e(c[r][o],d,m,b,_))return!1;d++}"MultiLineString"===w&&b++,"Polygon"===w&&_++}"Polygon"===w&&b++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(_=0,o=0;o<c[r].length;o++){for(s=0;s<c[r][o].length-f;s++){if(!1===e(c[r][o][s],d,m,b,_))return!1;d++}_++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===i(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function a(t,e){var n,r,i,o,s,a,l,c,u,h,f=0,d="FeatureCollection"===t.type,p="Feature"===t.type,A=d?t.features.length:1;for(n=0;n<A;n++){for(a=d?t.features[n].geometry:p?t.geometry:t,c=d?t.features[n].properties:p?t.properties:{},u=d?t.features[n].bbox:p?t.bbox:void 0,h=d?t.features[n].id:p?t.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=l?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,c,u,h))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,c,u,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,c,u,h))return!1;f++}}function l(t,e){a(t,(function(t,n,i,o,s){var a,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==e(r.feature(t,i,{bbox:o,id:s}),n,0)&&void 0}switch(l){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<t.coordinates.length;c++){var u={type:a,coordinates:t.coordinates[c]};if(!1===e(r.feature(u,i),n,c))return!1}}))}function c(t,e){l(t,(function(t,n,o){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var l,c=0,u=0,h=0;return!1!==i(t,(function(i,a,f,d,p){if(void 0===l||n>c||d>u||p>h)return l=i,c=n,u=d,h=p,void(s=0);var A=r.lineString([l,i],t.properties);if(!1===e(A,n,o,p,s))return!1;s++,l=i}))&&void 0}}}))}function u(t,e){if(!t)throw new Error("geojson is required");l(t,(function(t,n,i){if(null!==t.geometry){var o=t.geometry.type,s=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,n,i,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(r.lineString(s[a],t.properties),n,i,a))return!1}}}))}e.coordAll=function(t){var e=[];return i(t,(function(t){e.push(t)})),e},e.coordEach=i,e.coordReduce=function(t,e,n,r){var o=n;return i(t,(function(t,r,i,s,a){o=0===r&&void 0===n?t:e(o,t,r,i,s,a)}),r),o},e.featureEach=s,e.featureReduce=function(t,e,n){var r=n;return s(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.findPoint=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,l=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),l=l||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":l=l||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":return r.point(c,l,e);case"MultiPoint":return o<0&&(o=c.length+o),r.point(c[o],l,e);case"LineString":return a<0&&(a=c.length+a),r.point(c[a],l,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a),r.point(c[s][a],l,e);case"MultiLineString":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a),r.point(c[o][a],l,e);case"MultiPolygon":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s),a<0&&(a=c[o][s].length-a),r.point(c[o][s][a],l,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,l=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),l=l||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":l=l||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=c.length+a-1),r.lineString([c[a],c[a+1]],l,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a-1),r.lineString([c[s][a],c[s][a+1]],l,e);case"MultiLineString":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a-1),r.lineString([c[o][a],c[o][a+1]],l,e);case"MultiPolygon":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s),a<0&&(a=c[o][s].length-a-1),r.lineString([c[o][s][a],c[o][s][a+1]],l,e)}throw new Error("geojson is invalid")},e.flattenEach=l,e.flattenReduce=function(t,e,n){var r=n;return l(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r},e.geomEach=a,e.geomReduce=function(t,e,n){var r=n;return a(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r},e.lineEach=u,e.lineReduce=function(t,e,n){var r=n;return u(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r},e.propEach=o,e.propReduce=function(t,e,n){var r=n;return o(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.segmentEach=c,e.segmentReduce=function(t,e,n){var r=n,i=!1;return c(t,(function(t,o,s,a,l){r=!1===i&&void 0===n?t:e(r,t,o,s,a,l),i=!0})),r}},60002:(t,e,n)=>{"use strict";var r,i=n(29304),o=n(79820),s=n(1725),a=n(75077),l=n(62557),c=n(54902),u=n(63094),h=Function,f=function(t){try{return h('"use strict"; return ('+t+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(B){d=null}var p=function(){throw new c},A=d?function(){try{return p}catch(t){try{return d(arguments,"callee").get}catch(e){return p}}}():p,g=n(72108)(),y=n(80951)(),m=Object.getPrototypeOf||(y?function(t){return t.__proto__}:null),v={},b="undefined"!==typeof Uint8Array&&m?m(Uint8Array):r,_={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":g&&m?m([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":v,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&m?m(m([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&g&&m?m((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&g&&m?m((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&m?m(""[Symbol.iterator]()):r,"%Symbol%":g?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":A,"%TypedArray%":b,"%TypeError%":c,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};if(m)try{null.error}catch(B){var w=m(m(B));_["%Error.prototype%"]=w}var x=function t(e){var n;if("%AsyncFunction%"===e)n=f("async function () {}");else if("%GeneratorFunction%"===e)n=f("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=f("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&m&&(n=m(i.prototype))}return _[e]=n,n},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(63864),C=n(34384),P=S.call(Function.call,Array.prototype.concat),M=S.call(Function.apply,Array.prototype.splice),T=S.call(Function.call,String.prototype.replace),O=S.call(Function.call,String.prototype.slice),I=S.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,k=function(t,e){var n,r=t;if(C(E,r)&&(r="%"+(n=E[r])[0]+"%"),C(_,r)){var i=_[r];if(i===v&&(i=x(r)),"undefined"===typeof i&&!e)throw new c("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new l("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new c('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,t))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=O(t,0,1),n=O(t,-1);if("%"===e&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return T(t,R,(function(t,e,n,i){r[r.length]=n?T(i,L,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",i=k("%"+r+"%",e),o=i.name,s=i.value,a=!1,u=i.alias;u&&(r=u[0],M(n,P([0,1],u)));for(var h=1,f=!0;h<n.length;h+=1){var p=n[h],A=O(p,0,1),g=O(p,-1);if(('"'===A||"'"===A||"`"===A||'"'===g||"'"===g||"`"===g)&&A!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==p&&f||(a=!0),C(_,o="%"+(r+="."+p)+"%"))s=_[o];else if(null!=s){if(!(p in s)){if(!e)throw new c("base intrinsic for "+t+" exists, but the property is not available.");return}if(d&&h+1>=n.length){var y=d(s,p);s=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[p]}else f=C(s,p),s=s[p];f&&!a&&(_[o]=s)}}return s}},62374:(t,e,n)=>{"use strict";n.d(e,{p8:()=>r,tb:()=>i});var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},620:(t,e,n)=>{"use strict";n.d(e,{B8:()=>s,I0:()=>f,Tl:()=>c,a4:()=>a,e$:()=>u,hs:()=>h,lw:()=>l,mg:()=>o,vt:()=>i});var r=n(62374);function i(){var t=new r.tb(9);return r.tb!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function s(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*s-a*c,f=-u*o+a*l,d=c*o-s*l,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-u*r+i*c)*p,t[2]=(a*r-i*s)*p,t[3]=f*p,t[4]=(u*n-i*l)*p,t[5]=(-a*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*l)*p,t[8]=(s*n-r*o)*p,t):null}function a(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8];return e*(c*o-s*l)+n*(-c*i+s*a)+r*(l*i-o*a)}function l(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=n[0],d=n[1],p=n[2],A=n[3],g=n[4],y=n[5],m=n[6],v=n[7],b=n[8];return t[0]=f*r+d*s+p*c,t[1]=f*i+d*a+p*u,t[2]=f*o+d*l+p*h,t[3]=A*r+g*s+y*c,t[4]=A*i+g*a+y*u,t[5]=A*o+g*l+y*h,t[6]=m*r+v*s+b*c,t[7]=m*i+v*a+b*u,t[8]=m*o+v*l+b*h,t}function c(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=l,t[6]=f*r+d*s+c,t[7]=f*i+d*a+u,t[8]=f*o+d*l+h,t}function u(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*s,t[1]=d*i+f*a,t[2]=d*o+f*l,t[3]=d*s-f*r,t[4]=d*a-f*i,t[5]=d*l-f*o,t[6]=c,t[7]=u,t[8]=h,t}function h(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,l=i+i,c=n*s,u=r*s,h=r*a,f=i*s,d=i*a,p=i*l,A=o*s,g=o*a,y=o*l;return t[0]=1-h-p,t[3]=u-y,t[6]=f+g,t[1]=u+y,t[4]=1-c-p,t[7]=d-A,t[2]=f-g,t[5]=d+A,t[8]=1-c-h,t}},36153:(t,e,n)=>{"use strict";n.d(e,{$h:()=>g,B8:()=>o,I0:()=>A,IL:()=>p,Qr:()=>d,Tl:()=>l,Z8:()=>f,a4:()=>s,aI:()=>b,e$:()=>u,eL:()=>h,fN:()=>y,hs:()=>c,lw:()=>a,mg:()=>i,t5:()=>v,v3:()=>m});var r=n(62374);function i(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function o(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],d=e[11],p=e[12],A=e[13],g=e[14],y=e[15],m=n*a-r*s,v=n*l-i*s,b=n*c-o*s,_=r*l-i*a,w=r*c-o*a,x=i*c-o*l,E=u*A-h*p,S=u*g-f*p,C=u*y-d*p,P=h*g-f*A,M=h*y-d*A,T=f*y-d*g,O=m*T-v*M+b*P+_*C-w*S+x*E;return O?(O=1/O,t[0]=(a*T-l*M+c*P)*O,t[1]=(i*M-r*T-o*P)*O,t[2]=(A*x-g*w+y*_)*O,t[3]=(f*w-h*x-d*_)*O,t[4]=(l*C-s*T-c*S)*O,t[5]=(n*T-i*C+o*S)*O,t[6]=(g*b-p*x-y*v)*O,t[7]=(u*x-f*b+d*v)*O,t[8]=(s*M-a*C+c*E)*O,t[9]=(r*C-n*M-o*E)*O,t[10]=(p*w-A*b+y*m)*O,t[11]=(h*b-u*w-d*m)*O,t[12]=(a*S-s*P-l*E)*O,t[13]=(n*P-r*S+i*E)*O,t[14]=(A*v-p*_-g*m)*O,t[15]=(u*_-h*v+f*m)*O,t):null}function s(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],h=t[10],f=t[11],d=t[12],p=t[13],A=t[14],g=t[15];return(e*s-n*o)*(h*g-f*A)-(e*a-r*o)*(u*g-f*p)+(e*l-i*o)*(u*A-h*p)+(n*a-r*s)*(c*g-f*d)-(n*l-i*s)*(c*A-h*d)+(r*l-i*a)*(c*p-u*d)}function a(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=e[9],d=e[10],p=e[11],A=e[12],g=e[13],y=e[14],m=e[15],v=n[0],b=n[1],_=n[2],w=n[3];return t[0]=v*r+b*a+_*h+w*A,t[1]=v*i+b*l+_*f+w*g,t[2]=v*o+b*c+_*d+w*y,t[3]=v*s+b*u+_*p+w*m,v=n[4],b=n[5],_=n[6],w=n[7],t[4]=v*r+b*a+_*h+w*A,t[5]=v*i+b*l+_*f+w*g,t[6]=v*o+b*c+_*d+w*y,t[7]=v*s+b*u+_*p+w*m,v=n[8],b=n[9],_=n[10],w=n[11],t[8]=v*r+b*a+_*h+w*A,t[9]=v*i+b*l+_*f+w*g,t[10]=v*o+b*c+_*d+w*y,t[11]=v*s+b*u+_*p+w*m,v=n[12],b=n[13],_=n[14],w=n[15],t[12]=v*r+b*a+_*h+w*A,t[13]=v*i+b*l+_*f+w*g,t[14]=v*o+b*c+_*d+w*y,t[15]=v*s+b*u+_*p+w*m,t}function l(t,e,n){var r,i,o,s,a,l,c,u,h,f,d,p,A=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*A+e[4]*g+e[8]*y+e[12],t[13]=e[1]*A+e[5]*g+e[9]*y+e[13],t[14]=e[2]*A+e[6]*g+e[10]*y+e[14],t[15]=e[3]*A+e[7]*g+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=l,t[6]=c,t[7]=u,t[8]=h,t[9]=f,t[10]=d,t[11]=p,t[12]=r*A+a*g+h*y+e[12],t[13]=i*A+l*g+f*y+e[13],t[14]=o*A+c*g+d*y+e[14],t[15]=s*A+u*g+p*y+e[15]),t}function c(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function u(t,e,n,i){var o,s,a,l,c,u,h,f,d,p,A,g,y,m,v,b,_,w,x,E,S,C,P,M,T=i[0],O=i[1],I=i[2],R=Math.hypot(T,O,I);return R<r.p8?null:(T*=R=1/R,O*=R,I*=R,o=Math.sin(n),a=1-(s=Math.cos(n)),l=e[0],c=e[1],u=e[2],h=e[3],f=e[4],d=e[5],p=e[6],A=e[7],g=e[8],y=e[9],m=e[10],v=e[11],b=T*T*a+s,_=O*T*a+I*o,w=I*T*a-O*o,x=T*O*a-I*o,E=O*O*a+s,S=I*O*a+T*o,C=T*I*a+O*o,P=O*I*a-T*o,M=I*I*a+s,t[0]=l*b+f*_+g*w,t[1]=c*b+d*_+y*w,t[2]=u*b+p*_+m*w,t[3]=h*b+A*_+v*w,t[4]=l*x+f*E+g*S,t[5]=c*x+d*E+y*S,t[6]=u*x+p*E+m*S,t[7]=h*x+A*E+v*S,t[8]=l*C+f*P+g*M,t[9]=c*C+d*P+y*M,t[10]=u*C+p*P+m*M,t[11]=h*C+A*P+v*M,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function h(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=s*i+u*r,t[6]=a*i+h*r,t[7]=l*i+f*r,t[8]=c*i-o*r,t[9]=u*i-s*r,t[10]=h*i-a*r,t[11]=f*i-l*r,t}function f(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],s=e[1],a=e[2],l=e[3],c=e[8],u=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=s*i-u*r,t[2]=a*i-h*r,t[3]=l*i-f*r,t[8]=o*r+c*i,t[9]=s*r+u*i,t[10]=a*r+h*i,t[11]=l*r+f*i,t}function d(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],s=e[1],a=e[2],l=e[3],c=e[4],u=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=s*i+u*r,t[2]=a*i+h*r,t[3]=l*i+f*r,t[4]=c*i-o*r,t[5]=u*i-s*r,t[6]=h*i-a*r,t[7]=f*i-l*r,t}function p(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],s=e[5],a=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,s,a),t[2]=Math.hypot(l,c,u),t}function A(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,l=i+i,c=n*s,u=r*s,h=r*a,f=i*s,d=i*a,p=i*l,A=o*s,g=o*a,y=o*l;return t[0]=1-h-p,t[1]=u+y,t[2]=f-g,t[3]=0,t[4]=u-y,t[5]=1-c-p,t[6]=d+A,t[7]=0,t[8]=f+g,t[9]=d-A,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g(t,e,n,r,i,o,s){var a=1/(n-e),l=1/(i-r),c=1/(o-s);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(i+r)*l,t[10]=(s+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*c,t[15]=0,t}var y=function(t,e,n,r,i){var o,s=1/Math.tan(e/2);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t};var m=function(t,e,n,r,i,o,s){var a=1/(e-n),l=1/(r-i),c=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*l,t[14]=(s+o)*c,t[15]=1,t};function v(t,e,n,i){var o,s,a,l,c,u,h,f,d,p,A=e[0],g=e[1],y=e[2],m=i[0],v=i[1],b=i[2],_=n[0],w=n[1],x=n[2];return Math.abs(A-_)<r.p8&&Math.abs(g-w)<r.p8&&Math.abs(y-x)<r.p8?function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}(t):(h=A-_,f=g-w,d=y-x,o=v*(d*=p=1/Math.hypot(h,f,d))-b*(f*=p),s=b*(h*=p)-m*d,a=m*f-v*h,(p=Math.hypot(o,s,a))?(o*=p=1/p,s*=p,a*=p):(o=0,s=0,a=0),l=f*a-d*s,c=d*o-h*a,u=h*s-f*o,(p=Math.hypot(l,c,u))?(l*=p=1/p,c*=p,u*=p):(l=0,c=0,u=0),t[0]=o,t[1]=l,t[2]=h,t[3]=0,t[4]=s,t[5]=c,t[6]=f,t[7]=0,t[8]=a,t[9]=u,t[10]=d,t[11]=0,t[12]=-(o*A+s*g+a*y),t[13]=-(l*A+c*g+u*y),t[14]=-(h*A+f*g+d*y),t[15]=1,t)}function b(t,e){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],f=t[9],d=t[10],p=t[11],A=t[12],g=t[13],y=t[14],m=t[15],v=e[0],b=e[1],_=e[2],w=e[3],x=e[4],E=e[5],S=e[6],C=e[7],P=e[8],M=e[9],T=e[10],O=e[11],I=e[12],R=e[13],L=e[14],k=e[15];return Math.abs(n-v)<=r.p8*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(i-b)<=r.p8*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-_)<=r.p8*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(s-w)<=r.p8*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-x)<=r.p8*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(l-E)<=r.p8*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(c-S)<=r.p8*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(u-C)<=r.p8*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(h-P)<=r.p8*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(f-M)<=r.p8*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(d-T)<=r.p8*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(p-O)<=r.p8*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(A-I)<=r.p8*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(g-R)<=r.p8*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(y-L)<=r.p8*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(m-k)<=r.p8*Math.max(1,Math.abs(m),Math.abs(k))}},10355:(t,e,n)=>{"use strict";n.d(e,{Bw:()=>s,Cc:()=>l,WQ:()=>i,Z0:()=>f,ZF:()=>c,ei:()=>h,hs:()=>o,jb:()=>d,l0:()=>u,ze:()=>a});var r=n(62374);function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function o(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function s(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function a(t,e){return t[0]=-e[0],t[1]=-e[1],t}function l(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function c(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function u(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function h(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function f(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}var d=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};!function(){var t=function(){var t=new r.tb(2);return r.tb!=Float32Array&&(t[0]=0,t[1]=0),t}()}()},10092:(t,e,n)=>{"use strict";n.d(e,{$A:()=>h,Bw:()=>o,Cc:()=>f,Il:()=>w,Om:()=>u,S8:()=>c,WQ:()=>a,Z0:()=>d,Z8:()=>y,eL:()=>g,ei:()=>p,fA:()=>s,g7:()=>v,gL:()=>A,jb:()=>b,lK:()=>_,uE:()=>x,vt:()=>i,x6:()=>m,ze:()=>l});var r=n(62374);function i(){var t=new r.tb(3);return r.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function s(t,e,n){var i=new r.tb(3);return i[0]=t,i[1]=e,i[2]=n,i}function a(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function l(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function c(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function u(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function h(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],l=n[2];return t[0]=i*l-o*a,t[1]=o*s-r*l,t[2]=r*a-i*s,t}function f(t,e,n,r){var i=e[0],o=e[1],s=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t}function d(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,t}function p(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function A(t,e,n){var r=n[0],i=n[1],o=n[2],s=n[3],a=e[0],l=e[1],c=e[2],u=i*c-o*l,h=o*a-r*c,f=r*l-i*a,d=i*f-o*h,p=o*u-r*f,A=r*h-i*u,g=2*s;return u*=g,h*=g,f*=g,d*=2,p*=2,A*=2,t[0]=a+u+d,t[1]=l+h+p,t[2]=c+f+A,t}function g(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function y(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function m(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function v(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],s=e[1],a=e[2],l=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+s*s+a*a),c=l&&u(t,e)/l;return Math.acos(Math.min(Math.max(c,-1),1))}var b=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},_=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},w=o,x=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r};!function(){var t=i()}()},45625:(t,e,n)=>{"use strict";n.d(e,{Bw:()=>u,C:()=>s,Cc:()=>p,Om:()=>d,S8:()=>f,WQ:()=>l,Z0:()=>A,aI:()=>m,fA:()=>o,gL:()=>g,hZ:()=>a,hs:()=>c,m3:()=>h,o8:()=>i,t2:()=>y});var r=n(62374);function i(t){var e=new r.tb(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e,n,i){var o=new r.tb(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function l(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function c(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function u(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function h(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=o*s,t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function p(t,e,n,r){var i=e[0],o=e[1],s=e[2],a=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t[3]=a+r*(n[3]-a),t}function A(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,t}function g(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],l=n[2],c=n[3],u=c*r+a*o-l*i,h=c*i+l*r-s*o,f=c*o+s*i-a*r,d=-s*r-a*i-l*o;return t[0]=u*c+d*-s+h*-l-f*-a,t[1]=h*c+d*-a+f*-s-u*-l,t[2]=f*c+d*-l+u*-a-h*-s,t[3]=e[3],t}function y(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function m(t,e){var n=t[0],i=t[1],o=t[2],s=t[3],a=e[0],l=e[1],c=e[2],u=e[3];return Math.abs(n-a)<=r.p8*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=r.p8*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-c)<=r.p8*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(s-u)<=r.p8*Math.max(1,Math.abs(s),Math.abs(u))}!function(){var t=function(){var t=new r.tb(4);return r.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}()}()},95558:(t,e,n)=>{"use strict";var r=n(60002)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(i){r=null}t.exports=r},52424:(t,e,n)=>{"use strict";n.r(e),n.d(e,{UNITS:()=>y,cellArea:()=>pt,compact:()=>$,degsToRads:()=>_t,edgeLength:()=>yt,exactEdgeLength:()=>At,experimentalH3ToLocalIj:()=>ht,experimentalLocalIjToH3:()=>ft,geoToH3:()=>G,getDestinationH3IndexFromUnidirectionalEdge:()=>it,getH3IndexesFromUnidirectionalEdge:()=>st,getH3UnidirectionalEdge:()=>nt,getH3UnidirectionalEdgeBoundary:()=>lt,getH3UnidirectionalEdgesFromHexagon:()=>at,getOriginH3IndexFromUnidirectionalEdge:()=>rt,getPentagonIndexes:()=>bt,getRes0Indexes:()=>vt,h3Distance:()=>ct,h3GetBaseCell:()=>j,h3GetFaces:()=>U,h3GetResolution:()=>z,h3IndexToSplitLong:()=>b,h3IndexesAreNeighbors:()=>et,h3IsPentagon:()=>D,h3IsResClassIII:()=>F,h3IsValid:()=>N,h3Line:()=>ut,h3SetToMultiPolygon:()=>Z,h3ToCenterChild:()=>X,h3ToChildren:()=>q,h3ToGeo:()=>V,h3ToGeoBoundary:()=>H,h3ToParent:()=>W,h3UnidirectionalEdgeIsValid:()=>ot,hexArea:()=>gt,hexRing:()=>K,kRing:()=>Y,kRingDistances:()=>Q,numHexagons:()=>mt,pointDist:()=>dt,polyfill:()=>J,radsToDegs:()=>wt,splitLongToh3Index:()=>w,uncompact:()=>tt});var r=function(t){var e,n="undefined"!==typeof(t=t||{})?t:{},r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);var i,o=[],s="";document.currentScript&&(s=document.currentScript.src),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"",i=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)e(r.response);else{var i=Q(t);i?e(i.buffer):n()}},r.onerror=n,r.send(null)};var a=n.print||console.log.bind(console),l=n.printErr||console.warn.bind(console);for(e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);r=null,n.arguments&&(o=n.arguments);var c=0,u=function(){return c};var h=!1;function f(t){var e,r=n["_"+t];return e="Cannot call unknown function "+t+", make sure it is exported",r||lt("Assertion failed: "+e),r}function d(t,e,n,r,i){var o={string:function(t){var e=0;if(null!==t&&void 0!==t&&0!==t){var n=1+(t.length<<2);(function(t,e,n){(function(t,e,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a>=55296&&a<=57343)a=65536+((1023&a)<<10)|1023&t.charCodeAt(++s);if(a<=127){if(n>=o)break;e[n++]=a}else if(a<=2047){if(n+1>=o)break;e[n++]=192|a>>6,e[n++]=128|63&a}else if(a<=65535){if(n+2>=o)break;e[n++]=224|a>>12,e[n++]=128|a>>6&63,e[n++]=128|63&a}else{if(n+3>=o)break;e[n++]=240|a>>18,e[n++]=128|a>>12&63,e[n++]=128|a>>6&63,e[n++]=128|63&a}}e[n]=0})(t,m,e,n)})(t,e=tt(n),n)}return e},array:function(t){var e=tt(t.length);return function(t,e){y.set(t,e)}(t,e),e}};var s=f(t),a=[],l=0;if(r)for(var c=0;c<r.length;c++){var u=o[n[c]];u?(0===l&&(l=nt()),a[c]=u(r[c])):a[c]=r[c]}var h=s.apply(null,a);return h=function(t){return"string"===e?A(t):"boolean"===e?Boolean(t):t}(h),0!==l&&et(l),h}var p="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function A(t,e){return t?function(t,e,n){for(var r=e+n,i=e;t[i]&&!(i>=r);)++i;if(i-e>16&&t.subarray&&p)return p.decode(t.subarray(e,i));for(var o="";e<i;){var s=t[e++];if(128&s){var a=63&t[e++];if(192!=(224&s)){var l=63&t[e++];if((s=224==(240&s)?(15&s)<<12|a<<6|l:(7&s)<<18|a<<12|l<<6|63&t[e++])<65536)o+=String.fromCharCode(s);else{var c=s-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o}(m,t,e):""}var g,y,m,v,b,_,w;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function x(t,e){return t%e>0&&(t+=e-t%e),t}function E(t){g=t,n.HEAP8=y=new Int8Array(t),n.HEAP16=v=new Int16Array(t),n.HEAP32=b=new Int32Array(t),n.HEAPU8=m=new Uint8Array(t),n.HEAPU16=new Uint16Array(t),n.HEAPU32=new Uint32Array(t),n.HEAPF32=_=new Float32Array(t),n.HEAPF64=w=new Float64Array(t)}var S=n.TOTAL_MEMORY||33554432;function C(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var r=e.func;"number"===typeof r?void 0===e.arg?n.dynCall_v(r):n.dynCall_vi(r,e.arg):r(void 0===e.arg?null:e.arg)}else e()}}S=(g=n.buffer?n.buffer:new ArrayBuffer(S)).byteLength,E(g),b[6004]=5266928;var P=[],M=[],T=[],O=[];var I=Math.abs,R=Math.ceil,L=Math.floor,k=Math.min,B=0,N=null,D=null;n.preloadedImages={},n.preloadedAudios={};var F,j,U=null,z="data:application/octet-stream;base64,";function G(t){return String.prototype.startsWith?t.startsWith(z):0===t.indexOf(z)}U="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";function V(t){return t}function H(t){return t.replace(/\b__Z[\w\d_]+/g,(function(t){return t===t?t:t+" ["+t+"]"}))}function W(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function q(){return y.length}function X(t){try{var e=new ArrayBuffer(t);if(e.byteLength!=t)return;return new Int8Array(e).set(y),$(e),E(e),1}catch(n){}}var Y="function"===typeof atob?atob:function(t){var e,n,r,i,o,s,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=a.indexOf(t.charAt(c++))<<2|(i=a.indexOf(t.charAt(c++)))>>4,n=(15&i)<<4|(o=a.indexOf(t.charAt(c++)))>>2,r=(3&o)<<6|(s=a.indexOf(t.charAt(c++))),l+=String.fromCharCode(e),64!==o&&(l+=String.fromCharCode(n)),64!==s&&(l+=String.fromCharCode(r))}while(c<t.length);return l};function Q(t){if(G(t))return function(t){try{for(var e=Y(t),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}catch(i){throw new Error("Converting base64 string to bytes failed.")}}(t.slice(z.length))}var K,J,Z=function(t,e,n){var r=new t.Int8Array(n),i=new t.Int32Array(n),o=(new t.Uint8Array(n),new t.Float32Array(n),new t.Float64Array(n)),s=0|e.p,a=t.Math.floor,l=t.Math.abs,c=t.Math.sqrt,u=t.Math.pow,h=t.Math.cos,f=t.Math.sin,d=t.Math.tan,p=t.Math.acos,A=t.Math.asin,g=t.Math.atan,y=t.Math.atan2,m=t.Math.ceil,v=t.Math.imul,b=t.Math.min,_=t.Math.clz32,w=e.b,x=e.c,E=e.d,S=e.e,C=e.f,P=e.g,M=e.h,T=e.i,O=24048;function I(t,e,n,r){var i,o;0|R(t|=0,e|=0,n|=0,r|=0,0)&&(Te(0|r,0,(o=1+(0|v(3*n|0,n+1|0))|0)<<3),(i=0|ve(o,4))&&(L(t,e,n,r,i,o,0),me(i)))}function R(t,e,n,r,o){t|=0,e|=0,n|=0,o|=0;var s,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0;if(s=O,O=O+16|0,p=s,i[(a=r|=0)>>2]=t,i[a+4>>2]=e,(a=0!=(0|o))&&(i[o>>2]=0),0|kt(t,e))return O=s,0|(p=1);i[p>>2]=0;t:do{if((0|n)>=1)if(a)for(h=0,f=1,d=1,l=0,a=t;;){if(!(l|h)){if(0==(0|(a=0|k(a,e,4,p)))&0==(0|(e=0|x()))){a=2;break t}if(0|kt(a,e)){a=1;break t}}if(0==(0|(a=0|k(a,e,0|i[16+(h<<2)>>2],p)))&0==(0|(e=0|x()))){a=2;break t}if(i[(t=r+(d<<3)|0)>>2]=a,i[t+4>>2]=e,i[o+(d<<2)>>2]=f,t=(0|(l=l+1|0))==(0|f),u=6==(0|(c=h+1|0)),0|kt(a,e)){a=1;break t}if((0|(f=f+(u&t&1)|0))>(0|n)){a=0;break}h=t?u?0:c:h,d=d+1|0,l=t?0:l}else for(h=0,f=1,d=1,l=0,a=t;;){if(!(l|h)){if(0==(0|(a=0|k(a,e,4,p)))&0==(0|(e=0|x()))){a=2;break t}if(0|kt(a,e)){a=1;break t}}if(0==(0|(a=0|k(a,e,0|i[16+(h<<2)>>2],p)))&0==(0|(e=0|x()))){a=2;break t}if(i[(t=r+(d<<3)|0)>>2]=a,i[t+4>>2]=e,t=(0|(l=l+1|0))==(0|f),u=6==(0|(c=h+1|0)),0|kt(a,e)){a=1;break t}if((0|(f=f+(u&t&1)|0))>(0|n)){a=0;break}h=t?u?0:c:h,d=d+1|0,l=t?0:l}else a=0}while(0);return O=s,0|(p=a)}function L(t,e,n,r,o,s,a){n|=0,r|=0,o|=0,s|=0,a|=0;var l,c,u=0,h=0,f=0,d=0,p=0;if(c=O,O=O+16|0,l=c,0==(0|(t|=0))&0==(0|(e|=0)))O=c;else{if(u=0|xe(0|t,0|e,0|s,((0|s)<0)<<31>>31),x(),!(0==(0|(p=0|i[(d=h=r+(u<<3)|0)>>2]))&0==(0|(d=0|i[d+4>>2]))|(f=(0|p)==(0|t)&(0|d)==(0|e))))do{f=(0|(d=0|i[(p=h=r+((u=(u+1|0)%(0|s)|0)<<3)|0)>>2]))==(0|t)&(0|(p=0|i[p+4>>2]))==(0|e)}while(!(0==(0|d)&0==(0|p)|f));u=o+(u<<2)|0,f&&(0|i[u>>2])<=(0|a)||(i[(p=h)>>2]=t,i[p+4>>2]=e,i[u>>2]=a,(0|a)>=(0|n)||(p=a+1|0,i[l>>2]=0,L(d=0|k(t,e,2,l),0|x(),n,r,o,s,p),i[l>>2]=0,L(d=0|k(t,e,3,l),0|x(),n,r,o,s,p),i[l>>2]=0,L(d=0|k(t,e,1,l),0|x(),n,r,o,s,p),i[l>>2]=0,L(d=0|k(t,e,5,l),0|x(),n,r,o,s,p),i[l>>2]=0,L(d=0|k(t,e,4,l),0|x(),n,r,o,s,p),i[l>>2]=0,L(d=0|k(t,e,6,l),0|x(),n,r,o,s,p))),O=c}}function k(t,e,n,r){t|=0,e|=0,n|=0;var o,s,a=0,l=0,c=0,u=0,h=0,f=0,d=0;if((0|i[(r|=0)>>2])>0){a=0;do{n=0|lt(n),a=a+1|0}while((0|a)<(0|i[r>>2]))}o=0|Ee(0|t,0|e,45),x(),s=127&o,l=0|Bt(t,e),a=0|Ee(0|t,0|e,52),x(),a&=15;t:do{if(a)for(;;){if(f=0|Ee(0|t,0|e,0|(h=3*(15-a|0)|0)),x(),f&=7,d=0==(0|Ut(a)),a=a+-1|0,u=0|Se(7,0,0|h),e&=~x(),t=(h=0|Se(0|i[(d?464:48)+(28*f|0)+(n<<2)>>2],0,0|h))|t&~u,e|=0|x(),!(n=0|i[(d?672:256)+(28*f|0)+(n<<2)>>2])){n=0;break t}if(!a){c=6;break}}else c=6}while(0);6==(0|c)&&(t|=f=0|Se(0|(d=0|i[880+(28*s|0)+(n<<2)>>2]),0,45),e=x()|-1040385&e,n=0|i[4304+(28*s|0)+(n<<2)>>2],127==(127&d)&&(d=0|Se(0|i[880+(28*s|0)+20>>2],0,45),e=x()|-1040385&e,n=0|i[4304+(28*s|0)+20>>2],t=0|Dt(d|t,e),e=0|x(),i[r>>2]=1+(0|i[r>>2]))),c=0|Ee(0|t,0|e,45),x(),c&=127;t:do{if(0|N(c)){e:do{if(1==(0|Bt(t,e))){if((0|s)!=(0|c)){if(0|U(c,0|i[7728+(28*s|0)>>2])){t=0|jt(t,e),l=1,e=0|x();break}t=0|Dt(t,e),l=1,e=0|x();break}switch(0|l){case 5:t=0|jt(t,e),e=0|x(),i[r>>2]=5+(0|i[r>>2]),l=0;break e;case 3:t=0|Dt(t,e),e=0|x(),i[r>>2]=1+(0|i[r>>2]),l=0;break e;default:return d=0,w(0|(f=0)),0|d}}else l=0}while(0);if((0|n)>0){a=0;do{t=0|Nt(t,e),e=0|x(),a=a+1|0}while((0|a)!=(0|n))}if((0|s)!=(0|c)){if(!(0|D(c))){if(0!=(0|l)|5!=(0|Bt(t,e)))break;i[r>>2]=1+(0|i[r>>2]);break}switch(127&o){case 8:case 118:break t}3!=(0|Bt(t,e))&&(i[r>>2]=1+(0|i[r>>2]))}}else if((0|n)>0){a=0;do{t=0|Dt(t,e),e=0|x(),a=a+1|0}while((0|a)!=(0|n))}}while(0);return i[r>>2]=((0|i[r>>2])+n|0)%6|0,d=t,w(0|(f=e)),0|d}function B(t,e,n,r,s,a){e|=0,n|=0,r|=0,s|=0,a|=0;var l,c,u,h,f,d,p,A,g,y=0,m=0,v=0,b=0,_=0,w=0,E=0,S=0,C=0,P=0,M=0,T=0,I=0,R=0;if(g=O,O=O+48|0,d=g+32|0,p=g+16|0,A=g,(0|(y=0|i[(t|=0)>>2]))<=0)return O=g,0|(T=0);l=t+4|0,c=d+8|0,u=p+8|0,h=A+8|0,f=((0|e)<0)<<31>>31,M=0;t:for(;;){C=(m=0|i[l>>2])+(M<<4)|0,i[d>>2]=i[C>>2],i[d+4>>2]=i[C+4>>2],i[d+8>>2]=i[C+8>>2],i[d+12>>2]=i[C+12>>2],(0|M)==(y+-1|0)?(i[p>>2]=i[m>>2],i[p+4>>2]=i[m+4>>2],i[p+8>>2]=i[m+8>>2],i[p+12>>2]=i[m+12>>2]):(C=m+(M+1<<4)|0,i[p>>2]=i[C>>2],i[p+4>>2]=i[C+4>>2],i[p+8>>2]=i[C+8>>2],i[p+12>>2]=i[C+12>>2]),C=0|q(d,p,n);e:do{if((0|C)>0){P=+(0|C),S=0;n:for(;;){R=+(C-S|0),I=+(0|S),o[A>>3]=+o[d>>3]*R/P+ +o[p>>3]*I/P,o[h>>3]=+o[c>>3]*R/P+ +o[u>>3]*I/P,m=0|xe(0|(w=0|zt(A,n)),0|(E=0|x()),0|e,0|f),x(),b=0|i[(v=y=a+(m<<3)|0)>>2],v=0|i[v+4>>2];r:do{if(0==(0|b)&0==(0|v))T=14;else for(_=0;;){if((0|_)>(0|e)){y=1;break r}if((0|b)==(0|w)&(0|v)==(0|E)){y=7;break r}if(0==(0|(b=0|i[(v=y=a+((m=(m+1|0)%(0|e)|0)<<3)|0)>>2]))&0==(0|(v=0|i[v+4>>2]))){T=14;break}_=_+1|0}}while(0);switch(14==(0|T)&&(T=0,0==(0|w)&0==(0|E)?y=7:(i[y>>2]=w,i[y+4>>2]=E,y=0|i[r>>2],i[(_=s+(y<<3)|0)>>2]=w,i[_+4>>2]=E,i[r>>2]=y+1,y=0)),7&y){case 7:case 0:break;default:break n}if((0|C)<=(0|(S=S+1|0))){T=8;break e}}if(0|y){y=-1,T=20;break t}}else T=8}while(0);if(8==(0|T)&&(T=0),(0|(M=M+1|0))>=(0|(y=0|i[t>>2]))){y=0,T=20;break}}return 20==(0|T)?(O=g,0|y):0}function N(t){return 0|i[7728+(28*(t|=0)|0)+16>>2]}function D(t){return 4==(0|(t|=0))|117==(0|t)}function F(t){return 0|i[11152+(216*(0|i[(t|=0)>>2])|0)+(72*(0|i[t+4>>2])|0)+(24*(0|i[t+8>>2])|0)+(i[t+12>>2]<<3)>>2]}function j(t){return 0|i[11152+(216*(0|i[(t|=0)>>2])|0)+(72*(0|i[t+4>>2])|0)+(24*(0|i[t+8>>2])|0)+(i[t+12>>2]<<3)+4>>2]}function U(t,e){return e|=0,(0|i[7728+(28*(t|=0)|0)+20>>2])==(0|e)?0|(e=1):0|(e=(0|i[7728+(28*t|0)+24>>2])==(0|e))}function z(t,e){return 0|i[880+(28*(t|=0)|0)+((e|=0)<<2)>>2]}function G(t,e){return e|=0,(0|i[880+(28*(t|=0)|0)>>2])==(0|e)?0|(e=0):(0|i[880+(28*t|0)+4>>2])==(0|e)?0|(e=1):(0|i[880+(28*t|0)+8>>2])==(0|e)?0|(e=2):(0|i[880+(28*t|0)+12>>2])==(0|e)?0|(e=3):(0|i[880+(28*t|0)+16>>2])==(0|e)?0|(e=4):(0|i[880+(28*t|0)+20>>2])==(0|e)?0|(e=5):0|((0|i[880+(28*t|0)+24>>2])==(0|e)?6:7)}function V(t){return+o[(t|=0)+16>>3]<+o[t+24>>3]|0}function H(t,e){t|=0;var n,r,i=0;return(i=+o[(e|=0)>>3])>=+o[t+8>>3]&&i<=+o[t>>3]?(n=+o[t+16>>3],i=+o[t+24>>3],e=(r=+o[e+8>>3])>=i,t=r<=n&1,n<i?e&&(t=1):e||(t=0),0|(e=0!=(0|t))):0|(e=0)}function W(t,e){t|=0,e|=0;var n,r,s,a,c,u,h=0,f=0;a=O,O=O+288|0,n=a+264|0,r=a+96|0,f=(h=s=a)+96|0;do{i[h>>2]=0,h=h+4|0}while((0|h)<(0|f));return qt(e,s),Ht(f=0|i[(h=s)>>2],h=0|i[h+4>>2],n),Wt(f,h,r),c=+Mt(n,r+8|0),o[n>>3]=+o[t>>3],o[(h=n+8|0)>>3]=+o[t+16>>3],o[r>>3]=+o[t+8>>3],o[(f=r+8|0)>>3]=+o[t+24>>3],u=+Mt(n,r),f=~~+m(+u*u/+Ce(+ +l(+(+o[h>>3]-+o[f>>3])/(+o[n>>3]-+o[r>>3])),3)/(c*(2.59807621135*c)*.8)),O=a,0|(0==(0|f)?1:f)}function q(t,e,n){t|=0,e|=0,n|=0;var r,o,s,a,l,c=0,u=0;a=O,O=O+288|0,r=a+264|0,o=a+96|0,u=(c=s=a)+96|0;do{i[c>>2]=0,c=c+4|0}while((0|c)<(0|u));return qt(n,s),Ht(c=0|i[(u=s)>>2],u=0|i[u+4>>2],r),Wt(c,u,o),l=+Mt(r,o+8|0),u=~~+m(+ +Mt(t,e)/(2*l)),O=a,0|(0==(0|u)?1:u)}function X(t,e,n,r){e|=0,n|=0,r|=0,i[(t|=0)>>2]=e,i[t+4>>2]=n,i[t+8>>2]=r}function Y(t,e){t|=0;var n,r,s,a,c=0,u=0,h=0,f=0,d=0,p=0,A=0;i[(a=(e|=0)+8|0)>>2]=0,r=+o[t>>3],f=+l(+r),s=+o[t+8>>3],f+=.5*(d=+l(+s)/.8660254037844386),f-=+(0|(c=~~f)),d-=+(0|(t=~~d));do{if(f<.5){if(f<.3333333333333333){if(i[e>>2]=c,d<.5*(f+1)){i[e+4>>2]=t;break}t=t+1|0,i[e+4>>2]=t;break}if(t=(1&!(d<(A=1-f)))+t|0,i[e+4>>2]=t,A<=d&d<2*f){c=c+1|0,i[e>>2]=c;break}i[e>>2]=c;break}if(!(f<.6666666666666666)){if(c=c+1|0,i[e>>2]=c,d<.5*f){i[e+4>>2]=t;break}t=t+1|0,i[e+4>>2]=t;break}if(d<1-f){if(i[e+4>>2]=t,2*f-1<d){i[e>>2]=c;break}}else t=t+1|0,i[e+4>>2]=t;c=c+1|0,i[e>>2]=c}while(0);do{if(r<0){if(1&t){c=~~(+(0|c)-(2*(+((p=0|be(0|c,((0|c)<0)<<31>>31,0|(p=(t+1|0)/2|0),((0|p)<0)<<31>>31))>>>0)+4294967296*+(0|x()))+1)),i[e>>2]=c;break}c=~~(+(0|c)-2*(+((p=0|be(0|c,((0|c)<0)<<31>>31,0|(p=(0|t)/2|0),((0|p)<0)<<31>>31))>>>0)+4294967296*+(0|x()))),i[e>>2]=c;break}}while(0);p=e+4|0,s<0&&(c=c-((1|t<<1)/2|0)|0,i[e>>2]=c,t=0-t|0,i[p>>2]=t),u=t-c|0,(0|c)<0?(h=0-c|0,i[p>>2]=u,i[a>>2]=h,i[e>>2]=0,t=u,c=0):h=0,(0|t)<0&&(c=c-t|0,i[e>>2]=c,h=h-t|0,i[a>>2]=h,i[p>>2]=0,t=0),n=c-h|0,u=t-h|0,(0|h)<0&&(i[e>>2]=n,i[p>>2]=u,i[a>>2]=0,t=u,c=n,h=0),(0|(u=(0|h)<(0|(u=(0|t)<(0|c)?t:c))?h:u))<=0||(i[e>>2]=c-u,i[p>>2]=t-u,i[a>>2]=h-u)}function Q(t){var e,n=0,r=0,o=0,s=0,a=0;n=0|i[(t|=0)>>2],r=0|i[(e=t+4|0)>>2],(0|n)<0&&(r=r-n|0,i[e>>2]=r,i[(a=t+8|0)>>2]=(0|i[a>>2])-n,i[t>>2]=0,n=0),(0|r)<0?(n=n-r|0,i[t>>2]=n,s=(0|i[(a=t+8|0)>>2])-r|0,i[a>>2]=s,i[e>>2]=0,r=0):(a=s=t+8|0,s=0|i[s>>2]),(0|s)<0&&(n=n-s|0,i[t>>2]=n,r=r-s|0,i[e>>2]=r,i[a>>2]=0,s=0),(0|(o=(0|s)<(0|(o=(0|r)<(0|n)?r:n))?s:o))<=0||(i[t>>2]=n-o,i[e>>2]=r-o,i[a>>2]=s-o)}function K(t,e){e|=0;var n,r;r=0|i[(t|=0)+8>>2],n=+((0|i[t+4>>2])-r|0),o[e>>3]=+((0|i[t>>2])-r|0)-.5*n,o[e+8>>3]=.8660254037844386*n}function J(t,e,n){t|=0,e|=0,i[(n|=0)>>2]=(0|i[e>>2])+(0|i[t>>2]),i[n+4>>2]=(0|i[e+4>>2])+(0|i[t+4>>2]),i[n+8>>2]=(0|i[e+8>>2])+(0|i[t+8>>2])}function Z(t,e,n){t|=0,e|=0,i[(n|=0)>>2]=(0|i[t>>2])-(0|i[e>>2]),i[n+4>>2]=(0|i[t+4>>2])-(0|i[e+4>>2]),i[n+8>>2]=(0|i[t+8>>2])-(0|i[e+8>>2])}function $(t,e){e|=0;var n,r=0;r=0|v(0|i[(t|=0)>>2],e),i[t>>2]=r,n=0|v(0|i[(r=t+4|0)>>2],e),i[r>>2]=n,e=0|v(0|i[(t=t+8|0)>>2],e),i[t>>2]=e}function tt(t){var e,n,r=0,o=0,s=0,a=0,l=0;l=(0|(n=0|i[(t|=0)>>2]))<0,t=(t=(o=(0|(a=((e=(0|(s=(0|i[t+4>>2])-(l?n:0)|0))<0)?0-s|0:0)+((0|i[t+8>>2])-(l?n:0))|0))<0)?0:a)-((s=(0|(o=(0|t)<(0|(o=(0|(r=(e?0:s)-(o?a:0)|0))<(0|(a=(l?0:n)-(e?s:0)-(o?a:0)|0))?r:a))?t:o))>0)?o:0)|0,r=r-(s?o:0)|0;t:do{switch(a-(s?o:0)|0){case 0:switch(0|r){case 0:return 0|(l=0==(0|t)?0:1==(0|t)?1:7);case 1:return 0|(l=0==(0|t)?2:1==(0|t)?3:7);default:break t}case 1:switch(0|r){case 0:return 0|(l=0==(0|t)?4:1==(0|t)?5:7);case 1:if(t)break t;return 0|(t=6);default:break t}}}while(0);return 0|(l=7)}function et(t){var e,n,r=0,o=0,s=0,a=0,l=0;o=0|i[(e=(t|=0)+8|0)>>2],s=0|ge(+((3*(r=(0|i[t>>2])-o|0)|0)-(o=(0|i[(n=t+4|0)>>2])-o|0)|0)/7),i[t>>2]=s,r=0|ge(+((o<<1)+r|0)/7),i[n>>2]=r,i[e>>2]=0,o=r-s|0,(0|s)<0?(l=0-s|0,i[n>>2]=o,i[e>>2]=l,i[t>>2]=0,r=o,s=0,o=l):o=0,(0|r)<0&&(s=s-r|0,i[t>>2]=s,o=o-r|0,i[e>>2]=o,i[n>>2]=0,r=0),l=s-o|0,a=r-o|0,(0|o)<0?(i[t>>2]=l,i[n>>2]=a,i[e>>2]=0,r=a,a=l,o=0):a=s,(0|(s=(0|o)<(0|(s=(0|r)<(0|a)?r:a))?o:s))<=0||(i[t>>2]=a-s,i[n>>2]=r-s,i[e>>2]=o-s)}function nt(t){var e,n,r=0,o=0,s=0,a=0,l=0;o=0|i[(e=(t|=0)+8|0)>>2],s=0|ge(+(((r=(0|i[t>>2])-o|0)<<1)+(o=(0|i[(n=t+4|0)>>2])-o|0)|0)/7),i[t>>2]=s,r=0|ge(+((3*o|0)-r|0)/7),i[n>>2]=r,i[e>>2]=0,o=r-s|0,(0|s)<0?(l=0-s|0,i[n>>2]=o,i[e>>2]=l,i[t>>2]=0,r=o,s=0,o=l):o=0,(0|r)<0&&(s=s-r|0,i[t>>2]=s,o=o-r|0,i[e>>2]=o,i[n>>2]=0,r=0),l=s-o|0,a=r-o|0,(0|o)<0?(i[t>>2]=l,i[n>>2]=a,i[e>>2]=0,r=a,a=l,o=0):a=s,(0|(s=(0|o)<(0|(s=(0|r)<(0|a)?r:a))?o:s))<=0||(i[t>>2]=a-s,i[n>>2]=r-s,i[e>>2]=o-s)}function rt(t){var e,n,r,o=0,s=0,a=0,l=0;o=0|i[(t|=0)>>2],s=0|i[(n=t+4|0)>>2],a=0|i[(r=t+8|0)>>2],l=s+(3*o|0)|0,i[t>>2]=l,s=a+(3*s|0)|0,i[n>>2]=s,o=(3*a|0)+o|0,i[r>>2]=o,a=s-l|0,(0|l)<0?(o=o-l|0,i[n>>2]=a,i[r>>2]=o,i[t>>2]=0,s=a,a=0):a=l,(0|s)<0&&(a=a-s|0,i[t>>2]=a,o=o-s|0,i[r>>2]=o,i[n>>2]=0,s=0),e=a-o|0,l=s-o|0,(0|o)<0?(i[t>>2]=e,i[n>>2]=l,i[r>>2]=0,a=e,o=0):l=s,(0|(s=(0|o)<(0|(s=(0|l)<(0|a)?l:a))?o:s))<=0||(i[t>>2]=a-s,i[n>>2]=l-s,i[r>>2]=o-s)}function it(t){var e,n,r,o=0,s=0,a=0,l=0;l=0|i[(t|=0)>>2],a=(3*(o=0|i[(n=t+4|0)>>2])|0)+l|0,l=(s=0|i[(r=t+8|0)>>2])+(3*l|0)|0,i[t>>2]=l,i[n>>2]=a,o=(3*s|0)+o|0,i[r>>2]=o,s=a-l|0,(0|l)<0?(o=o-l|0,i[n>>2]=s,i[r>>2]=o,i[t>>2]=0,l=0):s=a,(0|s)<0&&(l=l-s|0,i[t>>2]=l,o=o-s|0,i[r>>2]=o,i[n>>2]=0,s=0),e=l-o|0,a=s-o|0,(0|o)<0?(i[t>>2]=e,i[n>>2]=a,i[r>>2]=0,l=e,o=0):a=s,(0|(s=(0|o)<(0|(s=(0|a)<(0|l)?a:l))?o:s))<=0||(i[t>>2]=l-s,i[n>>2]=a-s,i[r>>2]=o-s)}function ot(t,e){t|=0;var n,r,o,s=0,a=0,l=0;((e|=0)+-1|0)>>>0>=6||(l=(0|i[15472+(12*e|0)>>2])+(0|i[t>>2])|0,i[t>>2]=l,o=t+4|0,a=(0|i[15472+(12*e|0)+4>>2])+(0|i[o>>2])|0,i[o>>2]=a,r=t+8|0,e=(0|i[15472+(12*e|0)+8>>2])+(0|i[r>>2])|0,i[r>>2]=e,s=a-l|0,(0|l)<0?(e=e-l|0,i[o>>2]=s,i[r>>2]=e,i[t>>2]=0,a=0):(s=a,a=l),(0|s)<0&&(a=a-s|0,i[t>>2]=a,e=e-s|0,i[r>>2]=e,i[o>>2]=0,s=0),n=a-e|0,l=s-e|0,(0|e)<0?(i[t>>2]=n,i[o>>2]=l,i[r>>2]=0,a=n,e=0):l=s,(0|(s=(0|e)<(0|(s=(0|l)<(0|a)?l:a))?e:s))<=0||(i[t>>2]=a-s,i[o>>2]=l-s,i[r>>2]=e-s))}function st(t){var e,n,r,o=0,s=0,a=0,l=0;l=0|i[(t|=0)>>2],a=(o=0|i[(n=t+4|0)>>2])+l|0,l=(s=0|i[(r=t+8|0)>>2])+l|0,i[t>>2]=l,i[n>>2]=a,o=s+o|0,i[r>>2]=o,s=a-l|0,(0|l)<0?(o=o-l|0,i[n>>2]=s,i[r>>2]=o,i[t>>2]=0,a=0):(s=a,a=l),(0|s)<0&&(a=a-s|0,i[t>>2]=a,o=o-s|0,i[r>>2]=o,i[n>>2]=0,s=0),e=a-o|0,l=s-o|0,(0|o)<0?(i[t>>2]=e,i[n>>2]=l,i[r>>2]=0,a=e,o=0):l=s,(0|(s=(0|o)<(0|(s=(0|l)<(0|a)?l:a))?o:s))<=0||(i[t>>2]=a-s,i[n>>2]=l-s,i[r>>2]=o-s)}function at(t){var e,n,r,o=0,s=0,a=0,l=0;o=0|i[(t|=0)>>2],a=0|i[(n=t+4|0)>>2],s=0|i[(r=t+8|0)>>2],l=a+o|0,i[t>>2]=l,a=s+a|0,i[n>>2]=a,o=s+o|0,i[r>>2]=o,s=a-l|0,(0|l)<0?(o=o-l|0,i[n>>2]=s,i[r>>2]=o,i[t>>2]=0,a=0):(s=a,a=l),(0|s)<0&&(a=a-s|0,i[t>>2]=a,o=o-s|0,i[r>>2]=o,i[n>>2]=0,s=0),e=a-o|0,l=s-o|0,(0|o)<0?(i[t>>2]=e,i[n>>2]=l,i[r>>2]=0,a=e,o=0):l=s,(0|(s=(0|o)<(0|(s=(0|l)<(0|a)?l:a))?o:s))<=0||(i[t>>2]=a-s,i[n>>2]=l-s,i[r>>2]=o-s)}function lt(t){switch(0|(t|=0)){case 1:t=5;break;case 5:t=4;break;case 4:t=6;break;case 6:t=2;break;case 2:t=3;break;case 3:t=1}return 0|t}function ct(t){switch(0|(t|=0)){case 1:t=3;break;case 3:t=2;break;case 2:t=6;break;case 6:t=4;break;case 4:t=5;break;case 5:t=1}return 0|t}function ut(t){var e,n,r,o=0,s=0,a=0,l=0;o=0|i[(t|=0)>>2],s=0|i[(n=t+4|0)>>2],a=0|i[(r=t+8|0)>>2],l=s+(o<<1)|0,i[t>>2]=l,s=a+(s<<1)|0,i[n>>2]=s,o=(a<<1)+o|0,i[r>>2]=o,a=s-l|0,(0|l)<0?(o=o-l|0,i[n>>2]=a,i[r>>2]=o,i[t>>2]=0,s=a,a=0):a=l,(0|s)<0&&(a=a-s|0,i[t>>2]=a,o=o-s|0,i[r>>2]=o,i[n>>2]=0,s=0),e=a-o|0,l=s-o|0,(0|o)<0?(i[t>>2]=e,i[n>>2]=l,i[r>>2]=0,a=e,o=0):l=s,(0|(s=(0|o)<(0|(s=(0|l)<(0|a)?l:a))?o:s))<=0||(i[t>>2]=a-s,i[n>>2]=l-s,i[r>>2]=o-s)}function ht(t){var e,n,r,o=0,s=0,a=0,l=0;l=0|i[(t|=0)>>2],a=((o=0|i[(n=t+4|0)>>2])<<1)+l|0,l=(s=0|i[(r=t+8|0)>>2])+(l<<1)|0,i[t>>2]=l,i[n>>2]=a,o=(s<<1)+o|0,i[r>>2]=o,s=a-l|0,(0|l)<0?(o=o-l|0,i[n>>2]=s,i[r>>2]=o,i[t>>2]=0,l=0):s=a,(0|s)<0&&(l=l-s|0,i[t>>2]=l,o=o-s|0,i[r>>2]=o,i[n>>2]=0,s=0),e=l-o|0,a=s-o|0,(0|o)<0?(i[t>>2]=e,i[n>>2]=a,i[r>>2]=0,l=e,o=0):a=s,(0|(s=(0|o)<(0|(s=(0|a)<(0|l)?a:l))?o:s))<=0||(i[t>>2]=l-s,i[n>>2]=a-s,i[r>>2]=o-s)}function ft(t,e){e|=0;var n,r,o,s=0,a=0,l=0;return o=(0|(r=(0|i[(t|=0)>>2])-(0|i[e>>2])|0))<0,n=(0|(a=(0|i[t+4>>2])-(0|i[e+4>>2])-(o?r:0)|0))<0,e=(e=(t=(0|(l=(o?0-r|0:0)+(0|i[t+8>>2])-(0|i[e+8>>2])+(n?0-a|0:0)|0))<0)?0:l)-((a=(0|(t=(0|e)<(0|(t=(0|(s=(n?0:a)-(t?l:0)|0))<(0|(l=(o?0:r)-(n?a:0)-(t?l:0)|0))?s:l))?e:t))>0)?t:0)|0,s=s-(a?t:0)|0,0|((0|(t=(0|(t=l-(a?t:0)|0))>-1?t:0-t|0))>(0|(e=(0|(s=(0|s)>-1?s:0-s|0))>(0|(e=(0|e)>-1?e:0-e|0))?s:e))?t:e)}function dt(t,e){e|=0;var n;n=0|i[(t|=0)+8>>2],i[e>>2]=(0|i[t>>2])-n,i[e+4>>2]=(0|i[t+4>>2])-n}function pt(t,e){e|=0;var n,r,o,s=0,a=0,l=0;a=0|i[(t|=0)>>2],i[e>>2]=a,t=0|i[t+4>>2],i[(r=e+4|0)>>2]=t,i[(o=e+8|0)>>2]=0,s=t-a|0,(0|a)<0?(t=0-a|0,i[r>>2]=s,i[o>>2]=t,i[e>>2]=0,a=0):(s=t,t=0),(0|s)<0&&(a=a-s|0,i[e>>2]=a,t=t-s|0,i[o>>2]=t,i[r>>2]=0,s=0),n=a-t|0,l=s-t|0,(0|t)<0?(i[e>>2]=n,i[r>>2]=l,i[o>>2]=0,s=l,l=n,t=0):l=a,(0|(a=(0|t)<(0|(a=(0|s)<(0|l)?s:l))?t:a))<=0||(i[e>>2]=l-a,i[r>>2]=s-a,i[o>>2]=t-a)}function At(t){var e,n,r,o;n=(o=0|i[(e=(t|=0)+8|0)>>2])-(0|i[t>>2])|0,i[t>>2]=n,t=(0|i[(r=t+4|0)>>2])-o|0,i[r>>2]=t,i[e>>2]=0-(t+n)}function gt(t){var e,n,r=0,o=0,s=0,a=0,l=0;r=0-(o=0|i[(t|=0)>>2])|0,i[t>>2]=r,i[(e=t+8|0)>>2]=0,a=(s=0|i[(n=t+4|0)>>2])+o|0,(0|o)>0?(i[n>>2]=a,i[e>>2]=o,i[t>>2]=0,r=0,s=a):o=0,(0|s)<0?(l=r-s|0,i[t>>2]=l,o=o-s|0,i[e>>2]=o,i[n>>2]=0,a=l-o|0,r=0-o|0,(0|o)<0?(i[t>>2]=a,i[n>>2]=r,i[e>>2]=0,s=r,o=0):(s=0,a=l)):a=r,(0|(r=(0|o)<(0|(r=(0|s)<(0|a)?s:a))?o:r))<=0||(i[t>>2]=a-r,i[n>>2]=s-r,i[e>>2]=o-r)}function yt(t,e,n,r){e|=0,n|=0,r|=0;var s,a=0,l=0,c=0,u=0;if(s=O,O=O+32|0,function(t,e){t|=0,e|=0;var n=0,r=0,i=0;n=+o[t>>3],r=+h(+n),n=+f(+n),o[e+16>>3]=n,n=+o[t+8>>3],i=r*+h(+n),o[e>>3]=i,n=r*+f(+n),o[e+8>>3]=n}(t|=0,l=s),i[n>>2]=0,a=+le(15888,l),(c=+le(15912,l))<a&&(i[n>>2]=1,a=c),(c=+le(15936,l))<a&&(i[n>>2]=2,a=c),(c=+le(15960,l))<a&&(i[n>>2]=3,a=c),(c=+le(15984,l))<a&&(i[n>>2]=4,a=c),(c=+le(16008,l))<a&&(i[n>>2]=5,a=c),(c=+le(16032,l))<a&&(i[n>>2]=6,a=c),(c=+le(16056,l))<a&&(i[n>>2]=7,a=c),(c=+le(16080,l))<a&&(i[n>>2]=8,a=c),(c=+le(16104,l))<a&&(i[n>>2]=9,a=c),(c=+le(16128,l))<a&&(i[n>>2]=10,a=c),(c=+le(16152,l))<a&&(i[n>>2]=11,a=c),(c=+le(16176,l))<a&&(i[n>>2]=12,a=c),(c=+le(16200,l))<a&&(i[n>>2]=13,a=c),(c=+le(16224,l))<a&&(i[n>>2]=14,a=c),(c=+le(16248,l))<a&&(i[n>>2]=15,a=c),(c=+le(16272,l))<a&&(i[n>>2]=16,a=c),(c=+le(16296,l))<a&&(i[n>>2]=17,a=c),(c=+le(16320,l))<a&&(i[n>>2]=18,a=c),(c=+le(16344,l))<a&&(i[n>>2]=19,a=c),(c=+p(+(1-.5*a)))<1e-16)return i[r>>2]=0,i[r+4>>2]=0,i[r+8>>2]=0,i[r+12>>2]=0,void(O=s);if(n=0|i[n>>2],a=+Ct((a=+o[16368+(24*n|0)>>3])-+Ct(+function(t,e){t|=0,e|=0;var n=0,r=0,i=0,s=0,a=0;return s=+o[e>>3],r=+h(+s),i=+o[e+8>>3]-+o[t+8>>3],a=r*+f(+i),n=+o[t>>3],+ +y(+a,+(+f(+s)*+h(+n)-+h(+i)*(r*+f(+n))))}(15568+(n<<4)|0,t))),u=0|Ut(e)?+Ct(a+-.3334731722518321):a,a=+d(+c)/.381966011250105,(0|e)>0){l=0;do{a*=2.6457513110645907,l=l+1|0}while((0|l)!=(0|e))}c=+h(+u)*a,o[r>>3]=c,u=+f(+u)*a,o[r+8>>3]=u,O=s}function mt(t,e,n,r,s){e|=0,n|=0,r|=0,s|=0;var a=0,u=0;if(a=+function(t){t|=0;var e=0,n=0;return n=+o[t>>3],e=+o[t+8>>3],+ +c(+(n*n+e*e))}(t|=0),a<1e-16)return e=15568+(e<<4)|0,i[s>>2]=i[e>>2],i[s+4>>2]=i[e+4>>2],i[s+8>>2]=i[e+8>>2],void(i[s+12>>2]=i[e+12>>2]);if(u=+y(+ +o[t+8>>3],+ +o[t>>3]),(0|n)>0){t=0;do{a/=2.6457513110645907,t=t+1|0}while((0|t)!=(0|n))}r?(a/=3,n=0==(0|Ut(n)),a=+g(.381966011250105*(n?a:a/2.6457513110645907))):(a=+g(.381966011250105*a),0|Ut(n)&&(u=+Ct(u+.3334731722518321))),function(t,e,n,r){t|=0,e=+e,n=+n,r|=0;var s=0,a=0,c=0,u=0;if(n<1e-16)return i[r>>2]=i[t>>2],i[r+4>>2]=i[t+4>>2],i[r+8>>2]=i[t+8>>2],void(i[r+12>>2]=i[t+12>>2]);a=e<0?e+6.283185307179586:e,a=e>=6.283185307179586?a+-6.283185307179586:a;do{if(!(a<1e-16)){if(s=+l(+(a+-3.141592653589793))<1e-16,e=+o[t>>3],s){e-=n,o[r>>3]=e,s=r;break}if(c=+h(+n),n=+f(+n),e=c*+f(+e)+ +h(+a)*(n*+h(+e)),e=+A(+((e=e>1?1:e)<-1?-1:e)),o[r>>3]=e,+l(+(e+-1.5707963267948966))<1e-16)return o[r>>3]=1.5707963267948966,void(o[r+8>>3]=0);if(+l(+(e+1.5707963267948966))<1e-16)return o[r>>3]=-1.5707963267948966,void(o[r+8>>3]=0);if(u=+h(+e),a=n*+f(+a)/u,n=+o[t>>3],e=(c-+f(+e)*+f(+n))/+h(+n)/u,c=a>1?1:a,e=e>1?1:e,(e=+o[t+8>>3]+ +y(+(c<-1?-1:c),+(e<-1?-1:e)))>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);return void(o[r+8>>3]=e)}e=+o[t>>3]+n,o[r>>3]=e,s=r}while(0);if(+l(+(e+-1.5707963267948966))<1e-16)return o[s>>3]=1.5707963267948966,void(o[r+8>>3]=0);if(+l(+(e+1.5707963267948966))<1e-16)return o[s>>3]=-1.5707963267948966,void(o[r+8>>3]=0);if(e=+o[t+8>>3],e>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);o[r+8>>3]=e}(15568+(e<<4)|0,+Ct(+o[16368+(24*e|0)>>3]-u),a,s)}function vt(t,e,n){e|=0,n|=0;var r,o;r=O,O=O+16|0,K((t|=0)+4|0,o=r),mt(o,0|i[t>>2],e,0,n),O=r}function bt(t,e,n,r,s){t|=0,e|=0,n|=0,r|=0,s|=0;var a,l,c,u,h,f,d,p,A,g,y,m,v,b,_,w,x,S,C,P,M,T,I=0,R=0,L=0,k=0,B=0,N=0;if(T=O,O=O+272|0,k=T+240|0,C=T,P=T+224|0,M=T+208|0,y=T+176|0,m=T+160|0,v=T+192|0,b=T+144|0,_=T+128|0,w=T+112|0,x=T+96|0,S=T+80|0,i[(I=T+256|0)>>2]=e,i[k>>2]=i[t>>2],i[k+4>>2]=i[t+4>>2],i[k+8>>2]=i[t+8>>2],i[k+12>>2]=i[t+12>>2],_t(k,I,C),i[s>>2]=0,(0|(k=r+n+(5==(0|r)&1)|0))<=(0|n))O=T;else{l=P+4|0,c=y+4|0,u=n+5|0,h=16848+((a=0|i[I>>2])<<2)|0,f=16928+(a<<2)|0,d=_+8|0,p=w+8|0,A=x+8|0,g=M+4|0,L=n;t:for(;;){R=C+((0|L)%5<<4)|0,i[M>>2]=i[R>>2],i[M+4>>2]=i[R+4>>2],i[M+8>>2]=i[R+8>>2],i[M+12>>2]=i[R+12>>2];do{}while(2==(0|wt(M,a,0,1)));if((0|L)>(0|n)&0!=(0|Ut(e))){if(i[y>>2]=i[M>>2],i[y+4>>2]=i[M+4>>2],i[y+8>>2]=i[M+8>>2],i[y+12>>2]=i[M+12>>2],K(l,m),r=0|i[y>>2],I=0|i[17008+(80*r|0)+(i[P>>2]<<2)>>2],i[y>>2]=i[18608+(80*r|0)+(20*I|0)>>2],(0|(R=0|i[18608+(80*r|0)+(20*I|0)+16>>2]))>0){t=0;do{st(c),t=t+1|0}while((0|t)<(0|R))}switch(R=18608+(80*r|0)+(20*I|0)+4|0,i[v>>2]=i[R>>2],i[v+4>>2]=i[R+4>>2],i[v+8>>2]=i[R+8>>2],$(v,3*(0|i[h>>2])|0),J(c,v,c),Q(c),K(c,b),B=+(0|i[f>>2]),o[_>>3]=3*B,o[d>>3]=0,N=-1.5*B,o[w>>3]=N,o[p>>3]=2.598076211353316*B,o[x>>3]=N,o[A>>3]=-2.598076211353316*B,0|i[17008+(80*(0|i[y>>2])|0)+(i[M>>2]<<2)>>2]){case 1:t=w,r=_;break;case 3:t=x,r=w;break;case 2:t=_,r=x;break;default:t=12;break t}se(m,b,r,t,S),mt(S,0|i[y>>2],a,1,s+8+(i[s>>2]<<4)|0),i[s>>2]=1+(0|i[s>>2])}if((0|L)<(0|u)&&(K(g,y),mt(y,0|i[M>>2],a,1,s+8+(i[s>>2]<<4)|0),i[s>>2]=1+(0|i[s>>2])),i[P>>2]=i[M>>2],i[P+4>>2]=i[M+4>>2],i[P+8>>2]=i[M+8>>2],i[P+12>>2]=i[M+12>>2],(0|(L=L+1|0))>=(0|k)){t=3;break}}3!=(0|t)?12==(0|t)&&E(22474,22521,581,22531):O=T}}function _t(t,e,n){t|=0,e|=0,n|=0;var r,o=0,s=0,a=0,l=0,c=0;r=O,O=O+128|0,s=r,l=20208,c=(a=o=r+64|0)+60|0;do{i[a>>2]=i[l>>2],a=a+4|0,l=l+4|0}while((0|a)<(0|c));l=20272,c=(a=s)+60|0;do{i[a>>2]=i[l>>2],a=a+4|0,l=l+4|0}while((0|a)<(0|c));o=(c=0==(0|Ut(0|i[e>>2])))?o:s,ut(s=t+4|0),ht(s),0|Ut(0|i[e>>2])&&(it(s),i[e>>2]=1+(0|i[e>>2])),i[n>>2]=i[t>>2],J(s,o,e=n+4|0),Q(e),i[n+16>>2]=i[t>>2],J(s,o+12|0,e=n+20|0),Q(e),i[n+32>>2]=i[t>>2],J(s,o+24|0,e=n+36|0),Q(e),i[n+48>>2]=i[t>>2],J(s,o+36|0,e=n+52|0),Q(e),i[n+64>>2]=i[t>>2],J(s,o+48|0,n=n+68|0),Q(n),O=r}function wt(t,e,n,r){n|=0,r|=0;var o,s,a,l,c,u,h=0,f=0,d=0,p=0,A=0;if(u=O,O=O+32|0,c=u+12|0,s=u,A=(t|=0)+4|0,p=0|i[16928+((e|=0)<<2)>>2],p=(l=0!=(0|r))?3*p|0:p,h=0|i[A>>2],o=0|i[(a=t+8|0)>>2],l){if((0|(h=o+h+(r=0|i[(f=t+12|0)>>2])|0))==(0|p))return O=u,0|(A=1);d=f}else h=o+h+(r=0|i[(d=t+12|0)>>2])|0;if((0|h)<=(0|p))return O=u,0|(A=0);do{if((0|r)>0){if(r=0|i[t>>2],(0|o)>0){f=18608+(80*r|0)+60|0,r=t;break}r=18608+(80*r|0)+40|0,n?(X(c,p,0,0),Z(A,c,s),at(s),J(s,c,A),f=r,r=t):(f=r,r=t)}else f=18608+(80*(0|i[t>>2])|0)+20|0,r=t}while(0);if(i[r>>2]=i[f>>2],(0|i[(h=f+16|0)>>2])>0){r=0;do{st(A),r=r+1|0}while((0|r)<(0|i[h>>2]))}return t=f+4|0,i[c>>2]=i[t>>2],i[c+4>>2]=i[t+4>>2],i[c+8>>2]=i[t+8>>2],e=0|i[16848+(e<<2)>>2],$(c,l?3*e|0:e),J(A,c,A),Q(A),r=l&&((0|i[a>>2])+(0|i[A>>2])+(0|i[d>>2])|0)==(0|p)?1:2,O=u,0|(A=r)}function xt(t,e){t|=0,e|=0;var n=0;do{n=0|wt(t,e,0,1)}while(2==(0|n));return 0|n}function Et(t,e,n,r,s){t|=0,e|=0,n|=0,r|=0,s|=0;var a,l,c,u,h,f,d,p,A,g,y,m,v,b,_,w,x,S,C=0,P=0,M=0,T=0,I=0;if(S=O,O=O+240|0,b=S+208|0,_=S,w=S+192|0,x=S+176|0,A=S+160|0,g=S+144|0,y=S+128|0,m=S+112|0,v=S+96|0,i[(C=S+224|0)>>2]=e,i[b>>2]=i[t>>2],i[b+4>>2]=i[t+4>>2],i[b+8>>2]=i[t+8>>2],i[b+12>>2]=i[t+12>>2],St(b,C,_),i[s>>2]=0,(0|(p=r+n+(6==(0|r)&1)|0))<=(0|n))O=S;else{l=n+6|0,c=16928+((a=0|i[C>>2])<<2)|0,u=g+8|0,h=y+8|0,f=m+8|0,d=w+4|0,P=0,M=n,r=-1;t:for(;;){if(t=_+((C=(0|M)%6|0)<<4)|0,i[w>>2]=i[t>>2],i[w+4>>2]=i[t+4>>2],i[w+8>>2]=i[t+8>>2],i[w+12>>2]=i[t+12>>2],t=P,P=0|wt(w,a,0,1),(0|M)>(0|n)&0!=(0|Ut(e))&&(1!=(0|t)&&(0|i[w>>2])!=(0|r))){switch(K(_+((C+5|0)%6<<4)+4|0,x),K(_+(C<<4)+4|0,A),T=+(0|i[c>>2]),o[g>>3]=3*T,o[u>>3]=0,I=-1.5*T,o[y>>3]=I,o[h>>3]=2.598076211353316*T,o[m>>3]=I,o[f>>3]=-2.598076211353316*T,C=0|i[b>>2],0|i[17008+(80*C|0)+(((0|r)==(0|C)?i[w>>2]:r)<<2)>>2]){case 1:t=y,r=g;break;case 3:t=m,r=y;break;case 2:t=g,r=m;break;default:t=8;break t}se(x,A,r,t,v),0|ae(x,v)||0|ae(A,v)||(mt(v,0|i[b>>2],a,1,s+8+(i[s>>2]<<4)|0),i[s>>2]=1+(0|i[s>>2]))}if((0|M)<(0|l)&&(K(d,x),mt(x,0|i[w>>2],a,1,s+8+(i[s>>2]<<4)|0),i[s>>2]=1+(0|i[s>>2])),(0|(M=M+1|0))>=(0|p)){t=3;break}r=0|i[w>>2]}3!=(0|t)?8==(0|t)&&E(22557,22521,746,22602):O=S}}function St(t,e,n){t|=0,e|=0,n|=0;var r,o=0,s=0,a=0,l=0,c=0;r=O,O=O+160|0,s=r,l=20336,c=(a=o=r+80|0)+72|0;do{i[a>>2]=i[l>>2],a=a+4|0,l=l+4|0}while((0|a)<(0|c));l=20416,c=(a=s)+72|0;do{i[a>>2]=i[l>>2],a=a+4|0,l=l+4|0}while((0|a)<(0|c));o=(c=0==(0|Ut(0|i[e>>2])))?o:s,ut(s=t+4|0),ht(s),0|Ut(0|i[e>>2])&&(it(s),i[e>>2]=1+(0|i[e>>2])),i[n>>2]=i[t>>2],J(s,o,e=n+4|0),Q(e),i[n+16>>2]=i[t>>2],J(s,o+12|0,e=n+20|0),Q(e),i[n+32>>2]=i[t>>2],J(s,o+24|0,e=n+36|0),Q(e),i[n+48>>2]=i[t>>2],J(s,o+36|0,e=n+52|0),Q(e),i[n+64>>2]=i[t>>2],J(s,o+48|0,e=n+68|0),Q(e),i[n+80>>2]=i[t>>2],J(s,o+60|0,n=n+84|0),Q(n),O=r}function Ct(t){var e;return e=(t=+t)<0?t+6.283185307179586:t,+(t>=6.283185307179586?e+-6.283185307179586:e)}function Pt(t,e){return e|=0,+l(+(+o[(t|=0)>>3]-+o[e>>3]))<17453292519943298e-27?0|(e=+l(+(+o[t+8>>3]-+o[e+8>>3]))<17453292519943298e-27):0|(e=0)}function Mt(t,e){t|=0;var n,r,i,s=0;return r=+o[(e|=0)>>3],n=+o[t>>3],s=(i=+f(.5*(r-n)))*i+(s=+f(.5*(+o[e+8>>3]-+o[t+8>>3])))*(+h(+r)*+h(+n)*s),2*+y(+ +c(+s),+ +c(+(1-s)))*6371.007180918475}function Tt(t,e,n){t|=0,n|=0;var r,i,s,a,l=0,u=0,p=0,A=0,m=0,v=0;return v=+o[(e|=0)>>3],s=+o[t>>3],m=+f(.5*(v-s)),p=+o[e+8>>3],i=+o[t+8>>3],A=+f(.5*(p-i)),r=+h(+s),a=+h(+v),A=2*+y(+ +c(+(A=m*m+A*(a*r*A))),+ +c(+(1-A))),m=+o[n>>3],v=+f(.5*(m-v)),l=+o[n+8>>3],p=+f(.5*(l-p)),u=+h(+m),p=2*+y(+ +c(+(p=v*v+p*(a*u*p))),+ +c(+(1-p))),m=+f(.5*(s-m)),l=+f(.5*(i-l)),l=2*+y(+ +c(+(l=m*m+l*(r*u*l))),+ +c(+(1-l))),4*+g(+ +c(+ +d(.5*(u=.5*(A+p+l)))*+d(.5*(u-A))*+d(.5*(u-p))*+d(.5*(u-l))))}function Ot(t,e){return e=0|Ee(0|(t|=0),0|(e|=0),45),x(),127&e}function It(t,e){var n=0,r=0,i=0,o=0,s=0,a=0;if(!(!0&134217728==(-16777216&(e|=0))))return 0|(e=0);if(s=0|Ee(0|(t|=0),0|e,45),x(),(s&=127)>>>0>121)return 0|(e=0);n=0|Ee(0|t,0|e,52),x(),n&=15;do{if(0|n){for(i=1,r=0;;){if(o=0|Ee(0|t,0|e,3*(15-i|0)|0),x(),0!=(0|(o&=7))&(1^r)){if(1==(0|o)&0!=(0|N(s))){a=0,r=13;break}r=1}if(7==(0|o)){a=0,r=13;break}if(!(i>>>0<n>>>0)){r=9;break}i=i+1|0}if(9==(0|r)){if(15!=(0|n))break;return 0|(a=1)}if(13==(0|r))return 0|a}}while(0);for(;;){if(a=0|Ee(0|t,0|e,3*(14-n|0)|0),x(),!(7==(7&a)&!0)){a=0,r=13;break}if(!(n>>>0<14)){a=1,r=13;break}n=n+1|0}return 13==(0|r)?0|a:0}function Rt(t,e,n){n|=0;var r=0,i=0;if(r=0|Ee(0|(t|=0),0|(e|=0),52),x(),(0|(r&=15))>=(0|n)){if((0|r)!=(0|n))if(n>>>0<=15){if(t|=i=0|Se(0|n,0,52),e=x()|-15728641&e,(0|r)>(0|n))do{i=0|Se(7,0,3*(14-n|0)|0),n=n+1|0,t|=i,e=x()|e}while((0|n)<(0|r))}else e=0,t=0}else e=0,t=0;return w(0|e),0|t}function Lt(t,e,n,r){n|=0,r|=0;var o,s=0,a=0,l=0,c=0,u=0,h=0;if(l=0|Ee(0|(t|=0),0|(e|=0),52),x(),(0|n)<16&(0|(l&=15))<=(0|n)){if((0|l)==(0|n))return i[(n=r)>>2]=t,void(i[n+4>>2]=e);if(o=(0|(u=0|ee(7,n-l|0)))/7|0,c=0|Ee(0|t,0|e,45),x(),0|N(127&c)){t:do{if(l)for(a=1;;){if(s=0|Ee(0|t,0|e,3*(15-a|0)|0),x(),0|(s&=7))break t;if(!(a>>>0<l>>>0)){s=0;break}a=a+1|0}else s=0}while(0);a=0==(0|s)}else a=0;if(h=0|Se(l+1|0,0,52),s=x()|-15728641&e,Lt(e=(h|t)&~(e=0|Se(7,0,0|(c=3*(14-l|0)|0))),l=s&~x(),n,r),s=r+(o<<3)|0,!a)return Lt((h=0|Se(1,0,0|c))|e,x()|l,n,s),h=s+(o<<3)|0,Lt((u=0|Se(2,0,0|c))|e,x()|l,n,h),h=h+(o<<3)|0,Lt((u=0|Se(3,0,0|c))|e,x()|l,n,h),h=h+(o<<3)|0,Lt((u=0|Se(4,0,0|c))|e,x()|l,n,h),h=h+(o<<3)|0,Lt((u=0|Se(5,0,0|c))|e,x()|l,n,h),void Lt((u=0|Se(6,0,0|c))|e,x()|l,n,h+(o<<3)|0);a=s+(o<<3)|0,(0|u)>6&&(Te(0|s,0,(h=(a>>>0>(u=s+8|0)>>>0?a:u)+-1+(0-s)|0)+8&-8),s=u+(h>>>3<<3)|0),Lt((h=0|Se(2,0,0|c))|e,x()|l,n,s),h=s+(o<<3)|0,Lt((u=0|Se(3,0,0|c))|e,x()|l,n,h),h=h+(o<<3)|0,Lt((u=0|Se(4,0,0|c))|e,x()|l,n,h),h=h+(o<<3)|0,Lt((u=0|Se(5,0,0|c))|e,x()|l,n,h),Lt((u=0|Se(6,0,0|c))|e,x()|l,n,h+(o<<3)|0)}}function kt(t,e){var n=0,r=0,i=0;if(i=0|Ee(0|(t|=0),0|(e|=0),45),x(),!(0|N(127&i)))return 0|(i=0);i=0|Ee(0|t,0|e,52),x(),i&=15;t:do{if(i)for(r=1;;){if(n=0|Ee(0|t,0|e,3*(15-r|0)|0),x(),0|(n&=7))break t;if(!(r>>>0<i>>>0)){n=0;break}r=r+1|0}else n=0}while(0);return 0|(i=0==(0|n)&1)}function Bt(t,e){var n=0,r=0,i=0;if(i=0|Ee(0|(t|=0),0|(e|=0),52),x(),!(i&=15))return 0|(i=0);for(r=1;;){if(n=0|Ee(0|t,0|e,3*(15-r|0)|0),x(),0|(n&=7)){r=5;break}if(!(r>>>0<i>>>0)){n=0,r=5;break}r=r+1|0}return 5==(0|r)?0|n:0}function Nt(t,e){var n=0,r=0,i=0,o=0,s=0,a=0,l=0;if(l=0|Ee(0|(t|=0),0|(e|=0),52),x(),!(l&=15))return l=t,w(0|(a=e)),0|l;for(a=1,n=0;;){r=0|Se(7,0,0|(o=3*(15-a|0)|0)),i=0|x(),s=0|Ee(0|t,0|e,0|o),x(),t=(o=0|Se(0|lt(7&s),0,0|o))|t&~r,e=(s=0|x())|e&~i;t:do{if(!n)if(0==(o&r)&0==(s&i))n=0;else if(r=0|Ee(0|t,0|e,52),x(),r&=15){n=1;e:for(;;){switch(s=0|Ee(0|t,0|e,3*(15-n|0)|0),x(),7&s){case 1:break e;case 0:break;default:n=1;break t}if(!(n>>>0<r>>>0)){n=1;break t}n=n+1|0}for(n=1;;){if(i=0|Ee(0|t,0|e,0|(s=3*(15-n|0)|0)),x(),o=0|Se(7,0,0|s),e&=~x(),t=t&~o|(s=0|Se(0|lt(7&i),0,0|s)),e|=x(),!(n>>>0<r>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(a>>>0<l>>>0))break;a=a+1|0}return w(0|e),0|t}function Dt(t,e){var n=0,r=0,i=0,o=0,s=0;if(r=0|Ee(0|(t|=0),0|(e|=0),52),x(),!(r&=15))return r=t,w(0|(n=e)),0|r;for(n=1;s=0|Ee(0|t,0|e,0|(o=3*(15-n|0)|0)),x(),i=0|Se(7,0,0|o),e&=~x(),t=(o=0|Se(0|lt(7&s),0,0|o))|t&~i,e=x()|e,n>>>0<r>>>0;)n=n+1|0;return w(0|e),0|t}function Ft(t,e){var n=0,r=0,i=0,o=0,s=0,a=0,l=0;if(l=0|Ee(0|(t|=0),0|(e|=0),52),x(),!(l&=15))return l=t,w(0|(a=e)),0|l;for(a=1,n=0;;){r=0|Se(7,0,0|(o=3*(15-a|0)|0)),i=0|x(),s=0|Ee(0|t,0|e,0|o),x(),t=(o=0|Se(0|ct(7&s),0,0|o))|t&~r,e=(s=0|x())|e&~i;t:do{if(!n)if(0==(o&r)&0==(s&i))n=0;else if(r=0|Ee(0|t,0|e,52),x(),r&=15){n=1;e:for(;;){switch(s=0|Ee(0|t,0|e,3*(15-n|0)|0),x(),7&s){case 1:break e;case 0:break;default:n=1;break t}if(!(n>>>0<r>>>0)){n=1;break t}n=n+1|0}for(n=1;;){if(o=0|Se(7,0,0|(i=3*(15-n|0)|0)),s=e&~x(),e=0|Ee(0|t,0|e,0|i),x(),t=t&~o|(e=0|Se(0|ct(7&e),0,0|i)),e=s|x(),!(n>>>0<r>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(a>>>0<l>>>0))break;a=a+1|0}return w(0|e),0|t}function jt(t,e){var n=0,r=0,i=0,o=0,s=0;if(r=0|Ee(0|(t|=0),0|(e|=0),52),x(),!(r&=15))return r=t,w(0|(n=e)),0|r;for(n=1;o=0|Se(7,0,0|(s=3*(15-n|0)|0)),i=e&~x(),e=0|Ee(0|t,0|e,0|s),x(),t=(e=0|Se(0|ct(7&e),0,0|s))|t&~o,e=x()|i,n>>>0<r>>>0;)n=n+1|0;return w(0|e),0|t}function Ut(t){return(0|(t|=0))%2|0}function zt(t,e){t|=0;var n,r;return r=O,O=O+16|0,n=r,(e|=0)>>>0<=15&&2146435072!=(2146435072&i[t+4>>2])&&2146435072!=(2146435072&i[t+8+4>>2])?(!function(t,e,n){var r,i;r=O,O=O+16|0,yt(t|=0,e|=0,n|=0,i=r),Y(i,n+4|0),O=r}(t,e,n),e=0|function(t,e){t|=0;var n,r=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0;if(n=O,O=O+64|0,c=n+40|0,o=n+24|0,s=n+12|0,a=n,Se(0|(e|=0),0,52),r=134225919|x(),!e)return(0|i[t+4>>2])>2||(0|i[t+8>>2])>2||(0|i[t+12>>2])>2?(c=0,w(0|(l=0)),O=n,0|c):(Se(0|F(t),0,45),l=x()|r,c=-1,w(0|l),O=n,0|c);if(i[c>>2]=i[t>>2],i[c+4>>2]=i[t+4>>2],i[c+8>>2]=i[t+8>>2],i[c+12>>2]=i[t+12>>2],l=c+4|0,(0|e)>0)for(t=-1;i[o>>2]=i[l>>2],i[o+4>>2]=i[l+4>>2],i[o+8>>2]=i[l+8>>2],1&e?(et(l),i[s>>2]=i[l>>2],i[s+4>>2]=i[l+4>>2],i[s+8>>2]=i[l+8>>2],rt(s)):(nt(l),i[s>>2]=i[l>>2],i[s+4>>2]=i[l+4>>2],i[s+8>>2]=i[l+8>>2],it(s)),Z(o,s,a),Q(a),u=0|Se(7,0,0|(h=3*(15-e|0)|0)),r&=~x(),t=(h=0|Se(0|tt(a),0,0|h))|t&~u,r=x()|r,(0|e)>1;)e=e+-1|0;else t=-1;t:do{if((0|i[l>>2])<=2&&(0|i[c+8>>2])<=2&&(0|i[c+12>>2])<=2){if(e=0|Se(0|(o=0|F(c)),0,45),e|=t,t=x()|-1040385&r,a=0|j(c),!(0|N(o))){if((0|a)<=0)break;for(s=0;;){if(o=0|Ee(0|e,0|t,52),x(),o&=15)for(r=1;c=0|Ee(0|e,0|t,0|(h=3*(15-r|0)|0)),x(),u=0|Se(7,0,0|h),t&=~x(),e=e&~u|(h=0|Se(0|lt(7&c),0,0|h)),t|=x(),r>>>0<o>>>0;)r=r+1|0;if((0|(s=s+1|0))==(0|a))break t}}s=0|Ee(0|e,0|t,52),x(),s&=15;e:do{if(s){r=1;n:for(;;){switch(h=0|Ee(0|e,0|t,3*(15-r|0)|0),x(),7&h){case 1:break n;case 0:break;default:break e}if(!(r>>>0<s>>>0))break e;r=r+1|0}if(0|U(o,0|i[c>>2]))for(r=1;u=0|Se(7,0,0|(c=3*(15-r|0)|0)),h=t&~x(),t=0|Ee(0|e,0|t,0|c),x(),e=e&~u|(t=0|Se(0|ct(7&t),0,0|c)),t=h|x(),r>>>0<s>>>0;)r=r+1|0;else for(r=1;c=0|Ee(0|e,0|t,0|(h=3*(15-r|0)|0)),x(),u=0|Se(7,0,0|h),t&=~x(),e=e&~u|(h=0|Se(0|lt(7&c),0,0|h)),t|=x(),r>>>0<s>>>0;)r=r+1|0}}while(0);if((0|a)>0){r=0;do{e=0|Nt(e,t),t=0|x(),r=r+1|0}while((0|r)!=(0|a))}}else e=0,t=0}while(0);return h=e,w(0|(u=t)),O=n,0|h}(n,e),t=0|x()):(t=0,e=0),w(0|t),O=r,0|e}function Gt(t,e,n){var r,o=0,s=0,a=0;if(r=(n|=0)+4|0,s=0|Ee(0|(t|=0),0|(e|=0),52),x(),s&=15,a=0|Ee(0|t,0|e,45),x(),o=0==(0|s),0|N(127&a)){if(o)return 0|(a=1);o=1}else{if(o)return 0|(a=0);o=0==(0|i[r>>2])&&0==(0|i[n+8>>2])?0!=(0|i[n+12>>2])&1:1}for(n=1;1&n?rt(r):it(r),a=0|Ee(0|t,0|e,3*(15-n|0)|0),x(),ot(r,7&a),n>>>0<s>>>0;)n=n+1|0;return 0|o}function Vt(t,e,n){n|=0;var r,o,s=0,a=0,l=0,c=0,u=0,h=0;o=O,O=O+16|0,r=o,h=0|Ee(0|(t|=0),0|(e|=0),45),x(),h&=127;t:do{if(0!=(0|N(h))&&(l=0|Ee(0|t,0|e,52),x(),0!=(0|(l&=15)))){s=1;e:for(;;){switch(u=0|Ee(0|t,0|e,3*(15-s|0)|0),x(),7&u){case 5:break e;case 0:break;default:s=e;break t}if(!(s>>>0<l>>>0)){s=e;break t}s=s+1|0}for(a=1,s=e;c=0|Se(7,0,0|(e=3*(15-a|0)|0)),u=s&~x(),s=0|Ee(0|t,0|s,0|e),x(),t=t&~c|(s=0|Se(0|ct(7&s),0,0|e)),s=u|x(),a>>>0<l>>>0;)a=a+1|0}else s=e}while(0);if(u=7728+(28*h|0)|0,i[n>>2]=i[u>>2],i[n+4>>2]=i[u+4>>2],i[n+8>>2]=i[u+8>>2],i[n+12>>2]=i[u+12>>2],0|Gt(t,s,n)){if(c=n+4|0,i[r>>2]=i[c>>2],i[r+4>>2]=i[c+4>>2],i[r+8>>2]=i[c+8>>2],l=0|Ee(0|t,0|s,52),x(),u=15&l,1&l?(it(c),l=u+1|0):l=u,0|N(h)){t:do{if(u)for(e=1;;){if(a=0|Ee(0|t,0|s,3*(15-e|0)|0),x(),0|(a&=7)){s=a;break t}if(!(e>>>0<u>>>0)){s=0;break}e=e+1|0}else s=0}while(0);s=4==(0|s)&1}else s=0;if(0|wt(n,l,s,0)){if(0|N(h))do{}while(0!=(0|wt(n,l,0,0)));(0|l)!=(0|u)&&nt(c)}else(0|l)!=(0|u)&&(i[c>>2]=i[r>>2],i[c+4>>2]=i[r+4>>2],i[c+8>>2]=i[r+8>>2]);O=o}else O=o}function Ht(t,e,n){n|=0;var r,i;r=O,O=O+16|0,Vt(t|=0,e|=0,i=r),e=0|Ee(0|t,0|e,52),x(),vt(i,15&e,n),O=r}function Wt(t,e,n){n|=0;var r,i,o=0,s=0;i=O,O=O+16|0,Vt(t|=0,e|=0,r=i),o=0|Ee(0|t,0|e,45),x(),o=0==(0|N(127&o)),s=0|Ee(0|t,0|e,52),x(),s&=15;t:do{if(!o){if(0|s)for(o=1;;){if(!(0==((0|Se(7,0,3*(15-o|0)|0))&t)&0==(x()&e)))break t;if(!(o>>>0<s>>>0))break;o=o+1|0}return bt(r,s,0,5,n),void(O=i)}}while(0);Et(r,s,0,6,n),O=i}function qt(t,e){e|=0;var n,r=0,o=0,s=0,a=0,l=0,c=0;if(Se(0|(t|=0),0,52),n=134225919|x(),(0|t)<1){o=0,r=0;do{0|N(o)&&(Se(0|o,0,45),l=n|x(),i[(t=e+(r<<3)|0)>>2]=-1,i[t+4>>2]=l,r=r+1|0),o=o+1|0}while(122!=(0|o))}else{l=0,r=0;do{if(0|N(l)){for(Se(0|l,0,45),o=1,s=-1,a=n|x();s&=~(c=0|Se(7,0,3*(15-o|0)|0)),a&=~x(),(0|o)!=(0|t);)o=o+1|0;i[(c=e+(r<<3)|0)>>2]=s,i[c+4>>2]=a,r=r+1|0}l=l+1|0}while(122!=(0|l))}}function Xt(t,e,n,r){var o,s=0,a=0,l=0,c=0,u=0;if(o=O,O=O+64|0,l=o,(0|(t|=0))==(0|(n|=0))&(0|(e|=0))==(0|(r|=0))|!1|134217728!=(2013265920&e)|!1|134217728!=(2013265920&r))return O=o,0|(l=0);if(s=0|Ee(0|t,0|e,52),x(),s&=15,a=0|Ee(0|n,0|r,52),x(),(0|s)!=(15&a))return O=o,0|(l=0);if(a=s+-1|0,s>>>0>1&&(u=0|Rt(t,e,a),c=0|x(),(0|u)==(0|(a=0|Rt(n,r,a)))&(0|c)==(0|x()))){if(s=0|Ee(0|t,0|e,0|(a=3*(15^s)|0)),x(),s&=7,a=0|Ee(0|n,0|r,0|a),x(),0==(0|s)|0==(0|(a&=7)))return O=o,0|(u=1);if((0|i[21136+(s<<2)>>2])==(0|a))return O=o,0|(u=1);if((0|i[21168+(s<<2)>>2])==(0|a))return O=o,0|(u=1)}a=(s=l)+56|0;do{i[s>>2]=0,s=s+4|0}while((0|s)<(0|a));return I(t,e,1,l),s=(0|i[(u=l)>>2])==(0|n)&&(0|i[u+4>>2])==(0|r)||(0|i[(u=l+8|0)>>2])==(0|n)&&(0|i[u+4>>2])==(0|r)||(0|i[(u=l+16|0)>>2])==(0|n)&&(0|i[u+4>>2])==(0|r)||(0|i[(u=l+24|0)>>2])==(0|n)&&(0|i[u+4>>2])==(0|r)||(0|i[(u=l+32|0)>>2])==(0|n)&&(0|i[u+4>>2])==(0|r)||(0|i[(u=l+40|0)>>2])==(0|n)&&(0|i[u+4>>2])==(0|r)?1:1&((0|i[(s=l+48|0)>>2])==(0|n)?(0|i[s+4>>2])==(0|r):0),O=o,0|(u=s)}function Yt(t,e,n){n|=0;var r,o,s,a,l=0;if(s=O,O=O+16|0,o=s,l=0|Ee(0|(t|=0),0|(e|=0),56),x(),e=0|function(t,e,n){t|=0,e|=0,n|=0;var r=0,o=0;if(r=0|kt(t,e),(n+-1|0)>>>0>5)return 0|(n=-1);if(o=0!=(0|r),1==(0|n)&o)return 0|(n=-1);return r=0|function(t,e){t|=0,e|=0;var n=0,r=0,o=0,s=0,a=0,l=0,c=0,u=0;if(u=O,O=O+32|0,o=u+16|0,s=u,Vt(t,e,o),a=0|Ot(t,e),c=0|Bt(t,e),function(t,e){t=7728+(28*(t|=0)|0)|0,i[(e|=0)>>2]=i[t>>2],i[e+4>>2]=i[t+4>>2],i[e+8>>2]=i[t+8>>2],i[e+12>>2]=i[t+12>>2]}(a,s),e=0|function(t,e){t|=0;var n=0,r=0;if((e|=0)>>>0>20)return-1;do{if((0|i[11152+(216*e|0)>>2])!=(0|t))if((0|i[11152+(216*e|0)+8>>2])!=(0|t))if((0|i[11152+(216*e|0)+16>>2])!=(0|t))if((0|i[11152+(216*e|0)+24>>2])!=(0|t))if((0|i[11152+(216*e|0)+32>>2])!=(0|t))if((0|i[11152+(216*e|0)+40>>2])!=(0|t))if((0|i[11152+(216*e|0)+48>>2])!=(0|t))if((0|i[11152+(216*e|0)+56>>2])!=(0|t))if((0|i[11152+(216*e|0)+64>>2])!=(0|t))if((0|i[11152+(216*e|0)+72>>2])!=(0|t))if((0|i[11152+(216*e|0)+80>>2])!=(0|t))if((0|i[11152+(216*e|0)+88>>2])!=(0|t))if((0|i[11152+(216*e|0)+96>>2])!=(0|t))if((0|i[11152+(216*e|0)+104>>2])!=(0|t))if((0|i[11152+(216*e|0)+112>>2])!=(0|t))if((0|i[11152+(216*e|0)+120>>2])!=(0|t))if((0|i[11152+(216*e|0)+128>>2])!=(0|t)){if((0|i[11152+(216*e|0)+136>>2])!=(0|t)){if((0|i[11152+(216*e|0)+144>>2])==(0|t)){t=0,n=2,r=0;break}if((0|i[11152+(216*e|0)+152>>2])==(0|t)){t=0,n=2,r=1;break}if((0|i[11152+(216*e|0)+160>>2])==(0|t)){t=0,n=2,r=2;break}if((0|i[11152+(216*e|0)+168>>2])==(0|t)){t=1,n=2,r=0;break}if((0|i[11152+(216*e|0)+176>>2])==(0|t)){t=1,n=2,r=1;break}if((0|i[11152+(216*e|0)+184>>2])==(0|t)){t=1,n=2,r=2;break}if((0|i[11152+(216*e|0)+192>>2])==(0|t)){t=2,n=2,r=0;break}if((0|i[11152+(216*e|0)+200>>2])==(0|t)){t=2,n=2,r=1;break}if((0|i[11152+(216*e|0)+208>>2])==(0|t)){t=2,n=2,r=2;break}return-1}t=2,n=1,r=2}else t=2,n=1,r=1;else t=2,n=1,r=0;else t=1,n=1,r=2;else t=1,n=1,r=1;else t=1,n=1,r=0;else t=0,n=1,r=2;else t=0,n=1,r=1;else t=0,n=1,r=0;else t=2,n=0,r=2;else t=2,n=0,r=1;else t=2,n=0,r=0;else t=1,n=0,r=2;else t=1,n=0,r=1;else t=1,n=0,r=0;else t=0,n=0,r=2;else t=0,n=0,r=1;else t=0,n=0,r=0}while(0);return 0|i[11152+(216*e|0)+(72*n|0)+(24*t|0)+(r<<3)+4>>2]}(a,0|i[o>>2]),!(0|N(a)))return O=u,0|(c=e);switch(0|a){case 4:t=0,n=14;break;case 14:t=1,n=14;break;case 24:t=2,n=14;break;case 38:t=3,n=14;break;case 49:t=4,n=14;break;case 58:t=5,n=14;break;case 63:t=6,n=14;break;case 72:t=7,n=14;break;case 83:t=8,n=14;break;case 97:t=9,n=14;break;case 107:t=10,n=14;break;case 117:t=11,n=14;break;default:l=0,r=0}14==(0|n)&&(l=0|i[22096+(24*t|0)+8>>2],r=0|i[22096+(24*t|0)+16>>2]);t=0|i[o>>2],(0|t)!=(0|i[s>>2])&&(a=0|D(a))|(0|(t=0|i[o>>2]))==(0|r)&&(e=(e+1|0)%6|0);if(3==(0|c)&(0|t)==(0|r))return O=u,0|(c=(e+5|0)%6|0);if(!(5==(0|c)&(0|t)==(0|l)))return O=u,0|(c=e);return c=(e+1|0)%6|0,O=u,0|c}(t,e),o?0|(n=(5-r+(0|i[22384+(n<<2)>>2])|0)%5|0):0|(n=(6-r+(0|i[22416+(n<<2)>>2])|0)%6|0)}(r=(a=!0&268435456==(2013265920&e))?t:0,t=a?-2130706433&e|134217728:0,7&l),-1==(0|e))return i[n>>2]=0,void(O=s);Vt(r,t,o),l=0|Ee(0|r,0|t,52),x(),l&=15,0|kt(r,t)?bt(o,l,e,2,n):Et(o,l,e,2,n),O=s}function Qt(t){t|=0;var e,n,r=0;return(e=0|ve(1,12))||E(22691,22646,49,22704),0|(r=0|i[(n=t+4|0)>>2])?(i[(r=r+8|0)>>2]=e,i[n>>2]=e,0|e):(0|i[t>>2]&&E(22721,22646,61,22744),i[(r=t)>>2]=e,i[n>>2]=e,0|e)}function Kt(t,e){t|=0,e|=0;var n,r;return(r=0|ye(24))||E(22758,22646,78,22772),i[r>>2]=i[e>>2],i[r+4>>2]=i[e+4>>2],i[r+8>>2]=i[e+8>>2],i[r+12>>2]=i[e+12>>2],i[r+16>>2]=0,0|(n=0|i[(e=t+4|0)>>2])?(i[n+16>>2]=r,i[e>>2]=r,0|r):(0|i[t>>2]&&E(22787,22646,82,22772),i[t>>2]=r,i[e>>2]=r,0|r)}function Jt(t){var e,n,r=0,s=0,a=0,c=0,u=0,h=0,f=0,d=0,p=0,A=0,g=0,y=0,m=0,v=0,b=0,_=0,w=0,x=0,S=0,C=0,P=0,M=0,T=0,O=0,I=0,R=0,L=0,k=0,B=0,N=0;if(0|i[(c=(t|=0)+8|0)>>2])return 0|(N=1);if(!(a=0|i[t>>2]))return 0|(N=0);r=a,s=0;do{s=s+1|0,r=0|i[r+8>>2]}while(0!=(0|r));if(s>>>0<2)return 0|(N=0);(n=0|ye(s<<2))||E(22807,22646,317,22826),(e=0|ye(s<<5))||E(22848,22646,321,22826),i[t>>2]=0,i[(M=t+4|0)>>2]=0,i[c>>2]=0,s=0,k=0,P=0,g=0;t:for(;;){if(A=0|i[a>>2]){u=0,h=A;do{if(d=+o[h+8>>3],r=h,h=0|i[h+16>>2],f=+o[(c=(p=0==(0|h))?A:h)+8>>3],+l(+(d-f))>3.141592653589793){N=14;break}u+=(f-d)*(+o[r>>3]+ +o[c>>3])}while(!p);if(14==(0|N)){N=0,u=0,r=A;do{C=+o[r+8>>3],R=0|i[(L=r+16|0)>>2],S=+o[(R=0==(0|R)?A:R)+8>>3],u+=(+o[r>>3]+ +o[R>>3])*((S<0?S+6.283185307179586:S)-(C<0?C+6.283185307179586:C)),r=0|i[(0==(0|r)?a:L)>>2]}while(0!=(0|r))}u>0?(i[n+(k<<2)>>2]=a,k=k+1|0,c=P,r=g):N=19}else N=19;if(19==(0|N)){N=0;do{if(!s){if(g){c=M,h=g+8|0,r=a,s=t;break}if(0|i[t>>2]){N=27;break t}c=M,h=t,r=a,s=t;break}if(0|i[(r=s+8|0)>>2]){N=21;break t}if(!(s=0|ve(1,12))){N=23;break t}i[r>>2]=s,c=s+4|0,h=s,r=g}while(0);if(i[h>>2]=a,i[c>>2]=a,h=e+(P<<5)|0,p=0|i[a>>2]){for(o[(A=e+(P<<5)+8|0)>>3]=17976931348623157e292,o[(g=e+(P<<5)+24|0)>>3]=17976931348623157e292,o[h>>3]=-17976931348623157e292,o[(y=e+(P<<5)+16|0)>>3]=-17976931348623157e292,w=17976931348623157e292,x=-17976931348623157e292,c=0,m=p,d=17976931348623157e292,b=17976931348623157e292,_=-17976931348623157e292,f=-17976931348623157e292;u=+o[m>>3],C=+o[m+8>>3],m=0|i[m+16>>2],S=+o[((v=0==(0|m))?p:m)+8>>3],u<d&&(o[A>>3]=u,d=u),C<b&&(o[g>>3]=C,b=C),u>_?o[h>>3]=u:u=_,C>f&&(o[y>>3]=C,f=C),w=C>0&C<w?C:w,x=C<0&C>x?C:x,c|=+l(+(C-S))>3.141592653589793,!v;)_=u;c&&(o[y>>3]=x,o[g>>3]=w)}else i[h>>2]=0,i[h+4>>2]=0,i[h+8>>2]=0,i[h+12>>2]=0,i[h+16>>2]=0,i[h+20>>2]=0,i[h+24>>2]=0,i[h+28>>2]=0;c=P+1|0}if(a=0|i[(L=a+8|0)>>2],i[L>>2]=0,!a){N=45;break}P=c,g=r}if(21==(0|N))E(22624,22646,35,22658);else if(23==(0|N))E(22678,22646,37,22658);else if(27==(0|N))E(22721,22646,61,22744);else if(45==(0|N)){t:do{if((0|k)>0){for(L=0==(0|c),I=c<<2,R=0==(0|t),O=0,r=0;;){if(T=0|i[n+(O<<2)>>2],L)N=73;else{if(!(P=0|ye(I))){N=50;break}if(!(M=0|ye(I))){N=52;break}e:do{if(R)s=0;else{for(c=0,s=0,h=t;a=e+(c<<5)|0,0|Zt(0|i[h>>2],a,0|i[T>>2])?(i[P+(s<<2)>>2]=h,i[M+(s<<2)>>2]=a,v=s+1|0):v=s,h=0|i[h+8>>2];)c=c+1|0,s=v;if((0|v)>0)if(a=0|i[P>>2],1==(0|v))s=a;else for(y=0,m=-1,s=a,g=a;;){for(p=0|i[g>>2],a=0,h=0;A=(0|(c=0|i[i[P+(h<<2)>>2]>>2]))==(0|p)?a:a+(1&Zt(c,0|i[M+(h<<2)>>2],0|i[p>>2]))|0,(0|(h=h+1|0))!=(0|v);)a=A;if(s=(c=(0|A)>(0|m))?g:s,(0|(a=y+1|0))==(0|v))break e;y=a,m=c?A:m,g=0|i[P+(a<<2)>>2]}else s=0}}while(0);if(me(P),me(M),s){if(a=0|i[(c=s+4|0)>>2])s=a+8|0;else if(0|i[s>>2]){N=70;break}i[s>>2]=T,i[c>>2]=T}else N=73}if(73==(0|N)){if(N=0,0|(r=0|i[T>>2]))do{M=r,r=0|i[r+16>>2],me(M)}while(0!=(0|r));me(T),r=2}if((0|(O=O+1|0))>=(0|k)){B=r;break t}}50==(0|N)?E(22863,22646,249,22882):52==(0|N)?E(22901,22646,252,22882):70==(0|N)&&E(22721,22646,61,22744)}else B=0}while(0);return me(n),me(e),0|(N=B)}return 0}function Zt(t,e,n){t|=0;var r,s=0,a=0,l=0,c=0,u=0,h=0,f=0;if(!(0|H(e|=0,n|=0)))return 0|(t=0);if(e=0|V(e),r=+o[n>>3],s=e&(s=+o[n+8>>3])<0?s+6.283185307179586:s,!(t=0|i[t>>2]))return 0|(t=0);if(e){e=0,n=t;t:for(;;){for(;c=+o[n>>3],h=+o[n+8>>3],f=0|i[(n=n+16|0)>>2],l=+o[(f=0==(0|f)?t:f)>>3],a=+o[f+8>>3],c>l?(u=c,c=h):(u=l,l=c,c=a,a=h),r<l|r>u;)if(!(n=0|i[n>>2])){n=22;break t}if(s=(c=c<0?c+6.283185307179586:c)==s|(h=a<0?a+6.283185307179586:a)==s?s+-2220446049250313e-31:s,((h+=(r-l)/(u-l)*(c-h))<0?h+6.283185307179586:h)>s&&(e^=1),!(n=0|i[n>>2])){n=22;break}}if(22==(0|n))return 0|e}else{e=0,n=t;t:for(;;){for(;c=+o[n>>3],h=+o[n+8>>3],f=0|i[(n=n+16|0)>>2],l=+o[(f=0==(0|f)?t:f)>>3],a=+o[f+8>>3],c>l?(u=c,c=h):(u=l,l=c,c=a,a=h),r<l|r>u;)if(!(n=0|i[n>>2])){n=22;break t}if(a+(r-l)/(u-l)*(c-a)>(s=c==s|a==s?s+-2220446049250313e-31:s)&&(e^=1),!(n=0|i[n>>2])){n=22;break}}if(22==(0|n))return 0|e}return 0}function $t(t,e,n,o,s){n|=0,o|=0,s|=0;var a,l,c,u,h=0,f=0,d=0,p=0,A=0,g=0,y=0,m=0,v=0,b=0;if(u=O,O=O+32|0,b=u+16|0,c=u,h=0|Ee(0|(t|=0),0|(e|=0),52),x(),h&=15,y=0|Ee(0|n,0|o,52),x(),(0|h)!=(15&y))return O=u,0|(b=1);if(A=0|Ee(0|t,0|e,45),x(),A&=127,g=0|Ee(0|n,0|o,45),x(),y=(0|A)!=(0|(g&=127))){if(7==(0|(d=0|G(A,g))))return O=u,0|(b=2);7==(0|(p=0|G(g,A)))?E(22925,22949,151,22959):(m=d,f=p)}else m=0,f=0;a=0|N(A),l=0|N(g),i[b>>2]=0,i[b+4>>2]=0,i[b+8>>2]=0,i[b+12>>2]=0;do{if(m){if(d=(0|(g=0|i[4304+(28*A|0)+(m<<2)>>2]))>0,l)if(d){A=0,p=n,d=o;do{p=0|Ft(p,d),d=0|x(),1==(0|(f=0|ct(f)))&&(f=0|ct(1)),A=A+1|0}while((0|A)!=(0|g));g=f,A=p,p=d}else g=f,A=n,p=o;else if(d){A=0,p=n,d=o;do{p=0|jt(p,d),d=0|x(),f=0|ct(f),A=A+1|0}while((0|A)!=(0|g));g=f,A=p,p=d}else g=f,A=n,p=o;if(Gt(A,p,b),y||E(22972,22949,181,22959),(d=0!=(0|a))&(f=0!=(0|l))&&E(22999,22949,182,22959),d){if(f=0|Bt(t,e),0|r[22032+(7*f|0)+m|0]){h=3;break}A=p=0|i[21200+(28*f|0)+(m<<2)>>2],v=26}else if(f){if(f=0|Bt(A,p),0|r[22032+(7*f|0)+g|0]){h=4;break}A=0,p=0|i[21200+(28*g|0)+(f<<2)>>2],v=26}else f=0;if(26==(0|v))if((0|p)<=-1&&E(23030,22949,212,22959),(0|A)<=-1&&E(23053,22949,213,22959),(0|p)>0){d=b+4|0,f=0;do{at(d),f=f+1|0}while((0|f)!=(0|p));f=A}else f=A;if(i[c>>2]=0,i[c+4>>2]=0,i[c+8>>2]=0,ot(c,m),0|h)for(;0|Ut(h)?rt(c):it(c),(0|h)>1;)h=h+-1|0;if((0|f)>0){h=0;do{at(c),h=h+1|0}while((0|h)!=(0|f))}J(v=b+4|0,c,v),Q(v),v=50}else if(Gt(n,o,b),0!=(0|a)&0!=(0|l))if((0|g)!=(0|A)&&E(23077,22949,243,22959),f=0|Bt(t,e),h=0|Bt(n,o),0|r[22032+(7*f|0)+h|0])h=5;else if((0|(f=0|i[21200+(28*f|0)+(h<<2)>>2]))>0){d=b+4|0,h=0;do{at(d),h=h+1|0}while((0|h)!=(0|f));v=50}else v=50;else v=50}while(0);return 50==(0|v)&&(h=b+4|0,i[s>>2]=i[h>>2],i[s+4>>2]=i[h+4>>2],i[s+8>>2]=i[h+8>>2],h=0),O=u,0|(b=h)}function te(t,e,n,r){n|=0,r|=0;var o,s,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0,A=0,g=0,y=0,m=0,v=0;if(s=O,O=O+48|0,c=s+36|0,u=s+24|0,h=s+12|0,f=s,l=0|Ee(0|(t|=0),0|(e|=0),52),x(),l&=15,p=0|Ee(0|t,0|e,45),x(),o=0|N(p&=127),Se(0|l,0,52),y=134225919|x(),i[(g=r)>>2]=-1,i[g+4>>2]=y,!l)return(0|i[n>>2])>1||(0|i[n+4>>2])>1||(0|i[n+8>>2])>1||127==(0|(a=0|z(p,0|tt(n))))?(O=s,0|(y=1)):(A=0|Se(0|a,0,45),g=0|x(),g=-1040385&i[(p=r)+4>>2]|g,i[(y=r)>>2]=i[p>>2]|A,i[y+4>>2]=g,O=s,0|(y=0));for(i[c>>2]=i[n>>2],i[c+4>>2]=i[n+4>>2],i[c+8>>2]=i[n+8>>2];i[u>>2]=i[c>>2],i[u+4>>2]=i[c+4>>2],i[u+8>>2]=i[c+8>>2],0|Ut(l)?(et(c),i[h>>2]=i[c>>2],i[h+4>>2]=i[c+4>>2],i[h+8>>2]=i[c+8>>2],rt(h)):(nt(c),i[h>>2]=i[c>>2],i[h+4>>2]=i[c+4>>2],i[h+8>>2]=i[c+8>>2],it(h)),Z(u,h,f),Q(f),m=0|i[(g=r)>>2],g=0|i[g+4>>2],n=0|Se(7,0,0|(v=3*(15-l|0)|0)),g&=~x(),v=0|Se(0|tt(f),0,0|v),g=x()|g,i[(y=r)>>2]=v|m&~n,i[y+4>>2]=g,(0|l)>1;)l=l+-1|0;t:do{if((0|i[c>>2])<=1&&(0|i[c+4>>2])<=1&&(0|i[c+8>>2])<=1){f=127==(0|(u=0|z(p,l=0|tt(c))))?0:0|N(u);e:do{if(l){if(o){if(c=21408+(28*(0|Bt(t,e))|0)+(l<<2)|0,(0|(c=0|i[c>>2]))>0){n=0;do{l=0|lt(l),n=n+1|0}while((0|n)!=(0|c))}if(1==(0|l)){a=3;break t}127==(0|(n=0|z(p,l)))&&E(23104,22949,376,23134),0|N(n)?E(23147,22949,377,23134):(A=c,d=l,a=n)}else A=0,d=l,a=u;if((0|(h=0|i[4304+(28*p|0)+(d<<2)>>2]))<=-1&&E(23178,22949,384,23134),!f){if((0|A)<=-1&&E(23030,22949,417,23134),0|A){l=0,n=0|i[(c=r)>>2],c=0|i[c+4>>2];do{n=0|Dt(n,c),c=0|x(),i[(v=r)>>2]=n,i[v+4>>2]=c,l=l+1|0}while((0|l)<(0|A))}if((0|h)<=0){l=54;break}for(l=0,n=0|i[(c=r)>>2],c=0|i[c+4>>2];;)if(n=0|Dt(n,c),c=0|x(),i[(v=r)>>2]=n,i[v+4>>2]=c,(0|(l=l+1|0))==(0|h)){l=54;break e}}if(7==(0|(u=0|G(a,p)))&&E(22925,22949,393,23134),n=0|i[(l=r)>>2],l=0|i[l+4>>2],(0|h)>0){c=0;do{n=0|Dt(n,l),l=0|x(),i[(v=r)>>2]=n,i[v+4>>2]=l,c=c+1|0}while((0|c)!=(0|h))}if(n=0|Bt(n,l),v=0|D(a),(0|(n=0|i[(v?21824:21616)+(28*u|0)+(n<<2)>>2]))<=-1&&E(23030,22949,412,23134),n){l=0,c=0|i[(u=r)>>2],u=0|i[u+4>>2];do{c=0|Nt(c,u),u=0|x(),i[(v=r)>>2]=c,i[v+4>>2]=u,l=l+1|0}while((0|l)<(0|n));l=54}else l=54}else if(0!=(0|o)&0!=(0|f))if(l=21408+(28*(v=0|Bt(t,e))|0)+(Bt(0|i[(l=r)>>2],0|i[l+4>>2])<<2)|0,(0|(l=0|i[l>>2]))<=-1&&E(23201,22949,433,23134),l){a=0,n=0|i[(c=r)>>2],c=0|i[c+4>>2];do{n=0|Dt(n,c),c=0|x(),i[(v=r)>>2]=n,i[v+4>>2]=c,a=a+1|0}while((0|a)<(0|l));a=u,l=54}else a=u,l=55;else a=u,l=54}while(0);if(54==(0|l)&&f&&(l=55),55==(0|l)&&1==(0|Bt(0|i[(v=r)>>2],0|i[v+4>>2]))){a=4;break}y=0|i[(v=r)>>2],v=-1040385&i[v+4>>2],m=0|Se(0|a,0,45),v|=x(),i[(a=r)>>2]=y|m,i[a+4>>2]=v,a=0}else a=2}while(0);return O=s,0|(v=a)}function ee(t,e){var n=0;if(!(e|=0))return 0|(n=1);n=t|=0,t=1;do{t=0|v(0==(1&e)?1:n,t),e>>=1,n=0|v(n,n)}while(0!=(0|e));return 0|t}function ne(t,e,n){t|=0;var r,s,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0;if(!(0|H(e|=0,n|=0)))return 0|(p=0);if(e=0|V(e),s=+o[n>>3],a=e&(a=+o[n+8>>3])<0?a+6.283185307179586:a,(0|(p=0|i[t>>2]))<=0)return 0|(p=0);if(r=0|i[t+4>>2],e){e=0,n=-1,t=0;t:for(;;){for(d=t;u=+o[r+(d<<4)>>3],f=+o[r+(d<<4)+8>>3],c=+o[r+((t=(n+2|0)%(0|p)|0)<<4)>>3],l=+o[r+(t<<4)+8>>3],u>c?(h=u,u=f):(h=c,c=u,u=l,l=f),s<c|s>h;){if(!((0|(n=d+1|0))<(0|p))){n=22;break t}t=d,d=n,n=t}if(a=(u=u<0?u+6.283185307179586:u)==a|(f=l<0?l+6.283185307179586:l)==a?a+-2220446049250313e-31:a,((f+=(s-c)/(h-c)*(u-f))<0?f+6.283185307179586:f)>a&&(e^=1),(0|(t=d+1|0))>=(0|p)){n=22;break}n=d}if(22==(0|n))return 0|e}else{e=0,n=-1,t=0;t:for(;;){for(d=t;u=+o[r+(d<<4)>>3],f=+o[r+(d<<4)+8>>3],c=+o[r+((t=(n+2|0)%(0|p)|0)<<4)>>3],l=+o[r+(t<<4)+8>>3],u>c?(h=u,u=f):(h=c,c=u,u=l,l=f),s<c|s>h;){if(!((0|(n=d+1|0))<(0|p))){n=22;break t}t=d,d=n,n=t}if(l+(s-c)/(h-c)*(u-l)>(a=u==a|l==a?a+-2220446049250313e-31:a)&&(e^=1),(0|(t=d+1|0))>=(0|p)){n=22;break}n=d}if(22==(0|n))return 0|e}return 0}function re(t,e){e|=0;var n,r,s,a,c,u=0,h=0,f=0,d=0,p=0,A=0,g=0,y=0,m=0,v=0,b=0,_=0;if(!(r=0|i[(t|=0)>>2]))return i[e>>2]=0,i[e+4>>2]=0,i[e+8>>2]=0,i[e+12>>2]=0,i[e+16>>2]=0,i[e+20>>2]=0,i[e+24>>2]=0,void(i[e+28>>2]=0);if(o[(s=e+8|0)>>3]=17976931348623157e292,o[(a=e+24|0)>>3]=17976931348623157e292,o[e>>3]=-17976931348623157e292,o[(c=e+16|0)>>3]=-17976931348623157e292,!((0|r)<=0)){for(n=0|i[t+4>>2],y=17976931348623157e292,m=-17976931348623157e292,v=0,t=-1,d=17976931348623157e292,p=17976931348623157e292,g=-17976931348623157e292,h=-17976931348623157e292,b=0;u=+o[n+(b<<4)>>3],A=+o[n+(b<<4)+8>>3],f=+o[n+(((0|(t=t+2|0))==(0|r)?0:t)<<4)+8>>3],u<d&&(o[s>>3]=u,d=u),A<p&&(o[a>>3]=A,p=A),u>g?o[e>>3]=u:u=g,A>h&&(o[c>>3]=A,h=A),y=A>0&A<y?A:y,m=A<0&A>m?A:m,v|=+l(+(A-f))>3.141592653589793,(0|(t=b+1|0))!=(0|r);)_=b,g=u,b=t,t=_;v&&(o[c>>3]=m,o[a>>3]=y)}}function ie(t,e){e|=0;var n,r=0,s=0,a=0,c=0,u=0,h=0,f=0,d=0,p=0,A=0,g=0,y=0,m=0,v=0,b=0,_=0,w=0,x=0,E=0,S=0,C=0;if(m=0|i[(t|=0)>>2]){if(o[(v=e+8|0)>>3]=17976931348623157e292,o[(b=e+24|0)>>3]=17976931348623157e292,o[e>>3]=-17976931348623157e292,o[(_=e+16|0)>>3]=-17976931348623157e292,(0|m)>0){for(a=0|i[t+4>>2],g=17976931348623157e292,y=-17976931348623157e292,s=0,r=-1,f=17976931348623157e292,d=17976931348623157e292,A=-17976931348623157e292,u=-17976931348623157e292,w=0;c=+o[a+(w<<4)>>3],p=+o[a+(w<<4)+8>>3],h=+o[a+(((0|(S=r+2|0))==(0|m)?0:S)<<4)+8>>3],c<f&&(o[v>>3]=c,f=c),p<d&&(o[b>>3]=p,d=p),c>A?o[e>>3]=c:c=A,p>u&&(o[_>>3]=p,u=p),g=p>0&p<g?p:g,y=p<0&p>y?p:y,s|=+l(+(p-h))>3.141592653589793,(0|(r=w+1|0))!=(0|m);)S=w,A=c,w=r,r=S;s&&(o[_>>3]=y,o[b>>3]=g)}}else i[e>>2]=0,i[e+4>>2]=0,i[e+8>>2]=0,i[e+12>>2]=0,i[e+16>>2]=0,i[e+20>>2]=0,i[e+24>>2]=0,i[e+28>>2]=0;if(!((0|(r=0|i[(S=t+8|0)>>2]))<=0)){n=t+12|0,E=0;do{if(a=0|i[n>>2],s=E,b=e+((E=E+1|0)<<5)|0,_=0|i[a+(s<<3)>>2]){if(o[(w=e+(E<<5)+8|0)>>3]=17976931348623157e292,o[(t=e+(E<<5)+24|0)>>3]=17976931348623157e292,o[b>>3]=-17976931348623157e292,o[(x=e+(E<<5)+16|0)>>3]=-17976931348623157e292,(0|_)>0){for(m=0|i[a+(s<<3)+4>>2],g=17976931348623157e292,y=-17976931348623157e292,a=0,s=-1,v=0,f=17976931348623157e292,d=17976931348623157e292,p=-17976931348623157e292,u=-17976931348623157e292;c=+o[m+(v<<4)>>3],A=+o[m+(v<<4)+8>>3],h=+o[m+(((0|(s=s+2|0))==(0|_)?0:s)<<4)+8>>3],c<f&&(o[w>>3]=c,f=c),A<d&&(o[t>>3]=A,d=A),c>p?o[b>>3]=c:c=p,A>u&&(o[x>>3]=A,u=A),g=A>0&A<g?A:g,y=A<0&A>y?A:y,a|=+l(+(A-h))>3.141592653589793,(0|(s=v+1|0))!=(0|_);)C=v,v=s,p=c,s=C;a&&(o[x>>3]=y,o[t>>3]=g)}}else i[b>>2]=0,i[b+4>>2]=0,i[b+8>>2]=0,i[b+12>>2]=0,i[b+16>>2]=0,i[b+20>>2]=0,i[b+24>>2]=0,i[b+28>>2]=0,r=0|i[S>>2]}while((0|E)<(0|r))}}function oe(t,e,n){var r=0,o=0,s=0;if(!(0|ne(t|=0,e|=0,n|=0)))return 0|(o=0);if((0|i[(o=t+8|0)>>2])<=0)return 0|(o=1);for(r=t+12|0,t=0;;){if(s=t,t=t+1|0,0|ne((0|i[r>>2])+(s<<3)|0,e+(t<<5)|0,n)){t=0,r=6;break}if((0|t)>=(0|i[o>>2])){t=1,r=6;break}}return 6==(0|r)?0|t:0}function se(t,e,n,r,i){e|=0,n|=0,r|=0,i|=0;var s,a,l,c,u,h,f,d=0;c=+o[(t|=0)>>3],l=+o[e>>3]-c,a=+o[t+8>>3],s=+o[e+8>>3]-a,h=+o[n>>3],d=((d=+o[r>>3]-h)*(a-(f=+o[n+8>>3]))-(c-h)*(u=+o[r+8>>3]-f))/(l*u-s*d),o[i>>3]=c+l*d,o[i+8>>3]=a+s*d}function ae(t,e){return e|=0,+o[(t|=0)>>3]!=+o[e>>3]?0|(e=0):0|(e=+o[t+8>>3]==+o[e+8>>3])}function le(t,e){e|=0;var n,r,i;return+((i=+o[(t|=0)>>3]-+o[e>>3])*i+(r=+o[t+8>>3]-+o[e+8>>3])*r+(n=+o[t+16>>3]-+o[e+16>>3])*n)}function ce(t,e,n){t|=0,n|=0;var r=0;(0|(e|=0))>0?(r=0|ve(e,4),i[t>>2]=r,r||E(23230,23253,40,23267)):i[t>>2]=0,i[t+4>>2]=e,i[t+8>>2]=0,i[t+12>>2]=n}function ue(t){var e,n,r,s=0,a=0,c=0,h=0;e=(t|=0)+4|0,n=t+12|0,r=t+8|0;t:for(;;){for(a=0|i[e>>2],s=0;;){if((0|s)>=(0|a))break t;if(c=0|i[t>>2],h=0|i[c+(s<<2)>>2])break;s=s+1|0}s=c+(~~(+l(+ +u(10,+ +(15-(0|i[n>>2])|0))*(+o[h>>3]+ +o[h+8>>3]))%+(0|a))>>>0<<2)|0,a=0|i[s>>2];e:do{if(0|a){if(c=h+32|0,(0|a)==(0|h))i[s>>2]=i[c>>2];else{if(!(s=0|i[(a=a+32|0)>>2]))break;for(;(0|s)!=(0|h);)if(!(s=0|i[(a=s+32|0)>>2]))break e;i[a>>2]=i[c>>2]}me(h),i[r>>2]=(0|i[r>>2])-1}}while(0)}me(0|i[t>>2])}function he(t){var e,n=0,r=0;for(e=0|i[(t|=0)+4>>2],r=0;;){if((0|r)>=(0|e)){n=0,r=4;break}if(n=0|i[(0|i[t>>2])+(r<<2)>>2]){r=4;break}r=r+1|0}return 4==(0|r)?0|n:0}function fe(t,e){e|=0;var n=0,r=0,s=0,a=0;if(n=~~(+l(+ +u(10,+ +(15-(0|i[(t|=0)+12>>2])|0))*(+o[e>>3]+ +o[e+8>>3]))%+(0|i[t+4>>2]))>>>0,n=(0|i[t>>2])+(n<<2)|0,!(r=0|i[n>>2]))return 0|(a=1);a=e+32|0;do{if((0|r)!=(0|e)){if(!(n=0|i[r+32>>2]))return 0|(a=1);for(s=n;;){if((0|s)==(0|e)){s=8;break}if(!(n=0|i[s+32>>2])){n=1,s=10;break}r=s,s=n}if(8==(0|s)){i[r+32>>2]=i[a>>2];break}if(10==(0|s))return 0|n}else i[n>>2]=i[a>>2]}while(0);return me(e),i[(a=t+8|0)>>2]=(0|i[a>>2])-1,0|(a=0)}function de(t,e,n){t|=0,e|=0,n|=0;var r,s=0,a=0,c=0;(r=0|ye(40))||E(23283,23253,98,23296),i[r>>2]=i[e>>2],i[r+4>>2]=i[e+4>>2],i[r+8>>2]=i[e+8>>2],i[r+12>>2]=i[e+12>>2],i[(a=r+16|0)>>2]=i[n>>2],i[a+4>>2]=i[n+4>>2],i[a+8>>2]=i[n+8>>2],i[a+12>>2]=i[n+12>>2],i[r+32>>2]=0,a=~~(+l(+ +u(10,+ +(15-(0|i[t+12>>2])|0))*(+o[e>>3]+ +o[e+8>>3]))%+(0|i[t+4>>2]))>>>0,a=(0|i[t>>2])+(a<<2)|0,s=0|i[a>>2];do{if(s){for(;!(0|Pt(s,e)&&0|Pt(s+16|0,n));)if(a=0|i[s+32>>2],!(0|i[(s=0==(0|a)?s:a)+32>>2])){c=10;break}if(10==(0|c)){i[s+32>>2]=r;break}return me(r),0|(c=s)}i[a>>2]=r}while(0);return i[(c=t+8|0)>>2]=1+(0|i[c>>2]),0|(c=r)}function pe(t,e,n){e|=0,n|=0;var r=0,s=0;if(s=~~(+l(+ +u(10,+ +(15-(0|i[(t|=0)+12>>2])|0))*(+o[e>>3]+ +o[e+8>>3]))%+(0|i[t+4>>2]))>>>0,!(s=0|i[(0|i[t>>2])+(s<<2)>>2]))return 0|(n=0);if(!n){for(t=s;;){if(0|Pt(t,e)){r=10;break}if(!(t=0|i[t+32>>2])){t=0,r=10;break}}if(10==(0|r))return 0|t}for(t=s;;){if(0|Pt(t,e)&&0|Pt(t+16|0,n)){r=10;break}if(!(t=0|i[t+32>>2])){t=0,r=10;break}}return 10==(0|r)?0|t:0}function Ae(t,e){e|=0;var n=0;if(n=~~(+l(+ +u(10,+ +(15-(0|i[(t|=0)+12>>2])|0))*(+o[e>>3]+ +o[e+8>>3]))%+(0|i[t+4>>2]))>>>0,!(t=0|i[(0|i[t>>2])+(n<<2)>>2]))return 0|(n=0);for(;;){if(0|Pt(t,e)){e=5;break}if(!(t=0|i[t+32>>2])){t=0,e=5;break}}return 5==(0|e)?0|t:0}function ge(t){return 0|+function(t){return+ +Oe(+(t=+t))}(t=+t)}function ye(t){t|=0;var e,n=0,r=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0,A=0,g=0,y=0,m=0,v=0,b=0,_=0,w=0;e=O,O=O+16|0,p=e;do{if(t>>>0<245){if(t=(h=t>>>0<11?16:t+11&-8)>>>3,3&(r=(d=0|i[5829])>>>t))return o=0|i[(r=(t=23356+((n=(1&r^1)+t|0)<<1<<2)|0)+8|0)>>2],(0|(a=0|i[(s=o+8|0)>>2]))==(0|t)?i[5829]=d&~(1<<n):(i[a+12>>2]=t,i[r>>2]=a),w=n<<3,i[o+4>>2]=3|w,i[(w=o+w+4|0)>>2]=1|i[w>>2],O=e,0|(w=s);if(h>>>0>(f=0|i[5831])>>>0){if(0|r)return n=((n=r<<t&((n=2<<t)|0-n))&0-n)-1|0,a=0|i[(t=(n=23356+((o=((r=(n>>>=c=n>>>12&16)>>>5&8)|c|(a=(n>>>=r)>>>2&4)|(t=(n>>>=a)>>>1&2)|(o=(n>>>=t)>>>1&1))+(n>>>o)|0)<<1<<2)|0)+8|0)>>2],(0|(r=0|i[(c=a+8|0)>>2]))==(0|n)?(t=d&~(1<<o),i[5829]=t):(i[r+12>>2]=n,i[t>>2]=r,t=d),l=(w=o<<3)-h|0,i[a+4>>2]=3|h,i[(s=a+h|0)+4>>2]=1|l,i[a+w>>2]=l,0|f&&(o=0|i[5834],r=23356+((n=f>>>3)<<1<<2)|0,t&(n=1<<n)?n=0|i[(t=r+8|0)>>2]:(i[5829]=t|n,n=r,t=r+8|0),i[t>>2]=o,i[n+12>>2]=o,i[o+8>>2]=n,i[o+12>>2]=r),i[5831]=l,i[5834]=s,O=e,0|(w=c);if(a=0|i[5830]){for(r=(a&0-a)-1|0,r=u=0|i[23620+(((o=(r>>>=s=r>>>12&16)>>>5&8)|s|(l=(r>>>=o)>>>2&4)|(c=(r>>>=l)>>>1&2)|(u=(r>>>=c)>>>1&1))+(r>>>u)<<2)>>2],c=u,u=(-8&i[u+4>>2])-h|0;(t=0|i[r+16>>2])||(t=0|i[r+20>>2]);)r=t,c=(s=(l=(-8&i[t+4>>2])-h|0)>>>0<u>>>0)?t:c,u=s?l:u;if((l=c+h|0)>>>0>c>>>0){s=0|i[c+24>>2],n=0|i[c+12>>2];do{if((0|n)==(0|c)){if(!(n=0|i[(t=c+20|0)>>2])&&!(n=0|i[(t=c+16|0)>>2])){r=0;break}for(;;)if(r=0|i[(o=n+20|0)>>2])n=r,t=o;else{if(!(r=0|i[(o=n+16|0)>>2]))break;n=r,t=o}i[t>>2]=0,r=n}else r=0|i[c+8>>2],i[r+12>>2]=n,i[n+8>>2]=r,r=n}while(0);do{if(0|s){if(n=0|i[c+28>>2],(0|c)==(0|i[(t=23620+(n<<2)|0)>>2])){if(i[t>>2]=r,!r){i[5830]=a&~(1<<n);break}}else if(i[((0|i[(w=s+16|0)>>2])==(0|c)?w:s+20)>>2]=r,!r)break;i[r+24>>2]=s,0|(n=0|i[c+16>>2])&&(i[r+16>>2]=n,i[n+24>>2]=r),0|(n=0|i[c+20>>2])&&(i[r+20>>2]=n,i[n+24>>2]=r)}}while(0);return u>>>0<16?(w=u+h|0,i[c+4>>2]=3|w,i[(w=c+w+4|0)>>2]=1|i[w>>2]):(i[c+4>>2]=3|h,i[l+4>>2]=1|u,i[l+u>>2]=u,0|f&&(o=0|i[5834],r=23356+((n=f>>>3)<<1<<2)|0,(n=1<<n)&d?n=0|i[(t=r+8|0)>>2]:(i[5829]=n|d,n=r,t=r+8|0),i[t>>2]=o,i[n+12>>2]=o,i[o+8>>2]=n,i[o+12>>2]=r),i[5831]=u,i[5834]=l),O=e,0|(w=c+8|0)}d=h}else d=h}else d=h}else if(t>>>0<=4294967231)if(h=-8&(t=t+11|0),o=0|i[5830]){s=0-h|0,u=(t>>>=8)?h>>>0>16777215?31:h>>>((u=14-((c=((y=t<<(d=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|d|(u=((y<<=c)+245760|0)>>>16&2))+(y<<u>>>15)|0)+7|0)&1|u<<1:0,r=0|i[23620+(u<<2)>>2];t:do{if(r)for(t=0,c=h<<(31==(0|u)?0:25-(u>>>1)),a=0;;){if((l=(-8&i[r+4>>2])-h|0)>>>0<s>>>0){if(!l){t=r,s=0,y=65;break t}t=r,s=l}if(a=0==(0|(y=0|i[r+20>>2]))|(0|y)==(0|(r=0|i[r+16+(c>>>31<<2)>>2]))?a:y,!r){r=a,y=61;break}c<<=1}else r=0,t=0,y=61}while(0);if(61==(0|y)){if(0==(0|r)&0==(0|t)){if(!(t=((t=2<<u)|0-t)&o)){d=h;break}d=(t&0-t)-1|0,t=0,r=0|i[23620+(((a=(d>>>=l=d>>>12&16)>>>5&8)|l|(c=(d>>>=a)>>>2&4)|(u=(d>>>=c)>>>1&2)|(r=(d>>>=u)>>>1&1))+(d>>>r)<<2)>>2]}r?y=65:(c=t,l=s)}if(65==(0|y))for(a=r;;){if(s=(r=(d=(-8&i[a+4>>2])-h|0)>>>0<s>>>0)?d:s,t=r?a:t,(r=0|i[a+16>>2])||(r=0|i[a+20>>2]),!r){c=t,l=s;break}a=r}if(0!=(0|c)&&l>>>0<((0|i[5831])-h|0)>>>0&&(f=c+h|0)>>>0>c>>>0){a=0|i[c+24>>2],n=0|i[c+12>>2];do{if((0|n)==(0|c)){if(!(n=0|i[(t=c+20|0)>>2])&&!(n=0|i[(t=c+16|0)>>2])){n=0;break}for(;;)if(r=0|i[(s=n+20|0)>>2])n=r,t=s;else{if(!(r=0|i[(s=n+16|0)>>2]))break;n=r,t=s}i[t>>2]=0}else w=0|i[c+8>>2],i[w+12>>2]=n,i[n+8>>2]=w}while(0);do{if(a){if(t=0|i[c+28>>2],(0|c)==(0|i[(r=23620+(t<<2)|0)>>2])){if(i[r>>2]=n,!n){o&=~(1<<t),i[5830]=o;break}}else if(i[((0|i[(w=a+16|0)>>2])==(0|c)?w:a+20)>>2]=n,!n)break;i[n+24>>2]=a,0|(t=0|i[c+16>>2])&&(i[n+16>>2]=t,i[t+24>>2]=n),(t=0|i[c+20>>2])&&(i[n+20>>2]=t,i[t+24>>2]=n)}}while(0);t:do{if(l>>>0<16)w=l+h|0,i[c+4>>2]=3|w,i[(w=c+w+4|0)>>2]=1|i[w>>2];else{if(i[c+4>>2]=3|h,i[f+4>>2]=1|l,i[f+l>>2]=l,n=l>>>3,l>>>0<256){r=23356+(n<<1<<2)|0,(t=0|i[5829])&(n=1<<n)?n=0|i[(t=r+8|0)>>2]:(i[5829]=t|n,n=r,t=r+8|0),i[t>>2]=f,i[n+12>>2]=f,i[f+8>>2]=n,i[f+12>>2]=r;break}if(n=23620+((r=(n=l>>>8)?l>>>0>16777215?31:l>>>((r=14-((b=((w=n<<(_=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|_|(r=((w<<=b)+245760|0)>>>16&2))+(w<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,i[f+28>>2]=r,i[(t=f+16|0)+4>>2]=0,i[t>>2]=0,!(o&(t=1<<r))){i[5830]=o|t,i[n>>2]=f,i[f+24>>2]=n,i[f+12>>2]=f,i[f+8>>2]=f;break}n=0|i[n>>2];e:do{if((-8&i[n+4>>2])!=(0|l)){for(o=l<<(31==(0|r)?0:25-(r>>>1));t=0|i[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&i[t+4>>2])==(0|l)){n=t;break e}o<<=1,n=t}i[r>>2]=f,i[f+24>>2]=n,i[f+12>>2]=f,i[f+8>>2]=f;break t}}while(0);w=0|i[(_=n+8|0)>>2],i[w+12>>2]=f,i[_>>2]=f,i[f+8>>2]=w,i[f+12>>2]=n,i[f+24>>2]=0}}while(0);return O=e,0|(w=c+8|0)}d=h}else d=h;else d=-1}while(0);if((r=0|i[5831])>>>0>=d>>>0)return n=r-d|0,t=0|i[5834],n>>>0>15?(w=t+d|0,i[5834]=w,i[5831]=n,i[w+4>>2]=1|n,i[t+r>>2]=n,i[t+4>>2]=3|d):(i[5831]=0,i[5834]=0,i[t+4>>2]=3|r,i[(w=t+r+4|0)>>2]=1|i[w>>2]),O=e,0|(w=t+8|0);if((l=0|i[5832])>>>0>d>>>0)return b=l-d|0,i[5832]=b,_=(w=0|i[5835])+d|0,i[5835]=_,i[_+4>>2]=1|b,i[w+4>>2]=3|d,O=e,0|(w=w+8|0);if(0|i[5947]?t=0|i[5949]:(i[5949]=4096,i[5948]=4096,i[5950]=-1,i[5951]=-1,i[5952]=0,i[5940]=0,i[5947]=-16&p^1431655768,t=4096),c=d+48|0,(h=(a=t+(u=d+47|0)|0)&(s=0-t|0))>>>0<=d>>>0)return O=e,0|(w=0);if(0|(t=0|i[5939])&&(p=(f=0|i[5937])+h|0)>>>0<=f>>>0|p>>>0>t>>>0)return O=e,0|(w=0);t:do{if(4&i[5940])n=0,y=143;else{r=0|i[5835];e:do{if(r){for(o=23764;!((p=0|i[o>>2])>>>0<=r>>>0&&(p+(0|i[o+4>>2])|0)>>>0>r>>>0);){if(!(t=0|i[o+8>>2])){y=128;break e}o=t}if((n=a-l&s)>>>0<2147483647)if((0|(t=0|Ie(0|n)))==((0|i[o>>2])+(0|i[o+4>>2])|0)){if(-1!=(0|t)){l=n,a=t,y=145;break t}}else o=t,y=136;else n=0}else y=128}while(0);do{if(128==(0|y))if(-1!=(0|(r=0|Ie(0)))&&(n=r,g=(n=(0==((g=(A=0|i[5948])+-1|0)&n)?0:(g+n&0-A)-n|0)+h|0)+(A=0|i[5937])|0,n>>>0>d>>>0&n>>>0<2147483647)){if(0|(p=0|i[5939])&&g>>>0<=A>>>0|g>>>0>p>>>0){n=0;break}if((0|(t=0|Ie(0|n)))==(0|r)){l=n,a=r,y=145;break t}o=t,y=136}else n=0}while(0);do{if(136==(0|y)){if(r=0-n|0,!(c>>>0>n>>>0&n>>>0<2147483647&-1!=(0|o))){if(-1==(0|o)){n=0;break}l=n,a=o,y=145;break t}if((t=u-n+(t=0|i[5949])&0-t)>>>0>=2147483647){l=n,a=o,y=145;break t}if(-1==(0|Ie(0|t))){Ie(0|r),n=0;break}l=t+n|0,a=o,y=145;break t}}while(0);i[5940]=4|i[5940],y=143}}while(0);if(143==(0|y)&&h>>>0<2147483647&&!(-1==(0|(b=0|Ie(0|h)))|1^(v=(m=(g=0|Ie(0))-b|0)>>>0>(d+40|0)>>>0)|b>>>0<g>>>0&-1!=(0|b)&-1!=(0|g)^1)&&(l=v?m:n,a=b,y=145),145==(0|y)){n=(0|i[5937])+l|0,i[5937]=n,n>>>0>(0|i[5938])>>>0&&(i[5938]=n),u=0|i[5835];t:do{if(u){for(n=23764;;){if((0|a)==((t=0|i[n>>2])+(r=0|i[n+4>>2])|0)){y=154;break}if(!(o=0|i[n+8>>2]))break;n=o}if(154==(0|y)&&(_=n+4|0,0==(8&i[n+12>>2]))&&a>>>0>u>>>0&t>>>0<=u>>>0){i[_>>2]=r+l,_=u+(b=0==(7&(b=u+8|0))?0:0-b&7)|0,b=(w=(0|i[5832])+l|0)-b|0,i[5835]=_,i[5832]=b,i[_+4>>2]=1|b,i[u+w+4>>2]=40,i[5836]=i[5951];break}for(a>>>0<(0|i[5833])>>>0&&(i[5833]=a),r=a+l|0,n=23764;;){if((0|i[n>>2])==(0|r)){y=162;break}if(!(t=0|i[n+8>>2]))break;n=t}if(162==(0|y)&&0==(8&i[n+12>>2])){i[n>>2]=a,i[(f=n+4|0)>>2]=(0|i[f>>2])+l,h=(f=a+(0==(7&(f=a+8|0))?0:0-f&7)|0)+d|0,c=(n=r+(0==(7&(n=r+8|0))?0:0-n&7)|0)-f-d|0,i[f+4>>2]=3|d;e:do{if((0|u)==(0|n))w=(0|i[5832])+c|0,i[5832]=w,i[5835]=h,i[h+4>>2]=1|w;else{if((0|i[5834])==(0|n)){w=(0|i[5831])+c|0,i[5831]=w,i[5834]=h,i[h+4>>2]=1|w,i[h+w>>2]=w;break}if(1==(3&(t=0|i[n+4>>2]))){l=-8&t,o=t>>>3;n:do{if(t>>>0<256){if(t=0|i[n+8>>2],(0|(r=0|i[n+12>>2]))==(0|t)){i[5829]=i[5829]&~(1<<o);break}i[t+12>>2]=r,i[r+8>>2]=t;break}a=0|i[n+24>>2],t=0|i[n+12>>2];do{if((0|t)==(0|n)){if(t=0|i[(o=(r=n+16|0)+4|0)>>2])r=o;else if(!(t=0|i[r>>2])){t=0;break}for(;;)if(o=0|i[(s=t+20|0)>>2])t=o,r=s;else{if(!(o=0|i[(s=t+16|0)>>2]))break;t=o,r=s}i[r>>2]=0}else w=0|i[n+8>>2],i[w+12>>2]=t,i[t+8>>2]=w}while(0);if(!a)break;o=23620+((r=0|i[n+28>>2])<<2)|0;do{if((0|i[o>>2])==(0|n)){if(i[o>>2]=t,0|t)break;i[5830]=i[5830]&~(1<<r);break n}if(i[((0|i[(w=a+16|0)>>2])==(0|n)?w:a+20)>>2]=t,!t)break n}while(0);if(i[t+24>>2]=a,0|(o=0|i[(r=n+16|0)>>2])&&(i[t+16>>2]=o,i[o+24>>2]=t),!(r=0|i[r+4>>2]))break;i[t+20>>2]=r,i[r+24>>2]=t}while(0);n=n+l|0,s=l+c|0}else s=c;if(i[(n=n+4|0)>>2]=-2&i[n>>2],i[h+4>>2]=1|s,i[h+s>>2]=s,n=s>>>3,s>>>0<256){r=23356+(n<<1<<2)|0,(t=0|i[5829])&(n=1<<n)?n=0|i[(t=r+8|0)>>2]:(i[5829]=t|n,n=r,t=r+8|0),i[t>>2]=h,i[n+12>>2]=h,i[h+8>>2]=n,i[h+12>>2]=r;break}n=s>>>8;do{if(n){if(s>>>0>16777215){o=31;break}o=s>>>((o=14-((b=((w=n<<(_=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|_|(o=((w<<=b)+245760|0)>>>16&2))+(w<<o>>>15)|0)+7|0)&1|o<<1}else o=0}while(0);if(n=23620+(o<<2)|0,i[h+28>>2]=o,i[(t=h+16|0)+4>>2]=0,i[t>>2]=0,!((t=0|i[5830])&(r=1<<o))){i[5830]=t|r,i[n>>2]=h,i[h+24>>2]=n,i[h+12>>2]=h,i[h+8>>2]=h;break}n=0|i[n>>2];n:do{if((-8&i[n+4>>2])!=(0|s)){for(o=s<<(31==(0|o)?0:25-(o>>>1));t=0|i[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&i[t+4>>2])==(0|s)){n=t;break n}o<<=1,n=t}i[r>>2]=h,i[h+24>>2]=n,i[h+12>>2]=h,i[h+8>>2]=h;break e}}while(0);w=0|i[(_=n+8|0)>>2],i[w+12>>2]=h,i[_>>2]=h,i[h+8>>2]=w,i[h+12>>2]=n,i[h+24>>2]=0}}while(0);return O=e,0|(w=f+8|0)}for(n=23764;!((t=0|i[n>>2])>>>0<=u>>>0&&(w=t+(0|i[n+4>>2])|0)>>>0>u>>>0);)n=0|i[n+8>>2];n=(t=(t=(s=w+-47|0)+(0==(7&(t=s+8|0))?0:0-t&7)|0)>>>0<(s=u+16|0)>>>0?u:t)+8|0,_=a+(b=0==(7&(b=a+8|0))?0:0-b&7)|0,b=(r=l+-40|0)-b|0,i[5835]=_,i[5832]=b,i[_+4>>2]=1|b,i[a+r+4>>2]=40,i[5836]=i[5951],i[(r=t+4|0)>>2]=27,i[n>>2]=i[5941],i[n+4>>2]=i[5942],i[n+8>>2]=i[5943],i[n+12>>2]=i[5944],i[5941]=a,i[5942]=l,i[5944]=0,i[5943]=n,n=t+24|0;do{_=n,i[(n=n+4|0)>>2]=7}while((_+8|0)>>>0<w>>>0);if((0|t)!=(0|u)){if(a=t-u|0,i[r>>2]=-2&i[r>>2],i[u+4>>2]=1|a,i[t>>2]=a,n=a>>>3,a>>>0<256){r=23356+(n<<1<<2)|0,(t=0|i[5829])&(n=1<<n)?n=0|i[(t=r+8|0)>>2]:(i[5829]=t|n,n=r,t=r+8|0),i[t>>2]=u,i[n+12>>2]=u,i[u+8>>2]=n,i[u+12>>2]=r;break}if(r=23620+((o=(n=a>>>8)?a>>>0>16777215?31:a>>>((o=14-((b=((w=n<<(_=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|_|(o=((w<<=b)+245760|0)>>>16&2))+(w<<o>>>15)|0)+7|0)&1|o<<1:0)<<2)|0,i[u+28>>2]=o,i[u+20>>2]=0,i[s>>2]=0,!((n=0|i[5830])&(t=1<<o))){i[5830]=n|t,i[r>>2]=u,i[u+24>>2]=r,i[u+12>>2]=u,i[u+8>>2]=u;break}n=0|i[r>>2];e:do{if((-8&i[n+4>>2])!=(0|a)){for(o=a<<(31==(0|o)?0:25-(o>>>1));t=0|i[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&i[t+4>>2])==(0|a)){n=t;break e}o<<=1,n=t}i[r>>2]=u,i[u+24>>2]=n,i[u+12>>2]=u,i[u+8>>2]=u;break t}}while(0);w=0|i[(_=n+8|0)>>2],i[w+12>>2]=u,i[_>>2]=u,i[u+8>>2]=w,i[u+12>>2]=n,i[u+24>>2]=0}}else 0==(0|(w=0|i[5833]))|a>>>0<w>>>0&&(i[5833]=a),i[5941]=a,i[5942]=l,i[5944]=0,i[5838]=i[5947],i[5837]=-1,i[5842]=23356,i[5841]=23356,i[5844]=23364,i[5843]=23364,i[5846]=23372,i[5845]=23372,i[5848]=23380,i[5847]=23380,i[5850]=23388,i[5849]=23388,i[5852]=23396,i[5851]=23396,i[5854]=23404,i[5853]=23404,i[5856]=23412,i[5855]=23412,i[5858]=23420,i[5857]=23420,i[5860]=23428,i[5859]=23428,i[5862]=23436,i[5861]=23436,i[5864]=23444,i[5863]=23444,i[5866]=23452,i[5865]=23452,i[5868]=23460,i[5867]=23460,i[5870]=23468,i[5869]=23468,i[5872]=23476,i[5871]=23476,i[5874]=23484,i[5873]=23484,i[5876]=23492,i[5875]=23492,i[5878]=23500,i[5877]=23500,i[5880]=23508,i[5879]=23508,i[5882]=23516,i[5881]=23516,i[5884]=23524,i[5883]=23524,i[5886]=23532,i[5885]=23532,i[5888]=23540,i[5887]=23540,i[5890]=23548,i[5889]=23548,i[5892]=23556,i[5891]=23556,i[5894]=23564,i[5893]=23564,i[5896]=23572,i[5895]=23572,i[5898]=23580,i[5897]=23580,i[5900]=23588,i[5899]=23588,i[5902]=23596,i[5901]=23596,i[5904]=23604,i[5903]=23604,_=a+(b=0==(7&(b=a+8|0))?0:0-b&7)|0,b=(w=l+-40|0)-b|0,i[5835]=_,i[5832]=b,i[_+4>>2]=1|b,i[a+w+4>>2]=40,i[5836]=i[5951]}while(0);if((n=0|i[5832])>>>0>d>>>0)return b=n-d|0,i[5832]=b,_=(w=0|i[5835])+d|0,i[5835]=_,i[_+4>>2]=1|b,i[w+4>>2]=3|d,O=e,0|(w=w+8|0)}return i[(w=23312)>>2]=12,O=e,0|(w=0)}function me(t){var e=0,n=0,r=0,o=0,s=0,a=0,l=0,c=0;if(t|=0){n=t+-8|0,o=0|i[5833],c=n+(e=-8&(t=0|i[t+-4>>2]))|0;do{if(1&t)l=n,a=n;else{if(r=0|i[n>>2],!(3&t))return;if(s=r+e|0,(a=n+(0-r)|0)>>>0<o>>>0)return;if((0|i[5834])==(0|a)){if(3!=(3&(e=0|i[(t=c+4|0)>>2]))){l=a,e=s;break}return i[5831]=s,i[t>>2]=-2&e,i[a+4>>2]=1|s,void(i[a+s>>2]=s)}if(n=r>>>3,r>>>0<256){if(t=0|i[a+8>>2],(0|(e=0|i[a+12>>2]))==(0|t)){i[5829]=i[5829]&~(1<<n),l=a,e=s;break}i[t+12>>2]=e,i[e+8>>2]=t,l=a,e=s;break}o=0|i[a+24>>2],t=0|i[a+12>>2];do{if((0|t)==(0|a)){if(t=0|i[(n=(e=a+16|0)+4|0)>>2])e=n;else if(!(t=0|i[e>>2])){t=0;break}for(;;)if(n=0|i[(r=t+20|0)>>2])t=n,e=r;else{if(!(n=0|i[(r=t+16|0)>>2]))break;t=n,e=r}i[e>>2]=0}else l=0|i[a+8>>2],i[l+12>>2]=t,i[t+8>>2]=l}while(0);if(o){if(e=0|i[a+28>>2],(0|i[(n=23620+(e<<2)|0)>>2])==(0|a)){if(i[n>>2]=t,!t){i[5830]=i[5830]&~(1<<e),l=a,e=s;break}}else if(i[((0|i[(l=o+16|0)>>2])==(0|a)?l:o+20)>>2]=t,!t){l=a,e=s;break}i[t+24>>2]=o,0|(n=0|i[(e=a+16|0)>>2])&&(i[t+16>>2]=n,i[n+24>>2]=t),(e=0|i[e+4>>2])?(i[t+20>>2]=e,i[e+24>>2]=t,l=a,e=s):(l=a,e=s)}else l=a,e=s}}while(0);if(!(a>>>0>=c>>>0)&&1&(r=0|i[(t=c+4|0)>>2])){if(2&r)i[t>>2]=-2&r,i[l+4>>2]=1|e,i[a+e>>2]=e,o=e;else{if((0|i[5835])==(0|c)){if(c=(0|i[5832])+e|0,i[5832]=c,i[5835]=l,i[l+4>>2]=1|c,(0|l)!=(0|i[5834]))return;return i[5834]=0,void(i[5831]=0)}if((0|i[5834])==(0|c))return c=(0|i[5831])+e|0,i[5831]=c,i[5834]=a,i[l+4>>2]=1|c,void(i[a+c>>2]=c);o=(-8&r)+e|0,n=r>>>3;do{if(r>>>0<256){if(e=0|i[c+8>>2],(0|(t=0|i[c+12>>2]))==(0|e)){i[5829]=i[5829]&~(1<<n);break}i[e+12>>2]=t,i[t+8>>2]=e;break}s=0|i[c+24>>2],t=0|i[c+12>>2];do{if((0|t)==(0|c)){if(t=0|i[(n=(e=c+16|0)+4|0)>>2])e=n;else if(!(t=0|i[e>>2])){n=0;break}for(;;)if(n=0|i[(r=t+20|0)>>2])t=n,e=r;else{if(!(n=0|i[(r=t+16|0)>>2]))break;t=n,e=r}i[e>>2]=0,n=t}else n=0|i[c+8>>2],i[n+12>>2]=t,i[t+8>>2]=n,n=t}while(0);if(0|s){if(t=0|i[c+28>>2],(0|i[(e=23620+(t<<2)|0)>>2])==(0|c)){if(i[e>>2]=n,!n){i[5830]=i[5830]&~(1<<t);break}}else if(i[((0|i[(r=s+16|0)>>2])==(0|c)?r:s+20)>>2]=n,!n)break;i[n+24>>2]=s,0|(e=0|i[(t=c+16|0)>>2])&&(i[n+16>>2]=e,i[e+24>>2]=n),0|(t=0|i[t+4>>2])&&(i[n+20>>2]=t,i[t+24>>2]=n)}}while(0);if(i[l+4>>2]=1|o,i[a+o>>2]=o,(0|l)==(0|i[5834]))return void(i[5831]=o)}if(t=o>>>3,o>>>0<256)return n=23356+(t<<1<<2)|0,(e=0|i[5829])&(t=1<<t)?t=0|i[(e=n+8|0)>>2]:(i[5829]=e|t,t=n,e=n+8|0),i[e>>2]=l,i[t+12>>2]=l,i[l+8>>2]=t,void(i[l+12>>2]=n);t=23620+((r=(t=o>>>8)?o>>>0>16777215?31:o>>>((r=14-((s=((c=t<<(a=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|a|(r=((c<<=s)+245760|0)>>>16&2))+(c<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,i[l+28>>2]=r,i[l+20>>2]=0,i[l+16>>2]=0,e=0|i[5830],n=1<<r;t:do{if(e&n){t=0|i[t>>2];e:do{if((-8&i[t+4>>2])!=(0|o)){for(r=o<<(31==(0|r)?0:25-(r>>>1));e=0|i[(n=t+16+(r>>>31<<2)|0)>>2];){if((-8&i[e+4>>2])==(0|o)){t=e;break e}r<<=1,t=e}i[n>>2]=l,i[l+24>>2]=t,i[l+12>>2]=l,i[l+8>>2]=l;break t}}while(0);c=0|i[(a=t+8|0)>>2],i[c+12>>2]=l,i[a>>2]=l,i[l+8>>2]=c,i[l+12>>2]=t,i[l+24>>2]=0}else i[5830]=e|n,i[t>>2]=l,i[l+24>>2]=t,i[l+12>>2]=l,i[l+8>>2]=l}while(0);if(c=(0|i[5837])-1|0,i[5837]=c,!(0|c)){for(t=23772;t=0|i[t>>2];)t=t+8|0;i[5837]=-1}}}}function ve(t,e){e|=0;var n=0;return(t|=0)?(n=0|v(e,t),(e|t)>>>0>65535&&(n=((n>>>0)/(t>>>0)|0)==(0|e)?n:-1)):n=0,(t=0|ye(n))&&3&i[t+-4>>2]?(Te(0|t,0,0|n),0|t):0|t}function be(t,e,n,r){return 0|(w(0|(r=(e|=0)-(r|=0)-((n|=0)>>>0>(t|=0)>>>0|0)>>>0)),t-n>>>0)}function _e(t){return 0|((t|=0)?31-(0|_(t^t-1)):32)}function we(t,e,n,r,o){o|=0;var s=0,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0,A=0;if(h=t|=0,a=n|=0,l=d=r|=0,!(u=c=e|=0))return s=0!=(0|o),l?s?(i[o>>2]=0|t,i[o+4>>2]=0,o=0,0|(w(0|(d=0)),o)):(o=0,0|(w(0|(d=0)),o)):(s&&(i[o>>2]=(h>>>0)%(a>>>0),i[o+4>>2]=0),o=(h>>>0)/(a>>>0)>>>0,0|(w(0|(d=0)),o));s=0==(0|l);do{if(a){if(!s){if((s=(0|_(0|l))-(0|_(0|u))|0)>>>0<=31){a=f=s+1|0,t=h>>>(f>>>0)&(e=s-31>>31)|u<<(l=31-s|0),e&=u>>>(f>>>0),s=0,l=h<<l;break}return o?(i[o>>2]=0|t,i[o+4>>2]=0|c,o=0,0|(w(0|(d=0)),o)):(o=0,0|(w(0|(d=0)),o))}if((s=a-1|0)&a){a=l=33+(0|_(0|a))-(0|_(0|u))|0,t=(f=32-l|0)-1>>31&u>>>((p=l-32|0)>>>0)|(u<<f|h>>>(l>>>0))&(e=p>>31),e&=u>>>(l>>>0),s=h<<(A=64-l|0)&(c=f>>31),l=(u<<A|h>>>(p>>>0))&c|h<<f&l-33>>31;break}return 0|o&&(i[o>>2]=s&h,i[o+4>>2]=0),1==(0|a)?(A=0|t,0|(w(0|(p=0|c)),A)):(p=u>>>((A=0|_e(0|a))>>>0)|0,A=u<<32-A|h>>>(A>>>0),0|(w(0|p),A))}if(s)return 0|o&&(i[o>>2]=(u>>>0)%(a>>>0),i[o+4>>2]=0),A=(u>>>0)/(a>>>0)>>>0,0|(w(0|(p=0)),A);if(!h)return 0|o&&(i[o>>2]=0,i[o+4>>2]=(u>>>0)%(l>>>0)),A=(u>>>0)/(l>>>0)>>>0,0|(w(0|(p=0)),A);if(!((s=l-1|0)&l))return 0|o&&(i[o>>2]=0|t,i[o+4>>2]=s&u),p=0,A=u>>>((0|_e(0|l))>>>0),0|(w(0|p),A);if((s=(0|_(0|l))-(0|_(0|u))|0)>>>0<=30){a=e=s+1|0,t=u<<(l=31-s|0)|h>>>(e>>>0),e=u>>>(e>>>0),s=0,l=h<<l;break}return o?(i[o>>2]=0|t,i[o+4>>2]=0|c,A=0,0|(w(0|(p=0)),A)):(A=0,0|(w(0|(p=0)),A))}while(0);if(a){u=0|function(t,e,n,r){return 0|(w((e|=0)+(r|=0)+((n=(t|=0)+(n|=0)>>>0)>>>0<t>>>0|0)>>>0|0),n)}(0|(f=0|n),0|(h=0|d),-1,-1),n=0|x(),c=l,l=0;do{r=c,c=s>>>31|c<<1,s=l|s<<1,be(0|u,0|n,0|(r=t<<1|r>>>31),0|(d=t>>>31|e<<1)),l=1&(p=(A=0|x())>>31|((0|A)<0?-1:0)<<1),t=0|be(0|r,0|d,p&f,(((0|A)<0?-1:0)>>31|((0|A)<0?-1:0)<<1)&h),e=0|x(),a=a-1|0}while(0!=(0|a));u=c,c=0}else u=l,c=0,l=0;return a=0,0|o&&(i[o>>2]=t,i[o+4>>2]=e),A=s<<1&-2|l,0|(w(0|(p=(0|s)>>>31|(u|a)<<1|c)),A)}function xe(t,e,n,r){var o,s;return s=O,O=O+16|0,we(t|=0,e|=0,n|=0,r|=0,o=0|s),O=s,0|(w(0|i[o+4>>2]),i[o>>2])}function Ee(t,e,n){return t|=0,e|=0,(0|(n|=0))<32?(w(e>>>n|0),t>>>n|(e&(1<<n)-1)<<32-n):(w(0),e>>>n-32|0)}function Se(t,e,n){return t|=0,e|=0,(0|(n|=0))<32?(w(e<<n|(t&(1<<n)-1<<32-n)>>>32-n),t<<n):(w(t<<n-32),0)}function Ce(t,e){return e=+e,(t=+t)!=t?+e:e!=e?+t:+b(+t,+e)}function Pe(t){return(t=+t)>=0?+a(t+.5):+m(t-.5)}function Me(t,e,n){t|=0,e|=0;var o,s,a=0;if((0|(n|=0))>=8192)return P(0|t,0|e,0|n),0|t;if(s=0|t,o=t+n|0,(3&t)==(3&e)){for(;3&t;){if(!n)return 0|s;r[t|0]=0|r[e|0],t=t+1|0,e=e+1|0,n=n-1|0}for(a=(n=-4&o)-64|0;(0|t)<=(0|a);)i[t>>2]=i[e>>2],i[t+4>>2]=i[e+4>>2],i[t+8>>2]=i[e+8>>2],i[t+12>>2]=i[e+12>>2],i[t+16>>2]=i[e+16>>2],i[t+20>>2]=i[e+20>>2],i[t+24>>2]=i[e+24>>2],i[t+28>>2]=i[e+28>>2],i[t+32>>2]=i[e+32>>2],i[t+36>>2]=i[e+36>>2],i[t+40>>2]=i[e+40>>2],i[t+44>>2]=i[e+44>>2],i[t+48>>2]=i[e+48>>2],i[t+52>>2]=i[e+52>>2],i[t+56>>2]=i[e+56>>2],i[t+60>>2]=i[e+60>>2],t=t+64|0,e=e+64|0;for(;(0|t)<(0|n);)i[t>>2]=i[e>>2],t=t+4|0,e=e+4|0}else for(n=o-4|0;(0|t)<(0|n);)r[t|0]=0|r[e|0],r[t+1|0]=0|r[e+1|0],r[t+2|0]=0|r[e+2|0],r[t+3|0]=0|r[e+3|0],t=t+4|0,e=e+4|0;for(;(0|t)<(0|o);)r[t|0]=0|r[e|0],t=t+1|0,e=e+1|0;return 0|s}function Te(t,e,n){e|=0;var o,s=0,a=0,l=0;if(o=(t|=0)+(n|=0)|0,e&=255,(0|n)>=67){for(;3&t;)r[t|0]=e,t=t+1|0;for(l=e|e<<8|e<<16|e<<24,a=(s=-4&o)-64|0;(0|t)<=(0|a);)i[t>>2]=l,i[t+4>>2]=l,i[t+8>>2]=l,i[t+12>>2]=l,i[t+16>>2]=l,i[t+20>>2]=l,i[t+24>>2]=l,i[t+28>>2]=l,i[t+32>>2]=l,i[t+36>>2]=l,i[t+40>>2]=l,i[t+44>>2]=l,i[t+48>>2]=l,i[t+52>>2]=l,i[t+56>>2]=l,i[t+60>>2]=l,t=t+64|0;for(;(0|t)<(0|s);)i[t>>2]=l,t=t+4|0}for(;(0|t)<(0|o);)r[t|0]=e,t=t+1|0;return o-n|0}function Oe(t){return(t=+t)>=0?+a(t+.5):+m(t-.5)}function Ie(t){t|=0;var e,n,r;return r=0|C(),(0|t)>0&(0|(e=(n=0|i[s>>2])+t|0))<(0|n)|(0|e)<0?(T(0|e),S(12),-1):(0|e)>(0|r)&&!(0|M(0|e))?(S(12),-1):(i[s>>2]=e,0|n)}return{___uremdi3:xe,_bitshift64Lshr:Ee,_bitshift64Shl:Se,_calloc:ve,_cellAreaKm2:function(t,e){var n,r,o,s=0;if(o=O,O=O+192|0,r=o,Ht(t|=0,e|=0,n=o+168|0),Wt(t,e,r),(0|(e=0|i[r>>2]))>0){if(s=+Tt(r+8|0,r+8+((1!=(0|e)&1)<<4)|0,n)+0,1!=(0|e)){t=1;do{s+=+Tt(r+8+(t<<4)|0,r+8+((0|(t=t+1|0))%(0|e)<<4)|0,n)}while((0|t)<(0|e))}}else s=0;return O=o,6371.007180918475*s*6371.007180918475},_cellAreaM2:function(t,e){var n,r,o,s=0;if(o=O,O=O+192|0,r=o,Ht(t|=0,e|=0,n=o+168|0),Wt(t,e,r),(0|(e=0|i[r>>2]))>0){if(s=+Tt(r+8|0,r+8+((1!=(0|e)&1)<<4)|0,n)+0,1!=(0|e)){t=1;do{s+=+Tt(r+8+(t<<4)|0,r+8+((0|(t=t+1|0))%(0|e)<<4)|0,n)}while((0|t)<(0|e))}}else s=0;return O=o,6371.007180918475*s*6371.007180918475*1e3*1e3},_cellAreaRads2:function(t,e){var n,r,o,s=0;if(o=O,O=O+192|0,r=o,Ht(t|=0,e|=0,n=o+168|0),Wt(t,e,r),(0|(e=0|i[r>>2]))<=0)return O=o,+(s=0);if(s=+Tt(r+8|0,r+8+((1!=(0|e)&1)<<4)|0,n)+0,1==(0|e))return O=o,+s;t=1;do{s+=+Tt(r+8+(t<<4)|0,r+8+((0|(t=t+1|0))%(0|e)<<4)|0,n)}while((0|t)<(0|e));return O=o,+s},_compact:function(t,e,n){e|=0;var r,o=0,s=0,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0,A=0,g=0,y=0,m=0,v=0,b=0,_=0,w=0,E=0,S=0,C=0;if(!(n|=0))return 0|(S=0);if(o=0|i[(s=t|=0)>>2],!0&0==(15728640&(s=0|i[s+4>>2]))){if((0|n)<=0)return 0|(S=0);if(i[(S=e)>>2]=o,i[S+4>>2]=s,1==(0|n))return 0|(S=0);o=1;do{E=0|i[(w=t+(o<<3)|0)+4>>2],i[(S=e+(o<<3)|0)>>2]=i[w>>2],i[S+4>>2]=E,o=o+1|0}while((0|o)!=(0|n));return 0|(o=0)}if(!(E=0|ye(w=n<<3)))return 0|(S=-3);if(Me(0|E,0|t,0|w),!(r=0|ve(n,8)))return me(E),0|(S=-3);o=n;t:for(;;){b=0|Ee(0|(f=0|i[(l=E)>>2]),0|(l=0|i[l+4>>2]),52),x(),_=(b&=15)+-1|0,v=(0|o)>0;e:do{if(v){if(m=((0|o)<0)<<31>>31,g=0|Se(0|_,0,52),y=0|x(),_>>>0>15)for(s=0,t=f,n=l;;){if(!(0==(0|t)&0==(0|n))){if(a=0|Ee(0|t,0|n,52),x(),c=(0|(a&=15))<(0|_),a=(0|a)==(0|_),n=0|xe(0|(h=c?0:a?t:0),0|(t=c?0:a?n:0),0|o,0|m),x(),0==(0|(u=0|i[(c=a=r+(n<<3)|0)>>2]))&0==(0|(c=0|i[c+4>>2])))n=h;else for(g=0,A=n,p=c,n=h;;){if((0|g)>(0|o)){S=41;break t}if((0|u)==(0|n)&(-117440513&p)==(0|t)){h=0|Ee(0|u,0|p,56),x(),d=(h&=7)+1|0,y=0|Ee(0|u,0|p,45),x();n:do{if(0|N(127&y)){if(u=0|Ee(0|u,0|p,52),x(),!(u&=15)){c=6;break}for(c=1;;){if(!(0==((y=0|Se(7,0,3*(15-c|0)|0))&n)&0==(x()&t))){c=7;break n}if(!(c>>>0<u>>>0)){c=6;break}c=c+1|0}}else c=7}while(0);if((h+2|0)>>>0>c>>>0){S=51;break t}y=0|Se(0|d,0,56),t=x()|-117440513&t,i[(c=a)>>2]=0,i[c+4>>2]=0,c=A,n|=y}else c=(A+1|0)%(0|o)|0;if(0==(0|(u=0|i[(p=a=r+(c<<3)|0)>>2]))&0==(0|(p=0|i[p+4>>2])))break;g=g+1|0,A=c}i[(y=a)>>2]=n,i[y+4>>2]=t}if((0|(s=s+1|0))>=(0|o))break e;t=0|i[(n=E+(s<<3)|0)>>2],n=0|i[n+4>>2]}for(s=0,t=f,n=l;;){if(!(0==(0|t)&0==(0|n))){if(c=0|Ee(0|t,0|n,52),x(),(0|(c&=15))>=(0|_)){if((0|c)!=(0|_)&&(t|=g,n=-15728641&n|y,c>>>0>=b>>>0)){a=_;do{A=0|Se(7,0,3*(14-a|0)|0),a=a+1|0,t|=A,n=x()|n}while(a>>>0<c>>>0)}}else t=0,n=0;if(c=0|xe(0|t,0|n,0|o,0|m),x(),!(0==(0|(h=0|i[(u=a=r+(c<<3)|0)>>2]))&0==(0|(u=0|i[u+4>>2]))))for(A=0;;){if((0|A)>(0|o)){S=41;break t}if((0|h)==(0|t)&(-117440513&u)==(0|n)){d=0|Ee(0|h,0|u,56),x(),p=(d&=7)+1|0,C=0|Ee(0|h,0|u,45),x();n:do{if(0|N(127&C)){if(h=0|Ee(0|h,0|u,52),x(),!(h&=15)){u=6;break}for(u=1;;){if(!(0==((C=0|Se(7,0,3*(15-u|0)|0))&t)&0==(x()&n))){u=7;break n}if(!(u>>>0<h>>>0)){u=6;break}u=u+1|0}}else u=7}while(0);if((d+2|0)>>>0>u>>>0){S=51;break t}C=0|Se(0|p,0,56),n=x()|-117440513&n,i[(p=a)>>2]=0,i[p+4>>2]=0,t|=C}else c=(c+1|0)%(0|o)|0;if(0==(0|(h=0|i[(u=a=r+(c<<3)|0)>>2]))&0==(0|(u=0|i[u+4>>2])))break;A=A+1|0}i[(C=a)>>2]=t,i[C+4>>2]=n}if((0|(s=s+1|0))>=(0|o))break e;t=0|i[(n=E+(s<<3)|0)>>2],n=0|i[n+4>>2]}}}while(0);if((o+5|0)>>>0<11){S=99;break}if(!(y=0|ve((0|o)/6|0,8))){S=58;break}e:do{if(v){A=0,p=0;do{if(!(0==(0|(s=0|i[(t=c=r+(A<<3)|0)>>2]))&0==(0|(t=0|i[t+4>>2])))){u=0|Ee(0|s,0|t,56),x(),n=(u&=7)+1|0,h=-117440513&t,C=0|Ee(0|s,0|t,45),x();n:do{if(0|N(127&C)){if(d=0|Ee(0|s,0|t,52),x(),0|(d&=15))for(a=1;;){if(!(0==(s&(C=0|Se(7,0,3*(15-a|0)|0)))&0==(h&x())))break n;if(!(a>>>0<d>>>0))break;a=a+1|0}s|=t=0|Se(0|n,0,56),t=x()|h,i[(n=c)>>2]=s,i[n+4>>2]=t,n=u+2|0}}while(0);7==(0|n)&&(i[(C=y+(p<<3)|0)>>2]=s,i[C+4>>2]=-117440513&t,p=p+1|0)}A=A+1|0}while((0|A)!=(0|o));if(v){if(g=((0|o)<0)<<31>>31,d=0|Se(0|_,0,52),A=0|x(),_>>>0>15)for(t=0,s=0;;){do{if(!(0==(0|f)&0==(0|l))){for(u=0|Ee(0|f,0|l,52),x(),a=(0|(u&=15))<(0|_),u=(0|u)==(0|_),a=0|xe(0|(c=a?0:u?f:0),0|(u=a?0:u?l:0),0|o,0|g),x(),n=0;;){if((0|n)>(0|o)){S=98;break t}if((-117440513&(h=0|i[(C=r+(a<<3)|0)+4>>2]))==(0|u)&&(0|i[C>>2])==(0|c)){S=70;break}if((0|i[(C=r+((a=(a+1|0)%(0|o)|0)<<3)|0)>>2])==(0|c)&&(0|i[C+4>>2])==(0|u))break;n=n+1|0}if(70==(0|S)&&(S=0,!0&100663296==(117440512&h)))break;i[(C=e+(s<<3)|0)>>2]=f,i[C+4>>2]=l,s=s+1|0}}while(0);if((0|(t=t+1|0))>=(0|o)){o=p;break e}f=0|i[(l=E+(t<<3)|0)>>2],l=0|i[l+4>>2]}for(t=0,s=0;;){do{if(!(0==(0|f)&0==(0|l))){if(u=0|Ee(0|f,0|l,52),x(),(0|(u&=15))>=(0|_))if((0|u)!=(0|_))if(n=f|d,a=-15728641&l|A,u>>>0<b>>>0)u=a;else{c=_;do{C=0|Se(7,0,3*(14-c|0)|0),c=c+1|0,n|=C,a=x()|a}while(c>>>0<u>>>0);u=a}else n=f,u=l;else n=0,u=0;for(c=0|xe(0|n,0|u,0|o,0|g),x(),a=0;;){if((0|a)>(0|o)){S=98;break t}if((-117440513&(h=0|i[(C=r+(c<<3)|0)+4>>2]))==(0|u)&&(0|i[C>>2])==(0|n)){S=93;break}if((0|i[(C=r+((c=(c+1|0)%(0|o)|0)<<3)|0)>>2])==(0|n)&&(0|i[C+4>>2])==(0|u))break;a=a+1|0}if(93==(0|S)&&(S=0,!0&100663296==(117440512&h)))break;i[(C=e+(s<<3)|0)>>2]=f,i[C+4>>2]=l,s=s+1|0}}while(0);if((0|(t=t+1|0))>=(0|o)){o=p;break e}f=0|i[(l=E+(t<<3)|0)>>2],l=0|i[l+4>>2]}}else s=0,o=p}else s=0,o=0}while(0);if(Te(0|r,0,0|w),Me(0|E,0|y,o<<3),me(y),!o)break;e=e+(s<<3)|0}return 41==(0|S)?(me(E),me(r),0|(C=-1)):51==(0|S)?(me(E),me(r),0|(C=-2)):58==(0|S)?(me(E),me(r),0|(C=-3)):98==(0|S)?(me(y),me(E),me(r),0|(C=-1)):(99==(0|S)&&Me(0|e,0|E,o<<3),me(E),me(r),0|(C=0))},_destroyLinkedPolygon:function(t){var e=0,n=0,r=0,o=0;if(t|=0)for(r=1;;){if(0|(e=0|i[t>>2]))do{if(0|(n=0|i[e>>2]))do{o=n,n=0|i[n+16>>2],me(o)}while(0!=(0|n));o=e,e=0|i[e+8>>2],me(o)}while(0!=(0|e));if(e=t,t=0|i[t+8>>2],r||me(e),!t)break;r=0}},_edgeLengthKm:function(t){return+ +o[20752+((t|=0)<<3)>>3]},_edgeLengthM:function(t){return+ +o[20880+((t|=0)<<3)>>3]},_emscripten_replace_memory:function(t){return r=new Int8Array(t),new Uint8Array(t),i=new Int32Array(t),new Float32Array(t),o=new Float64Array(t),n=t,!0},_exactEdgeLengthKm:function(t,e){var n,r,s=0,a=0,l=0,u=0,d=0,p=0;if(r=O,O=O+176|0,Yt(t|=0,e|=0,n=r),(0|(t=0|i[n>>2]))<=1)return O=r,+(l=0);e=t+-1|0,t=0,s=0,a=+o[n+8>>3],l=+o[n+16>>3];do{d=a,a=+o[n+8+((t=t+1|0)<<4)>>3],p=+f(.5*(a-d)),u=l,l=+o[n+8+(t<<4)+8>>3],u=p*p+(u=+f(.5*(l-u)))*(+h(+d)*+h(+a)*u),s+=2*+y(+ +c(+u),+ +c(+(1-u)))}while((0|t)!=(0|e));return O=r,+(p=6371.007180918475*s)},_exactEdgeLengthM:function(t,e){var n,r,s=0,a=0,l=0,u=0,d=0,p=0;if(r=O,O=O+176|0,Yt(t|=0,e|=0,n=r),(0|(t=0|i[n>>2]))<=1)return O=r,+(l=0);e=t+-1|0,t=0,s=0,a=+o[n+8>>3],l=+o[n+16>>3];do{d=a,a=+o[n+8+((t=t+1|0)<<4)>>3],p=+f(.5*(a-d)),u=l,l=+o[n+8+(t<<4)+8>>3],u=p*p+(u=+f(.5*(l-u)))*(+h(+d)*+h(+a)*u),s+=2*+y(+ +c(+u),+ +c(+(1-u)))}while((0|t)!=(0|e));return O=r,+(p=6371.007180918475*s*1e3)},_exactEdgeLengthRads:function(t,e){var n,r,s=0,a=0,l=0,u=0,d=0,p=0;if(r=O,O=O+176|0,Yt(t|=0,e|=0,n=r),(0|(t=0|i[n>>2]))<=1)return O=r,+(l=0);e=t+-1|0,t=0,s=0,a=+o[n+8>>3],l=+o[n+16>>3];do{d=a,a=+o[n+8+((t=t+1|0)<<4)>>3],p=+f(.5*(a-d)),u=l,l=+o[n+8+(t<<4)+8>>3],u=p*p+(u=+f(.5*(l-u)))*(+h(+a)*+h(+d)*u),s+=2*+y(+ +c(+u),+ +c(+(1-u)))}while((0|t)<(0|e));return O=r,+s},_experimentalH3ToLocalIj:function(t,e,n,r,i){var o,s;return i|=0,s=O,O=O+16|0,(t=0|$t(t|=0,e|=0,n|=0,r|=0,o=s))||(dt(o,i),t=0),O=s,0|t},_experimentalLocalIjToH3:function(t,e,n,r){var i,o;return t|=0,e|=0,r|=0,i=O,O=O+16|0,pt(n|=0,o=i),r=0|te(t,e,o,r),O=i,0|r},_free:me,_geoToH3:zt,_getDestinationH3IndexFromUnidirectionalEdge:function(t,e){t|=0;var n,r,o=0;return n=O,O=O+16|0,o=n,!0&268435456==(2013265920&(e|=0))?(r=0|Ee(0|t,0|e,56),x(),i[o>>2]=0,o=0|k(t,-2130706433&e|134217728,7&r,o),e=0|x(),w(0|e),O=n,0|o):(o=0,w(0|(e=0)),O=n,0|o)},_getH3IndexesFromUnidirectionalEdge:function(t,e,n){t|=0;var r,o,s,a,l=0;s=O,O=O+16|0,r=s,a=!0&268435456==(2013265920&(e|=0)),o=-2130706433&e|134217728,i[(l=n|=0)>>2]=a?t:0,i[l+4>>2]=a?o:0,a?(e=0|Ee(0|t,0|e,56),x(),i[r>>2]=0,t=0|k(t,o,7&e,r),e=0|x()):(t=0,e=0),i[(l=n+8|0)>>2]=t,i[l+4>>2]=e,O=s},_getH3UnidirectionalEdge:function(t,e,n,r){var o,s,a=0,l=0,c=0,u=0,h=0;if(s=O,O=O+16|0,o=s,!(0|Xt(t|=0,e|=0,n|=0,r|=0)))return u=0,w(0|(c=0)),O=s,0|u;for(c=-2130706433&e,a=(a=0==(0|kt(t,e)))?1:2;i[o>>2]=0,l=a+1|0,!((0|(h=0|k(t,e,a,o)))==(0|n)&(0|x())==(0|r));){if(!(l>>>0<7)){a=0,t=0,u=6;break}a=l}return 6==(0|u)?(w(0|a),O=s,0|t):(h=0|Se(0|a,0,56),u=c|x()|268435456,h|=t,w(0|u),O=s,0|h)},_getH3UnidirectionalEdgeBoundary:Yt,_getH3UnidirectionalEdgesFromHexagon:function(t,e,n){n|=0;var r,o=0;r=0==(0|kt(t|=0,e|=0)),e&=-2130706433,i[(o=n)>>2]=r?t:0,i[o+4>>2]=r?285212672|e:0,i[(o=n+8|0)>>2]=t,i[o+4>>2]=301989888|e,i[(o=n+16|0)>>2]=t,i[o+4>>2]=318767104|e,i[(o=n+24|0)>>2]=t,i[o+4>>2]=335544320|e,i[(o=n+32|0)>>2]=t,i[o+4>>2]=352321536|e,i[(n=n+40|0)>>2]=t,i[n+4>>2]=369098752|e},_getOriginH3IndexFromUnidirectionalEdge:function(t,e){var n;return t|=0,w(0|((n=!0&268435456==(2013265920&(e|=0)))?-2130706433&e|134217728:0)),0|(n?t:0)},_getPentagonIndexes:qt,_getRes0Indexes:function(t){t|=0;var e=0,n=0,r=0;e=0;do{Se(0|e,0,45),r=134225919|x(),i[(n=t+(e<<3)|0)>>2]=-1,i[n+4>>2]=r,e=e+1|0}while(122!=(0|e))},_h3Distance:function(t,e,n,r){var i,o,s;return n|=0,r|=0,s=O,O=O+32|0,o=s,t=0==(0|$t(t|=0,e|=0,t,e,i=s+12|0))&&0==(0|$t(t,e,n,r,o))?0|ft(i,o):-1,O=s,0|t},_h3GetBaseCell:Ot,_h3GetFaces:function t(e,n,r){r|=0;var o,s=0,a=0,l=0,c=0,u=0,h=0,f=0,d=0;o=O,O=O+128|0,f=o+112|0,l=o+96|0,d=o,a=0|Ee(0|(e|=0),0|(n|=0),52),x(),u=15&a,i[f>>2]=u,c=0|Ee(0|e,0|n,45),x(),c&=127;t:do{if(0|N(c)){if(0|u)for(s=1;;){if(!(0==((h=0|Se(7,0,3*(15-s|0)|0))&e)&0==(x()&n))){a=0;break t}if(!(s>>>0<u>>>0))break;s=s+1|0}if(!(1&a))return h=0|Se(u+1|0,0,52),d=x()|-15728641&n,t((h|e)&~(f=0|Se(7,0,3*(14-u|0)|0)),d&~x(),r),void(O=o);a=1}else a=0}while(0);Vt(e,n,l),a?(_t(l,f,d),h=5):(St(l,f,d),h=6);t:do{if(0|N(c))if(u)for(s=1;;){if(!(0==((c=0|Se(7,0,3*(15-s|0)|0))&e)&0==(x()&n))){s=8;break t}if(!(s>>>0<u>>>0)){s=20;break}s=s+1|0}else s=20;else s=8}while(0);if(Te(0|r,-1,0|s),a){a=0;do{for(xt(l=d+(a<<4)|0,0|i[f>>2]),l=0|i[l>>2],s=0;!(-1==(0|(u=0|i[(c=r+(s<<2)|0)>>2]))|(0|u)==(0|l));)s=s+1|0;i[c>>2]=l,a=a+1|0}while((0|a)!=(0|h))}else{a=0;do{for(wt(l=d+(a<<4)|0,0|i[f>>2],0,1),l=0|i[l>>2],s=0;!(-1==(0|(u=0|i[(c=r+(s<<2)|0)>>2]))|(0|u)==(0|l));)s=s+1|0;i[c>>2]=l,a=a+1|0}while((0|a)!=(0|h))}O=o},_h3GetResolution:function(t,e){return e=0|Ee(0|(t|=0),0|(e|=0),52),x(),15&e},_h3IndexesAreNeighbors:Xt,_h3IsPentagon:kt,_h3IsResClassIII:function(t,e){return e=0|Ee(0|(t|=0),0|(e|=0),52),x(),1&e},_h3IsValid:It,_h3Line:function(t,e,n,r,o){n|=0,r|=0,o|=0;var s,a=0,c=0,u=0,h=0,f=0,d=0,p=0,A=0,g=0,y=0,m=0,v=0,b=0,_=0,w=0,x=0,E=0;if(s=O,O=O+48|0,c=s+12|0,x=s,0==(0|$t(t|=0,e|=0,t,e,a=s+24|0))&&0==(0|$t(t,e,n,r,c))){if((0|(w=0|ft(a,c)))<0)return O=s,0|(x=w);for(i[a>>2]=0,i[a+4>>2]=0,i[a+8>>2]=0,i[c>>2]=0,i[c+4>>2]=0,i[c+8>>2]=0,$t(t,e,t,e,a),$t(t,e,n,r,c),At(a),At(c),w?(g=+(0|w),_=a,n=d=0|i[a>>2],r=p=0|i[(v=a+4|0)>>2],a=A=0|i[(b=a+8|0)>>2],y=+((0|i[c>>2])-d|0)/g,m=+((0|i[c+4>>2])-p|0)/g,g=+((0|i[c+8>>2])-A|0)/g):(v=r=a+4|0,b=A=a+8|0,_=a,n=0|i[a>>2],r=0|i[r>>2],a=0|i[A>>2],y=0,m=0,g=0),i[x>>2]=n,i[(A=x+4|0)>>2]=r,i[(p=x+8|0)>>2]=a,d=0;;){E=y*(h=+(0|d))+ +(0|n),u=m*h+ +(0|i[v>>2]),h=g*h+ +(0|i[b>>2]),r=~~+Pe(+E),c=~~+Pe(+u),n=~~+Pe(+h),E=+l(+(+(0|r)-E)),u=+l(+(+(0|c)-u)),h=+l(+(+(0|n)-h));do{if(!(E>u&E>h)){if(f=0-r|0,u>h){a=f-n|0;break}a=c,n=f-c|0;break}r=0-(c+n)|0,a=c}while(0);if(i[x>>2]=r,i[A>>2]=a,i[p>>2]=n,gt(x),te(t,e,x,o+(d<<3)|0),(0|d)==(0|w))break;d=d+1|0,n=0|i[_>>2]}return O=s,0|(x=0)}return O=s,0|(x=-1)},_h3LineSize:function(t,e,n,r){var i,o,s;return n|=0,r|=0,s=O,O=O+32|0,o=s,t=0==(0|$t(t|=0,e|=0,t,e,i=s+12|0))&&0==(0|$t(t,e,n,r,o))?0|ft(i,o):-1,O=s,(t>>>31^1)+t|0},_h3SetToLinkedGeo:function(t,e,n){n|=0;var r,o,s,a=0;if(s=O,O=O+32|0,r=s,function(t,e,n){t|=0,n|=0;var r,o,s=0,a=0,l=0,c=0,u=0;if(o=O,O=O+176|0,r=o,(0|(e|=0))<1)return ce(n,0,0),void(O=o);c=0|Ee(0|i[(c=t)>>2],0|i[c+4>>2],52),x(),ce(n,(0|e)>6?e:6,15&c),c=0;do{if(Wt(0|i[(s=t+(c<<3)|0)>>2],0|i[s+4>>2],r),(0|(s=0|i[r>>2]))>0){u=0;do{l=r+8+(u<<4)|0,(a=0|pe(n,s=r+8+((0|(u=u+1|0))%(0|s)<<4)|0,l))?fe(n,a):de(n,l,s),s=0|i[r>>2]}while((0|u)<(0|s))}c=c+1|0}while((0|c)!=(0|e));O=o}(t|=0,e|=0,o=s+16|0),i[n>>2]=0,i[n+4>>2]=0,i[n+8>>2]=0,!(t=0|he(o)))return Jt(n),ue(o),void(O=s);do{e=0|Qt(n);do{Kt(e,t),a=t+16|0,i[r>>2]=i[a>>2],i[r+4>>2]=i[a+4>>2],i[r+8>>2]=i[a+8>>2],i[r+12>>2]=i[a+12>>2],fe(o,t),t=0|Ae(o,r)}while(0!=(0|t));t=0|he(o)}while(0!=(0|t));Jt(n),ue(o),O=s},_h3ToCenterChild:function(t,e,n){n|=0;var r=0,i=0;if(r=0|Ee(0|(t|=0),0|(e|=0),52),x(),(0|n)<16&(0|(r&=15))<=(0|n)){if((0|r)!=(0|n)&&(t|=i=0|Se(0|n,0,52),e=x()|-15728641&e,(0|r)<(0|n)))do{i=0|Se(7,0,3*(14-r|0)|0),r=r+1|0,t&=~i,e&=~x()}while((0|r)<(0|n))}else e=0,t=0;return w(0|e),0|t},_h3ToChildren:Lt,_h3ToGeo:Ht,_h3ToGeoBoundary:Wt,_h3ToParent:Rt,_h3UnidirectionalEdgeIsValid:function(t,e){var n=0;if(!(!0&268435456==(2013265920&(e|=0))))return 0|(n=0);switch(n=0|Ee(0|(t|=0),0|e,56),x(),7&n){case 0:case 7:return 0|(n=0)}return!0&16777216==(117440512&e)&0!=(0|kt(t,n=-2130706433&e|134217728))?0|(n=0):0|(n=0|It(t,n))},_hexAreaKm2:function(t){return+ +o[20496+((t|=0)<<3)>>3]},_hexAreaM2:function(t){return+ +o[20624+((t|=0)<<3)>>3]},_hexRing:function(t,e,n,r){t|=0,e|=0,r|=0;var o,s=0,a=0,l=0,c=0,u=0,h=0,f=0;if(o=O,O=O+16|0,f=o,!(n|=0))return i[(f=r)>>2]=t,i[f+4>>2]=e,O=o,0|(f=0);i[f>>2]=0;t:do{if(0|kt(t,e))t=1;else{if(a=(0|n)>0){s=0,h=t;do{if(0==(0|(h=0|k(h,e,4,f)))&0==(0|(e=0|x()))){t=2;break t}if(s=s+1|0,0|kt(h,e)){t=1;break t}}while((0|s)<(0|n));if(i[(u=r)>>2]=h,i[u+4>>2]=e,u=n+-1|0,a){a=0,l=1,s=h,t=e;do{if(0==(0|(s=0|k(s,t,2,f)))&0==(0|(t=0|x()))){t=2;break t}if(i[(c=r+(l<<3)|0)>>2]=s,i[c+4>>2]=t,l=l+1|0,0|kt(s,t)){t=1;break t}a=a+1|0}while((0|a)<(0|n));c=0,a=l;do{if(0==(0|(s=0|k(s,t,3,f)))&0==(0|(t=0|x()))){t=2;break t}if(i[(l=r+(a<<3)|0)>>2]=s,i[l+4>>2]=t,a=a+1|0,0|kt(s,t)){t=1;break t}c=c+1|0}while((0|c)<(0|n));l=0;do{if(0==(0|(s=0|k(s,t,1,f)))&0==(0|(t=0|x()))){t=2;break t}if(i[(c=r+(a<<3)|0)>>2]=s,i[c+4>>2]=t,a=a+1|0,0|kt(s,t)){t=1;break t}l=l+1|0}while((0|l)<(0|n));l=0;do{if(0==(0|(s=0|k(s,t,5,f)))&0==(0|(t=0|x()))){t=2;break t}if(i[(c=r+(a<<3)|0)>>2]=s,i[c+4>>2]=t,a=a+1|0,0|kt(s,t)){t=1;break t}l=l+1|0}while((0|l)<(0|n));l=0;do{if(0==(0|(s=0|k(s,t,4,f)))&0==(0|(t=0|x()))){t=2;break t}if(i[(c=r+(a<<3)|0)>>2]=s,i[c+4>>2]=t,a=a+1|0,0|kt(s,t)){t=1;break t}l=l+1|0}while((0|l)<(0|n));for(l=0;;){if(0==(0|(s=0|k(s,t,6,f)))&0==(0|(t=0|x()))){t=2;break t}if((0|l)!=(0|u)){if(i[(c=r+(a<<3)|0)>>2]=s,i[c+4>>2]=t,0|kt(s,t)){t=1;break t}a=a+1|0}if((0|(l=l+1|0))>=(0|n)){l=h,a=e;break}}}else l=h,s=h,a=e,t=e}else i[(l=r)>>2]=t,i[l+4>>2]=e,l=t,s=t,a=e,t=e;t=1&((0|l)!=(0|s)|(0|a)!=(0|t))}}while(0);return O=o,0|(f=t)},_i64Subtract:be,_kRing:I,_kRingDistances:function(t,e,n,r,i){var o;if(0|R(t|=0,e|=0,n|=0,r|=0,i|=0)){if(Te(0|r,0,(o=1+(0|v(3*n|0,n+1|0))|0)<<3),0|i)return Te(0|i,0,o<<2),void L(t,e,n,r,i,o,0);(i=0|ve(o,4))&&(L(t,e,n,r,i,o,0),me(i))}},_llvm_minnum_f64:Ce,_llvm_round_f64:Pe,_malloc:ye,_maxFaceCount:function(t,e){var n=0,r=0;if(r=0|Ee(0|(t|=0),0|(e|=0),45),x(),!(0|N(127&r)))return 0|(r=2);if(r=0|Ee(0|t,0|e,52),x(),!(r&=15))return 0|(r=5);for(n=1;;){if(!(0==((0|Se(7,0,3*(15-n|0)|0))&t)&0==(x()&e))){n=2,t=6;break}if(!(n>>>0<r>>>0)){n=5,t=6;break}n=n+1|0}return 6==(0|t)?0|n:0},_maxH3ToChildrenSize:function(t,e,n){return n|=0,t=0|Ee(0|(t|=0),0|(e|=0),52),x(),(0|n)<16&(0|(t&=15))<=(0|n)?0|(n=0|ee(7,n-t|0)):0|(n=0)},_maxKringSize:function(t){return 1+(0|v(3*(t|=0)|0,t+1|0))|0},_maxPolyfillSize:function(t,e){e|=0;var n,r=0,o=0,s=0,a=0,l=0;if(n=O,O=O+48|0,s=n+8|0,o=n,a=0|i[(l=t|=0)+4>>2],i[(r=o)>>2]=i[l>>2],i[r+4>>2]=a,re(o,s),s=0|W(s,e),e=0|i[o>>2],(0|(o=0|i[t+8>>2]))<=0)return O=n,0|(l=(l=(a=(0|s)<(0|(l=e)))?l:s)+12|0);r=0|i[t+12>>2],t=0;do{e=(0|i[r+(t<<3)>>2])+e|0,t=t+1|0}while((0|t)<(0|o));return O=n,0|(l=(l=(l=(0|s)<(0|e))?e:s)+12|0)},_maxUncompactSize:function(t,e,n){t|=0,n|=0;var r=0,o=0,s=0,a=0;if((0|(e|=0))<=0)return 0|(n=0);if((0|n)>=16){for(r=0;;){if(!(0==(0|i[(a=t+(r<<3)|0)>>2])&0==(0|i[a+4>>2]))){r=-1,o=13;break}if((0|(r=r+1|0))>=(0|e)){r=0,o=13;break}}if(13==(0|o))return 0|r}r=0,a=0;t:for(;;){s=0|i[(o=t+(a<<3)|0)>>2],o=0|i[o+4>>2];do{if(!(0==(0|s)&0==(0|o))){if(o=0|Ee(0|s,0|o,52),x(),(0|(o&=15))>(0|n)){r=-1,o=13;break t}if((0|o)==(0|n)){r=r+1|0;break}r=(0|ee(7,n-o|0))+r|0;break}}while(0);if((0|(a=a+1|0))>=(0|e)){o=13;break}}return 13==(0|o)?0|r:0},_memcpy:Me,_memset:Te,_numHexagons:function(t){var e;return t=0|i[(e=21008+((t|=0)<<3)|0)>>2],w(0|i[e+4>>2]),0|t},_pentagonIndexCount:function(){return 12},_pointDistKm:Mt,_pointDistM:function(t,e){t|=0;var n,r,i,s=0;return r=+o[(e|=0)>>3],n=+o[t>>3],s=(i=+f(.5*(r-n)))*i+(s=+f(.5*(+o[e+8>>3]-+o[t+8>>3])))*(+h(+r)*+h(+n)*s),2*+y(+ +c(+s),+ +c(+(1-s)))*6371.007180918475*1e3},_pointDistRads:function(t,e){t|=0;var n,r,i,s=0;return r=+o[(e|=0)>>3],n=+o[t>>3],s=(i=+f(.5*(r-n)))*i+(s=+f(.5*(+o[e+8>>3]-+o[t+8>>3])))*(+h(+r)*+h(+n)*s),2*+y(+ +c(+s),+ +c(+(1-s)))},_polyfill:function(t,e,n){var r,o=0,s=0,a=0,l=0,c=0;if(r=O,O=O+48|0,o=r+8|0,s=r,0|function(t,e,n){t|=0,e|=0,n|=0;var r=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0,A=0,g=0,y=0,m=0,v=0,b=0,_=0,w=0,S=0,C=0,P=0,M=0,T=0,I=0,k=0,N=0,D=0,F=0,j=0;j=O,O=O+112|0,k=j+80|0,c=j+72|0,N=j,D=j+56|0,u=t+8|0,F=0|ye(32+(i[u>>2]<<5)|0),F||E(22848,22448,800,22456);if(ie(t,F),s=t,r=0|i[s+4>>2],l=c,i[l>>2]=i[s>>2],i[l+4>>2]=r,re(c,k),l=0|W(k,e),r=0|i[c>>2],s=0|i[u>>2],(0|s)>0){a=0|i[t+12>>2],o=0;do{r=(0|i[a+(o<<3)>>2])+r|0,o=o+1|0}while((0|o)!=(0|s))}if(l=(0|l)<(0|r)?r:l,I=l+12|0,o=0|ve(I,8),h=0|ve(I,8),i[k>>2]=0,M=t,T=0|i[M+4>>2],r=c,i[r>>2]=i[M>>2],i[r+4>>2]=T,r=0|B(c,I,e,k,o,h),0|r)return me(o),me(h),me(F),O=j,0|(F=r);t:do{if((0|i[u>>2])>0){for(s=t+12|0,r=0;a=0|B((0|i[s>>2])+(r<<3)|0,I,e,k,o,h),r=r+1|0,!(0|a);)if((0|r)>=(0|i[u>>2]))break t;return me(o),me(h),me(F),O=j,0|(F=a)}}while(0);(0|l)>-12&&Te(0|h,0,((0|I)>1?I:1)<<3);t:do{if((0|i[k>>2])>0){T=((0|I)<0)<<31>>31,_=o,w=h,S=o,C=o,P=h,M=o,r=o,y=o,m=h,v=h,b=h,o=h;e:for(;;){for(g=0|i[k>>2],p=0,A=0,s=0;;){l=(a=N)+56|0;do{i[a>>2]=0,a=a+4|0}while((0|a)<(0|l));if(0|R(c=0|i[(e=_+(p<<3)|0)>>2],e=0|i[e+4>>2],1,N,0)){l=(a=N)+56|0;do{i[a>>2]=0,a=a+4|0}while((0|a)<(0|l));0|(a=0|ve(7,4))&&(L(c,e,1,N,a,7,0),me(a))}d=0;do{h=0|i[(f=N+(d<<3)|0)>>2],f=0|i[f+4>>2];n:do{if(!(0==(0|h)&0==(0|f))){if(c=0|xe(0|h,0|f,0|I,0|T),x(),!(0==(0|(e=0|i[(l=a=n+(c<<3)|0)>>2]))&0==(0|(l=0|i[l+4>>2]))))for(u=0;;){if((0|u)>(0|I))break e;if((0|e)==(0|h)&(0|l)==(0|f))break n;if(0==(0|(e=0|i[(l=a=n+((c=(c+1|0)%(0|I)|0)<<3)|0)>>2]))&0==(0|(l=0|i[l+4>>2])))break;u=u+1|0}0==(0|h)&0==(0|f)||(Ht(h,f,D),0|oe(t,F,D)&&(i[(u=a)>>2]=h,i[u+4>>2]=f,i[(u=w+(s<<3)|0)>>2]=h,i[u+4>>2]=f,s=s+1|0))}}while(0);d=d+1|0}while(d>>>0<7);if((0|(A=A+1|0))>=(0|g))break;p=p+1|0}if((0|g)>0&&Te(0|S,0,g<<3),i[k>>2]=s,!((0|s)>0))break t;h=o,f=b,d=M,p=v,A=m,g=w,o=y,b=r,v=C,m=S,y=h,r=f,M=P,P=d,C=p,S=A,w=_,_=g}return me(C),me(P),me(F),O=j,0|(F=-1)}r=h}while(0);return me(F),me(o),me(r),F=0,O=j,0|F}(t|=0,e|=0,n|=0)){if(a=0|i[(c=t)+4>>2],i[(l=s)>>2]=i[c>>2],i[l+4>>2]=a,re(s,o),l=0|W(o,e),e=0|i[s>>2],(0|(a=0|i[t+8>>2]))>0){s=0|i[t+12>>2],o=0;do{e=(0|i[s+(o<<3)>>2])+e|0,o=o+1|0}while((0|o)!=(0|a))}(0|(e=(0|l)<(0|e)?e:l))<=-12||Te(0|n,0,8+(((0|(c=e+11|0))>0?c:0)<<3)|0),O=r}else O=r},_res0IndexCount:function(){return 122},_round:Oe,_sbrk:Ie,_sizeOfCoordIJ:function(){return 8},_sizeOfGeoBoundary:function(){return 168},_sizeOfGeoCoord:function(){return 16},_sizeOfGeoPolygon:function(){return 16},_sizeOfGeofence:function(){return 8},_sizeOfH3Index:function(){return 8},_sizeOfLinkedGeoPolygon:function(){return 12},_uncompact:function(t,e,n,r,o){t|=0,n|=0,r|=0,o|=0;var s=0,a=0,l=0,c=0,u=0,h=0;if((0|(e|=0))<=0)return 0|(o=0);if((0|o)>=16){for(s=0;;){if(!(0==(0|i[(h=t+(s<<3)|0)>>2])&0==(0|i[h+4>>2]))){s=14;break}if((0|(s=s+1|0))>=(0|e)){a=0,s=16;break}}if(14==(0|s))return 0|((0|r)>0?-2:-1);if(16==(0|s))return 0|a}s=0,h=0;t:for(;;){a=0|i[(l=u=t+(h<<3)|0)>>2],l=0|i[l+4>>2];do{if(!(0==(0|a)&0==(0|l))){if((0|s)>=(0|r)){a=-1,s=16;break t}if(c=0|Ee(0|a,0|l,52),x(),(0|(c&=15))>(0|o)){a=-2,s=16;break t}if((0|c)==(0|o)){i[(u=n+(s<<3)|0)>>2]=a,i[u+4>>2]=l,s=s+1|0;break}if((0|(a=(0|ee(7,o-c|0))+s|0))>(0|r)){a=-1,s=16;break t}Lt(0|i[u>>2],0|i[u+4>>2],o,n+(s<<3)|0),s=a}}while(0);if((0|(h=h+1|0))>=(0|e)){a=0,s=16;break}}return 16==(0|s)?0|a:0},establishStackSpace:function(t,e){O=t|=0},stackAlloc:function(t){var e;return e=O,O=(O=O+(t|=0)|0)+15&-16,0|e},stackRestore:function(t){O=t|=0},stackSave:function(){return 0|O}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:lt,b:function(t){c=t},c:u,d:function(t,e,n,r){lt("Assertion failed: "+A(t)+", at: "+[e?A(e):"unknown filename",n,r?A(r):"unknown function"])},e:function(t){return n.___errno_location&&(b[n.___errno_location()>>2]=t),t},f:q,g:function(t,e,n){m.set(m.subarray(e,e+n),t)},h:function(t){var e=q(),n=16777216,r=2130706432;if(t>r)return!1;for(var i=Math.max(e,16777216);i<t;)i=i<=536870912?x(2*i,n):Math.min(x((3*i+2147483648)/4,n),r);return!!X(i)},i:function(t){lt("OOM")},j:V,k:H,l:X,m:W,n:function(){var t=W();return n.extraStackTrace&&(t+="\n"+n.extraStackTrace()),H(t)},o:24032,p:24016},g),$=(n.___uremdi3=Z.___uremdi3,n._bitshift64Lshr=Z._bitshift64Lshr,n._bitshift64Shl=Z._bitshift64Shl,n._calloc=Z._calloc,n._cellAreaKm2=Z._cellAreaKm2,n._cellAreaM2=Z._cellAreaM2,n._cellAreaRads2=Z._cellAreaRads2,n._compact=Z._compact,n._destroyLinkedPolygon=Z._destroyLinkedPolygon,n._edgeLengthKm=Z._edgeLengthKm,n._edgeLengthM=Z._edgeLengthM,n._emscripten_replace_memory=Z._emscripten_replace_memory),tt=(n._exactEdgeLengthKm=Z._exactEdgeLengthKm,n._exactEdgeLengthM=Z._exactEdgeLengthM,n._exactEdgeLengthRads=Z._exactEdgeLengthRads,n._experimentalH3ToLocalIj=Z._experimentalH3ToLocalIj,n._experimentalLocalIjToH3=Z._experimentalLocalIjToH3,n._free=Z._free,n._geoToH3=Z._geoToH3,n._getDestinationH3IndexFromUnidirectionalEdge=Z._getDestinationH3IndexFromUnidirectionalEdge,n._getH3IndexesFromUnidirectionalEdge=Z._getH3IndexesFromUnidirectionalEdge,n._getH3UnidirectionalEdge=Z._getH3UnidirectionalEdge,n._getH3UnidirectionalEdgeBoundary=Z._getH3UnidirectionalEdgeBoundary,n._getH3UnidirectionalEdgesFromHexagon=Z._getH3UnidirectionalEdgesFromHexagon,n._getOriginH3IndexFromUnidirectionalEdge=Z._getOriginH3IndexFromUnidirectionalEdge,n._getPentagonIndexes=Z._getPentagonIndexes,n._getRes0Indexes=Z._getRes0Indexes,n._h3Distance=Z._h3Distance,n._h3GetBaseCell=Z._h3GetBaseCell,n._h3GetFaces=Z._h3GetFaces,n._h3GetResolution=Z._h3GetResolution,n._h3IndexesAreNeighbors=Z._h3IndexesAreNeighbors,n._h3IsPentagon=Z._h3IsPentagon,n._h3IsResClassIII=Z._h3IsResClassIII,n._h3IsValid=Z._h3IsValid,n._h3Line=Z._h3Line,n._h3LineSize=Z._h3LineSize,n._h3SetToLinkedGeo=Z._h3SetToLinkedGeo,n._h3ToCenterChild=Z._h3ToCenterChild,n._h3ToChildren=Z._h3ToChildren,n._h3ToGeo=Z._h3ToGeo,n._h3ToGeoBoundary=Z._h3ToGeoBoundary,n._h3ToParent=Z._h3ToParent,n._h3UnidirectionalEdgeIsValid=Z._h3UnidirectionalEdgeIsValid,n._hexAreaKm2=Z._hexAreaKm2,n._hexAreaM2=Z._hexAreaM2,n._hexRing=Z._hexRing,n._i64Subtract=Z._i64Subtract,n._kRing=Z._kRing,n._kRingDistances=Z._kRingDistances,n._llvm_minnum_f64=Z._llvm_minnum_f64,n._llvm_round_f64=Z._llvm_round_f64,n._malloc=Z._malloc,n._maxFaceCount=Z._maxFaceCount,n._maxH3ToChildrenSize=Z._maxH3ToChildrenSize,n._maxKringSize=Z._maxKringSize,n._maxPolyfillSize=Z._maxPolyfillSize,n._maxUncompactSize=Z._maxUncompactSize,n._memcpy=Z._memcpy,n._memset=Z._memset,n._numHexagons=Z._numHexagons,n._pentagonIndexCount=Z._pentagonIndexCount,n._pointDistKm=Z._pointDistKm,n._pointDistM=Z._pointDistM,n._pointDistRads=Z._pointDistRads,n._polyfill=Z._polyfill,n._res0IndexCount=Z._res0IndexCount,n._round=Z._round,n._sbrk=Z._sbrk,n._sizeOfCoordIJ=Z._sizeOfCoordIJ,n._sizeOfGeoBoundary=Z._sizeOfGeoBoundary,n._sizeOfGeoCoord=Z._sizeOfGeoCoord,n._sizeOfGeoPolygon=Z._sizeOfGeoPolygon,n._sizeOfGeofence=Z._sizeOfGeofence,n._sizeOfH3Index=Z._sizeOfH3Index,n._sizeOfLinkedGeoPolygon=Z._sizeOfLinkedGeoPolygon,n._uncompact=Z._uncompact,n.establishStackSpace=Z.establishStackSpace,n.stackAlloc=Z.stackAlloc),et=n.stackRestore=Z.stackRestore,nt=n.stackSave=Z.stackSave;if(n.asm=Z,n.cwrap=function(t,e,n,r){var i=(n=n||[]).every((function(t){return"number"===t}));return"string"!==e&&i&&!r?f(t):function(){return d(t,e,n,arguments)}},n.setValue=function(t,e,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":y[t|0]=e;break;case"i16":v[t>>1]=e;break;case"i32":b[t>>2]=e;break;case"i64":j=[e>>>0,(F=e,+I(F)>=1?F>0?(0|k(+L(F/4294967296),4294967295))>>>0:~~+R((F-+(~~F>>>0))/4294967296)>>>0:0)],b[t>>2]=j[0],b[t+4>>2]=j[1];break;case"float":_[t>>2]=e;break;case"double":w[t>>3]=e;break;default:lt("invalid type for setValue: "+n)}},n.getValue=function(t,e,n){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return y[t|0];case"i16":return v[t>>1];case"i32":case"i64":return b[t>>2];case"float":return _[t>>2];case"double":return w[t>>3];default:lt("invalid type for getValue: "+e)}return null},n.getTempRet0=u,U){G(U)||(K=U,U=n.locateFile?n.locateFile(K,s):s+K),B++,n.monitorRunDependencies&&n.monitorRunDependencies(B);var rt=function(t){t.byteLength&&(t=new Uint8Array(t)),m.set(t,8),n.memoryInitializerRequest&&delete n.memoryInitializerRequest.response,function(){if(B--,n.monitorRunDependencies&&n.monitorRunDependencies(B),0==B&&(null!==N&&(clearInterval(N),N=null),D)){var t=D;D=null,t()}}()},it=function(){i(U,rt,(function(){throw"could not load memory initializer "+U}))},ot=Q(U);if(ot)rt(ot.buffer);else if(n.memoryInitializerRequest){var st=function(){var t=n.memoryInitializerRequest,e=t.response;if(200!==t.status&&0!==t.status){var r=Q(n.memoryInitializerRequestURL);if(!r)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+t.status+", retrying "+U),void it();e=r.buffer}rt(e)};n.memoryInitializerRequest.response?setTimeout(st,0):n.memoryInitializerRequest.addEventListener("load",st)}else it()}function at(t){function e(){J||(J=!0,h||(C(M),C(T),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)t=n.postRun.shift(),O.unshift(t);var t;C(O)}()))}t=t||o,B>0||(!function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)t=n.preRun.shift(),P.unshift(t);var t;C(P)}(),B>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e()))}function lt(t){throw n.onAbort&&n.onAbort(t),a(t+=""),l(t),h=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}if(D=function t(){J||at(),J||(D=t)},n.run=at,n.abort=lt,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return at(),t}("object"===typeof r?r:{}),i="number",o={};[["sizeOfH3Index",i],["sizeOfGeoCoord",i],["sizeOfGeoBoundary",i],["sizeOfGeoPolygon",i],["sizeOfGeofence",i],["sizeOfLinkedGeoPolygon",i],["sizeOfCoordIJ",i],["h3IsValid",i,[i,i]],["geoToH3",i,[i,i,i]],["h3ToGeo",null,[i,i,i]],["h3ToGeoBoundary",null,[i,i,i]],["maxKringSize",i,[i]],["kRing",null,[i,i,i,i]],["kRingDistances",null,[i,i,i,i,i]],["hexRing",null,[i,i,i,i]],["maxPolyfillSize",i,[i,i]],["polyfill",null,[i,i,i]],["h3SetToLinkedGeo",null,[i,i,i]],["destroyLinkedPolygon",null,[i]],["compact",i,[i,i,i]],["uncompact",i,[i,i,i,i,i]],["maxUncompactSize",i,[i,i,i]],["h3IsPentagon",i,[i,i]],["h3IsResClassIII",i,[i,i]],["h3GetBaseCell",i,[i,i]],["h3GetResolution",i,[i,i]],["maxFaceCount",i,[i,i]],["h3GetFaces",null,[i,i,i]],["h3ToParent",i,[i,i,i]],["h3ToChildren",null,[i,i,i,i]],["h3ToCenterChild",i,[i,i,i]],["maxH3ToChildrenSize",i,[i,i,i]],["h3IndexesAreNeighbors",i,[i,i,i,i]],["getH3UnidirectionalEdge",i,[i,i,i,i]],["getOriginH3IndexFromUnidirectionalEdge",i,[i,i]],["getDestinationH3IndexFromUnidirectionalEdge",i,[i,i]],["h3UnidirectionalEdgeIsValid",i,[i,i]],["getH3IndexesFromUnidirectionalEdge",null,[i,i,i]],["getH3UnidirectionalEdgesFromHexagon",null,[i,i,i]],["getH3UnidirectionalEdgeBoundary",null,[i,i,i]],["h3Distance",i,[i,i,i,i]],["h3Line",i,[i,i,i,i,i]],["h3LineSize",i,[i,i,i,i]],["experimentalH3ToLocalIj",i,[i,i,i,i,i]],["experimentalLocalIjToH3",i,[i,i,i,i]],["hexAreaM2",i,[i]],["hexAreaKm2",i,[i]],["edgeLengthM",i,[i]],["edgeLengthKm",i,[i]],["pointDistM",i,[i,i]],["pointDistKm",i,[i,i]],["pointDistRads",i,[i,i]],["cellAreaM2",i,[i,i]],["cellAreaKm2",i,[i,i]],["cellAreaRads2",i,[i,i]],["exactEdgeLengthM",i,[i,i]],["exactEdgeLengthKm",i,[i,i]],["exactEdgeLengthRads",i,[i,i]],["numHexagons",i,[i]],["getRes0Indexes",null,[i]],["res0IndexCount",i],["getPentagonIndexes",null,[i,i]],["pentagonIndexCount",i]].forEach((function(t){o[t[0]]=r.cwrap.apply(r,t)}));var s=16,a=4,l=4,c=8,u=o.sizeOfH3Index(),h=o.sizeOfGeoCoord(),f=o.sizeOfGeoBoundary(),d=o.sizeOfGeoPolygon(),p=o.sizeOfGeofence(),A=o.sizeOfLinkedGeoPolygon(),g=o.sizeOfCoordIJ(),y={m:"m",m2:"m2",km:"km",km2:"km2",rads:"rads",rads2:"rads2"};function m(t){if("number"!==typeof t||t<0||t>15||Math.floor(t)!==t)throw new Error("Invalid resolution: "+t)}var v=/[^0-9a-fA-F]/;function b(t){if(Array.isArray(t)&&2===t.length&&Number.isInteger(t[0])&&Number.isInteger(t[1]))return t;if("string"!==typeof t||v.test(t))return[0,0];var e=parseInt(t.substring(0,t.length-8),s);return[parseInt(t.substring(t.length-8),s),e]}function _(t){if(t>=0)return t.toString(s);var e=x(8,(t&=2147483647).toString(s));return e=(parseInt(e[0],s)+8).toString(s)+e.substring(1)}function w(t,e){return _(e)+x(8,_(t))}function x(t,e){for(var n=t-e.length,r="",i=0;i<n;i++)r+="0";return r+=e}function E(t,e,n){for(var i=t.length,o=r._calloc(i,h),s=n?1:0,l=n?0:1,u=0;u<2*i;u+=2)r.HEAPF64.set([t[u/2][s],t[u/2][l]].map(_t),o/c+u);return r.HEAPU32.set([i,o],e/a),e}function S(t){return[t,r.getTempRet0()]}function C(t){var e=S(t),n=e[0],r=e[1];return r?w(n,r):null}function P(t,e){void 0===e&&(e=0);var n=r.getValue(t+a*e*2,"i32"),i=r.getValue(t+a*(2*e+1),"i32");return i?w(n,i):null}function M(t,e,n){r.HEAPU32.set(b(t),e/a+2*n)}function T(t,e){for(var n=[],r=0;r<e;r++){var i=P(t,r);null!==i&&n.push(i)}return n}function O(t,e){for(var n=e.length,r=0;r<n;r++)M(e[r],t,r)}function I(t,e){var n=r._calloc(1,h);return r.HEAPF64.set([t,e].map(_t),n/c),n}function R(t){return wt(r.getValue(t,"double"))}function L(t){return[R(t),R(t+c)]}function k(t){return[R(t+c),R(t)]}function B(t,e,n){for(var i=r.getValue(t,"i32"),o=t+c,s=[],a=e?k:L,l=0;l<2*i;l+=2)s.push(a(o+c*l));return n&&s.push(s[0]),s}function N(t){var e=b(t),n=e[0],r=e[1];return Boolean(o.h3IsValid(n,r))}function D(t){var e=b(t),n=e[0],r=e[1];return Boolean(o.h3IsPentagon(n,r))}function F(t){var e=b(t),n=e[0],r=e[1];return Boolean(o.h3IsResClassIII(n,r))}function j(t){var e=b(t),n=e[0],r=e[1];return o.h3GetBaseCell(n,r)}function U(t){var e=b(t),n=e[0],i=e[1],s=o.maxFaceCount(n,i),l=r._malloc(a*s);o.h3GetFaces(n,i,l);var c=function(t,e){for(var n=[],i=0;i<e;i++){var o=r.getValue(t+a*i,"i32");o>=0&&n.push(o)}return n}(l,s);return r._free(l),c}function z(t){var e=b(t),n=e[0],r=e[1];return o.h3IsValid(n,r)?o.h3GetResolution(n,r):-1}function G(t,e,n){var i=r._malloc(h);r.HEAPF64.set([t,e].map(_t),i/c);var s=C(o.geoToH3(i,n));return r._free(i),s}function V(t){var e=r._malloc(h),n=b(t),i=n[0],s=n[1];o.h3ToGeo(i,s,e);var a=L(e);return r._free(e),a}function H(t,e){var n=r._malloc(f),i=b(t),s=i[0],a=i[1];o.h3ToGeoBoundary(s,a,n);var l=B(n,e,e);return r._free(n),l}function W(t,e){var n=b(t),r=n[0],i=n[1];return C(o.h3ToParent(r,i,e))}function q(t,e){if(!N(t))return[];var n=b(t),i=n[0],s=n[1],a=o.maxH3ToChildrenSize(i,s,e),l=r._calloc(a,u);o.h3ToChildren(i,s,e,l);var c=T(l,a);return r._free(l),c}function X(t,e){var n=b(t),r=n[0],i=n[1];return C(o.h3ToCenterChild(r,i,e))}function Y(t,e){var n=b(t),i=n[0],s=n[1],a=o.maxKringSize(e),l=r._calloc(a,u);o.kRing(i,s,e,l);var c=T(l,a);return r._free(l),c}function Q(t,e){var n=b(t),i=n[0],s=n[1],l=o.maxKringSize(e),c=r._calloc(l,u),h=r._calloc(l,a);o.kRingDistances(i,s,e,c,h);for(var f=[],d=0;d<e+1;d++)f.push([]);for(var p=0;p<2*l;p+=2){var A=r.getValue(c+a*p,"i32"),g=r.getValue(c+a*(p+1),"i32"),y=r.getValue(h+a*(p/2),"i32");0===A&&0===g||f[y].push(w(A,g))}return r._free(c),r._free(h),f}function K(t,e){var n=0===e?1:6*e,i=r._calloc(n,u);if(0!==o.hexRing.apply(o,b(t).concat([e],[i])))throw r._free(i),new Error("Failed to get hexRing (encountered a pentagon?)");var s=T(i,n);return r._free(i),s}function J(t,e,n){if(m(e),n=Boolean(n),0===t.length||0===t[0].length)return[];"number"===typeof t[0][0]&&(t=[t]);var i=function(t,e){var n,i=t.length-1,o=r._calloc(d),s=0+p,l=s+a;if(E(t[0],o+0,e),i>0){n=r._calloc(i,p);for(var c=0;c<i;c++)E(t[c+1],n+p*c,e)}return r.setValue(o+s,i,"i32"),r.setValue(o+l,n,"i32"),o}(t,n),s=o.maxPolyfillSize(i,e),l=r._calloc(s,u);o.polyfill(i,e,l);var c=T(l,s);return r._free(l),function(t){var e=0+p,n=e+a,i=a;r._free(r.getValue(t+0+i,"i8*"));var o=r.getValue(t+e,"i32");if(o>0){for(var s=r.getValue(t+n,"i32"),l=0;l<o;l++)r._free(r.getValue(s+p*l+i,"i8*"));r._free(s)}r._free(t)}(i),c}function Z(t,e){if(!t||!t.length)return[];var n=t.length,i=r._calloc(n,u);O(i,t);var s=r._calloc(A),a=s;o.h3SetToLinkedGeo(i,n,s);var h=function(t,e){for(var n,i,o,s,a=[],u=e?k:L;t;){for(a.push(n=[]),i=r.getValue(t,"i8*");i;){for(n.push(o=[]),s=r.getValue(i,"i8*");s;)o.push(u(s)),s=r.getValue(s+2*c,"i8*");e&&o.push(o[0]),i=r.getValue(i+2*l,"i8*")}t=r.getValue(t+2*l,"i8*")}return a}(s,e);return o.destroyLinkedPolygon(a),r._free(a),r._free(i),h}function $(t){if(!t||!t.length)return[];var e=t.length,n=r._calloc(e,u);O(n,t);var i=r._calloc(e,u);if(0!==o.compact(n,i,e))throw r._free(n),r._free(i),new Error("Failed to compact, malformed input data (duplicate hexagons?)");var s=T(i,e);return r._free(n),r._free(i),s}function tt(t,e){if(m(e),!t||!t.length)return[];var n=t.length,i=r._calloc(n,u);O(i,t);var s=o.maxUncompactSize(i,n,e),a=r._calloc(s,u);if(0!==o.uncompact(i,n,a,s,e))throw r._free(i),r._free(a),new Error("Failed to uncompact (bad resolution?)");var l=T(a,s);return r._free(i),r._free(a),l}function et(t,e){var n=b(t),r=n[0],i=n[1],s=b(e),a=s[0],l=s[1];return Boolean(o.h3IndexesAreNeighbors(r,i,a,l))}function nt(t,e){var n=b(t),r=n[0],i=n[1],s=b(e),a=s[0],l=s[1];return C(o.getH3UnidirectionalEdge(r,i,a,l))}function rt(t){var e=b(t),n=e[0],r=e[1];return C(o.getOriginH3IndexFromUnidirectionalEdge(n,r))}function it(t){var e=b(t),n=e[0],r=e[1];return C(o.getDestinationH3IndexFromUnidirectionalEdge(n,r))}function ot(t){var e=b(t),n=e[0],r=e[1];return Boolean(o.h3UnidirectionalEdgeIsValid(n,r))}function st(t){var e=b(t),n=e[0],i=e[1],s=r._calloc(2,u);o.getH3IndexesFromUnidirectionalEdge(n,i,s);var a=T(s,2);return r._free(s),a}function at(t){var e=b(t),n=e[0],i=e[1],s=r._calloc(6,u);o.getH3UnidirectionalEdgesFromHexagon(n,i,s);var a=T(s,6);return r._free(s),a}function lt(t,e){var n=r._malloc(f),i=b(t),s=i[0],a=i[1];o.getH3UnidirectionalEdgeBoundary(s,a,n);var l=B(n,e);return r._free(n),l}function ct(t,e){var n=b(t),r=n[0],i=n[1],s=b(e),a=s[0],l=s[1];return o.h3Distance(r,i,a,l)}function ut(t,e){var n=b(t),i=n[0],s=n[1],a=b(e),l=a[0],c=a[1],h=o.h3LineSize(i,s,l,c);if(h<0)throw new Error("Line cannot be calculated");var f=r._calloc(h,u);o.h3Line(i,s,l,c,f);var d=T(f,h);return r._free(f),d}function ht(t,e){var n,i=r._malloc(g),s=o.experimentalH3ToLocalIj.apply(o,b(t).concat(b(e),[i])),l=(n=i,{i:r.getValue(n,"i32"),j:r.getValue(n+a,"i32")});switch(r._free(i),s){case 0:return l;case 1:throw new Error("Incompatible origin and index.");case 2:default:throw new Error("Local IJ coordinates undefined for this origin and index pair. The index may be too far from the origin.");case 3:case 4:case 5:throw new Error("Encountered possible pentagon distortion")}}function ft(t,e){if(!e||"number"!==typeof e.i||"number"!==typeof e.j)throw new Error("Coordinates must be provided as an {i, j} object");var n=r._malloc(g),i=r._malloc(u);!function(t,e){var n=e.i,i=e.j;r.setValue(t,n,"i32"),r.setValue(t+a,i,"i32")}(n,e);var s=o.experimentalLocalIjToH3.apply(o,b(t).concat([n],[i])),l=P(i);if(r._free(n),r._free(i),0!==s)throw new Error("Index not defined for this origin and IJ coordinates pair. IJ coordinates may be too far from origin, or a pentagon distortion was encountered.");return l}function dt(t,e,n){var i,s=I(t[0],t[1]),a=I(e[0],e[1]);switch(n){case y.m:i=o.pointDistM(s,a);break;case y.km:i=o.pointDistKm(s,a);break;case y.rads:i=o.pointDistRads(s,a);break;default:i=null}if(r._free(s),r._free(a),null===i)throw new Error("Unknown unit: "+n);return i}function pt(t,e){var n=b(t),r=n[0],i=n[1];switch(e){case y.m2:return o.cellAreaM2(r,i);case y.km2:return o.cellAreaKm2(r,i);case y.rads2:return o.cellAreaRads2(r,i);default:throw new Error("Unknown unit: "+e)}}function At(t,e){var n=b(t),r=n[0],i=n[1];switch(e){case y.m:return o.exactEdgeLengthM(r,i);case y.km:return o.exactEdgeLengthKm(r,i);case y.rads:return o.exactEdgeLengthRads(r,i);default:throw new Error("Unknown unit: "+e)}}function gt(t,e){switch(m(t),e){case y.m2:return o.hexAreaM2(t);case y.km2:return o.hexAreaKm2(t);default:throw new Error("Unknown unit: "+e)}}function yt(t,e){switch(m(t),e){case y.m:return o.edgeLengthM(t);case y.km:return o.edgeLengthKm(t);default:throw new Error("Unknown unit: "+e)}}function mt(t){m(t);var e=S(o.numHexagons(t)),n=e[0],r=e[1];return r?r*Math.pow(2,32)+n:n}function vt(){var t=o.res0IndexCount(),e=r._malloc(u*t);o.getRes0Indexes(e);var n=T(e,t);return r._free(e),n}function bt(t){m(t);var e=o.pentagonIndexCount(),n=r._malloc(u*e);o.getPentagonIndexes(t,n);var i=T(n,e);return r._free(n),i}function _t(t){return t*Math.PI/180}function wt(t){return 180*t/Math.PI}},6895:(t,e,n)=>{var r;!function(i,o,s,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),h="function",f=Math.round,d=Math.abs,p=Date.now;function A(t,e,n){return setTimeout(w(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function m(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}l="function"!==typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var v=m((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===a)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),b=m((function(t,e){return v(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&l(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function x(t,e){return typeof t==h?t.apply(e&&e[0]||a,e):t}function E(t,e){return t===a?e:t}function S(t,e,n){y(T(e),(function(e){t.addEventListener(e,n,!1)}))}function C(t,e,n){y(T(e),(function(e){t.removeEventListener(e,n,!1)}))}function P(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function M(t,e){return t.indexOf(e)>-1}function T(t){return t.trim().split(/\s+/g)}function O(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function I(t){return Array.prototype.slice.call(t,0)}function R(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];O(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function L(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}return a}var k=1;function B(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var N="ontouchstart"in i,D=L(i,"PointerEvent")!==a,F=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j="touch",U="mouse",z=25,G=1,V=4,H=8,W=1,q=2,X=4,Y=8,Q=16,K=q|X,J=Y|Q,Z=K|J,$=["x","y"],tt=["clientX","clientY"];function et(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){x(t.options.enable,[t])&&n.handler(e)},this.init()}function nt(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&G&&r-i===0,s=e&(V|H)&&r-i===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=rt(e));i>1&&!n.firstMultiple?n.firstMultiple=rt(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,l=s?s.center:o.center,c=e.center=it(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=lt(l,c),e.distance=at(l,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==G&&o.eventType!==V||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=st(e.deltaX,e.deltaY);var u=ot(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=d(u.x)>d(u.y)?u.x:u.y,e.scale=s?(h=s.pointers,f=r,at(f[0],f[1],tt)/at(h[0],h[1],tt)):1,e.rotation=s?function(t,e){return lt(e[1],e[0],tt)+lt(t[1],t[0],tt)}(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=H&&(l>z||s.velocity===a)){var c=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,h=ot(l,c,u);r=h.x,i=h.y,n=d(h.x)>d(h.y)?h.x:h.y,o=st(c,u),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var h,f;var A=t.element;P(e.srcEvent.target,A)&&(A=e.srcEvent.target);e.target=A}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function rt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:it(e),deltaX:t.deltaX,deltaY:t.deltaY}}function it(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function ot(t,e,n){return{x:e/t||0,y:n/t||0}}function st(t,e){return t===e?W:d(t)>=d(e)?t<0?q:X:e<0?Y:Q}function at(t,e,n){n||(n=$);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function lt(t,e,n){n||(n=$);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}et.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(B(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(B(this.element),this.evWin,this.domHandler)}};var ct={mousedown:G,mousemove:2,mouseup:V},ut="mousedown",ht="mousemove mouseup";function ft(){this.evEl=ut,this.evWin=ht,this.pressed=!1,et.apply(this,arguments)}_(ft,et,{handler:function(t){var e=ct[t.type];e&G&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=V),this.pressed&&(e&V&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:U,srcEvent:t}))}});var dt={pointerdown:G,pointermove:2,pointerup:V,pointercancel:H,pointerout:H},pt={2:j,3:"pen",4:U,5:"kinect"},At="pointerdown",gt="pointermove pointerup pointercancel";function yt(){this.evEl=At,this.evWin=gt,et.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(At="MSPointerDown",gt="MSPointerMove MSPointerUp MSPointerCancel"),_(yt,et,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=dt[r],o=pt[t.pointerType]||t.pointerType,s=o==j,a=O(e,t.pointerId,"pointerId");i&G&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):i&(V|H)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var mt={touchstart:G,touchmove:2,touchend:V,touchcancel:H};function vt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,et.apply(this,arguments)}function bt(t,e){var n=I(t.touches),r=I(t.changedTouches);return e&(V|H)&&(n=R(n.concat(r),"identifier",!0)),[n,r]}_(vt,et,{handler:function(t){var e=mt[t.type];if(e===G&&(this.started=!0),this.started){var n=bt.call(this,t,e);e&(V|H)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:t})}}});var _t={touchstart:G,touchmove:2,touchend:V,touchcancel:H},wt="touchstart touchmove touchend touchcancel";function xt(){this.evTarget=wt,this.targetIds={},et.apply(this,arguments)}function Et(t,e){var n=I(t.touches),r=this.targetIds;if(e&(2|G)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=I(t.changedTouches),a=[],l=this.target;if(o=n.filter((function(t){return P(t.target,l)})),e===G)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(V|H)&&delete r[s[i].identifier],i++;return a.length?[R(o.concat(a),"identifier",!0),a]:void 0}_(xt,et,{handler:function(t){var e=_t[t.type],n=Et.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:t})}});var St=2500;function Ct(){et.apply(this,arguments);var t=w(this.handler,this);this.touch=new xt(this.manager,t),this.mouse=new ft(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Pt(t,e){t&G?(this.primaryTouch=e.changedPointers[0].identifier,Mt.call(this,e)):t&(V|H)&&Mt.call(this,e)}function Mt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),St)}}function Tt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}_(Ct,et,{handler:function(t,e,n){var r=n.pointerType==j,i=n.pointerType==U;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Pt.call(this,e,n);else if(i&&Tt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ot=L(u.style,"touchAction"),It=Ot!==a,Rt="compute",Lt="auto",kt="manipulation",Bt="none",Nt="pan-x",Dt="pan-y",Ft=function(){if(!It)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function jt(t,e){this.manager=t,this.set(e)}jt.prototype={set:function(t){t==Rt&&(t=this.compute()),It&&this.manager.element.style&&Ft[t]&&(this.manager.element.style[Ot]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,(function(e){x(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(M(t,Bt))return Bt;var e=M(t,Nt),n=M(t,Dt);if(e&&n)return Bt;if(e||n)return e?Nt:Dt;if(M(t,kt))return kt;return Lt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=M(r,Bt)&&!Ft[Bt],o=M(r,Dt)&&!Ft[Dt],s=M(r,Nt)&&!Ft[Nt];if(i){var a=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(a&&l&&c)return}if(!s||!o)return i||o&&n&K||s&&n&J?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ut=1,zt=32;function Gt(t){this.options=l({},this.defaults,t||{}),this.id=k++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=Ut,this.simultaneous={},this.requireFail=[]}function Vt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Ht(t){return t==Q?"down":t==Y?"up":t==q?"left":t==X?"right":""}function Wt(t,e){var n=e.manager;return n?n.get(t):t}function qt(){Gt.apply(this,arguments)}function Xt(){qt.apply(this,arguments),this.pX=null,this.pY=null}function Yt(){qt.apply(this,arguments)}function Qt(){Gt.apply(this,arguments),this._timer=null,this._input=null}function Kt(){qt.apply(this,arguments)}function Jt(){qt.apply(this,arguments)}function Zt(){Gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function $t(t,e){return(e=e||{}).recognizers=E(e.recognizers,$t.defaults.preset),new te(t,e)}Gt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Wt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=Wt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=Wt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=Wt(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+Vt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+Vt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=zt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(zt|Ut)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!x(this.options.enable,[this,e]))return this.reset(),void(this.state=zt);56&this.state&&(this.state=Ut),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(qt,Gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(n&H||!i)?16|e:r||i?n&V?8|e:2&e?4|e:2:zt}}),_(Xt,qt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(Dt),t&J&&e.push(Nt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&K?(i=0===o?W:o<0?q:X,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?W:s<0?Y:Q,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return qt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ht(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(Yt,qt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),_(Qt,Gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Lt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(V|H)&&!i)this.reset();else if(t.eventType&G)this.reset(),this._timer=A((function(){this.state=8,this.tryEmit()}),e.time,this);else if(t.eventType&V)return 8;return zt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&V?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),_(Kt,qt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(Jt,qt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|J,pointers:1},getTouchAction:function(){return Xt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(K|J)?e=t.overallVelocity:n&K?e=t.overallVelocityX:n&J&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&t.eventType&V},emit:function(t){var e=Ht(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Zt,Gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[kt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&G&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=V)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=A((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return zt},failTimeout:function(){return this._timer=A((function(){this.state=zt}),this.options.interval,this),zt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),$t.VERSION="2.0.7",$t.defaults={domEvents:!1,touchAction:Rt,enable:!0,inputTarget:null,inputClass:null,preset:[[Kt,{enable:!1}],[Yt,{enable:!1},["rotate"]],[Jt,{direction:K}],[Xt,{direction:K},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[Qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function te(t,e){var n;this.options=l({},$t.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(D?yt:F?xt:N?Ct:ft))(n,nt),this.touchAction=new jt(this,this.options.touchAction),ee(this,!0),y(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function ee(t,e){var n,r=t.element;r.style&&(y(t.options.cssProps,(function(i,o){n=L(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}te.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=O(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return y(T(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==a){var n=this.handlers;return y(T(t),(function(t){e?n[t]&&n[t].splice(O(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l($t,{INPUT_START:G,INPUT_MOVE:2,INPUT_END:V,INPUT_CANCEL:H,STATE_POSSIBLE:Ut,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:zt,DIRECTION_NONE:W,DIRECTION_LEFT:q,DIRECTION_RIGHT:X,DIRECTION_UP:Y,DIRECTION_DOWN:Q,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:J,DIRECTION_ALL:Z,Manager:te,Input:et,TouchAction:jt,TouchInput:xt,MouseInput:ft,PointerEventInput:yt,TouchMouseInput:Ct,SingleTouchInput:vt,Recognizer:Gt,AttrRecognizer:qt,Tap:Zt,Pan:Xt,Swipe:Jt,Pinch:Yt,Rotate:Kt,Press:Qt,on:S,off:C,each:y,merge:b,extend:v,assign:l,inherit:_,bindFn:w,prefixed:L}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=$t,(r=function(){return $t}.call(e,n,e,t))===a||(t.exports=r)}(window,document)},12101:(t,e,n)=>{"use strict";var r=n(82090),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},80951:t=>{"use strict";var e={__proto__:null,foo:{}},n=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof n)}},72108:(t,e,n)=>{"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(99534);t.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},99534:t=>{"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},64635:(t,e,n)=>{"use strict";var r=n(99534);t.exports=function(){return r()&&!!Symbol.toStringTag}},34384:(t,e,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(63864);t.exports=o.call(r,i)},80219:(t,e,n)=>{"use strict";var r=n(2086),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return r.isMemo(t)?s:a[t.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(e),A=l(n),g=0;g<s.length;++g){var y=s[g];if(!o[y]&&(!r||!r[y])&&(!A||!A[y])&&(!a||!a[y])){var m=f(n,y);try{c(e,y,m)}catch(v){}}}}return e}},6900:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,A=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*A}},68317:(t,e,n)=>{"use strict";var r=n(64635)(),i=n(12028)("Object.prototype.toString"),o=function(t){return!(r&&t&&"object"===typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},s=function(t){return!!o(t)||null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},53913:(t,e,n)=>{"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o=n(64635)();t.exports=function(t){return"object"===typeof t&&null!==t&&(o?function(t){try{return r.call(t),!0}catch(e){return!1}}(t):"[object Date]"===i.call(t))}},43290:(t,e,n)=>{"use strict";var r,i,o,s,a=n(12028),l=n(64635)();if(l){r=a("Object.prototype.hasOwnProperty"),i=a("RegExp.prototype.exec"),o={};var c=function(){throw o};s={toString:c,valueOf:c},"symbol"===typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=c)}var u=a("Object.prototype.toString"),h=Object.getOwnPropertyDescriptor;t.exports=l?function(t){if(!t||"object"!==typeof t)return!1;var e=h(t,"lastIndex");if(!(e&&r(e,"value")))return!1;try{i(t,s)}catch(n){return n===o}}:function(t){return!(!t||"object"!==typeof t&&"function"!==typeof t)&&"[object RegExp]"===u(t)}},39611:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Null]",u="[object Object]",h="[object Proxy]",f="[object Undefined]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[o]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object Boolean]"]=A["[object DataView]"]=A["[object Date]"]=A["[object Error]"]=A[a]=A["[object Map]"]=A["[object Number]"]=A[u]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object WeakMap]"]=!1;var g="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,y="object"==typeof self&&self&&self.Object===Object&&self,m=g||y||Function("return this")(),v=e&&!e.nodeType&&e,b=v&&t&&!t.nodeType&&t,_=b&&b.exports===v,w=_&&g.process,x=function(){try{var t=b&&b.require&&b.require("util").types;return t||w&&w.binding&&w.binding("util")}catch(e){}}(),E=x&&x.isTypedArray;var S,C,P=Array.prototype,M=Function.prototype,T=Object.prototype,O=m["__core-js_shared__"],I=M.toString,R=T.hasOwnProperty,L=function(){var t=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),k=T.toString,B=I.call(Object),N=RegExp("^"+I.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=_?m.Buffer:void 0,F=m.Symbol,j=m.Uint8Array,U=D?D.allocUnsafe:void 0,z=(S=Object.getPrototypeOf,C=Object,function(t){return S(C(t))}),G=Object.create,V=T.propertyIsEnumerable,H=P.splice,W=F?F.toStringTag:void 0,q=function(){try{var t=mt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),X=D?D.isBuffer:void 0,Y=Math.max,Q=Date.now,K=mt(m,"Map"),J=mt(Object,"create"),Z=function(){function t(){}return function(e){if(!Ot(e))return{};if(G)return G(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function $(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nt(t){var e=this.__data__=new tt(t);this.size=e.size}function rt(t,e){var n=St(t),r=!n&&Et(t),i=!n&&!r&&Pt(t),o=!n&&!r&&!i&&Rt(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=a.length;for(var c in t)!e&&!R.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vt(c,l))||a.push(c);return a}function it(t,e,n){(void 0!==n&&!xt(t[e],n)||void 0===n&&!(e in t))&&at(t,e,n)}function ot(t,e,n){var r=t[e];R.call(t,e)&&xt(r,n)&&(void 0!==n||e in t)||at(t,e,n)}function st(t,e){for(var n=t.length;n--;)if(xt(t[n][0],e))return n;return-1}function at(t,e,n){"__proto__"==e&&q?q(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}$.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},$.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},$.prototype.get=function(t){var e=this.__data__;if(J){var n=e[t];return n===r?void 0:n}return R.call(e,t)?e[t]:void 0},$.prototype.has=function(t){var e=this.__data__;return J?void 0!==e[t]:R.call(e,t)},$.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=J&&void 0===e?r:e,this},tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=st(e,t);return!(n<0)&&(n==e.length-1?e.pop():H.call(e,n,1),--this.size,!0)},tt.prototype.get=function(t){var e=this.__data__,n=st(e,t);return n<0?void 0:e[n][1]},tt.prototype.has=function(t){return st(this.__data__,t)>-1},tt.prototype.set=function(t,e){var n=this.__data__,r=st(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},et.prototype.clear=function(){this.size=0,this.__data__={hash:new $,map:new(K||tt),string:new $}},et.prototype.delete=function(t){var e=yt(this,t).delete(t);return this.size-=e?1:0,e},et.prototype.get=function(t){return yt(this,t).get(t)},et.prototype.has=function(t){return yt(this,t).has(t)},et.prototype.set=function(t,e){var n=yt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},nt.prototype.clear=function(){this.__data__=new tt,this.size=0},nt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},nt.prototype.get=function(t){return this.__data__.get(t)},nt.prototype.has=function(t){return this.__data__.has(t)},nt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!K||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new et(r)}return n.set(t,e),this.size=n.size,this};var lt,ct=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),s=o.length;s--;){var a=o[lt?s:++r];if(!1===e(i[a],a,i))break}return t};function ut(t){return null==t?void 0===t?f:c:W&&W in Object(t)?function(t){var e=R.call(t,W),n=t[W];try{t[W]=void 0;var r=!0}catch(o){}var i=k.call(t);r&&(e?t[W]=n:delete t[W]);return i}(t):function(t){return k.call(t)}(t)}function ht(t){return It(t)&&ut(t)==o}function ft(t){return!(!Ot(t)||function(t){return!!L&&L in t}(t))&&(Mt(t)?N:d).test(function(t){if(null!=t){try{return I.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t))}function dt(t){if(!Ot(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=bt(t),n=[];for(var r in t)("constructor"!=r||!e&&R.call(t,r))&&n.push(r);return n}function pt(t,e,n,r,i){t!==e&&ct(e,(function(o,s){if(i||(i=new nt),Ot(o))!function(t,e,n,r,i,o,s){var a=_t(t,n),l=_t(e,n),c=s.get(l);if(c)return void it(t,n,c);var h=o?o(a,l,n+"",t,e,s):void 0,f=void 0===h;if(f){var d=St(l),p=!d&&Pt(l),A=!d&&!p&&Rt(l);h=l,d||p||A?St(a)?h=a:It(g=a)&&Ct(g)?h=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(a):p?(f=!1,h=function(t,e){if(e)return t.slice();var n=t.length,r=U?U(n):new t.constructor(n);return t.copy(r),r}(l,!0)):A?(f=!1,h=function(t,e){var n=e?function(t){var e=new t.constructor(t.byteLength);return new j(e).set(new j(t)),e}(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(l,!0)):h=[]:function(t){if(!It(t)||ut(t)!=u)return!1;var e=z(t);if(null===e)return!0;var n=R.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==B}(l)||Et(l)?(h=a,Et(a)?h=function(t){return function(t,e,n,r){var i=!n;n||(n={});var o=-1,s=e.length;for(;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),i?at(n,a,l):ot(n,a,l)}return n}(t,Lt(t))}(a):Ot(a)&&!Mt(a)||(h=function(t){return"function"!=typeof t.constructor||bt(t)?{}:Z(z(t))}(l))):f=!1}var g;f&&(s.set(l,h),i(h,l,r,o,s),s.delete(l));it(t,n,h)}(t,e,s,n,pt,r,i);else{var a=r?r(_t(t,s),o,s+"",t,e,i):void 0;void 0===a&&(a=o),it(t,s,a)}}),Lt)}function At(t,e){return wt(function(t,e,n){return e=Y(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Y(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}(t,e,Nt),t+"")}var gt=q?function(t,e){return q(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Nt;function yt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function mt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ft(n)?n:void 0}function vt(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&p.test(t))&&t>-1&&t%1==0&&t<e}function bt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||T)}function _t(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var wt=function(t){var e=0,n=0;return function(){var r=Q(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(gt);function xt(t,e){return t===e||t!==t&&e!==e}var Et=ht(function(){return arguments}())?ht:function(t){return It(t)&&R.call(t,"callee")&&!V.call(t,"callee")},St=Array.isArray;function Ct(t){return null!=t&&Tt(t.length)&&!Mt(t)}var Pt=X||function(){return!1};function Mt(t){if(!Ot(t))return!1;var e=ut(t);return e==a||e==l||e==s||e==h}function Tt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Ot(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function It(t){return null!=t&&"object"==typeof t}var Rt=E?function(t){return function(e){return t(e)}}(E):function(t){return It(t)&&Tt(t.length)&&!!A[ut(t)]};function Lt(t){return Ct(t)?rt(t,!0):dt(t)}var kt,Bt=(kt=function(t,e,n,r){pt(t,e,n,r)},At((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=kt.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!Ot(n))return!1;var r=typeof e;return!!("number"==r?Ct(n)&&vt(e,n.length):"string"==r&&e in n)&&xt(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var s=e[n];s&&kt(t,s,n,i)}return t})));function Nt(t){return t}t.exports=Bt},70381:(t,e,n)=>{var r="Expected a function",i=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,d=h||f||Function("return this")(),p=Object.prototype.toString,A=Math.max,g=Math.min,y=function(){return d.Date.now()};function m(t,e,n){var i,o,s,a,l,c,u=0,h=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError(r);function p(e){var n=i,r=o;return i=o=void 0,u=e,a=t.apply(r,n)}function m(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-u>=s}function _(){var t=y();if(m(t))return w(t);l=setTimeout(_,function(t){var n=e-(t-c);return f?g(n,s-(t-u)):n}(t))}function w(t){return l=void 0,d&&i?p(t):(i=o=void 0,a)}function x(){var t=y(),n=m(t);if(i=arguments,o=this,c=t,n){if(void 0===l)return function(t){return u=t,l=setTimeout(_,e),h?p(t):a}(c);if(f)return l=setTimeout(_,e),p(c)}return void 0===l&&(l=setTimeout(_,e)),a}return e=b(e)||0,v(n)&&(h=!!n.leading,s=(f="maxWait"in n)?A(b(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),x.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=o=l=void 0},x.flush=function(){return void 0===l?a:w(y())},x}function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&p.call(t)==o}(t))return i;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=l.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):a.test(t)?i:+t}t.exports=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError(r);return v(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),m(t,e,{leading:i,maxWait:e,trailing:o})}},97685:(t,e,n)=>{var r=n(87937)(n(56552),"DataView");t.exports=r},98724:(t,e,n)=>{var r=n(27615),i=n(25051),o=n(72154),s=n(48734),a=n(22662);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},97160:(t,e,n)=>{var r=n(87563),i=n(29935),o=n(24190),s=n(51946),a=n(61714);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},85204:(t,e,n)=>{var r=n(87937)(n(56552),"Map");t.exports=r},64816:(t,e,n)=>{var r=n(47251),i=n(37159),o=n(80438),s=n(69394),a=n(56874);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},65387:(t,e,n)=>{var r=n(87937)(n(56552),"Promise");t.exports=r},72070:(t,e,n)=>{var r=n(87937)(n(56552),"Set");t.exports=r},18902:(t,e,n)=>{var r=n(64816),i=n(86179),o=n(46704);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},5538:(t,e,n)=>{var r=n(97160),i=n(84545),o=n(10793),s=n(27760),a=n(3892),l=n(76788);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,t.exports=c},9812:(t,e,n)=>{var r=n(56552).Symbol;t.exports=r},22929:(t,e,n)=>{var r=n(56552).Uint8Array;t.exports=r},26600:(t,e,n)=>{var r=n(87937)(n(56552),"WeakMap");t.exports=r},31170:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},80726:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},27676:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},17529:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}},75866:(t,e,n)=>{var r=n(88468);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},41558:t=>{t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},73204:(t,e,n)=>{var r=n(3343),i=n(22777),o=n(54052),s=n(44543),a=n(69194),l=n(51268),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),h=!n&&!u&&s(t),f=!n&&!u&&!h&&l(t),d=n||u||h||f,p=d?r(t.length,String):[],A=p.length;for(var g in t)!e&&!c.call(t,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,A))||p.push(g);return p}},50149:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},48895:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},52587:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},45967:t=>{t.exports=function(t){return t.split("")}},78420:(t,e,n)=>{var r=n(71775),i=n(93211),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];o.call(t,e)&&i(s,n)&&(void 0!==n||e in t)||r(t,e,n)}},61340:(t,e,n)=>{var r=n(93211);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},51104:(t,e,n)=>{var r=n(96614),i=n(28673);t.exports=function(t,e){return t&&r(e,i(e),t)}},55119:(t,e,n)=>{var r=n(96614),i=n(30474);t.exports=function(t,e){return t&&r(e,i(e),t)}},71775:(t,e,n)=>{var r=n(5654);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},97132:(t,e,n)=>{var r=n(5538),i=n(80726),o=n(78420),s=n(51104),a=n(55119),l=n(44353),c=n(91980),u=n(98124),h=n(29075),f=n(59395),d=n(68592),p=n(26924),A=n(38268),g=n(18630),y=n(20310),m=n(54052),v=n(44543),b=n(57887),_=n(46686),w=n(45921),x=n(28673),E=n(30474),S="[object Arguments]",C="[object Function]",P="[object Object]",M={};M[S]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[P]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[C]=M["[object WeakMap]"]=!1,t.exports=function t(e,n,T,O,I,R){var L,k=1&n,B=2&n,N=4&n;if(T&&(L=I?T(e,O,I,R):T(e)),void 0!==L)return L;if(!_(e))return e;var D=m(e);if(D){if(L=A(e),!k)return c(e,L)}else{var F=p(e),j=F==C||"[object GeneratorFunction]"==F;if(v(e))return l(e,k);if(F==P||F==S||j&&!I){if(L=B||j?{}:y(e),!k)return B?h(e,a(L,e)):u(e,s(L,e))}else{if(!M[F])return I?e:{};L=g(e,F,k)}}R||(R=new r);var U=R.get(e);if(U)return U;R.set(e,L),w(e)?e.forEach((function(r){L.add(t(r,n,T,r,e,R))})):b(e)&&e.forEach((function(r,i){L.set(i,t(r,n,T,i,e,R))}));var z=D?void 0:(N?B?d:f:B?E:x)(e);return i(z||e,(function(r,i){z&&(r=e[i=r]),o(L,i,t(r,n,T,i,e,R))})),L}},21817:(t,e,n)=>{var r=n(46686),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},45652:(t,e,n)=>{var r=n(94664),i=n(76516)(r);t.exports=i},24746:(t,e,n)=>{var r=n(45652);t.exports=function(t,e){var n=!0;return r(t,(function(t,r,i){return n=!!e(t,r,i)})),n}},79742:(t,e,n)=>{var r=n(19841);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(void 0===l?a===a&&!r(a):n(a,l)))var l=a,c=s}return c}},75816:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},80755:(t,e,n)=>{var r=n(48895),i=n(77116);t.exports=function t(e,n,o,s,a){var l=-1,c=e.length;for(o||(o=i),a||(a=[]);++l<c;){var u=e[l];n>0&&o(u)?n>1?t(u,n-1,o,s,a):r(a,u):s||(a[a.length]=u)}return a}},94258:(t,e,n)=>{var r=n(55906)();t.exports=r},94664:(t,e,n)=>{var r=n(94258),i=n(28673);t.exports=function(t,e){return t&&r(t,e,i)}},52969:(t,e,n)=>{var r=n(35324),i=n(70914);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},4262:(t,e,n)=>{var r=n(48895),i=n(54052);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},16913:(t,e,n)=>{var r=n(9812),i=n(34552),o=n(16095),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},97498:t=>{t.exports=function(t,e){return t>e}},27894:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},88468:(t,e,n)=>{var r=n(75816),i=n(40644),o=n(94020);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},15193:(t,e,n)=>{var r=n(16913),i=n(22761);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},26989:(t,e,n)=>{var r=n(16399),i=n(22761);t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,s,t,a))}},16399:(t,e,n)=>{var r=n(5538),i=n(43668),o=n(69987),s=n(45752),a=n(26924),l=n(54052),c=n(44543),u=n(51268),h="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,A,g,y){var m=l(t),v=l(e),b=m?f:a(t),_=v?f:a(e),w=(b=b==h?d:b)==d,x=(_=_==h?d:_)==d,E=b==_;if(E&&c(t)){if(!c(e))return!1;m=!0,w=!1}if(E&&!w)return y||(y=new r),m||u(t)?i(t,e,n,A,g,y):o(t,e,b,n,A,g,y);if(!(1&n)){var S=w&&p.call(t,"__wrapped__"),C=x&&p.call(e,"__wrapped__");if(S||C){var P=S?t.value():t,M=C?e.value():e;return y||(y=new r),g(P,M,n,A,y)}}return!!E&&(y||(y=new r),s(t,e,n,A,g,y))}},5791:(t,e,n)=>{var r=n(26924),i=n(22761);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},86532:(t,e,n)=>{var r=n(5538),i=n(26989);t.exports=function(t,e,n,o){var s=n.length,a=s,l=!o;if(null==t)return!a;for(t=Object(t);s--;){var c=n[s];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<a;){var u=(c=n[s])[0],h=t[u],f=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var d=new r;if(o)var p=o(h,f,u,t,e,d);if(!(void 0===p?i(f,h,3,o,d):p))return!1}}return!0}},40644:t=>{t.exports=function(t){return t!==t}},36954:(t,e,n)=>{var r=n(11629),i=n(37857),o=n(46686),s=n(96996),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,f=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:a).test(s(t))}},20449:(t,e,n)=>{var r=n(26924),i=n(22761);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},35428:(t,e,n)=>{var r=n(16913),i=n(56173),o=n(22761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[r(t)]}},9096:(t,e,n)=>{var r=n(39256),i=n(15029),o=n(33279),s=n(54052),a=n(63932);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?i(t[0],t[1]):r(t):a(t)}},83713:(t,e,n)=>{var r=n(36140),i=n(61143),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},58122:(t,e,n)=>{var r=n(46686),i=n(36140),o=n(43516),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},50061:t=>{t.exports=function(t,e){return t<e}},38883:(t,e,n)=>{var r=n(45652),i=n(6571);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},39256:(t,e,n)=>{var r=n(86532),i=n(23781),o=n(91310);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},15029:(t,e,n)=>{var r=n(26989),i=n(33097),o=n(53366),s=n(62597),a=n(9417),l=n(91310),c=n(70914);t.exports=function(t,e){return s(t)&&a(e)?l(c(t),e):function(n){var s=i(n,t);return void 0===s&&s===e?o(n,t):r(e,s,3)}}},12536:(t,e,n)=>{var r=n(50149),i=n(52969),o=n(9096),s=n(38883),a=n(60320),l=n(47574),c=n(65893),u=n(33279),h=n(54052);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return h(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var f=-1;e=r(e,l(o));var d=s(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++f,value:t}}));return a(d,(function(t,e){return c(t,e,n)}))}},10396:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},52866:(t,e,n)=>{var r=n(52969);t.exports=function(t){return function(e){return r(e,t)}}},39676:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,i,o){for(var s=-1,a=n(e((r-t)/(i||1)),0),l=Array(a);a--;)l[o?a:++s]=t,t+=i;return l}},55647:(t,e,n)=>{var r=n(33279),i=n(55636),o=n(46350);t.exports=function(t,e){return o(i(t,e,r),t+"")}},28325:(t,e,n)=>{var r=n(22541),i=n(5654),o=n(33279),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=s},53871:t=>{t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},22165:(t,e,n)=>{var r=n(45652);t.exports=function(t,e){var n;return r(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}},60320:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},3343:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},38541:(t,e,n)=>{var r=n(9812),i=n(50149),o=n(54052),s=n(19841),a=r?r.prototype:void 0,l=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},61141:(t,e,n)=>{var r=n(10143),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},47574:t=>{t.exports=function(t){return function(e){return t(e)}}},64416:(t,e,n)=>{var r=n(18902),i=n(75866),o=n(41558),s=n(58114),a=n(68182),l=n(52074);t.exports=function(t,e,n){var c=-1,u=i,h=t.length,f=!0,d=[],p=d;if(n)f=!1,u=o;else if(h>=200){var A=e?null:a(t);if(A)return l(A);f=!1,u=s,p=new r}else p=e?[]:d;t:for(;++c<h;){var g=t[c],y=e?e(g):g;if(g=n||0!==g?g:0,f&&y===y){for(var m=p.length;m--;)if(p[m]===y)continue t;e&&p.push(y),d.push(g)}else u(p,y,n)||(p!==d&&p.push(y),d.push(g))}return d}},88140:(t,e,n)=>{var r=n(35324),i=n(74065),o=n(21676),s=n(70914);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[s(i(e))]}},58114:t=>{t.exports=function(t,e){return t.has(e)}},35324:(t,e,n)=>{var r=n(54052),i=n(62597),o=n(14079),s=n(41069);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},28189:(t,e,n)=>{var r=n(53871);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},61516:(t,e,n)=>{var r=n(22929);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},44353:(t,e,n)=>{t=n.nmd(t);var r=n(56552),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}},6806:(t,e,n)=>{var r=n(61516);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},18962:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},11295:(t,e,n)=>{var r=n(9812),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},38710:(t,e,n)=>{var r=n(61516);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},16599:(t,e,n)=>{var r=n(19841);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t===t,s=r(t),a=void 0!==e,l=null===e,c=e===e,u=r(e);if(!l&&!u&&!s&&t>e||s&&a&&c&&!l&&!u||i&&a&&c||!n&&c||!o)return 1;if(!i&&!s&&!u&&t<e||u&&n&&o&&!i&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}},65893:(t,e,n)=>{var r=n(16599);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,s=e.criteria,a=o.length,l=n.length;++i<a;){var c=r(o[i],s[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},91980:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},96614:(t,e,n)=>{var r=n(78420),i=n(71775);t.exports=function(t,e,n,o){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var c=e[a],u=o?o(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),s?i(n,c,u):r(n,c,u)}return n}},98124:(t,e,n)=>{var r=n(96614),i=n(69621);t.exports=function(t,e){return r(t,i(t),e)}},29075:(t,e,n)=>{var r=n(96614),i=n(56326);t.exports=function(t,e){return r(t,i(t),e)}},13440:(t,e,n)=>{var r=n(56552)["__core-js_shared__"];t.exports=r},76516:(t,e,n)=>{var r=n(6571);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,s=e?o:-1,a=Object(n);(e?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},55906:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===n(o[l],l,o))break}return e}}},57676:(t,e,n)=>{var r=n(28189),i=n(36311),o=n(39115),s=n(41069);t.exports=function(t){return function(e){e=s(e);var n=i(e)?o(e):void 0,a=n?n[0]:e.charAt(0),l=n?r(n,1).join(""):e.slice(1);return a[t]()+l}}},69995:(t,e,n)=>{var r=n(9096),i=n(6571),o=n(28673);t.exports=function(t){return function(e,n,s){var a=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(a[t],t,a)}}var c=t(e,n,s);return c>-1?a[l?e[c]:c]:void 0}}},3331:(t,e,n)=>{var r=n(39676),i=n(60929),o=n(37303);t.exports=function(t){return function(e,n,s){return s&&"number"!=typeof s&&i(e,n,s)&&(n=s=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),s=void 0===s?e<n?1:-1:o(s),r(e,n,s,t)}}},68182:(t,e,n)=>{var r=n(72070),i=n(75713),o=n(52074),s=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=s},96761:(t,e,n)=>{var r=n(12322);t.exports=function(t){return r(t)?void 0:t}},5654:(t,e,n)=>{var r=n(87937),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},43668:(t,e,n)=>{var r=n(18902),i=n(52587),o=n(58114);t.exports=function(t,e,n,s,a,l){var c=1&n,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var f=l.get(t),d=l.get(e);if(f&&d)return f==e&&d==t;var p=-1,A=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<u;){var y=t[p],m=e[p];if(s)var v=c?s(m,y,p,e,t,l):s(y,m,p,t,e,l);if(void 0!==v){if(v)continue;A=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(y===t||a(y,t,n,s,l)))return g.push(e)}))){A=!1;break}}else if(y!==m&&!a(y,m,n,s,l)){A=!1;break}}return l.delete(t),l.delete(e),A}},69987:(t,e,n)=>{var r=n(9812),i=n(22929),o=n(93211),s=n(43668),a=n(54160),l=n(52074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,h,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=a;case"[object Set]":var p=1&r;if(d||(d=l),t.size!=e.size&&!p)return!1;var A=f.get(t);if(A)return A==e;r|=2,f.set(t,e);var g=s(d(t),d(e),r,c,h,f);return f.delete(t),g;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},45752:(t,e,n)=>{var r=n(59395),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,s,a){var l=1&n,c=r(t),u=c.length;if(u!=r(e).length&&!l)return!1;for(var h=u;h--;){var f=c[h];if(!(l?f in e:i.call(e,f)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var A=!0;a.set(t,e),a.set(e,t);for(var g=l;++h<u;){var y=t[f=c[h]],m=e[f];if(o)var v=l?o(m,y,f,e,t,a):o(y,m,f,t,e,a);if(!(void 0===v?y===m||s(y,m,n,o,a):v)){A=!1;break}g||(g="constructor"==f)}if(A&&!g){var b=t.constructor,_=e.constructor;b==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(A=!1)}return a.delete(t),a.delete(e),A}},15857:(t,e,n)=>{var r=n(20819),i=n(55636),o=n(46350);t.exports=function(t){return o(i(t,void 0,r),t+"")}},37105:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},59395:(t,e,n)=>{var r=n(4262),i=n(69621),o=n(28673);t.exports=function(t){return r(t,o,i)}},68592:(t,e,n)=>{var r=n(4262),i=n(56326),o=n(30474);t.exports=function(t){return r(t,o,i)}},12622:(t,e,n)=>{var r=n(70705);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},23781:(t,e,n)=>{var r=n(9417),i=n(28673);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,r(s)]}return e}},87937:(t,e,n)=>{var r=n(36954),i=n(14657);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},85990:(t,e,n)=>{var r=n(13028)(Object.getPrototypeOf,Object);t.exports=r},34552:(t,e,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(l){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},69621:(t,e,n)=>{var r=n(17529),i=n(57828),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},56326:(t,e,n)=>{var r=n(48895),i=n(85990),o=n(69621),s=n(57828),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:s;t.exports=a},26924:(t,e,n)=>{var r=n(97685),i=n(85204),o=n(65387),s=n(72070),a=n(26600),l=n(16913),c=n(96996),u="[object Map]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",A=c(r),g=c(i),y=c(o),m=c(s),v=c(a),b=l;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=u||o&&b(o.resolve())!=h||s&&b(new s)!=f||a&&b(new a)!=d)&&(b=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case A:return p;case g:return u;case y:return h;case m:return f;case v:return d}return e}),t.exports=b},14657:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},99057:(t,e,n)=>{var r=n(35324),i=n(22777),o=n(54052),s=n(69194),a=n(56173),l=n(70914);t.exports=function(t,e,n){for(var c=-1,u=(e=r(e,t)).length,h=!1;++c<u;){var f=l(e[c]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&a(u)&&s(f,u)&&(o(t)||i(t))}},36311:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},27615:(t,e,n)=>{var r=n(95575);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},25051:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},72154:(t,e,n)=>{var r=n(95575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},48734:(t,e,n)=>{var r=n(95575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},22662:(t,e,n)=>{var r=n(95575);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},38268:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},18630:(t,e,n)=>{var r=n(61516),i=n(6806),o=n(18962),s=n(11295),a=n(38710);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Symbol]":return s(t)}}},20310:(t,e,n)=>{var r=n(21817),i=n(85990),o=n(36140);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},77116:(t,e,n)=>{var r=n(9812),i=n(22777),o=n(54052),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},69194:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},60929:(t,e,n)=>{var r=n(93211),i=n(6571),o=n(69194),s=n(46686);t.exports=function(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?i(n)&&o(e,n.length):"string"==a&&e in n)&&r(n[e],t)}},62597:(t,e,n)=>{var r=n(54052),i=n(19841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}},70705:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},37857:(t,e,n)=>{var r=n(13440),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},36140:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9417:(t,e,n)=>{var r=n(46686);t.exports=function(t){return t===t&&!r(t)}},87563:t=>{t.exports=function(){this.__data__=[],this.size=0}},29935:(t,e,n)=>{var r=n(61340),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},24190:(t,e,n)=>{var r=n(61340);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},51946:(t,e,n)=>{var r=n(61340);t.exports=function(t){return r(this.__data__,t)>-1}},61714:(t,e,n)=>{var r=n(61340);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},47251:(t,e,n)=>{var r=n(98724),i=n(97160),o=n(85204);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},37159:(t,e,n)=>{var r=n(12622);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},80438:(t,e,n)=>{var r=n(12622);t.exports=function(t){return r(this,t).get(t)}},69394:(t,e,n)=>{var r=n(12622);t.exports=function(t){return r(this,t).has(t)}},56874:(t,e,n)=>{var r=n(12622);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},54160:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},91310:t=>{t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},88259:(t,e,n)=>{var r=n(15797);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},95575:(t,e,n)=>{var r=n(87937)(Object,"create");t.exports=r},61143:(t,e,n)=>{var r=n(13028)(Object.keys,Object);t.exports=r},43516:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},56832:(t,e,n)=>{t=n.nmd(t);var r=n(37105),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=a},16095:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},13028:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},55636:(t,e,n)=>{var r=n(31170),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),l=Array(a);++s<a;)l[s]=o[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=o[s];return c[e]=n(l),r(t,this,c)}}},21676:(t,e,n)=>{var r=n(52969),i=n(53871);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},56552:(t,e,n)=>{var r=n(37105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},86179:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},46704:t=>{t.exports=function(t){return this.__data__.has(t)}},52074:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},46350:(t,e,n)=>{var r=n(28325),i=n(86578)(r);t.exports=i},86578:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},84545:(t,e,n)=>{var r=n(97160);t.exports=function(){this.__data__=new r,this.size=0}},10793:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},27760:t=>{t.exports=function(t){return this.__data__.get(t)}},3892:t=>{t.exports=function(t){return this.__data__.has(t)}},76788:(t,e,n)=>{var r=n(97160),i=n(85204),o=n(64816);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},94020:t=>{t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},39115:(t,e,n)=>{var r=n(45967),i=n(36311),o=n(50715);t.exports=function(t){return i(t)?o(t):r(t)}},14079:(t,e,n)=>{var r=n(88259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=s},70914:(t,e,n)=>{var r=n(19841);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},96996:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},10143:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},50715:t=>{var e="\\ud800-\\udfff",n="["+e+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,s,a].join("|")+")"+c+l+")*"),h="(?:"+[o+r+"?",r,s,a,n].join("|")+")",f=RegExp(i+"(?="+i+")|"+h+u,"g");t.exports=function(t){return t.match(f)||[]}},22541:t=>{t.exports=function(t){return function(){return t}}},93950:(t,e,n)=>{var r=n(46686),i=n(4757),o=n(40801),s=Math.max,a=Math.min;t.exports=function(t,e,n){var l,c,u,h,f,d,p=0,A=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=l,r=c;return l=c=void 0,p=e,h=t.apply(r,n)}function v(t){var n=t-d;return void 0===d||n>=e||n<0||g&&t-p>=u}function b(){var t=i();if(v(t))return _(t);f=setTimeout(b,function(t){var n=e-(t-d);return g?a(n,u-(t-p)):n}(t))}function _(t){return f=void 0,y&&l?m(t):(l=c=void 0,h)}function w(){var t=i(),n=v(t);if(l=arguments,c=this,d=t,n){if(void 0===f)return function(t){return p=t,f=setTimeout(b,e),A?m(t):h}(d);if(g)return clearTimeout(f),f=setTimeout(b,e),m(d)}return void 0===f&&(f=setTimeout(b,e)),h}return e=o(e)||0,r(n)&&(A=!!n.leading,u=(g="maxWait"in n)?s(o(n.maxWait)||0,e):u,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=d=c=f=void 0},w.flush=function(){return void 0===f?h:_(i())},w}},93211:t=>{t.exports=function(t,e){return t===e||t!==t&&e!==e}},17002:(t,e,n)=>{var r=n(27676),i=n(24746),o=n(9096),s=n(54052),a=n(60929);t.exports=function(t,e,n){var l=s(t)?r:i;return n&&a(t,e,n)&&(e=void 0),l(t,o(e,3))}},98990:(t,e,n)=>{var r=n(69995)(n(32520));t.exports=r},32520:(t,e,n)=>{var r=n(75816),i=n(9096),o=n(99140),s=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var l=null==n?0:o(n);return l<0&&(l=s(a+l,0)),r(t,i(e,3),l)}},63538:(t,e,n)=>{var r=n(80755),i=n(33411);t.exports=function(t,e){return r(i(t,e),1)}},20819:(t,e,n)=>{var r=n(80755);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},33097:(t,e,n)=>{var r=n(52969);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},53366:(t,e,n)=>{var r=n(27894),i=n(99057);t.exports=function(t,e){return null!=t&&i(t,e,r)}},33279:t=>{t.exports=function(t){return t}},22777:(t,e,n)=>{var r=n(15193),i=n(22761),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},54052:t=>{var e=Array.isArray;t.exports=e},6571:(t,e,n)=>{var r=n(11629),i=n(56173);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},96361:(t,e,n)=>{var r=n(16913),i=n(22761);t.exports=function(t){return!0===t||!1===t||i(t)&&"[object Boolean]"==r(t)}},44543:(t,e,n)=>{t=n.nmd(t);var r=n(56552),i=n(60014),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;t.exports=l},19853:(t,e,n)=>{var r=n(26989);t.exports=function(t,e){return r(t,e)}},11629:(t,e,n)=>{var r=n(16913),i=n(46686);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},56173:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},57887:(t,e,n)=>{var r=n(5791),i=n(47574),o=n(56832),s=o&&o.isMap,a=s?i(s):r;t.exports=a},35268:(t,e,n)=>{var r=n(79160);t.exports=function(t){return r(t)&&t!=+t}},79686:t=>{t.exports=function(t){return null==t}},79160:(t,e,n)=>{var r=n(16913),i=n(22761);t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},46686:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},22761:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},12322:(t,e,n)=>{var r=n(16913),i=n(85990),o=n(22761),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},45921:(t,e,n)=>{var r=n(20449),i=n(47574),o=n(56832),s=o&&o.isSet,a=s?i(s):r;t.exports=a},90620:(t,e,n)=>{var r=n(16913),i=n(54052),o=n(22761);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},19841:(t,e,n)=>{var r=n(16913),i=n(22761);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},51268:(t,e,n)=>{var r=n(35428),i=n(47574),o=n(56832),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},28673:(t,e,n)=>{var r=n(73204),i=n(83713),o=n(6571);t.exports=function(t){return o(t)?r(t):i(t)}},30474:(t,e,n)=>{var r=n(73204),i=n(58122),o=n(6571);t.exports=function(t){return o(t)?r(t,!0):i(t)}},74065:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},53536:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,h=128,f=256,d=1/0,p=9007199254740991,A=NaN,g=4294967295,y=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",f]],m="[object Arguments]",v="[object Array]",b="[object Boolean]",_="[object Date]",w="[object Error]",x="[object Function]",E="[object GeneratorFunction]",S="[object Map]",C="[object Number]",P="[object Object]",M="[object Promise]",T="[object RegExp]",O="[object Set]",I="[object String]",R="[object Symbol]",L="[object WeakMap]",k="[object ArrayBuffer]",B="[object DataView]",N="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",j="[object Int16Array]",U="[object Int32Array]",z="[object Uint8Array]",G="[object Uint8ClampedArray]",V="[object Uint16Array]",H="[object Uint32Array]",W=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,K=RegExp(Y.source),J=RegExp(Q.source),Z=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),st=/^\s+/,at=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,At=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,Et="\\ud800-\\udfff",St="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ct="\\u2700-\\u27bf",Pt="a-z\\xdf-\\xf6\\xf8-\\xff",Mt="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",It="['\u2019]",Rt="["+Et+"]",Lt="["+Ot+"]",kt="["+St+"]",Bt="\\d+",Nt="["+Ct+"]",Dt="["+Pt+"]",Ft="[^"+Et+Ot+Bt+Ct+Pt+Mt+"]",jt="\\ud83c[\\udffb-\\udfff]",Ut="[^"+Et+"]",zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Gt="[\\ud800-\\udbff][\\udc00-\\udfff]",Vt="["+Mt+"]",Ht="\\u200d",Wt="(?:"+Dt+"|"+Ft+")",qt="(?:"+Vt+"|"+Ft+")",Xt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Yt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Qt="(?:"+kt+"|"+jt+")"+"?",Kt="["+Tt+"]?",Jt=Kt+Qt+("(?:"+Ht+"(?:"+[Ut,zt,Gt].join("|")+")"+Kt+Qt+")*"),Zt="(?:"+[Nt,zt,Gt].join("|")+")"+Jt,$t="(?:"+[Ut+kt+"?",kt,zt,Gt,Rt].join("|")+")",te=RegExp(It,"g"),ee=RegExp(kt,"g"),ne=RegExp(jt+"(?="+jt+")|"+$t+Jt,"g"),re=RegExp([Vt+"?"+Dt+"+"+Xt+"(?="+[Lt,Vt,"$"].join("|")+")",qt+"+"+Yt+"(?="+[Lt,Vt+Wt,"$"].join("|")+")",Vt+"?"+Wt+"+"+Xt,Vt+"+"+Yt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt,Zt].join("|"),"g"),ie=RegExp("["+Ht+Et+St+Tt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,le={};le[N]=le[D]=le[F]=le[j]=le[U]=le[z]=le[G]=le[V]=le[H]=!0,le[m]=le[v]=le[k]=le[b]=le[B]=le[_]=le[w]=le[x]=le[S]=le[C]=le[P]=le[T]=le[O]=le[I]=le[L]=!1;var ce={};ce[m]=ce[v]=ce[k]=ce[B]=ce[b]=ce[_]=ce[N]=ce[D]=ce[F]=ce[j]=ce[U]=ce[S]=ce[C]=ce[P]=ce[T]=ce[O]=ce[I]=ce[R]=ce[z]=ce[G]=ce[V]=ce[H]=!0,ce[w]=ce[x]=ce[L]=!1;var ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,fe=parseInt,de="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,Ae=de||pe||Function("return this")(),ge=e&&!e.nodeType&&e,ye=ge&&t&&!t.nodeType&&t,me=ye&&ye.exports===ge,ve=me&&de.process,be=function(){try{var t=ye&&ye.require&&ye.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(e){}}(),_e=be&&be.isArrayBuffer,we=be&&be.isDate,xe=be&&be.isMap,Ee=be&&be.isRegExp,Se=be&&be.isSet,Ce=be&&be.isTypedArray;function Pe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Me(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Te(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Re(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Le(t,e){return!!(null==t?0:t.length)&&Ve(t,e,0)>-1}function ke(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Be(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ne(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function De(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Fe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ue=Xe("length");function ze(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ge(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ve(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ge(t,We,n)}function He(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function We(t){return t!==t}function qe(t,e){var n=null==t?0:t.length;return n?Ke(t,e)/n:A}function Xe(t){return function(e){return null==e?i:e[t]}}function Ye(t){return function(e){return null==t?i:t[e]}}function Qe(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ke(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function Je(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ze(t){return t?t.slice(0,gn(t)+1).replace(st,""):t}function $e(t){return function(e){return t(e)}}function tn(t,e){return Be(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&Ve(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&Ve(e,t[n],0)>-1;);return n}var on=Ye({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Ye({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+ue[t]}function ln(t){return ie.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function un(t,e){return function(n){return t(e(n))}}function hn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return ln(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Ue(t)}function An(t){return ln(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var yn=Ye({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function t(e){var n=(e=null==e?Ae:mn.defaults(Ae.Object(),e,mn.pick(Ae,se))).Array,r=e.Date,at=e.Error,Et=e.Function,St=e.Math,Ct=e.Object,Pt=e.RegExp,Mt=e.String,Tt=e.TypeError,Ot=n.prototype,It=Et.prototype,Rt=Ct.prototype,Lt=e["__core-js_shared__"],kt=It.toString,Bt=Rt.hasOwnProperty,Nt=0,Dt=function(){var t=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ft=Rt.toString,jt=kt.call(Ct),Ut=Ae._,zt=Pt("^"+kt.call(Bt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gt=me?e.Buffer:i,Vt=e.Symbol,Ht=e.Uint8Array,Wt=Gt?Gt.allocUnsafe:i,qt=un(Ct.getPrototypeOf,Ct),Xt=Ct.create,Yt=Rt.propertyIsEnumerable,Qt=Ot.splice,Kt=Vt?Vt.isConcatSpreadable:i,Jt=Vt?Vt.iterator:i,Zt=Vt?Vt.toStringTag:i,$t=function(){try{var t=ho(Ct,"defineProperty");return t({},"",{}),t}catch(e){}}(),ne=e.clearTimeout!==Ae.clearTimeout&&e.clearTimeout,ie=r&&r.now!==Ae.Date.now&&r.now,ue=e.setTimeout!==Ae.setTimeout&&e.setTimeout,de=St.ceil,pe=St.floor,ge=Ct.getOwnPropertySymbols,ye=Gt?Gt.isBuffer:i,ve=e.isFinite,be=Ot.join,Ue=un(Ct.keys,Ct),Ye=St.max,vn=St.min,bn=r.now,_n=e.parseInt,wn=St.random,xn=Ot.reverse,En=ho(e,"DataView"),Sn=ho(e,"Map"),Cn=ho(e,"Promise"),Pn=ho(e,"Set"),Mn=ho(e,"WeakMap"),Tn=ho(Ct,"create"),On=Mn&&new Mn,In={},Rn=Fo(En),Ln=Fo(Sn),kn=Fo(Cn),Bn=Fo(Pn),Nn=Fo(Mn),Dn=Vt?Vt.prototype:i,Fn=Dn?Dn.valueOf:i,jn=Dn?Dn.toString:i;function Un(t){if(ea(t)&&!Hs(t)&&!(t instanceof Hn)){if(t instanceof Vn)return t;if(Bt.call(t,"__wrapped__"))return jo(t)}return new Vn(t)}var zn=function(){function t(){}return function(e){if(!ta(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Gn(){}function Vn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Xn;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new qn(t);this.size=e.size}function Kn(t,e){var n=Hs(t),r=!n&&Vs(t),i=!n&&!r&&Ys(t),o=!n&&!r&&!i&&ca(t),s=n||r||i||o,a=s?Je(t.length,Mt):[],l=a.length;for(var c in t)!e&&!Bt.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vo(c,l))||a.push(c);return a}function Jn(t){var e=t.length;return e?t[Yr(0,e-1)]:i}function Zn(t,e){return Bo(Ti(t),ar(e,0,t.length))}function $n(t){return Bo(Ti(t))}function tr(t,e,n){(n!==i&&!Us(t[e],n)||n===i&&!(e in t))&&or(t,e,n)}function er(t,e,n){var r=t[e];Bt.call(t,e)&&Us(r,n)&&(n!==i||e in t)||or(t,e,n)}function nr(t,e){for(var n=t.length;n--;)if(Us(t[n][0],e))return n;return-1}function rr(t,e,n,r){return fr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function ir(t,e){return t&&Oi(e,Ia(e),t)}function or(t,e,n){"__proto__"==e&&$t?$t(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var r=-1,o=e.length,s=n(o),a=null==t;++r<o;)s[r]=a?i:Ca(t,e[r]);return s}function ar(t,e,n){return t===t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function lr(t,e,n,r,o,s){var a,l=1&e,c=2&e,u=4&e;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!ta(t))return t;var h=Hs(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Bt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return Ti(t,a)}else{var f=Ao(t),d=f==x||f==E;if(Ys(t))return xi(t,l);if(f==P||f==m||d&&!o){if(a=c||d?{}:yo(t),!l)return c?function(t,e){return Oi(t,po(t),e)}(t,function(t,e){return t&&Oi(e,Ra(e),t)}(a,t)):function(t,e){return Oi(t,fo(t),e)}(t,ir(a,t))}else{if(!ce[f])return o?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case k:return Ei(t);case b:case _:return new r(+t);case B:return function(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case D:case F:case j:case U:case z:case G:case V:case H:return Si(t,n);case S:return new r;case C:case I:return new r(t);case T:return function(t){var e=new t.constructor(t.source,At.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new r;case R:return i=t,Fn?Ct(Fn.call(i)):{}}var i}(t,f,l)}}s||(s=new Qn);var p=s.get(t);if(p)return p;s.set(t,a),sa(t)?t.forEach((function(r){a.add(lr(r,e,n,r,t,s))})):na(t)&&t.forEach((function(r,i){a.set(i,lr(r,e,n,i,t,s))}));var A=h?i:(u?c?io:ro:c?Ra:Ia)(t);return Te(A||t,(function(r,i){A&&(r=t[i=r]),er(a,i,lr(r,e,n,i,t,s))})),a}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Ct(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function ur(t,e,n){if("function"!=typeof t)throw new Tt(o);return Io((function(){t.apply(i,n)}),e)}function hr(t,e,n,r){var i=-1,o=Le,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Be(e,$e(n))),r?(o=ke,s=!1):e.length>=200&&(o=en,s=!1,e=new Yn(e));t:for(;++i<a;){var u=t[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h===h){for(var f=c;f--;)if(e[f]===h)continue t;l.push(u)}else o(e,h,r)||l.push(u)}return l}Un.templateSettings={escape:Z,evaluate:$,interpolate:tt,variable:"",imports:{_:Un}},Un.prototype=Gn.prototype,Un.prototype.constructor=Un,Vn.prototype=zn(Gn.prototype),Vn.prototype.constructor=Vn,Hn.prototype=zn(Gn.prototype),Hn.prototype.constructor=Hn,Wn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Wn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wn.prototype.get=function(t){var e=this.__data__;if(Tn){var n=e[t];return n===s?i:n}return Bt.call(e,t)?e[t]:i},Wn.prototype.has=function(t){var e=this.__data__;return Tn?e[t]!==i:Bt.call(e,t)},Wn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tn&&e===i?s:e,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=nr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},qn.prototype.get=function(t){var e=this.__data__,n=nr(e,t);return n<0?i:e[n][1]},qn.prototype.has=function(t){return nr(this.__data__,t)>-1},qn.prototype.set=function(t,e){var n=this.__data__,r=nr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Sn||qn),string:new Wn}},Xn.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},Xn.prototype.get=function(t){return co(this,t).get(t)},Xn.prototype.has=function(t){return co(this,t).has(t)},Xn.prototype.set=function(t,e){var n=co(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(t){return this.__data__.set(t,s),this},Yn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new qn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(t,e),this.size=n.size,this};var fr=Li(br),dr=Li(_r,!0);function pr(t,e){var n=!0;return fr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function Ar(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(l===i?a===a&&!la(a):n(a,l)))var l=a,c=s}return c}function gr(t,e){var n=[];return fr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=mo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?yr(a,e-1,n,r,i):Ne(i,a):r||(i[i.length]=a)}return i}var mr=ki(),vr=ki(!0);function br(t,e){return t&&mr(t,e,Ia)}function _r(t,e){return t&&vr(t,e,Ia)}function wr(t,e){return Re(e,(function(e){return Js(t[e])}))}function xr(t,e){for(var n=0,r=(e=vi(e,t)).length;null!=t&&n<r;)t=t[Do(e[n++])];return n&&n==r?t:i}function Er(t,e,n){var r=e(t);return Hs(t)?r:Ne(r,n(t))}function Sr(t){return null==t?t===i?"[object Undefined]":"[object Null]":Zt&&Zt in Ct(t)?function(t){var e=Bt.call(t,Zt),n=t[Zt];try{t[Zt]=i;var r=!0}catch(s){}var o=Ft.call(t);r&&(e?t[Zt]=n:delete t[Zt]);return o}(t):function(t){return Ft.call(t)}(t)}function Cr(t,e){return t>e}function Pr(t,e){return null!=t&&Bt.call(t,e)}function Mr(t,e){return null!=t&&e in Ct(t)}function Tr(t,e,r){for(var o=r?ke:Le,s=t[0].length,a=t.length,l=a,c=n(a),u=1/0,h=[];l--;){var f=t[l];l&&e&&(f=Be(f,$e(e))),u=vn(f.length,u),c[l]=!r&&(e||s>=120&&f.length>=120)?new Yn(l&&f):i}f=t[0];var d=-1,p=c[0];t:for(;++d<s&&h.length<u;){var A=f[d],g=e?e(A):A;if(A=r||0!==A?A:0,!(p?en(p,g):o(h,g,r))){for(l=a;--l;){var y=c[l];if(!(y?en(y,g):o(t[l],g,r)))continue t}p&&p.push(g),h.push(A)}}return h}function Or(t,e,n){var r=null==(t=Mo(t,e=vi(e,t)))?t:t[Do(Ko(e))];return null==r?i:Pe(r,t,n)}function Ir(t){return ea(t)&&Sr(t)==m}function Rr(t,e,n,r,o){return t===e||(null==t||null==e||!ea(t)&&!ea(e)?t!==t&&e!==e:function(t,e,n,r,o,s){var a=Hs(t),l=Hs(e),c=a?v:Ao(t),u=l?v:Ao(e),h=(c=c==m?P:c)==P,f=(u=u==m?P:u)==P,d=c==u;if(d&&Ys(t)){if(!Ys(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new Qn),a||ca(t)?eo(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case B:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case b:case _:case C:return Us(+t,+e);case w:return t.name==e.name&&t.message==e.message;case T:case I:return t==e+"";case S:var a=cn;case O:var l=1&r;if(a||(a=fn),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var u=eo(a(t),a(e),r,i,o,s);return s.delete(t),u;case R:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,c,n,r,o,s);if(!(1&n)){var p=h&&Bt.call(t,"__wrapped__"),A=f&&Bt.call(e,"__wrapped__");if(p||A){var g=p?t.value():t,y=A?e.value():e;return s||(s=new Qn),o(g,y,n,r,s)}}if(!d)return!1;return s||(s=new Qn),function(t,e,n,r,o,s){var a=1&n,l=ro(t),c=l.length,u=ro(e),h=u.length;if(c!=h&&!a)return!1;var f=c;for(;f--;){var d=l[f];if(!(a?d in e:Bt.call(e,d)))return!1}var p=s.get(t),A=s.get(e);if(p&&A)return p==e&&A==t;var g=!0;s.set(t,e),s.set(e,t);var y=a;for(;++f<c;){var m=t[d=l[f]],v=e[d];if(r)var b=a?r(v,m,d,e,t,s):r(m,v,d,t,e,s);if(!(b===i?m===v||o(m,v,n,r,s):b)){g=!1;break}y||(y="constructor"==d)}if(g&&!y){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(t),s.delete(e),g}(t,e,n,r,o,s)}(t,e,n,r,Rr,o))}function Lr(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=Ct(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){var c=(l=n[o])[0],u=t[c],h=l[1];if(a&&l[2]){if(u===i&&!(c in t))return!1}else{var f=new Qn;if(r)var d=r(u,h,c,t,e,f);if(!(d===i?Rr(h,u,3,r,f):d))return!1}}return!0}function kr(t){return!(!ta(t)||(e=t,Dt&&Dt in e))&&(Js(t)?zt:mt).test(Fo(t));var e}function Br(t){return"function"==typeof t?t:null==t?rl:"object"==typeof t?Hs(t)?zr(t[0],t[1]):Ur(t):fl(t)}function Nr(t){if(!Eo(t))return Ue(t);var e=[];for(var n in Ct(t))Bt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Dr(t){if(!ta(t))return function(t){var e=[];if(null!=t)for(var n in Ct(t))e.push(n);return e}(t);var e=Eo(t),n=[];for(var r in t)("constructor"!=r||!e&&Bt.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function jr(t,e){var r=-1,i=qs(t)?n(t.length):[];return fr(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Ur(t){var e=uo(t);return 1==e.length&&e[0][2]?Co(e[0][0],e[0][1]):function(n){return n===t||Lr(n,t,e)}}function zr(t,e){return _o(t)&&So(e)?Co(Do(t),e):function(n){var r=Ca(n,t);return r===i&&r===e?Pa(n,t):Rr(e,r,3)}}function Gr(t,e,n,r,o){t!==e&&mr(e,(function(s,a){if(o||(o=new Qn),ta(s))!function(t,e,n,r,o,s,a){var l=To(t,n),c=To(e,n),u=a.get(c);if(u)return void tr(t,n,u);var h=s?s(l,c,n+"",t,e,a):i,f=h===i;if(f){var d=Hs(c),p=!d&&Ys(c),A=!d&&!p&&ca(c);h=c,d||p||A?Hs(l)?h=l:Xs(l)?h=Ti(l):p?(f=!1,h=xi(c,!0)):A?(f=!1,h=Si(c,!0)):h=[]:ia(c)||Vs(c)?(h=l,Vs(l)?h=ya(l):ta(l)&&!Js(l)||(h=yo(c))):f=!1}f&&(a.set(c,h),o(h,c,r,s,a),a.delete(c));tr(t,n,h)}(t,e,a,n,Gr,r,o);else{var l=r?r(To(t,a),s,a+"",t,e,o):i;l===i&&(l=s),tr(t,a,l)}}),Ra)}function Vr(t,e){var n=t.length;if(n)return vo(e+=e<0?n:0,n)?t[e]:i}function Hr(t,e,n){e=e.length?Be(e,(function(t){return Hs(t)?function(e){return xr(e,1===t.length?t[0]:t)}:t})):[rl];var r=-1;e=Be(e,$e(lo()));var i=jr(t,(function(t,n,i){var o=Be(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;for(;++r<s;){var l=Ci(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Wr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=xr(t,s);n(a,s)&&$r(o,vi(s,t),a)}return o}function qr(t,e,n,r){var i=r?He:Ve,o=-1,s=e.length,a=t;for(t===e&&(e=Ti(e)),n&&(a=Be(t,$e(n)));++o<s;)for(var l=0,c=e[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==t&&Qt.call(a,l,1),Qt.call(t,l,1);return t}function Xr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;vo(i)?Qt.call(t,i,1):hi(t,i)}}return t}function Yr(t,e){return t+pe(wn()*(e-t+1))}function Qr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=pe(e/2))&&(t+=t)}while(e);return n}function Kr(t,e){return Ro(Po(t,e,rl),t+"")}function Jr(t){return Jn(Ua(t))}function Zr(t,e){var n=Ua(t);return Bo(n,ar(e,0,n.length))}function $r(t,e,n,r){if(!ta(t))return t;for(var o=-1,s=(e=vi(e,t)).length,a=s-1,l=t;null!=l&&++o<s;){var c=Do(e[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var h=l[c];(u=r?r(h,c,l):i)===i&&(u=ta(h)?h:vo(e[o+1])?[]:{})}er(l,c,u),l=l[c]}return t}var ti=On?function(t,e){return On.set(t,e),t}:rl,ei=$t?function(t,e){return $t(t,"toString",{configurable:!0,enumerable:!1,value:tl(e),writable:!0})}:rl;function ni(t){return Bo(Ua(t))}function ri(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function ii(t,e){var n;return fr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function oi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!la(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return si(t,e,rl,n)}function si(t,e,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!==e,l=null===e,c=la(e),u=e===i;o<s;){var h=pe((o+s)/2),f=n(t[h]),d=f!==i,p=null===f,A=f===f,g=la(f);if(a)var y=r||A;else y=u?A&&(r||d):l?A&&d&&(r||!p):c?A&&d&&!p&&(r||!g):!p&&!g&&(r?f<=e:f<e);y?o=h+1:s=h}return vn(s,4294967294)}function ai(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Us(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function li(t){return"number"==typeof t?t:la(t)?A:+t}function ci(t){if("string"==typeof t)return t;if(Hs(t))return Be(t,ci)+"";if(la(t))return jn?jn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ui(t,e,n){var r=-1,i=Le,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=ke;else if(o>=200){var c=e?null:Qi(t);if(c)return fn(c);s=!1,i=en,l=new Yn}else l=e?[]:a;t:for(;++r<o;){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,s&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue t;e&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function hi(t,e){return null==(t=Mo(t,e=vi(e,t)))||delete t[Do(Ko(e))]}function fi(t,e,n,r){return $r(t,e,n(xr(t,e)),r)}function di(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ri(t,r?0:o,r?o+1:i):ri(t,r?o+1:0,r?i:o)}function pi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),De(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),n)}function Ai(t,e,r){var i=t.length;if(i<2)return i?ui(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],l=-1;++l<i;)l!=o&&(s[o]=hr(s[o]||a,t[l],e,r));return ui(yr(s,1),e,r)}function gi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var l=r<s?e[r]:i;n(a,t[r],l)}return a}function yi(t){return Xs(t)?t:[]}function mi(t){return"function"==typeof t?t:rl}function vi(t,e){return Hs(t)?t:_o(t,e)?[t]:No(ma(t))}var bi=Kr;function _i(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ri(t,e,n)}var wi=ne||function(t){return Ae.clearTimeout(t)};function xi(t,e){if(e)return t.slice();var n=t.length,r=Wt?Wt(n):new t.constructor(n);return t.copy(r),r}function Ei(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Si(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ci(t,e){if(t!==e){var n=t!==i,r=null===t,o=t===t,s=la(t),a=e!==i,l=null===e,c=e===e,u=la(e);if(!l&&!u&&!s&&t>e||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!u&&t<e||u&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}function Pi(t,e,r,i){for(var o=-1,s=t.length,a=r.length,l=-1,c=e.length,u=Ye(s-a,0),h=n(c+u),f=!i;++l<c;)h[l]=e[l];for(;++o<a;)(f||o<s)&&(h[r[o]]=t[o]);for(;u--;)h[l++]=t[o++];return h}function Mi(t,e,r,i){for(var o=-1,s=t.length,a=-1,l=r.length,c=-1,u=e.length,h=Ye(s-l,0),f=n(h+u),d=!i;++o<h;)f[o]=t[o];for(var p=o;++c<u;)f[p+c]=e[c];for(;++a<l;)(d||o<s)&&(f[p+r[a]]=t[o++]);return f}function Ti(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Oi(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var l=e[s],c=r?r(n[l],t[l],l,n,t):i;c===i&&(c=t[l]),o?or(n,l,c):er(n,l,c)}return n}function Ii(t,e){return function(n,r){var i=Hs(n)?Me:rr,o=e?e():{};return i(n,t,lo(r,2),o)}}function Ri(t){return Kr((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&bo(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=Ct(e);++r<o;){var l=n[r];l&&t(e,l,r,s)}return e}))}function Li(t,e){return function(n,r){if(null==n)return n;if(!qs(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Ct(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function ki(t){return function(e,n,r){for(var i=-1,o=Ct(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===n(o[l],l,o))break}return e}}function Bi(t){return function(e){var n=ln(e=ma(e))?An(e):i,r=n?n[0]:e.charAt(0),o=n?_i(n,1).join(""):e.slice(1);return r[t]()+o}}function Ni(t){return function(e){return De(Ja(Va(e).replace(te,"")),t,"")}}function Di(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=zn(t.prototype),r=t.apply(n,e);return ta(r)?r:n}}function Fi(t){return function(e,n,r){var o=Ct(e);if(!qs(e)){var s=lo(n,3);e=Ia(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function ji(t){return no((function(e){var n=e.length,r=n,s=Vn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Tt(o);if(s&&!l&&"wrapper"==so(a))var l=new Vn([],!0)}for(r=l?r:n;++r<n;){var c=so(a=e[r]),u="wrapper"==c?oo(a):i;l=u&&wo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[so(u[0])].apply(l,u[3]):1==a.length&&wo(a)?l[c]():l.thru(a)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&Hs(r))return l.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ui(t,e,r,o,s,a,l,c,u,f){var d=e&h,p=1&e,A=2&e,g=24&e,y=512&e,m=A?i:Di(t);return function h(){for(var v=arguments.length,b=n(v),_=v;_--;)b[_]=arguments[_];if(g)var w=ao(h),x=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,w);if(o&&(b=Pi(b,o,s,g)),a&&(b=Mi(b,a,l,g)),v-=x,g&&v<f){var E=hn(b,w);return Xi(t,e,Ui,h.placeholder,r,b,E,c,u,f-v)}var S=p?r:this,C=A?S[t]:t;return v=b.length,c?b=function(t,e){var n=t.length,r=vn(e.length,n),o=Ti(t);for(;r--;){var s=e[r];t[r]=vo(s,n)?o[s]:i}return t}(b,c):y&&v>1&&b.reverse(),d&&u<v&&(b.length=u),this&&this!==Ae&&this instanceof h&&(C=m||Di(C)),C.apply(S,b)}}function zi(t,e){return function(n,r){return function(t,e,n,r){return br(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Gi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=t(n,r)}return o}}function Vi(t){return no((function(e){return e=Be(e,$e(lo())),Kr((function(n){var r=this;return t(e,(function(t){return Pe(t,r,n)}))}))}))}function Hi(t,e){var n=(e=e===i?" ":ci(e)).length;if(n<2)return n?Qr(e,t):e;var r=Qr(e,de(t/pn(e)));return ln(e)?_i(An(r),0,t).join(""):r.slice(0,t)}function Wi(t){return function(e,r,o){return o&&"number"!=typeof o&&bo(e,r,o)&&(r=o=i),e=da(e),r===i?(r=e,e=0):r=da(r),function(t,e,r,i){for(var o=-1,s=Ye(de((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,o=o===i?e<r?1:-1:da(o),t)}}function qi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ga(e),n=ga(n)),t(e,n)}}function Xi(t,e,n,r,o,s,a,l,h,f){var d=8&e;e|=d?c:u,4&(e&=~(d?u:c))||(e&=-4);var p=[t,e,o,d?s:i,d?a:i,d?i:s,d?i:a,l,h,f],A=n.apply(i,p);return wo(t)&&Oo(A,p),A.placeholder=r,Lo(A,t,e)}function Yi(t){var e=St[t];return function(t,n){if(t=ga(t),(n=null==n?0:vn(pa(n),292))&&ve(t)){var r=(ma(t)+"e").split("e");return+((r=(ma(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Qi=Pn&&1/fn(new Pn([,-0]))[1]==d?function(t){return new Pn(t)}:ll;function Ki(t){return function(e){var n=Ao(e);return n==S?cn(e):n==O?dn(e):function(t,e){return Be(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ji(t,e,r,s,d,p,A,g){var y=2&e;if(!y&&"function"!=typeof t)throw new Tt(o);var m=s?s.length:0;if(m||(e&=-97,s=d=i),A=A===i?A:Ye(pa(A),0),g=g===i?g:pa(g),m-=d?d.length:0,e&u){var v=s,b=d;s=d=i}var _=y?i:oo(t),w=[t,e,r,s,d,v,b,p,A,g];if(_&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=r==h&&8==n||r==h&&n==f&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Pi(c,l,e[4]):l,t[4]=c?hn(t[3],a):e[4]}(l=e[5])&&(c=t[5],t[5]=c?Mi(c,l,e[6]):l,t[6]=c?hn(t[5],a):e[6]);(l=e[7])&&(t[7]=l);r&h&&(t[8]=null==t[8]?e[8]:vn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(w,_),t=w[0],e=w[1],r=w[2],s=w[3],d=w[4],!(g=w[9]=w[9]===i?y?0:t.length:Ye(w[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)x=8==e||e==l?function(t,e,r){var o=Di(t);return function s(){for(var a=arguments.length,l=n(a),c=a,u=ao(s);c--;)l[c]=arguments[c];var h=a<3&&l[0]!==u&&l[a-1]!==u?[]:hn(l,u);return(a-=h.length)<r?Xi(t,e,Ui,s.placeholder,i,l,h,i,i,r-a):Pe(this&&this!==Ae&&this instanceof s?o:t,this,l)}}(t,e,g):e!=c&&33!=e||d.length?Ui.apply(i,w):function(t,e,r,i){var o=1&e,s=Di(t);return function e(){for(var a=-1,l=arguments.length,c=-1,u=i.length,h=n(u+l),f=this&&this!==Ae&&this instanceof e?s:t;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++a];return Pe(f,o?r:this,h)}}(t,e,r,s);else var x=function(t,e,n){var r=1&e,i=Di(t);return function e(){return(this&&this!==Ae&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return Lo((_?ti:Oo)(x,w),t,e)}function Zi(t,e,n,r){return t===i||Us(t,Rt[n])&&!Bt.call(r,n)?e:t}function $i(t,e,n,r,o,s){return ta(t)&&ta(e)&&(s.set(e,t),Gr(t,e,i,$i,s),s.delete(e)),t}function to(t){return ia(t)?i:t}function eo(t,e,n,r,o,s){var a=1&n,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var f=-1,d=!0,p=2&n?new Yn:i;for(s.set(t,e),s.set(e,t);++f<l;){var A=t[f],g=e[f];if(r)var y=a?r(g,A,f,e,t,s):r(A,g,f,t,e,s);if(y!==i){if(y)continue;d=!1;break}if(p){if(!je(e,(function(t,e){if(!en(p,e)&&(A===t||o(A,t,n,r,s)))return p.push(e)}))){d=!1;break}}else if(A!==g&&!o(A,g,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function no(t){return Ro(Po(t,i,Wo),t+"")}function ro(t){return Er(t,Ia,fo)}function io(t){return Er(t,Ra,po)}var oo=On?function(t){return On.get(t)}:ll;function so(t){for(var e=t.name+"",n=In[e],r=Bt.call(In,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function ao(t){return(Bt.call(Un,"placeholder")?Un:t).placeholder}function lo(){var t=Un.iteratee||il;return t=t===il?Br:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function uo(t){for(var e=Ia(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,So(i)]}return e}function ho(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return kr(n)?n:i}var fo=ge?function(t){return null==t?[]:(t=Ct(t),Re(ge(t),(function(e){return Yt.call(t,e)})))}:Al,po=ge?function(t){for(var e=[];t;)Ne(e,fo(t)),t=qt(t);return e}:Al,Ao=Sr;function go(t,e,n){for(var r=-1,i=(e=vi(e,t)).length,o=!1;++r<i;){var s=Do(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&$s(i)&&vo(s,i)&&(Hs(t)||Vs(t))}function yo(t){return"function"!=typeof t.constructor||Eo(t)?{}:zn(qt(t))}function mo(t){return Hs(t)||Vs(t)||!!(Kt&&t&&t[Kt])}function vo(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e}function bo(t,e,n){if(!ta(n))return!1;var r=typeof e;return!!("number"==r?qs(n)&&vo(e,n.length):"string"==r&&e in n)&&Us(n[e],t)}function _o(t,e){if(Hs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!la(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Ct(e))}function wo(t){var e=so(t),n=Un[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=oo(n);return!!r&&t===r[0]}(En&&Ao(new En(new ArrayBuffer(1)))!=B||Sn&&Ao(new Sn)!=S||Cn&&Ao(Cn.resolve())!=M||Pn&&Ao(new Pn)!=O||Mn&&Ao(new Mn)!=L)&&(Ao=function(t){var e=Sr(t),n=e==P?t.constructor:i,r=n?Fo(n):"";if(r)switch(r){case Rn:return B;case Ln:return S;case kn:return M;case Bn:return O;case Nn:return L}return e});var xo=Lt?Js:gl;function Eo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function So(t){return t===t&&!ta(t)}function Co(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in Ct(n)))}}function Po(t,e,r){return e=Ye(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=Ye(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var l=n(e+1);++o<e;)l[o]=i[o];return l[e]=r(a),Pe(t,this,l)}}function Mo(t,e){return e.length<2?t:xr(t,ri(e,0,-1))}function To(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Oo=ko(ti),Io=ue||function(t,e){return Ae.setTimeout(t,e)},Ro=ko(ei);function Lo(t,e,n){var r=e+"";return Ro(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Te(y,(function(n){var r="_."+n[0];e&n[1]&&!Le(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ut):[]}(r),n)))}function ko(t){var e=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Bo(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=Yr(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var No=function(t){var e=ks(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(dt,"$1"):n||t)})),e}));function Do(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fo(t){if(null!=t){try{return kt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function jo(t){if(t instanceof Hn)return t.clone();var e=new Vn(t.__wrapped__,t.__chain__);return e.__actions__=Ti(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Kr((function(t,e){return Xs(t)?hr(t,yr(e,1,Xs,!0)):[]})),zo=Kr((function(t,e){var n=Ko(e);return Xs(n)&&(n=i),Xs(t)?hr(t,yr(e,1,Xs,!0),lo(n,2)):[]})),Go=Kr((function(t,e){var n=Ko(e);return Xs(n)&&(n=i),Xs(t)?hr(t,yr(e,1,Xs,!0),i,n):[]}));function Vo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Ye(r+i,0)),Ge(t,lo(e,3),i)}function Ho(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=pa(n),o=n<0?Ye(r+o,0):vn(o,r-1)),Ge(t,lo(e,3),o,!0)}function Wo(t){return(null==t?0:t.length)?yr(t,1):[]}function qo(t){return t&&t.length?t[0]:i}var Xo=Kr((function(t){var e=Be(t,yi);return e.length&&e[0]===t[0]?Tr(e):[]})),Yo=Kr((function(t){var e=Ko(t),n=Be(t,yi);return e===Ko(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Tr(n,lo(e,2)):[]})),Qo=Kr((function(t){var e=Ko(t),n=Be(t,yi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Tr(n,i,e):[]}));function Ko(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Jo=Kr(Zo);function Zo(t,e){return t&&t.length&&e&&e.length?qr(t,e):t}var $o=no((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return Xr(t,Be(e,(function(t){return vo(t,n)?+t:t})).sort(Ci)),r}));function ts(t){return null==t?t:xn.call(t)}var es=Kr((function(t){return ui(yr(t,1,Xs,!0))})),ns=Kr((function(t){var e=Ko(t);return Xs(e)&&(e=i),ui(yr(t,1,Xs,!0),lo(e,2))})),rs=Kr((function(t){var e=Ko(t);return e="function"==typeof e?e:i,ui(yr(t,1,Xs,!0),i,e)}));function is(t){if(!t||!t.length)return[];var e=0;return t=Re(t,(function(t){if(Xs(t))return e=Ye(t.length,e),!0})),Je(e,(function(e){return Be(t,Xe(e))}))}function os(t,e){if(!t||!t.length)return[];var n=is(t);return null==e?n:Be(n,(function(t){return Pe(e,i,t)}))}var ss=Kr((function(t,e){return Xs(t)?hr(t,e):[]})),as=Kr((function(t){return Ai(Re(t,Xs))})),ls=Kr((function(t){var e=Ko(t);return Xs(e)&&(e=i),Ai(Re(t,Xs),lo(e,2))})),cs=Kr((function(t){var e=Ko(t);return e="function"==typeof e?e:i,Ai(Re(t,Xs),i,e)})),us=Kr(is);var hs=Kr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,os(t,n)}));function fs(t){var e=Un(t);return e.__chain__=!0,e}function ds(t,e){return e(t)}var ps=no((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&vo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new Vn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var As=Ii((function(t,e,n){Bt.call(t,n)?++t[n]:or(t,n,1)}));var gs=Fi(Vo),ys=Fi(Ho);function ms(t,e){return(Hs(t)?Te:fr)(t,lo(e,3))}function vs(t,e){return(Hs(t)?Oe:dr)(t,lo(e,3))}var bs=Ii((function(t,e,n){Bt.call(t,n)?t[n].push(e):or(t,n,[e])}));var _s=Kr((function(t,e,r){var i=-1,o="function"==typeof e,s=qs(t)?n(t.length):[];return fr(t,(function(t){s[++i]=o?Pe(e,t,r):Or(t,e,r)})),s})),ws=Ii((function(t,e,n){or(t,n,e)}));function xs(t,e){return(Hs(t)?Be:jr)(t,lo(e,3))}var Es=Ii((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ss=Kr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&bo(t,e[0],e[1])?e=[]:n>2&&bo(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,yr(e,1),[])})),Cs=ie||function(){return Ae.Date.now()};function Ps(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Ji(t,h,i,i,i,i,e)}function Ms(t,e){var n;if("function"!=typeof e)throw new Tt(o);return t=pa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ts=Kr((function(t,e,n){var r=1;if(n.length){var i=hn(n,ao(Ts));r|=c}return Ji(t,r,e,n,i)})),Os=Kr((function(t,e,n){var r=3;if(n.length){var i=hn(n,ao(Os));r|=c}return Ji(e,r,t,n,i)}));function Is(t,e,n){var r,s,a,l,c,u,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new Tt(o);function A(e){var n=r,o=s;return r=s=i,h=e,l=t.apply(o,n)}function g(t){var n=t-u;return u===i||n>=e||n<0||d&&t-h>=a}function y(){var t=Cs();if(g(t))return m(t);c=Io(y,function(t){var n=e-(t-u);return d?vn(n,a-(t-h)):n}(t))}function m(t){return c=i,p&&r?A(t):(r=s=i,l)}function v(){var t=Cs(),n=g(t);if(r=arguments,s=this,u=t,n){if(c===i)return function(t){return h=t,c=Io(y,e),f?A(t):l}(u);if(d)return wi(c),c=Io(y,e),A(u)}return c===i&&(c=Io(y,e)),l}return e=ga(e)||0,ta(n)&&(f=!!n.leading,a=(d="maxWait"in n)?Ye(ga(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),v.cancel=function(){c!==i&&wi(c),h=0,r=u=s=c=i},v.flush=function(){return c===i?l:m(Cs())},v}var Rs=Kr((function(t,e){return ur(t,1,e)})),Ls=Kr((function(t,e,n){return ur(t,ga(e)||0,n)}));function ks(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Tt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(ks.Cache||Xn),n}function Bs(t){if("function"!=typeof t)throw new Tt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ks.Cache=Xn;var Ns=bi((function(t,e){var n=(e=1==e.length&&Hs(e[0])?Be(e[0],$e(lo())):Be(yr(e,1),$e(lo()))).length;return Kr((function(r){for(var i=-1,o=vn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Pe(t,this,r)}))})),Ds=Kr((function(t,e){var n=hn(e,ao(Ds));return Ji(t,c,i,e,n)})),Fs=Kr((function(t,e){var n=hn(e,ao(Fs));return Ji(t,u,i,e,n)})),js=no((function(t,e){return Ji(t,f,i,i,i,e)}));function Us(t,e){return t===e||t!==t&&e!==e}var zs=qi(Cr),Gs=qi((function(t,e){return t>=e})),Vs=Ir(function(){return arguments}())?Ir:function(t){return ea(t)&&Bt.call(t,"callee")&&!Yt.call(t,"callee")},Hs=n.isArray,Ws=_e?$e(_e):function(t){return ea(t)&&Sr(t)==k};function qs(t){return null!=t&&$s(t.length)&&!Js(t)}function Xs(t){return ea(t)&&qs(t)}var Ys=ye||gl,Qs=we?$e(we):function(t){return ea(t)&&Sr(t)==_};function Ks(t){if(!ea(t))return!1;var e=Sr(t);return e==w||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ia(t)}function Js(t){if(!ta(t))return!1;var e=Sr(t);return e==x||e==E||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zs(t){return"number"==typeof t&&t==pa(t)}function $s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ea(t){return null!=t&&"object"==typeof t}var na=xe?$e(xe):function(t){return ea(t)&&Ao(t)==S};function ra(t){return"number"==typeof t||ea(t)&&Sr(t)==C}function ia(t){if(!ea(t)||Sr(t)!=P)return!1;var e=qt(t);if(null===e)return!0;var n=Bt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&kt.call(n)==jt}var oa=Ee?$e(Ee):function(t){return ea(t)&&Sr(t)==T};var sa=Se?$e(Se):function(t){return ea(t)&&Ao(t)==O};function aa(t){return"string"==typeof t||!Hs(t)&&ea(t)&&Sr(t)==I}function la(t){return"symbol"==typeof t||ea(t)&&Sr(t)==R}var ca=Ce?$e(Ce):function(t){return ea(t)&&$s(t.length)&&!!le[Sr(t)]};var ua=qi(Fr),ha=qi((function(t,e){return t<=e}));function fa(t){if(!t)return[];if(qs(t))return aa(t)?An(t):Ti(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=Ao(t);return(e==S?cn:e==O?fn:Ua)(t)}function da(t){return t?(t=ga(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function pa(t){var e=da(t),n=e%1;return e===e?n?e-n:e:0}function Aa(t){return t?ar(pa(t),0,g):0}function ga(t){if("number"==typeof t)return t;if(la(t))return A;if(ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var n=yt.test(t);return n||vt.test(t)?fe(t.slice(2),n?2:8):gt.test(t)?A:+t}function ya(t){return Oi(t,Ra(t))}function ma(t){return null==t?"":ci(t)}var va=Ri((function(t,e){if(Eo(e)||qs(e))Oi(e,Ia(e),t);else for(var n in e)Bt.call(e,n)&&er(t,n,e[n])})),ba=Ri((function(t,e){Oi(e,Ra(e),t)})),_a=Ri((function(t,e,n,r){Oi(e,Ra(e),t,r)})),wa=Ri((function(t,e,n,r){Oi(e,Ia(e),t,r)})),xa=no(sr);var Ea=Kr((function(t,e){t=Ct(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&bo(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=Ra(s),l=-1,c=a.length;++l<c;){var u=a[l],h=t[u];(h===i||Us(h,Rt[u])&&!Bt.call(t,u))&&(t[u]=s[u])}return t})),Sa=Kr((function(t){return t.push(i,$i),Pe(ka,i,t)}));function Ca(t,e,n){var r=null==t?i:xr(t,e);return r===i?n:r}function Pa(t,e){return null!=t&&go(t,e,Mr)}var Ma=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),tl(rl)),Ta=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Bt.call(t,e)?t[e].push(n):t[e]=[n]}),lo),Oa=Kr(Or);function Ia(t){return qs(t)?Kn(t):Nr(t)}function Ra(t){return qs(t)?Kn(t,!0):Dr(t)}var La=Ri((function(t,e,n){Gr(t,e,n)})),ka=Ri((function(t,e,n,r){Gr(t,e,n,r)})),Ba=no((function(t,e){var n={};if(null==t)return n;var r=!1;e=Be(e,(function(e){return e=vi(e,t),r||(r=e.length>1),e})),Oi(t,io(t),n),r&&(n=lr(n,7,to));for(var i=e.length;i--;)hi(n,e[i]);return n}));var Na=no((function(t,e){return null==t?{}:function(t,e){return Wr(t,e,(function(e,n){return Pa(t,n)}))}(t,e)}));function Da(t,e){if(null==t)return{};var n=Be(io(t),(function(t){return[t]}));return e=lo(e),Wr(t,n,(function(t,n){return e(t,n[0])}))}var Fa=Ki(Ia),ja=Ki(Ra);function Ua(t){return null==t?[]:tn(t,Ia(t))}var za=Ni((function(t,e,n){return e=e.toLowerCase(),t+(n?Ga(e):e)}));function Ga(t){return Ka(ma(t).toLowerCase())}function Va(t){return(t=ma(t))&&t.replace(_t,on).replace(ee,"")}var Ha=Ni((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Wa=Ni((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),qa=Bi("toLowerCase");var Xa=Ni((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ya=Ni((function(t,e,n){return t+(n?" ":"")+Ka(e)}));var Qa=Ni((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ka=Bi("toUpperCase");function Ja(t,e,n){return t=ma(t),(e=n?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Za=Kr((function(t,e){try{return Pe(t,i,e)}catch(n){return Ks(n)?n:new at(n)}})),$a=no((function(t,e){return Te(e,(function(e){e=Do(e),or(t,e,Ts(t[e],t))})),t}));function tl(t){return function(){return t}}var el=ji(),nl=ji(!0);function rl(t){return t}function il(t){return Br("function"==typeof t?t:lr(t,1))}var ol=Kr((function(t,e){return function(n){return Or(n,t,e)}})),sl=Kr((function(t,e){return function(n){return Or(t,n,e)}}));function al(t,e,n){var r=Ia(e),i=wr(e,r);null!=n||ta(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,Ia(e)));var o=!(ta(n)&&"chain"in n)||!!n.chain,s=Js(t);return Te(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ti(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ne([this.value()],arguments))})})),t}function ll(){}var cl=Vi(Be),ul=Vi(Ie),hl=Vi(je);function fl(t){return _o(t)?Xe(Do(t)):function(t){return function(e){return xr(e,t)}}(t)}var dl=Wi(),pl=Wi(!0);function Al(){return[]}function gl(){return!1}var yl=Gi((function(t,e){return t+e}),0),ml=Yi("ceil"),vl=Gi((function(t,e){return t/e}),1),bl=Yi("floor");var _l=Gi((function(t,e){return t*e}),1),wl=Yi("round"),xl=Gi((function(t,e){return t-e}),0);return Un.after=function(t,e){if("function"!=typeof e)throw new Tt(o);return t=pa(t),function(){if(--t<1)return e.apply(this,arguments)}},Un.ary=Ps,Un.assign=va,Un.assignIn=ba,Un.assignInWith=_a,Un.assignWith=wa,Un.at=xa,Un.before=Ms,Un.bind=Ts,Un.bindAll=$a,Un.bindKey=Os,Un.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hs(t)?t:[t]},Un.chain=fs,Un.chunk=function(t,e,r){e=(r?bo(t,e,r):e===i)?1:Ye(pa(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,l=n(de(o/e));s<o;)l[a++]=ri(t,s,s+=e);return l},Un.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Un.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ne(Hs(r)?Ti(r):[r],yr(e,1))},Un.cond=function(t){var e=null==t?0:t.length,n=lo();return t=e?Be(t,(function(t){if("function"!=typeof t[1])throw new Tt(o);return[n(t[0]),t[1]]})):[],Kr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Pe(i[0],this,n))return Pe(i[1],this,n)}}))},Un.conforms=function(t){return function(t){var e=Ia(t);return function(n){return cr(n,t,e)}}(lr(t,1))},Un.constant=tl,Un.countBy=As,Un.create=function(t,e){var n=zn(t);return null==e?n:ir(n,e)},Un.curry=function t(e,n,r){var o=Ji(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.curryRight=function t(e,n,r){var o=Ji(e,l,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.debounce=Is,Un.defaults=Ea,Un.defaultsDeep=Sa,Un.defer=Rs,Un.delay=Ls,Un.difference=Uo,Un.differenceBy=zo,Un.differenceWith=Go,Un.drop=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,(e=n||e===i?1:pa(e))<0?0:e,r):[]},Un.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,0,(e=r-(e=n||e===i?1:pa(e)))<0?0:e):[]},Un.dropRightWhile=function(t,e){return t&&t.length?di(t,lo(e,3),!0,!0):[]},Un.dropWhile=function(t,e){return t&&t.length?di(t,lo(e,3),!0):[]},Un.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&bo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:pa(r))<0&&(r+=o),r=n>r?0:Aa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Un.filter=function(t,e){return(Hs(t)?Re:gr)(t,lo(e,3))},Un.flatMap=function(t,e){return yr(xs(t,e),1)},Un.flatMapDeep=function(t,e){return yr(xs(t,e),d)},Un.flatMapDepth=function(t,e,n){return n=n===i?1:pa(n),yr(xs(t,e),n)},Un.flatten=Wo,Un.flattenDeep=function(t){return(null==t?0:t.length)?yr(t,d):[]},Un.flattenDepth=function(t,e){return(null==t?0:t.length)?yr(t,e=e===i?1:pa(e)):[]},Un.flip=function(t){return Ji(t,512)},Un.flow=el,Un.flowRight=nl,Un.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Un.functions=function(t){return null==t?[]:wr(t,Ia(t))},Un.functionsIn=function(t){return null==t?[]:wr(t,Ra(t))},Un.groupBy=bs,Un.initial=function(t){return(null==t?0:t.length)?ri(t,0,-1):[]},Un.intersection=Xo,Un.intersectionBy=Yo,Un.intersectionWith=Qo,Un.invert=Ma,Un.invertBy=Ta,Un.invokeMap=_s,Un.iteratee=il,Un.keyBy=ws,Un.keys=Ia,Un.keysIn=Ra,Un.map=xs,Un.mapKeys=function(t,e){var n={};return e=lo(e,3),br(t,(function(t,r,i){or(n,e(t,r,i),t)})),n},Un.mapValues=function(t,e){var n={};return e=lo(e,3),br(t,(function(t,r,i){or(n,r,e(t,r,i))})),n},Un.matches=function(t){return Ur(lr(t,1))},Un.matchesProperty=function(t,e){return zr(t,lr(e,1))},Un.memoize=ks,Un.merge=La,Un.mergeWith=ka,Un.method=ol,Un.methodOf=sl,Un.mixin=al,Un.negate=Bs,Un.nthArg=function(t){return t=pa(t),Kr((function(e){return Vr(e,t)}))},Un.omit=Ba,Un.omitBy=function(t,e){return Da(t,Bs(lo(e)))},Un.once=function(t){return Ms(2,t)},Un.orderBy=function(t,e,n,r){return null==t?[]:(Hs(e)||(e=null==e?[]:[e]),Hs(n=r?i:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Un.over=cl,Un.overArgs=Ns,Un.overEvery=ul,Un.overSome=hl,Un.partial=Ds,Un.partialRight=Fs,Un.partition=Es,Un.pick=Na,Un.pickBy=Da,Un.property=fl,Un.propertyOf=function(t){return function(e){return null==t?i:xr(t,e)}},Un.pull=Jo,Un.pullAll=Zo,Un.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,lo(n,2)):t},Un.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,i,n):t},Un.pullAt=$o,Un.range=dl,Un.rangeRight=pl,Un.rearg=js,Un.reject=function(t,e){return(Hs(t)?Re:gr)(t,Bs(lo(e,3)))},Un.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=lo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Xr(t,i),n},Un.rest=function(t,e){if("function"!=typeof t)throw new Tt(o);return Kr(t,e=e===i?e:pa(e))},Un.reverse=ts,Un.sampleSize=function(t,e,n){return e=(n?bo(t,e,n):e===i)?1:pa(e),(Hs(t)?Zn:Zr)(t,e)},Un.set=function(t,e,n){return null==t?t:$r(t,e,n)},Un.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:$r(t,e,n,r)},Un.shuffle=function(t){return(Hs(t)?$n:ni)(t)},Un.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&bo(t,e,n)?(e=0,n=r):(e=null==e?0:pa(e),n=n===i?r:pa(n)),ri(t,e,n)):[]},Un.sortBy=Ss,Un.sortedUniq=function(t){return t&&t.length?ai(t):[]},Un.sortedUniqBy=function(t,e){return t&&t.length?ai(t,lo(e,2)):[]},Un.split=function(t,e,n){return n&&"number"!=typeof n&&bo(t,e,n)&&(e=n=i),(n=n===i?g:n>>>0)?(t=ma(t))&&("string"==typeof e||null!=e&&!oa(e))&&!(e=ci(e))&&ln(t)?_i(An(t),0,n):t.split(e,n):[]},Un.spread=function(t,e){if("function"!=typeof t)throw new Tt(o);return e=null==e?0:Ye(pa(e),0),Kr((function(n){var r=n[e],i=_i(n,0,e);return r&&Ne(i,r),Pe(t,this,i)}))},Un.tail=function(t){var e=null==t?0:t.length;return e?ri(t,1,e):[]},Un.take=function(t,e,n){return t&&t.length?ri(t,0,(e=n||e===i?1:pa(e))<0?0:e):[]},Un.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,(e=r-(e=n||e===i?1:pa(e)))<0?0:e,r):[]},Un.takeRightWhile=function(t,e){return t&&t.length?di(t,lo(e,3),!1,!0):[]},Un.takeWhile=function(t,e){return t&&t.length?di(t,lo(e,3)):[]},Un.tap=function(t,e){return e(t),t},Un.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Tt(o);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Is(t,e,{leading:r,maxWait:e,trailing:i})},Un.thru=ds,Un.toArray=fa,Un.toPairs=Fa,Un.toPairsIn=ja,Un.toPath=function(t){return Hs(t)?Be(t,Do):la(t)?[t]:Ti(No(ma(t)))},Un.toPlainObject=ya,Un.transform=function(t,e,n){var r=Hs(t),i=r||Ys(t)||ca(t);if(e=lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ta(t)&&Js(o)?zn(qt(t)):{}}return(i?Te:br)(t,(function(t,r,i){return e(n,t,r,i)})),n},Un.unary=function(t){return Ps(t,1)},Un.union=es,Un.unionBy=ns,Un.unionWith=rs,Un.uniq=function(t){return t&&t.length?ui(t):[]},Un.uniqBy=function(t,e){return t&&t.length?ui(t,lo(e,2)):[]},Un.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ui(t,i,e):[]},Un.unset=function(t,e){return null==t||hi(t,e)},Un.unzip=is,Un.unzipWith=os,Un.update=function(t,e,n){return null==t?t:fi(t,e,mi(n))},Un.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:fi(t,e,mi(n),r)},Un.values=Ua,Un.valuesIn=function(t){return null==t?[]:tn(t,Ra(t))},Un.without=ss,Un.words=Ja,Un.wrap=function(t,e){return Ds(mi(e),t)},Un.xor=as,Un.xorBy=ls,Un.xorWith=cs,Un.zip=us,Un.zipObject=function(t,e){return gi(t||[],e||[],er)},Un.zipObjectDeep=function(t,e){return gi(t||[],e||[],$r)},Un.zipWith=hs,Un.entries=Fa,Un.entriesIn=ja,Un.extend=ba,Un.extendWith=_a,al(Un,Un),Un.add=yl,Un.attempt=Za,Un.camelCase=za,Un.capitalize=Ga,Un.ceil=ml,Un.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ga(n))===n?n:0),e!==i&&(e=(e=ga(e))===e?e:0),ar(ga(t),e,n)},Un.clone=function(t){return lr(t,4)},Un.cloneDeep=function(t){return lr(t,5)},Un.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:i)},Un.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:i)},Un.conformsTo=function(t,e){return null==e||cr(t,e,Ia(e))},Un.deburr=Va,Un.defaultTo=function(t,e){return null==t||t!==t?e:t},Un.divide=vl,Un.endsWith=function(t,e,n){t=ma(t),e=ci(e);var r=t.length,o=n=n===i?r:ar(pa(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Un.eq=Us,Un.escape=function(t){return(t=ma(t))&&J.test(t)?t.replace(Q,sn):t},Un.escapeRegExp=function(t){return(t=ma(t))&&ot.test(t)?t.replace(it,"\\$&"):t},Un.every=function(t,e,n){var r=Hs(t)?Ie:pr;return n&&bo(t,e,n)&&(e=i),r(t,lo(e,3))},Un.find=gs,Un.findIndex=Vo,Un.findKey=function(t,e){return ze(t,lo(e,3),br)},Un.findLast=ys,Un.findLastIndex=Ho,Un.findLastKey=function(t,e){return ze(t,lo(e,3),_r)},Un.floor=bl,Un.forEach=ms,Un.forEachRight=vs,Un.forIn=function(t,e){return null==t?t:mr(t,lo(e,3),Ra)},Un.forInRight=function(t,e){return null==t?t:vr(t,lo(e,3),Ra)},Un.forOwn=function(t,e){return t&&br(t,lo(e,3))},Un.forOwnRight=function(t,e){return t&&_r(t,lo(e,3))},Un.get=Ca,Un.gt=zs,Un.gte=Gs,Un.has=function(t,e){return null!=t&&go(t,e,Pr)},Un.hasIn=Pa,Un.head=qo,Un.identity=rl,Un.includes=function(t,e,n,r){t=qs(t)?t:Ua(t),n=n&&!r?pa(n):0;var i=t.length;return n<0&&(n=Ye(i+n,0)),aa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ve(t,e,n)>-1},Un.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Ye(r+i,0)),Ve(t,e,i)},Un.inRange=function(t,e,n){return e=da(e),n===i?(n=e,e=0):n=da(n),function(t,e,n){return t>=vn(e,n)&&t<Ye(e,n)}(t=ga(t),e,n)},Un.invoke=Oa,Un.isArguments=Vs,Un.isArray=Hs,Un.isArrayBuffer=Ws,Un.isArrayLike=qs,Un.isArrayLikeObject=Xs,Un.isBoolean=function(t){return!0===t||!1===t||ea(t)&&Sr(t)==b},Un.isBuffer=Ys,Un.isDate=Qs,Un.isElement=function(t){return ea(t)&&1===t.nodeType&&!ia(t)},Un.isEmpty=function(t){if(null==t)return!0;if(qs(t)&&(Hs(t)||"string"==typeof t||"function"==typeof t.splice||Ys(t)||ca(t)||Vs(t)))return!t.length;var e=Ao(t);if(e==S||e==O)return!t.size;if(Eo(t))return!Nr(t).length;for(var n in t)if(Bt.call(t,n))return!1;return!0},Un.isEqual=function(t,e){return Rr(t,e)},Un.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Rr(t,e,i,n):!!r},Un.isError=Ks,Un.isFinite=function(t){return"number"==typeof t&&ve(t)},Un.isFunction=Js,Un.isInteger=Zs,Un.isLength=$s,Un.isMap=na,Un.isMatch=function(t,e){return t===e||Lr(t,e,uo(e))},Un.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Lr(t,e,uo(e),n)},Un.isNaN=function(t){return ra(t)&&t!=+t},Un.isNative=function(t){if(xo(t))throw new at("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kr(t)},Un.isNil=function(t){return null==t},Un.isNull=function(t){return null===t},Un.isNumber=ra,Un.isObject=ta,Un.isObjectLike=ea,Un.isPlainObject=ia,Un.isRegExp=oa,Un.isSafeInteger=function(t){return Zs(t)&&t>=-9007199254740991&&t<=p},Un.isSet=sa,Un.isString=aa,Un.isSymbol=la,Un.isTypedArray=ca,Un.isUndefined=function(t){return t===i},Un.isWeakMap=function(t){return ea(t)&&Ao(t)==L},Un.isWeakSet=function(t){return ea(t)&&"[object WeakSet]"==Sr(t)},Un.join=function(t,e){return null==t?"":be.call(t,e)},Un.kebabCase=Ha,Un.last=Ko,Un.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=pa(n))<0?Ye(r+o,0):vn(o,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Ge(t,We,o,!0)},Un.lowerCase=Wa,Un.lowerFirst=qa,Un.lt=ua,Un.lte=ha,Un.max=function(t){return t&&t.length?Ar(t,rl,Cr):i},Un.maxBy=function(t,e){return t&&t.length?Ar(t,lo(e,2),Cr):i},Un.mean=function(t){return qe(t,rl)},Un.meanBy=function(t,e){return qe(t,lo(e,2))},Un.min=function(t){return t&&t.length?Ar(t,rl,Fr):i},Un.minBy=function(t,e){return t&&t.length?Ar(t,lo(e,2),Fr):i},Un.stubArray=Al,Un.stubFalse=gl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=_l,Un.nth=function(t,e){return t&&t.length?Vr(t,pa(e)):i},Un.noConflict=function(){return Ae._===this&&(Ae._=Ut),this},Un.noop=ll,Un.now=Cs,Un.pad=function(t,e,n){t=ma(t);var r=(e=pa(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Hi(pe(i),n)+t+Hi(de(i),n)},Un.padEnd=function(t,e,n){t=ma(t);var r=(e=pa(e))?pn(t):0;return e&&r<e?t+Hi(e-r,n):t},Un.padStart=function(t,e,n){t=ma(t);var r=(e=pa(e))?pn(t):0;return e&&r<e?Hi(e-r,n)+t:t},Un.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),_n(ma(t).replace(st,""),e||0)},Un.random=function(t,e,n){if(n&&"boolean"!=typeof n&&bo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=da(t),e===i?(e=t,t=0):e=da(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=wn();return vn(t+o*(e-t+he("1e-"+((o+"").length-1))),e)}return Yr(t,e)},Un.reduce=function(t,e,n){var r=Hs(t)?De:Qe,i=arguments.length<3;return r(t,lo(e,4),n,i,fr)},Un.reduceRight=function(t,e,n){var r=Hs(t)?Fe:Qe,i=arguments.length<3;return r(t,lo(e,4),n,i,dr)},Un.repeat=function(t,e,n){return e=(n?bo(t,e,n):e===i)?1:pa(e),Qr(ma(t),e)},Un.replace=function(){var t=arguments,e=ma(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Un.result=function(t,e,n){var r=-1,o=(e=vi(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[Do(e[r])];s===i&&(r=o,s=n),t=Js(s)?s.call(t):s}return t},Un.round=wl,Un.runInContext=t,Un.sample=function(t){return(Hs(t)?Jn:Jr)(t)},Un.size=function(t){if(null==t)return 0;if(qs(t))return aa(t)?pn(t):t.length;var e=Ao(t);return e==S||e==O?t.size:Nr(t).length},Un.snakeCase=Xa,Un.some=function(t,e,n){var r=Hs(t)?je:ii;return n&&bo(t,e,n)&&(e=i),r(t,lo(e,3))},Un.sortedIndex=function(t,e){return oi(t,e)},Un.sortedIndexBy=function(t,e,n){return si(t,e,lo(n,2))},Un.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=oi(t,e);if(r<n&&Us(t[r],e))return r}return-1},Un.sortedLastIndex=function(t,e){return oi(t,e,!0)},Un.sortedLastIndexBy=function(t,e,n){return si(t,e,lo(n,2),!0)},Un.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=oi(t,e,!0)-1;if(Us(t[n],e))return n}return-1},Un.startCase=Ya,Un.startsWith=function(t,e,n){return t=ma(t),n=null==n?0:ar(pa(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e},Un.subtract=xl,Un.sum=function(t){return t&&t.length?Ke(t,rl):0},Un.sumBy=function(t,e){return t&&t.length?Ke(t,lo(e,2)):0},Un.template=function(t,e,n){var r=Un.templateSettings;n&&bo(t,e,n)&&(e=i),t=ma(t),e=_a({},e,r,Zi);var o,s,a=_a({},e.imports,r.imports,Zi),l=Ia(a),c=tn(a,l),u=0,h=e.interpolate||wt,f="__p += '",d=Pt((e.escape||wt).source+"|"+h.source+"|"+(h===tt?pt:wt).source+"|"+(e.evaluate||wt).source+"|$","g"),p="//# sourceURL="+(Bt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(d,(function(e,n,r,i,a,l){return r||(r=i),f+=t.slice(u,l).replace(xt,an),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),f+="';\n";var A=Bt.call(e,"variable")&&e.variable;if(A){if(ft.test(A))throw new at("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(W,""):f).replace(q,"$1").replace(X,"$1;"),f="function("+(A||"obj")+") {\n"+(A?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Za((function(){return Et(l,p+"return "+f).apply(i,c)}));if(g.source=f,Ks(g))throw g;return g},Un.times=function(t,e){if((t=pa(t))<1||t>p)return[];var n=g,r=vn(t,g);e=lo(e),t-=g;for(var i=Je(r,e);++n<t;)e(n);return i},Un.toFinite=da,Un.toInteger=pa,Un.toLength=Aa,Un.toLower=function(t){return ma(t).toLowerCase()},Un.toNumber=ga,Un.toSafeInteger=function(t){return t?ar(pa(t),-9007199254740991,p):0===t?t:0},Un.toString=ma,Un.toUpper=function(t){return ma(t).toUpperCase()},Un.trim=function(t,e,n){if((t=ma(t))&&(n||e===i))return Ze(t);if(!t||!(e=ci(e)))return t;var r=An(t),o=An(e);return _i(r,nn(r,o),rn(r,o)+1).join("")},Un.trimEnd=function(t,e,n){if((t=ma(t))&&(n||e===i))return t.slice(0,gn(t)+1);if(!t||!(e=ci(e)))return t;var r=An(t);return _i(r,0,rn(r,An(e))+1).join("")},Un.trimStart=function(t,e,n){if((t=ma(t))&&(n||e===i))return t.replace(st,"");if(!t||!(e=ci(e)))return t;var r=An(t);return _i(r,nn(r,An(e))).join("")},Un.truncate=function(t,e){var n=30,r="...";if(ta(e)){var o="separator"in e?e.separator:o;n="length"in e?pa(e.length):n,r="omission"in e?ci(e.omission):r}var s=(t=ma(t)).length;if(ln(t)){var a=An(t);s=a.length}if(n>=s)return t;var l=n-pn(r);if(l<1)return r;var c=a?_i(a,0,l).join(""):t.slice(0,l);if(o===i)return c+r;if(a&&(l+=c.length-l),oa(o)){if(t.slice(l).search(o)){var u,h=c;for(o.global||(o=Pt(o.source,ma(At.exec(o))+"g")),o.lastIndex=0;u=o.exec(h);)var f=u.index;c=c.slice(0,f===i?l:f)}}else if(t.indexOf(ci(o),l)!=l){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},Un.unescape=function(t){return(t=ma(t))&&K.test(t)?t.replace(Y,yn):t},Un.uniqueId=function(t){var e=++Nt;return ma(t)+e},Un.upperCase=Qa,Un.upperFirst=Ka,Un.each=ms,Un.eachRight=vs,Un.first=qo,al(Un,function(){var t={};return br(Un,(function(e,n){Bt.call(Un.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Un.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Un[t].placeholder=Un})),Te(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===i?1:Ye(pa(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,g),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Te(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(rl)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Kr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return Or(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Bs(lo(t)))},Hn.prototype.slice=function(t,e){t=pa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=pa(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(g)},br(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Un[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(Un.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof Hn,c=a[0],u=l||Hs(e),h=function(t){var e=o.apply(Un,Ne([t],a));return r&&f?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,A=l&&!d;if(!s&&u){e=A?e:new Hn(this);var g=t.apply(e,a);return g.__actions__.push({func:ds,args:[h],thisArg:i}),new Vn(g,f)}return p&&A?t.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ot[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Un.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Hs(i)?i:[],t)}return this[n]((function(n){return e.apply(Hs(n)?n:[],t)}))}})),br(Hn.prototype,(function(t,e){var n=Un[e];if(n){var r=n.name+"";Bt.call(In,r)||(In[r]=[]),In[r].push({name:e,func:n})}})),In[Ui(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Ti(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ti(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ti(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=vn(e,t+s);break;case"takeRight":t=Ye(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,h=u.length,f=0,d=vn(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return pi(t,this.__actions__);var p=[];t:for(;l--&&f<d;){for(var A=-1,g=t[c+=e];++A<h;){var y=u[A],m=y.iteratee,v=y.type,b=m(g);if(2==v)g=b;else if(!b){if(1==v)continue t;break t}}p[f++]=g}return p},Un.prototype.at=ps,Un.prototype.chain=function(){return fs(this)},Un.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(t){for(var e,n=this;n instanceof Gn;){var r=jo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Un.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:ds,args:[ts],thisArg:i}),new Vn(e,this.__chain__)}return this.thru(ts)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Jt&&(Un.prototype[Jt]=function(){return this}),Un}();Ae._=mn,(r=function(){return mn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},33411:(t,e,n)=>{var r=n(50149),i=n(9096),o=n(38883),s=n(54052);t.exports=function(t,e){return(s(t)?r:o)(t,i(e,3))}},91733:(t,e,n)=>{var r=n(71775),i=n(94664),o=n(9096);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},50539:(t,e,n)=>{var r=n(79742),i=n(97498),o=n(33279);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},15797:(t,e,n)=>{var r=n(64816);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},76745:(t,e,n)=>{var r=n(79742),i=n(50061),o=n(33279);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},75713:t=>{t.exports=function(){}},4757:(t,e,n)=>{var r=n(56552);t.exports=function(){return r.Date.now()}},1488:(t,e,n)=>{var r=n(50149),i=n(97132),o=n(88140),s=n(35324),a=n(96614),l=n(96761),c=n(15857),u=n(68592),h=c((function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,(function(e){return e=s(e,t),c||(c=e.length>1),e})),a(t,u(t),n),c&&(n=i(n,7,l));for(var h=e.length;h--;)o(n,e[h]);return n}));t.exports=h},63932:(t,e,n)=>{var r=n(10396),i=n(52866),o=n(62597),s=n(70914);t.exports=function(t){return o(t)?r(s(t)):i(t)}},96604:(t,e,n)=>{var r=n(3331)();t.exports=r},24597:(t,e,n)=>{var r=n(52587),i=n(9096),o=n(22165),s=n(54052),a=n(60929);t.exports=function(t,e,n){var l=s(t)?r:o;return n&&a(t,e,n)&&(e=void 0),l(t,i(e,3))}},87424:(t,e,n)=>{var r=n(80755),i=n(12536),o=n(55647),s=n(60929),a=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&s(t,e[0],e[1])?e=[]:n>2&&s(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=a},57828:t=>{t.exports=function(){return[]}},60014:t=>{t.exports=function(){return!1}},79889:(t,e,n)=>{var r=n(93950),i=n(46686);t.exports=function(t,e,n){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:o,maxWait:e,trailing:s})}},37303:(t,e,n)=>{var r=n(40801),i=1/0;t.exports=function(t){return t?(t=r(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},99140:(t,e,n)=>{var r=n(37303);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},40801:(t,e,n)=>{var r=n(61141),i=n(46686),o=n(19841),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=a.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):s.test(t)?NaN:+t}},41069:(t,e,n)=>{var r=n(38541);t.exports=function(t){return null==t?"":r(t)}},20977:(t,e,n)=>{var r=n(9096),i=n(64416);t.exports=function(t,e){return t&&t.length?i(t,r(e,2)):[]}},643:(t,e,n)=>{var r=n(57676)("toUpperCase");t.exports=r},42301:function(t,e){var n,r,i;r=[],void 0===(i="function"===typeof(n=function(){"use strict";function t(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function e(t){return!0===(t&&t.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var n={},r={};function i(t,e){var i,o,a;return e?(a=0<=(t>>>=0)&&t<256)&&(o=r[t])?o:(i=s(t,(0|t)<0?-1:0,!0),a&&(r[t]=i),i):(a=-128<=(t|=0)&&t<128)&&(o=n[t])?o:(i=s(t,t<0?-1:0,!1),a&&(n[t]=i),i)}function o(t,e){if(isNaN(t)||!isFinite(t))return e?g:A;if(e){if(t<0)return g;if(t>=f)return _}else{if(t<=-d)return w;if(t+1>=d)return b}return t<0?o(-t,e).neg():s(t%h|0,t/h|0,e)}function s(e,n,r){return new t(e,n,r)}t.fromInt=i,t.fromNumber=o,t.fromBits=s;var a=Math.pow;function l(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return A;if("number"===typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(t.substring(1),e,n).neg();for(var i=o(a(n,8)),s=A,c=0;c<t.length;c+=8){var u=Math.min(8,t.length-c),h=parseInt(t.substring(c,c+u),n);if(u<8){var f=o(a(n,u));s=s.mul(f).add(o(h))}else s=(s=s.mul(i)).add(o(h))}return s.unsigned=e,s}function c(e){return e instanceof t?e:"number"===typeof e?o(e):"string"===typeof e?l(e):s(e.low,e.high,e.unsigned)}t.fromString=l,t.fromValue=c;var u=65536,h=u*u,f=h*h,d=f/2,p=i(1<<24),A=i(0);t.ZERO=A;var g=i(0,!0);t.UZERO=g;var y=i(1);t.ONE=y;var m=i(1,!0);t.UONE=m;var v=i(-1);t.NEG_ONE=v;var b=s(-1,2147483647,!1);t.MAX_VALUE=b;var _=s(-1,-1,!0);t.MAX_UNSIGNED_VALUE=_;var w=s(0,-2147483648,!1);t.MIN_VALUE=w;var x=t.prototype;return x.toInt=function(){return this.unsigned?this.low>>>0:this.low},x.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},x.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var e=o(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=o(a(t,6),this.unsigned),s=this,l="";;){var c=s.div(i),u=(s.sub(c.mul(i)).toInt()>>>0).toString(t);if((s=c).isZero())return u+l;for(;u.length<6;)u="0"+u;l=""+u+l}},x.getHighBits=function(){return this.high},x.getHighBitsUnsigned=function(){return this.high>>>0},x.getLowBits=function(){return this.low},x.getLowBitsUnsigned=function(){return this.low>>>0},x.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},x.isZero=function(){return 0===this.high&&0===this.low},x.isNegative=function(){return!this.unsigned&&this.high<0},x.isPositive=function(){return this.unsigned||this.high>=0},x.isOdd=function(){return 1===(1&this.low)},x.isEven=function(){return 0===(1&this.low)},x.equals=function(t){return e(t)||(t=c(t)),(this.unsigned===t.unsigned||this.high>>>31!==1||t.high>>>31!==1)&&this.high===t.high&&this.low===t.low},x.eq=x.equals,x.notEquals=function(t){return!this.eq(t)},x.neq=x.notEquals,x.lessThan=function(t){return this.comp(t)<0},x.lt=x.lessThan,x.lessThanOrEqual=function(t){return this.comp(t)<=0},x.lte=x.lessThanOrEqual,x.greaterThan=function(t){return this.comp(t)>0},x.gt=x.greaterThan,x.greaterThanOrEqual=function(t){return this.comp(t)>=0},x.gte=x.greaterThanOrEqual,x.compare=function(t){if(e(t)||(t=c(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},x.comp=x.compare,x.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(y)},x.neg=x.negate,x.add=function(t){e(t)||(t=c(t));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,a=t.high>>>16,l=65535&t.high,u=t.low>>>16,h=0,f=0,d=0,p=0;return d+=(p+=o+(65535&t.low))>>>16,f+=(d+=i+u)>>>16,h+=(f+=r+l)>>>16,h+=n+a,s((d&=65535)<<16|(p&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},x.subtract=function(t){return e(t)||(t=c(t)),this.add(t.neg())},x.sub=x.subtract,x.multiply=function(t){if(this.isZero())return A;if(e(t)||(t=c(t)),t.isZero())return A;if(this.eq(w))return t.isOdd()?w:A;if(t.eq(w))return this.isOdd()?w:A;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(p)&&t.lt(p))return o(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,l=t.high>>>16,u=65535&t.high,h=t.low>>>16,f=65535&t.low,d=0,g=0,y=0,m=0;return y+=(m+=a*f)>>>16,g+=(y+=i*f)>>>16,y&=65535,g+=(y+=a*h)>>>16,d+=(g+=r*f)>>>16,g&=65535,d+=(g+=i*h)>>>16,g&=65535,d+=(g+=a*u)>>>16,d+=n*f+r*h+i*u+a*l,s((y&=65535)<<16|(m&=65535),(d&=65535)<<16|(g&=65535),this.unsigned)},x.mul=x.multiply,x.divide=function(t){if(e(t)||(t=c(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:A;var n,r,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return g;if(t.gt(this.shru(1)))return m;i=g}else{if(this.eq(w))return t.eq(y)||t.eq(v)?w:t.eq(w)?y:(n=this.shr(1).div(t).shl(1)).eq(A)?t.isNegative()?y:v:(r=this.sub(t.mul(n)),i=n.add(r.div(t)));if(t.eq(w))return this.unsigned?g:A;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=A}for(r=this;r.gte(t);){n=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),l=s<=48?1:a(2,s-48),u=o(n),h=u.mul(t);h.isNegative()||h.gt(r);)h=(u=o(n-=l,this.unsigned)).mul(t);u.isZero()&&(u=y),i=i.add(u),r=r.sub(h)}return i},x.div=x.divide,x.modulo=function(t){return e(t)||(t=c(t)),this.sub(this.div(t).mul(t))},x.mod=x.modulo,x.not=function(){return s(~this.low,~this.high,this.unsigned)},x.and=function(t){return e(t)||(t=c(t)),s(this.low&t.low,this.high&t.high,this.unsigned)},x.or=function(t){return e(t)||(t=c(t)),s(this.low|t.low,this.high|t.high,this.unsigned)},x.xor=function(t){return e(t)||(t=c(t)),s(this.low^t.low,this.high^t.high,this.unsigned)},x.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?s(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):s(0,this.low<<t-32,this.unsigned)},x.shl=x.shiftLeft,x.shiftRight=function(t){return e(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?s(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):s(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},x.shr=x.shiftRight,x.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?s(this.low>>>t|n<<32-t,n>>>t,this.unsigned):s(32===t?n:n>>>t-32,0,this.unsigned)},x.shru=x.shiftRightUnsigned,x.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},x.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},x.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},x.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},x.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t})?n.apply(e,r):n)||(t.exports=i)},12709:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Euler:()=>y,Matrix3:()=>s.A,Matrix4:()=>a.A,Pose:()=>m,Quaternion:()=>l.A,SphericalCoordinates:()=>c.A,Vector2:()=>r.A,Vector3:()=>i.A,Vector4:()=>o.A,_Euler:()=>y,_MathUtils:()=>v.A,_Pose:()=>m,_SphericalCoordinates:()=>c.A,acos:()=>f.HQ,asin:()=>f.qR,assert:()=>b.A,atan:()=>f.rY,clamp:()=>f.qE,clone:()=>f.o8,config:()=>f.$W,configure:()=>f.jK,cos:()=>f.gn,degrees:()=>f.uj,equals:()=>f.aI,exactEquals:()=>f.t2,formatValue:()=>f.Fl,isArray:()=>f.cy,lerp:()=>f.Cc,radians:()=>f.F2,sin:()=>f.F8,tan:()=>f.Ml,toDegrees:()=>f.xW,toRadians:()=>f.eh,withEpsilon:()=>f.ZK});var r=n(61028),i=n(83051),o=n(39618),s=n(9881),a=n(92684),l=n(50516),c=n(69694),u=n(54705),h=n(89911),f=n(67567),d=n(75365);const p="Unknown Euler angle order",A=.99999;var g;!function(t){t[t.ZYX=0]="ZYX",t[t.YXZ=1]="YXZ",t[t.XZY=2]="XZY",t[t.ZXY=3]="ZXY",t[t.YZX=4]="YZX",t[t.XYZ=5]="XYZ"}(g||(g={}));class y extends h.A{static get ZYX(){return g.ZYX}static get YXZ(){return g.YXZ}static get XZY(){return g.XZY}static get ZXY(){return g.ZXY}static get YZX(){return g.YZX}static get XYZ(){return g.XYZ}static get RollPitchYaw(){return g.ZYX}static get DefaultOrder(){return g.ZYX}static get RotationOrders(){return g}static rotationOrder(t){return g[t]}get ELEMENTS(){return 4}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.DefaultOrder;super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(t,e,n,r)}fromQuaternion(t){const[e,n,r,i]=t,o=n*n,s=-2*(o+r*r)+1,a=2*(e*n+i*r);let l=-2*(e*r-i*n);const c=2*(n*r+i*e),u=-2*(e*e+o)+1;l=l>1?1:l,l=l<-1?-1:l;const h=Math.atan2(c,u),f=Math.asin(l),d=Math.atan2(a,s);return this.set(h,f,d,y.RollPitchYaw)}fromObject(t){throw new Error("not implemented")}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=Number.isFinite(t[3])||this.order,this.check()}set(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;return this[0]=t,this[1]=e,this[2]=n,this[3]=Number.isFinite(r)?r:this[3],this.check()}validate(){return(t=this[3])>=0&&t<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var t}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}toArray4(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}toVector3(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=this[0],t[1]=this[1],t[2]=this[2],t}get x(){return this[0]}set x(t){this[0]=(0,d.ws)(t)}get y(){return this[1]}set y(t){this[1]=(0,d.ws)(t)}get z(){return this[2]}set z(t){this[2]=(0,d.ws)(t)}get alpha(){return this[0]}set alpha(t){this[0]=(0,d.ws)(t)}get beta(){return this[1]}set beta(t){this[1]=(0,d.ws)(t)}get gamma(){return this[2]}set gamma(t){this[2]=(0,d.ws)(t)}get phi(){return this[0]}set phi(t){this[0]=(0,d.ws)(t)}get theta(){return this[1]}set theta(t){this[1]=(0,d.ws)(t)}get psi(){return this[2]}set psi(t){this[2]=(0,d.ws)(t)}get roll(){return this[0]}set roll(t){this[0]=(0,d.ws)(t)}get pitch(){return this[1]}set pitch(t){this[1]=(0,d.ws)(t)}get yaw(){return this[2]}set yaw(t){this[2]=(0,d.ws)(t)}get order(){return this[3]}set order(t){this[3]=function(t){if(t<0&&t>=6)throw new Error(p);return t}(t)}fromVector3(t,e){return this.set(t[0],t[1],t[2],Number.isFinite(e)?e:this[3])}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=t[0+e],this[1]=t[1+e],this[2]=t[2+e],void 0!==t[3]&&(this[3]=t[3]),this.check()}fromRollPitchYaw(t,e,n){return this.set(t,e,n,g.ZYX)}fromRotationMatrix(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.DefaultOrder;return this._fromRotationMatrix(t,e),this.check()}getRotationMatrix(t){return this._getRotationMatrix(t)}getQuaternion(){const t=new l.A;switch(this[4]){case g.XYZ:return t.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case g.YXZ:return t.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case g.ZXY:return t.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case g.ZYX:return t.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case g.YZX:return t.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case g.XZY:return t.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(p)}}_fromRotationMatrix(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.DefaultOrder;const n=t[0],r=t[4],i=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],u=t[10];switch(e=e||this[3],e){case y.XYZ:this[1]=Math.asin((0,f.qE)(i,-1,1)),Math.abs(i)<A?(this[0]=Math.atan2(-a,u),this[2]=Math.atan2(-r,n)):(this[0]=Math.atan2(c,s),this[2]=0);break;case y.YXZ:this[0]=Math.asin(-(0,f.qE)(a,-1,1)),Math.abs(a)<A?(this[1]=Math.atan2(i,u),this[2]=Math.atan2(o,s)):(this[1]=Math.atan2(-l,n),this[2]=0);break;case y.ZXY:this[0]=Math.asin((0,f.qE)(c,-1,1)),Math.abs(c)<A?(this[1]=Math.atan2(-l,u),this[2]=Math.atan2(-r,s)):(this[1]=0,this[2]=Math.atan2(o,n));break;case y.ZYX:this[1]=Math.asin(-(0,f.qE)(l,-1,1)),Math.abs(l)<A?(this[0]=Math.atan2(c,u),this[2]=Math.atan2(o,n)):(this[0]=0,this[2]=Math.atan2(-r,s));break;case y.YZX:this[2]=Math.asin((0,f.qE)(o,-1,1)),Math.abs(o)<A?(this[0]=Math.atan2(-a,s),this[1]=Math.atan2(-l,n)):(this[0]=0,this[1]=Math.atan2(i,u));break;case y.XZY:this[2]=Math.asin(-(0,f.qE)(r,-1,1)),Math.abs(r)<A?(this[0]=Math.atan2(c,s),this[1]=Math.atan2(i,n)):(this[0]=Math.atan2(-a,u),this[1]=0);break;default:throw new Error(p)}return this[3]=e,this}_getRotationMatrix(t){const e=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=this.x,r=this.y,i=this.z,o=Math.cos(n),s=Math.cos(r),a=Math.cos(i),l=Math.sin(n),c=Math.sin(r),u=Math.sin(i);switch(this[3]){case y.XYZ:{const t=o*a,n=o*u,r=l*a,i=l*u;e[0]=s*a,e[4]=-s*u,e[8]=c,e[1]=n+r*c,e[5]=t-i*c,e[9]=-l*s,e[2]=i-t*c,e[6]=r+n*c,e[10]=o*s;break}case y.YXZ:{const t=s*a,n=s*u,r=c*a,i=c*u;e[0]=t+i*l,e[4]=r*l-n,e[8]=o*c,e[1]=o*u,e[5]=o*a,e[9]=-l,e[2]=n*l-r,e[6]=i+t*l,e[10]=o*s;break}case y.ZXY:{const t=s*a,n=s*u,r=c*a,i=c*u;e[0]=t-i*l,e[4]=-o*u,e[8]=r+n*l,e[1]=n+r*l,e[5]=o*a,e[9]=i-t*l,e[2]=-o*c,e[6]=l,e[10]=o*s;break}case y.ZYX:{const t=o*a,n=o*u,r=l*a,i=l*u;e[0]=s*a,e[4]=r*c-n,e[8]=t*c+i,e[1]=s*u,e[5]=i*c+t,e[9]=n*c-r,e[2]=-c,e[6]=l*s,e[10]=o*s;break}case y.YZX:{const t=o*s,n=o*c,r=l*s,i=l*c;e[0]=s*a,e[4]=i-t*u,e[8]=r*u+n,e[1]=u,e[5]=o*a,e[9]=-l*a,e[2]=-c*a,e[6]=n*u+r,e[10]=t-i*u;break}case y.XZY:{const t=o*s,n=o*c,r=l*s,i=l*c;e[0]=s*a,e[4]=-u,e[8]=c*a,e[1]=t*u+i,e[5]=o*a,e[9]=n*u-r,e[2]=r*u-n,e[6]=l*a,e[10]=i*u+t;break}default:throw new Error(p)}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}toQuaternion(){const t=Math.cos(.5*this.yaw),e=Math.sin(.5*this.yaw),n=Math.cos(.5*this.roll),r=Math.sin(.5*this.roll),i=Math.cos(.5*this.pitch),o=Math.sin(.5*this.pitch),s=t*n*i+e*r*o,a=t*r*i-e*n*o,c=t*n*o+e*r*i,u=e*n*i-t*r*o;return new l.A(a,c,u,s)}}class m{constructor(){let{x:t=0,y:e=0,z:n=0,roll:r=0,pitch:o=0,yaw:s=0,position:a,orientation:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.A)(this,"position",void 0),(0,u.A)(this,"orientation",void 0),Array.isArray(a)&&3===a.length?this.position=new i.A(a):this.position=new i.A(t,e,n),Array.isArray(l)&&4===l.length?this.orientation=new y(l,l[3]):this.orientation=new y(r,o,s,y.RollPitchYaw)}get x(){return this.position.x}set x(t){this.position.x=t}get y(){return this.position.y}set y(t){this.position.y=t}get z(){return this.position.z}set z(t){this.position.z=t}get roll(){return this.orientation.roll}set roll(t){this.orientation.roll=t}get pitch(){return this.orientation.pitch}set pitch(t){this.orientation.pitch=t}get yaw(){return this.orientation.yaw}set yaw(t){this.orientation.yaw=t}getPosition(){return this.position}getOrientation(){return this.orientation}equals(t){return!!t&&(this.position.equals(t.position)&&this.orientation.equals(t.orientation))}exactEquals(t){return!!t&&(this.position.exactEquals(t.position)&&this.orientation.exactEquals(t.orientation))}getTransformationMatrix(){const t=Math.sin(this.roll),e=Math.sin(this.pitch),n=Math.sin(this.yaw),r=Math.cos(this.roll),i=Math.cos(this.pitch),o=Math.cos(this.yaw);return(new a.A).setRowMajor(o*i,-n*r+o*e*t,n*t+o*e*r,this.x,n*i,o*r+n*e*t,-o*t+n*e*r,this.y,-e,i*t,i*r,this.z,0,0,0,1)}getTransformationMatrixFromPose(t){return(new a.A).multiplyRight(this.getTransformationMatrix()).multiplyRight(t.getTransformationMatrix().invert())}getTransformationMatrixToPose(t){return(new a.A).multiplyRight(t.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}}var v=n(83004),b=n(15476)},42123:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,i){for(var o,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(e){s=e(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},57974:t=>{"use strict";var e=function(t){return t!==t};t.exports=function(t,n){return 0===t&&0===n?1/t===1/n:t===n||!(!e(t)||!e(n))}},52702:(t,e,n)=>{"use strict";var r=n(11779),i=n(61712),o=n(57974),s=n(3799),a=n(85289),l=i(s(),Object);r(l,{getPolyfill:s,implementation:o,shim:a}),t.exports=l},3799:(t,e,n)=>{"use strict";var r=n(57974);t.exports=function(){return"function"===typeof Object.is?Object.is:r}},85289:(t,e,n)=>{"use strict";var r=n(3799),i=n(11779);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},21038:(t,e,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(80234),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{h(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(t){var e=null!==t&&"object"===typeof t,n="[object Function]"===o.call(t),r=s(t),a=e&&"[object String]"===o.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=c&&n;if(a&&t.length>0&&!i.call(t,0))for(var A=0;A<t.length;++A)f.push(String(A));if(r&&t.length>0)for(var g=0;g<t.length;++g)f.push(String(g));else for(var y in t)p&&"prototype"===y||!i.call(t,y)||f.push(String(y));if(l)for(var m=function(t){if("undefined"===typeof window||!d)return h(t);try{return h(t)}catch(e){return!1}}(t),v=0;v<u.length;++v)m&&"constructor"===u[v]||!i.call(t,u[v])||f.push(u[v]);return f}}t.exports=r},2678:(t,e,n)=>{"use strict";var r=Array.prototype.slice,i=n(80234),o=Object.keys,s=o?function(t){return o(t)}:n(21038),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(r.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},80234:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},2736:(t,e,n)=>{"use strict";t.exports=i;var r=n(6900);function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o=4294967296,s=1/o,a="undefined"===typeof TextDecoder?null:new TextDecoder("utf-8");function l(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function c(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function u(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function h(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function A(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function _(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=b(this.buf,this.pos)+b(this.buf,this.pos+4)*o;return this.pos+=8,t},readSFixed64:function(){var t=b(this.buf,this.pos)+w(this.buf,this.pos+4)*o;return this.pos+=8,t},readFloat:function(){var t=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return c(t,r,e);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return c(t,r,e);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return c(t,r,e);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return c(t,r,e);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return c(t,r,e);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return c(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&a?function(t,e,n){return a.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){var r="",i=e;for(;i<n;){var o,s,a,l=t[i],c=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>n)break;1===u?l<128&&(c=l):2===u?128===(192&(o=t[i+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&((c=(15&l)<<12|(63&o)<<6|63&s)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(o=t[i+1],s=t[i+2],a=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&((c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),i+=u}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==i.Bytes)return t.push(this.readVarint(e));var n=l(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==i.Bytes)return t.push(this.readSVarint());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==i.Bytes)return t.push(this.readBoolean());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==i.Bytes)return t.push(this.readFloat());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==i.Bytes)return t.push(this.readDouble());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),_(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),_(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),_(this.buf,-1&t,this.pos),_(this.buf,Math.floor(t*s),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),_(this.buf,-1&t,this.pos),_(this.buf,Math.floor(t*s),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;if(e.buf[e.pos++]|=n|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&u(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),r.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),r.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&u(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,A,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,v,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},1014:t=>{t.exports=function(t,e,n,r){var i=t[0],o=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=(r-n)/2,l=0,c=a-1;l<a;c=l++){var u=e[n+2*l+0],h=e[n+2*l+1],f=e[n+2*c+0],d=e[n+2*c+1];h>o!==d>o&&i<(f-u)*(o-h)/(d-h)+u&&(s=!s)}return s}},64185:(t,e,n)=>{var r=n(1014),i=n(56734);t.exports=function(t,e,n,o){return e.length>0&&Array.isArray(e[0])?i(t,e,n,o):r(t,e,n,o)},t.exports.nested=i,t.exports.flat=r},56734:t=>{t.exports=function(t,e,n,r){var i=t[0],o=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=r-n,l=0,c=a-1;l<a;c=l++){var u=e[l+n][0],h=e[l+n][1],f=e[c+n][0],d=e[c+n][1];h>o!==d>o&&i<(f-u)*(o-h)/(d-h)+u&&(s=!s)}return s}},86929:function(t){t.exports=function(){"use strict";function t(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var e=function(){function t(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null}return t}();function n(t,e){return t>e?1:t<e?-1:0}function r(t,n,r){for(var i=new e(null,null),o=i,s=i;;){var a=r(t,n.key);if(a<0){if(null===n.left)break;if(r(t,n.left.key)<0){var l=n.left;if(n.left=l.right,l.right=n,null===(n=l).left)break}s.left=n,s=n,n=n.left}else{if(!(a>0))break;if(null===n.right)break;if(r(t,n.right.key)>0&&(l=n.right,n.right=l.left,l.left=n,null===(n=l).right))break;o.right=n,o=n,n=n.right}}return o.right=n.left,s.left=n.right,n.left=i.right,n.right=i.left,n}function i(t,n,i,o){var s=new e(t,n);if(null===i)return s.left=s.right=null,s;var a=o(t,(i=r(t,i,o)).key);return a<0?(s.left=i.left,s.right=i,i.left=null):a>=0&&(s.right=i.right,s.left=i,i.right=null),s}function o(t,e,n){var i=null,o=null;if(e){var s=n((e=r(t,e,n)).key,t);0===s?(i=e.left,o=e.right):s<0?(o=e.right,e.right=null,i=e):(i=e.left,e.left=null,o=e)}return{left:i,right:o}}function s(t,e,n){return null===e?t:(null===t||((e=r(t.key,e,n)).left=t),e)}function a(t,e,n,r,i){if(t){r(e+(n?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+i(t)+"\n");var o=e+(n?"    ":"\u2502   ");t.left&&a(t.left,o,!1,r,i),t.right&&a(t.right,o,!0,r,i)}}var l=function(){function l(t){void 0===t&&(t=n),this._root=null,this._size=0,this._comparator=t}return l.prototype.insert=function(t,e){return this._size++,this._root=i(t,e,this._root,this._comparator)},l.prototype.add=function(t,n){var i=new e(t,n);null===this._root&&(i.left=i.right=null,this._size++,this._root=i);var o=this._comparator,s=r(t,this._root,o),a=o(t,s.key);return 0===a?this._root=s:(a<0?(i.left=s.left,i.right=s,s.left=null):a>0&&(i.right=s.right,i.left=s,s.right=null),this._size++,this._root=i),this._root},l.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},l.prototype._remove=function(t,e,n){var i;return null===e?null:0===n(t,(e=r(t,e,n)).key)?(null===e.left?i=e.right:(i=r(t,e.left,n)).right=e.right,this._size--,i):e},l.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=r(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},l.prototype.findStatic=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return e;e=r<0?e.left:e.right}return null},l.prototype.find=function(t){return this._root&&(this._root=r(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},l.prototype.contains=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},l.prototype.forEach=function(t,e){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),t.call(e,n),n=n.right):i=!0;return this},l.prototype.range=function(t,e,n,r){for(var i=[],o=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&n.call(r,s))return this;s=s.right}return this},l.prototype.keys=function(){var t=[];return this.forEach((function(e){var n=e.key;return t.push(n)})),t},l.prototype.values=function(){var t=[];return this.forEach((function(e){var n=e.data;return t.push(n)})),t},l.prototype.min=function(){return this._root?this.minNode(this._root).key:null},l.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},l.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},l.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},l.prototype.at=function(t){for(var e=this._root,n=!1,r=0,i=[];!n;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),r===t)return e;r++,e=e.right}else n=!0;return null},l.prototype.next=function(t){var e=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?(n=e,e=e.left):e=e.right}return n},l.prototype.prev=function(t){var e=this._root,n=null;if(null!==t.left){for(n=t.left;n.right;)n=n.right;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?e=e.left:(n=e,e=e.right)}return n},l.prototype.clear=function(){return this._root=null,this._size=0,this},l.prototype.toList=function(){return h(this._root)},l.prototype.load=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=t.length,i=this._comparator;if(n&&p(t,e,0,r-1,i),null===this._root)this._root=c(t,e,0,r),this._size=r;else{var o=d(this.toList(),u(t,e),i);r=this._size+r,this._root=f({head:o},0,r)}return this},l.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(l.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),l.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return a(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},l.prototype.update=function(t,e,n){var r=this._comparator,a=o(t,this._root,r),l=a.left,c=a.right;r(t,e)<0?c=i(e,n,c,r):l=i(e,n,l,r),this._root=s(l,c,r)},l.prototype.split=function(t){return o(t,this._root,this._comparator)},l.prototype[Symbol.iterator]=function(){var e,n,r;return t(this,(function(t){switch(t.label){case 0:e=this._root,n=[],r=!1,t.label=1;case 1:return r?[3,6]:null===e?[3,2]:(n.push(e),e=e.left,[3,5]);case 2:return 0===n.length?[3,4]:[4,e=n.pop()];case 3:return t.sent(),e=e.right,[3,5];case 4:r=!0,t.label=5;case 5:return[3,1];case 6:return[2]}}))},l}();function c(t,n,r,i){var o=i-r;if(o>0){var s=r+Math.floor(o/2),a=t[s],l=n[s],u=new e(a,l);return u.left=c(t,n,r,s),u.right=c(t,n,s+1,i),u}return null}function u(t,n){for(var r=new e(null,null),i=r,o=0;o<t.length;o++)i=i.next=new e(t[o],n[o]);return i.next=null,r.next}function h(t){for(var n=t,r=[],i=!1,o=new e(null,null),s=o;!i;)n?(r.push(n),n=n.left):r.length>0?n=(n=s=s.next=r.pop()).right:i=!0;return s.next=null,o.next}function f(t,e,n){var r=n-e;if(r>0){var i=e+Math.floor(r/2),o=f(t,e,i),s=t.head;return s.left=o,t.head=t.head.next,s.right=f(t,i+1,n),s}return null}function d(t,n,r){for(var i=new e(null,null),o=i,s=t,a=n;null!==s&&null!==a;)r(s.key,a.key)<0?(o.next=s,s=s.next):(o.next=a,a=a.next),o=o.next;return null!==s?o.next=s:null!==a&&(o.next=a),i.next}function p(t,e,n,r,i){if(!(n>=r)){for(var o=t[n+r>>1],s=n-1,a=r+1;;){do{s++}while(i(t[s],o)<0);do{a--}while(i(t[a],o)>0);if(s>=a)break;var l=t[s];t[s]=t[a],t[a]=l,l=e[s],e[s]=e[a],e[a]=l}p(t,e,n,a,i),p(t,e,a+1,r,i)}}const A=(t,e)=>t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y,g=(t,e)=>{if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;const n=t.ll.x<e.ll.x?e.ll.x:t.ll.x,r=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}};let y=Number.EPSILON;void 0===y&&(y=Math.pow(2,-52));const m=y*y,v=(t,e)=>{if(-y<t&&t<y&&-y<e&&e<y)return 0;const n=t-e;return n*n<m*t*e?0:t<e?-1:1};class b{constructor(){this.reset()}reset(){this.xRounder=new _,this.yRounder=new _}round(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}class _{constructor(){this.tree=new l,this.round(0)}round(t){const e=this.tree.add(t),n=this.tree.prev(e);if(null!==n&&0===v(e.key,n.key))return this.tree.remove(t),n.key;const r=this.tree.next(e);return null!==r&&0===v(e.key,r.key)?(this.tree.remove(t),r.key):t}}const w=new b,x=11102230246251565e-32,E=134217729,S=(3+8*x)*x;function C(t,e,n,r,i){let o,s,a,l,c=e[0],u=r[0],h=0,f=0;u>c===u>-c?(o=c,c=e[++h]):(o=u,u=r[++f]);let d=0;if(h<t&&f<n)for(u>c===u>-c?(s=c+o,a=o-(s-c),c=e[++h]):(s=u+o,a=o-(s-u),u=r[++f]),o=s,0!==a&&(i[d++]=a);h<t&&f<n;)u>c===u>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=e[++h]):(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++f]),o=s,0!==a&&(i[d++]=a);for(;h<t;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=e[++h],o=s,0!==a&&(i[d++]=a);for(;f<n;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++f],o=s,0!==a&&(i[d++]=a);return 0===o&&0!==d||(i[d++]=o),d}function P(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function M(t){return new Float64Array(t)}const T=(3+16*x)*x,O=(2+12*x)*x,I=(9+64*x)*x*x,R=M(4),L=M(8),k=M(12),B=M(16),N=M(4);function D(t,e,n,r,i,o,s){let a,l,c,u,h,f,d,p,A,g,y,m,v,b,_,w,x,M;const T=t-i,D=n-i,F=e-o,j=r-o;b=T*j,f=E*T,d=f-(f-T),p=T-d,f=E*j,A=f-(f-j),g=j-A,_=p*g-(b-d*A-p*A-d*g),w=F*D,f=E*F,d=f-(f-F),p=F-d,f=E*D,A=f-(f-D),g=D-A,x=p*g-(w-d*A-p*A-d*g),y=_-x,h=_-y,R[0]=_-(y+h)+(h-x),m=b+y,h=m-b,v=b-(m-h)+(y-h),y=v-w,h=v-y,R[1]=v-(y+h)+(h-w),M=m+y,h=M-m,R[2]=m-(M-h)+(y-h),R[3]=M;let U=P(4,R),z=O*s;if(U>=z||-U>=z)return U;if(h=t-T,a=t-(T+h)+(h-i),h=n-D,c=n-(D+h)+(h-i),h=e-F,l=e-(F+h)+(h-o),h=r-j,u=r-(j+h)+(h-o),0===a&&0===l&&0===c&&0===u)return U;if(z=I*s+S*Math.abs(U),U+=T*u+j*a-(F*c+D*l),U>=z||-U>=z)return U;b=a*j,f=E*a,d=f-(f-a),p=a-d,f=E*j,A=f-(f-j),g=j-A,_=p*g-(b-d*A-p*A-d*g),w=l*D,f=E*l,d=f-(f-l),p=l-d,f=E*D,A=f-(f-D),g=D-A,x=p*g-(w-d*A-p*A-d*g),y=_-x,h=_-y,N[0]=_-(y+h)+(h-x),m=b+y,h=m-b,v=b-(m-h)+(y-h),y=v-w,h=v-y,N[1]=v-(y+h)+(h-w),M=m+y,h=M-m,N[2]=m-(M-h)+(y-h),N[3]=M;const G=C(4,R,4,N,L);b=T*u,f=E*T,d=f-(f-T),p=T-d,f=E*u,A=f-(f-u),g=u-A,_=p*g-(b-d*A-p*A-d*g),w=F*c,f=E*F,d=f-(f-F),p=F-d,f=E*c,A=f-(f-c),g=c-A,x=p*g-(w-d*A-p*A-d*g),y=_-x,h=_-y,N[0]=_-(y+h)+(h-x),m=b+y,h=m-b,v=b-(m-h)+(y-h),y=v-w,h=v-y,N[1]=v-(y+h)+(h-w),M=m+y,h=M-m,N[2]=m-(M-h)+(y-h),N[3]=M;const V=C(G,L,4,N,k);b=a*u,f=E*a,d=f-(f-a),p=a-d,f=E*u,A=f-(f-u),g=u-A,_=p*g-(b-d*A-p*A-d*g),w=l*c,f=E*l,d=f-(f-l),p=l-d,f=E*c,A=f-(f-c),g=c-A,x=p*g-(w-d*A-p*A-d*g),y=_-x,h=_-y,N[0]=_-(y+h)+(h-x),m=b+y,h=m-b,v=b-(m-h)+(y-h),y=v-w,h=v-y,N[1]=v-(y+h)+(h-w),M=m+y,h=M-m,N[2]=m-(M-h)+(y-h),N[3]=M;const H=C(V,k,4,N,B);return B[H-1]}function F(t,e,n,r,i,o){const s=(e-o)*(n-i),a=(t-i)*(r-o),l=s-a,c=Math.abs(s+a);return Math.abs(l)>=T*c?l:-D(t,e,n,r,i,o,c)}const j=(t,e)=>t.x*e.y-t.y*e.x,U=(t,e)=>t.x*e.x+t.y*e.y,z=(t,e,n)=>{const r=F(t.x,t.y,e.x,e.y,n.x,n.y);return r>0?-1:r<0?1:0},G=t=>Math.sqrt(U(t,t)),V=(t,e,n)=>{const r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return j(i,r)/G(i)/G(r)},H=(t,e,n)=>{const r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return U(i,r)/G(i)/G(r)},W=(t,e,n)=>0===e.y?null:{x:t.x+e.x/e.y*(n-t.y),y:n},q=(t,e,n)=>0===e.x?null:{x:n,y:t.y+e.y/e.x*(n-t.x)},X=(t,e,n,r)=>{if(0===e.x)return q(n,r,t.x);if(0===r.x)return q(t,e,n.x);if(0===e.y)return W(n,r,t.y);if(0===r.y)return W(t,e,n.y);const i=j(e,r);if(0==i)return null;const o={x:n.x-t.x,y:n.y-t.y},s=j(o,e)/i,a=j(o,r)/i;return{x:(t.x+a*e.x+(n.x+s*r.x))/2,y:(t.y+a*e.y+(n.y+s*r.y))/2}};class Y{static compare(t,e){const n=Y.comparePoints(t.point,e.point);return 0!==n?n:(t.point!==e.point&&t.link(e),t.isLeft!==e.isLeft?t.isLeft?1:-1:K.compare(t.segment,e.segment))}static comparePoints(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}constructor(t,e){void 0===t.events?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=e}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const e=t.point.events;for(let n=0,r=e.length;n<r;n++){const t=e[n];this.point.events.push(t),t.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let e=0;e<t;e++){const n=this.point.events[e];if(void 0===n.segment.consumedBy)for(let r=e+1;r<t;r++){const t=this.point.events[r];void 0===t.consumedBy&&n.otherSE.point.events===t.otherSE.point.events&&n.segment.consume(t.segment)}}}getAvailableLinkedEvents(){const t=[];for(let e=0,n=this.point.events.length;e<n;e++){const n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}getLeftmostComparator(t){const e=new Map,n=n=>{const r=n.otherSE;e.set(n,{sine:V(this.point,t.point,r.point),cosine:H(this.point,t.point,r.point)})};return(t,r)=>{e.has(t)||n(t),e.has(r)||n(r);const{sine:i,cosine:o}=e.get(t),{sine:s,cosine:a}=e.get(r);return i>=0&&s>=0?o<a?1:o>a?-1:0:i<0&&s<0?o<a?-1:o>a?1:0:s<i?-1:s>i?1:0}}}let Q=0;class K{static compare(t,e){const n=t.leftSE.point.x,r=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;const s=t.leftSE.point.y,a=e.leftSE.point.y,l=t.rightSE.point.y,c=e.rightSE.point.y;if(n<r){if(a<s&&a<l)return 1;if(a>s&&a>l)return-1;const n=t.comparePoint(e.leftSE.point);if(n<0)return 1;if(n>0)return-1;const r=e.comparePoint(t.rightSE.point);return 0!==r?r:-1}if(n>r){if(s<a&&s<c)return-1;if(s>a&&s>c)return 1;const n=e.comparePoint(t.leftSE.point);if(0!==n)return n;const r=t.comparePoint(e.rightSE.point);return r<0?1:r>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(i<o){const n=e.comparePoint(t.rightSE.point);if(0!==n)return n}if(i>o){const n=t.comparePoint(e.rightSE.point);if(n<0)return 1;if(n>0)return-1}if(i!==o){const t=l-s,e=i-n,u=c-a,h=o-r;if(t>e&&u<h)return 1;if(t<e&&u>h)return-1}return i>o?1:i<o||l<c?-1:l>c?1:t.id<e.id?-1:t.id>e.id?1:0}constructor(t,e,n,r){this.id=++Q,this.leftSE=t,t.segment=this,t.otherSE=e,this.rightSE=e,e.segment=this,e.otherSE=t,this.rings=n,this.windings=r}static fromRing(t,e,n){let r,i,o;const s=Y.comparePoints(t,e);if(s<0)r=t,i=e,o=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));r=e,i=t,o=-1}const a=new Y(r,!0),l=new Y(i,!1);return new K(a,l,[n],[o])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}comparePoint(t){if(this.isAnEndpoint(t))return 0;const e=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(e.x===n.x)return t.x===e.x?0:t.x<e.x?1:-1;const i=(t.y-e.y)/r.y,o=e.x+i*r.x;if(t.x===o)return 0;const s=(t.x-e.x)/r.x,a=e.y+s*r.y;return t.y===a?0:t.y<a?-1:1}getIntersection(t){const e=this.bbox(),n=t.bbox(),r=g(e,n);if(null===r)return null;const i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,l=A(e,s)&&0===this.comparePoint(s),c=A(n,i)&&0===t.comparePoint(i),u=A(e,a)&&0===this.comparePoint(a),h=A(n,o)&&0===t.comparePoint(o);if(c&&l)return h&&!u?o:!h&&u?a:null;if(c)return u&&i.x===a.x&&i.y===a.y?null:i;if(l)return h&&o.x===s.x&&o.y===s.y?null:s;if(h&&u)return null;if(h)return o;if(u)return a;const f=X(i,this.vector(),s,t.vector());return null===f?null:A(r,f)?w.round(f.x,f.y):null}split(t){const e=[],n=void 0!==t.events,r=new Y(t,!0),i=new Y(t,!1),o=this.rightSE;this.replaceRightSE(i),e.push(i),e.push(r);const s=new K(r,o,this.rings.slice(),this.windings.slice());return Y.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),Y.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),i.checkForConsuming()),e}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}consume(t){let e=this,n=t;for(;e.consumedBy;)e=e.consumedBy;for(;n.consumedBy;)n=n.consumedBy;const r=K.compare(e,n);if(0!==r){if(r>0){const t=e;e=n,n=t}if(e.prev===n){const t=e;e=n,n=t}for(let t=0,r=n.rings.length;t<r;t++){const r=n.rings[t],i=n.windings[t],o=e.rings.indexOf(r);-1===o?(e.rings.push(r),e.windings.push(i)):e.windings[o]+=i}n.rings=null,n.windings=null,n.consumedBy=e,n.leftSE.consumedBy=e.leftSE,n.rightSE.consumedBy=e.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys;for(let s=0,a=this.rings.length;s<a;s++){const t=this.rings[s],r=this.windings[s],i=e.indexOf(t);-1===i?(e.push(t),n.push(r)):n[i]+=r}const i=[],o=[];for(let s=0,a=e.length;s<a;s++){if(0===n[s])continue;const t=e[s],r=t.poly;if(-1===o.indexOf(r))if(t.isExterior)i.push(r);else{-1===o.indexOf(r)&&o.push(r);const e=i.indexOf(t.poly);-1!==e&&i.splice(e,1)}}for(let s=0,a=i.length;s<a;s++){const t=i[s].multiPoly;-1===r.indexOf(t)&&r.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(at.type){case"union":{const n=0===t.length,r=0===e.length;this._isInResult=n!==r;break}case"intersection":{let n,r;t.length<e.length?(n=t.length,r=e.length):(n=e.length,r=t.length),this._isInResult=r===at.numMultiPolys&&n<r;break}case"xor":{const n=Math.abs(t.length-e.length);this._isInResult=n%2===1;break}case"difference":{const n=t=>1===t.length&&t[0].isSubject;this._isInResult=n(t)!==n(e);break}default:throw new Error("Unrecognized operation type found ".concat(at.type))}return this._isInResult}}class J{constructor(t,e,n){if(!Array.isArray(t)||0===t.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=e,this.isExterior=n,this.segments=[],"number"!==typeof t[0][0]||"number"!==typeof t[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=w.round(t[0][0],t[0][1]);this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let i=r;for(let o=1,s=t.length;o<s;o++){if("number"!==typeof t[o][0]||"number"!==typeof t[o][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let e=w.round(t[o][0],t[o][1]);e.x===i.x&&e.y===i.y||(this.segments.push(K.fromRing(i,e,this)),e.x<this.bbox.ll.x&&(this.bbox.ll.x=e.x),e.y<this.bbox.ll.y&&(this.bbox.ll.y=e.y),e.x>this.bbox.ur.x&&(this.bbox.ur.x=e.x),e.y>this.bbox.ur.y&&(this.bbox.ur.y=e.y),i=e)}r.x===i.x&&r.y===i.y||this.segments.push(K.fromRing(i,r,this))}getSweepEvents(){const t=[];for(let e=0,n=this.segments.length;e<n;e++){const n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}}class Z{constructor(t,e){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new J(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let n=1,r=t.length;n<r;n++){const e=new J(t[n],this,!1);e.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=e.bbox.ll.x),e.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=e.bbox.ll.y),e.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=e.bbox.ur.x),e.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=e.bbox.ur.y),this.interiorRings.push(e)}this.multiPoly=e}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let e=0,n=this.interiorRings.length;e<n;e++){const n=this.interiorRings[e].getSweepEvents();for(let e=0,r=n.length;e<r;e++)t.push(n[e])}return t}}class ${constructor(t,e){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof t[0][0][0]&&(t=[t])}catch(n){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let r=0,i=t.length;r<i;r++){const e=new Z(t[r],this);e.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=e.bbox.ll.x),e.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=e.bbox.ll.y),e.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=e.bbox.ur.x),e.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=e.bbox.ur.y),this.polys.push(e)}this.isSubject=e}getSweepEvents(){const t=[];for(let e=0,n=this.polys.length;e<n;e++){const n=this.polys[e].getSweepEvents();for(let e=0,r=n.length;e<r;e++)t.push(n[e])}return t}}class tt{static factory(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!r.isInResult()||r.ringOut)continue;let i=null,o=r.leftSE,s=r.rightSE;const a=[o],l=o.point,c=[];for(;i=o,o=s,a.push(o),o.point!==l;)for(;;){const t=o.getAvailableLinkedEvents();if(0===t.length){const t=a[0].point,e=a[a.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(t.x,",")+" ".concat(t.y,"]. Last matching segment found ends at")+" [".concat(e.x,", ").concat(e.y,"]."))}if(1===t.length){s=t[0].otherSE;break}let n=null;for(let e=0,i=c.length;e<i;e++)if(c[e].point===o.point){n=e;break}if(null!==n){const t=c.splice(n)[0],r=a.splice(t.index);r.unshift(r[0].otherSE),e.push(new tt(r.reverse()));continue}c.push({index:a.length,point:o.point});const r=o.getLeftmostComparator(i);s=t.sort(r)[0].otherSE;break}e.push(new tt(a))}return e}constructor(t){this.events=t;for(let e=0,n=t.length;e<n;e++)t[e].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const e=[t];for(let l=1,c=this.events.length-1;l<c;l++){const n=this.events[l].point,r=this.events[l+1].point;0!==z(n,t,r)&&(e.push(n),t=n)}if(1===e.length)return null;const n=e[0],r=e[1];0===z(n,t,r)&&e.shift(),e.push(e[0]);const i=this.isExteriorRing()?1:-1,o=this.isExteriorRing()?0:e.length-1,s=this.isExteriorRing()?e.length:-1,a=[];for(let l=o;l!=s;l+=i)a.push([e[l].x,e[l].y]);return a}isExteriorRing(){if(void 0===this._isExteriorRing){const t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let r=1,i=this.events.length;r<i;r++){const e=this.events[r];Y.compare(t,e)>0&&(t=e)}let e=t.segment.prevInResult(),n=e?e.prevInResult():null;for(;;){if(!e)return null;if(!n)return e.ringOut;if(n.ringOut!==e.ringOut)return n.ringOut.enclosingRing()!==e.ringOut?e.ringOut:e.ringOut.enclosingRing();e=n.prevInResult(),n=e?e.prevInResult():null}}}class et{constructor(t){this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(let e=0,n=this.interiorRings.length;e<n;e++){const n=this.interiorRings[e].getGeom();null!==n&&t.push(n)}return t}}class nt{constructor(t){this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let e=0,n=this.polys.length;e<n;e++){const n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}_composePolys(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!r.poly)if(r.isExteriorRing())e.push(new et(r));else{const t=r.enclosingRing();t.poly||e.push(new et(t)),t.poly.addInterior(r)}}return e}}class rt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.compare;this.queue=t,this.tree=new l(e),this.segments=[]}process(t){const e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),n;const r=t.isLeft?this.tree.add(e):this.tree.find(e);if(!r)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree.");let i,o,s=r,a=r;for(;void 0===i;)s=this.tree.prev(s),null===s?i=null:void 0===s.key.consumedBy&&(i=s.key);for(;void 0===o;)a=this.tree.next(a),null===a?o=null:void 0===a.key.consumedBy&&(o=a.key);if(t.isLeft){let r=null;if(i){const t=i.getIntersection(e);if(null!==t&&(e.isAnEndpoint(t)||(r=t),!i.isAnEndpoint(t))){const e=this._splitSafely(i,t);for(let t=0,r=e.length;t<r;t++)n.push(e[t])}}let s=null;if(o){const t=o.getIntersection(e);if(null!==t&&(e.isAnEndpoint(t)||(s=t),!o.isAnEndpoint(t))){const e=this._splitSafely(o,t);for(let t=0,r=e.length;t<r;t++)n.push(e[t])}}if(null!==r||null!==s){let t=null;t=null===r?s:null===s||Y.comparePoints(r,s)<=0?r:s,this.queue.remove(e.rightSE),n.push(e.rightSE);const i=e.split(t);for(let e=0,r=i.length;e<r;e++)n.push(i[e])}n.length>0?(this.tree.remove(e),n.push(t)):(this.segments.push(e),e.prev=i)}else{if(i&&o){const t=i.getIntersection(o);if(null!==t){if(!i.isAnEndpoint(t)){const e=this._splitSafely(i,t);for(let t=0,r=e.length;t<r;t++)n.push(e[t])}if(!o.isAnEndpoint(t)){const e=this._splitSafely(o,t);for(let t=0,r=e.length;t<r;t++)n.push(e[t])}}}this.tree.remove(e)}return n}_splitSafely(t,e){this.tree.remove(t);const n=t.rightSE;this.queue.remove(n);const r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.add(t),r}}const it="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://reimagina-urbano-api.eastus.cloudapp.azure.com:8000"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ot="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://reimagina-urbano-api.eastus.cloudapp.azure.com:8000"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class st{run(t,e,n){at.type=t,w.reset();const r=[new $(e,!0)];for(let l=0,u=n.length;l<u;l++)r.push(new $(n[l],!1));if(at.numMultiPolys=r.length,"difference"===at.type){const t=r[0];let e=1;for(;e<r.length;)null!==g(r[e].bbox,t.bbox)?e++:r.splice(e,1)}if("intersection"===at.type)for(let l=0,u=r.length;l<u;l++){const t=r[l];for(let e=l+1,n=r.length;e<n;e++)if(null===g(t.bbox,r[e].bbox))return[]}const i=new l(Y.compare);for(let l=0,u=r.length;l<u;l++){const t=r[l].getSweepEvents();for(let e=0,n=t.length;e<n;e++)if(i.insert(t[e]),i.size>it)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const o=new rt(i);let s=i.size,a=i.pop();for(;a;){const t=a.key;if(i.size===s){const e=t.segment;throw new Error("Unable to pop() ".concat(t.isLeft?"left":"right"," SweepEvent ")+"[".concat(t.point.x,", ").concat(t.point.y,"] from segment #").concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] from queue."))}if(i.size>it)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(o.segments.length>ot)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const e=o.process(t);for(let n=0,r=e.length;n<r;n++){const t=e[n];void 0===t.consumedBy&&i.insert(t)}s=i.size,a=i.pop()}w.reset();const c=tt.factory(o.segments);return new nt(c).getGeom()}}const at=new st,lt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return at.run("union",t,n)},ct=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return at.run("intersection",t,n)},ut=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return at.run("xor",t,n)},ht=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return at.run("difference",t,n)};return{union:lt,intersection:ct,xor:ut,difference:ht}}()},41497:(t,e,n)=>{"use strict";var r=n(13218);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},65173:(t,e,n)=>{t.exports=n(41497)()},13218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},30642:function(t){t.exports=function(){"use strict";function t(t,r,i,o,s){!function t(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,l=r-i+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-l*u/a+h)),Math.min(o,Math.floor(r+(a-l)*u/a+h)),s)}var f=n[r],d=i,p=o;for(e(n,i,r),s(n[o],f)>0&&e(n,i,o);d<p;){for(e(n,d,p),d++,p--;s(n[d],f)<0;)d++;for(;s(n[p],f)>0;)p--}0===s(n[i],f)?e(n,i,p):e(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(t,r,i||0,o||t.length-1,s||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(i,t.leaf?r(s):s)}return i}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function A(e,n,r,i,o){for(var s=[n,r];s.length;)if(!((r=s.pop())-(n=s.pop())<=i)){var a=n+Math.ceil((r-n)/i/2)*i;t(e,a,n,r,o),s.push(n,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!d(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?r(s):s;d(t,a)&&(e.leaf?n.push(s):f(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!d(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(d(t,o)){if(e.leaf||f(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,s=this.data,a=this.toBBox(t),l=[],c=[];s||l.length;){if(s||(s=l.pop(),r=l[l.length-1],n=c.pop(),o=!0),s.leaf){var u=i(t,s.children,e);if(-1!==u)return s.children.splice(u,1),l.push(s),this._condense(l),this}o||s.leaf||!f(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(l.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,s=n-e+1,a=this._maxEntries;if(s<=a)return o(i=p(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(i=p([])).leaf=!1,i.height=r;var l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));A(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var h=Math.min(u+c-1,n);A(t,u,h,l,this.compareMinY);for(var f=u;f<=h;f+=l){var d=Math.min(f+l-1,h);i.children.push(this._build(t,f,d,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var l=e.children[a],c=u(l),h=(f=t,d=l,(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-c);h<o?(o=h,i=c<i?c:i,s=l):h===o&&c<i&&(i=c,s=l)}e=s||e.children[0]}var f,d;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),a(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),a=p(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},r.prototype._splitRoot=function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,a,l,c,h,f=1/0,d=1/0,p=e;p<=n-e;p++){var A=s(t,0,p,this.toBBox),g=s(t,p,n,this.toBBox),y=(i=A,o=g,a=void 0,l=void 0,c=void 0,h=void 0,a=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),c=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,c-a)*Math.max(0,h-l)),m=u(A)+u(g);y<f?(f=y,r=p,d=m<d?m:d):y===f&&m<d&&(d=m,r=p)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:l,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),l=s(t,n-e,n,i),c=h(o)+h(l),u=e;u<n-e;u++){var f=t.children[u];a(o,t.leaf?i(f):f),c+=h(o)}for(var d=n-e-1;d>=e;d--){var p=t.children[d];a(l,t.leaf?i(p):p),c+=h(l)}return c},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)a(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},82730:(t,e,n)=>{"use strict";var r=n(65043),i=n(78853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)s.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function A(t,e,n,r,i,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new A(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new A(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new A(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new A(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new A(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new A(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new A(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new A(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new A(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(t){return t[1].toUpperCase()}function v(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,m);g[e]=new A(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,m);g[e]=new A(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,m);g[e]=new A(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new A(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new A(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function B(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=k&&t[k]||t["@@iterator"])?t:null}var N,D=Object.assign;function F(t){if(void 0===N)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);N=e&&e[1]||""}return"\n"+N+t}var j=!1;function U(t,e){if(!t||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function z(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case x:return"Fragment";case w:return"Portal";case S:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case P:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case M:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case I:return null!==(e=t.displayName||null)?e:G(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return G(t(e))}catch(n){}}return null}function V(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return D({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function K(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&v(t,"checked",e,!1)}function Z(t,e){J(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return D({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function ot(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function st(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function At(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=At(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var yt=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function vt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,xt=null,Et=null;function St(t){if(t=vi(t)){if("function"!==typeof wt)throw Error(o(280));var e=t.stateNode;e&&(e=_i(e),wt(t.stateNode,t.type,e))}}function Ct(t){xt?Et?Et.push(t):Et=[t]:xt=t}function Pt(){if(xt){var t=xt,e=Et;if(Et=xt=null,St(t),e)for(t=0;t<e.length;t++)St(e[t])}}function Mt(t,e){return t(e)}function Tt(){}var Ot=!1;function It(t,e,n){if(Ot)return t(e,n);Ot=!0;try{return Mt(t,e,n)}finally{Ot=!1,(null!==xt||null!==Et)&&(Tt(),Pt())}}function Rt(t,e){var n=t.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Lt=!1;if(u)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch(ut){Lt=!1}function Bt(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Nt=!1,Dt=null,Ft=!1,jt=null,Ut={onError:function(t){Nt=!0,Dt=t}};function zt(t,e,n,r,i,o,s,a,l){Nt=!1,Dt=null,Bt.apply(Ut,arguments)}function Gt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Vt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(Gt(t)!==t)throw Error(o(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Gt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ht(i),t;if(s===r)return Ht(i),e;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=i.unstable_scheduleCallback,Yt=i.unstable_cancelCallback,Qt=i.unstable_shouldYield,Kt=i.unstable_requestPaint,Jt=i.unstable_now,Zt=i.unstable_getCurrentPriorityLevel,$t=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var se=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=he(a):0!==(o&=s)&&(r=he(o))}else 0!==(s=n&~i)?r=he(s):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-se(e)),r|=t[n],e&=~i;return r}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ae(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=n}function me(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-se(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,we,xe,Ee,Se,Ce=!1,Pe=[],Me=null,Te=null,Oe=null,Ie=new Map,Re=new Map,Le=[],ke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Be(t,e){switch(t){case"focusin":case"focusout":Me=null;break;case"dragenter":case"dragleave":Te=null;break;case"mouseover":case"mouseout":Oe=null;break;case"pointerover":case"pointerout":Ie.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(e.pointerId)}}function Ne(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=vi(e))&&we(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function De(t){var e=mi(t.target);if(null!==e){var n=Gt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Vt(n)))return t.blockedOn=e,void Se(t.priority,(function(){xe(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=vi(n))&&we(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);bt=r,n.target.dispatchEvent(r),bt=null,e.shift()}return!0}function je(t,e,n){Fe(t)&&n.delete(e)}function Ue(){Ce=!1,null!==Me&&Fe(Me)&&(Me=null),null!==Te&&Fe(Te)&&(Te=null),null!==Oe&&Fe(Oe)&&(Oe=null),Ie.forEach(je),Re.forEach(je)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ue)))}function Ge(t){function e(e){return ze(e,t)}if(0<Pe.length){ze(Pe[0],t);for(var n=1;n<Pe.length;n++){var r=Pe[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Me&&ze(Me,t),null!==Te&&ze(Te,t),null!==Oe&&ze(Oe,t),Ie.forEach(e),Re.forEach(e),n=0;n<Le.length;n++)(r=Le[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Le.length&&null===(n=Le[0]).blockedOn;)De(n),null===n.blockedOn&&Le.shift()}var Ve=b.ReactCurrentBatchConfig,He=!0;function We(t,e,n,r){var i=ve,o=Ve.transition;Ve.transition=null;try{ve=1,Xe(t,e,n,r)}finally{ve=i,Ve.transition=o}}function qe(t,e,n,r){var i=ve,o=Ve.transition;Ve.transition=null;try{ve=4,Xe(t,e,n,r)}finally{ve=i,Ve.transition=o}}function Xe(t,e,n,r){if(He){var i=Qe(t,e,n,r);if(null===i)Hr(t,e,r,Ye,n),Be(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Me=Ne(Me,t,e,n,r,i),!0;case"dragenter":return Te=Ne(Te,t,e,n,r,i),!0;case"mouseover":return Oe=Ne(Oe,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ie.set(o,Ne(Ie.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Re.set(o,Ne(Re.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Be(t,r),4&e&&-1<ke.indexOf(t)){for(;null!==i;){var o=vi(i);if(null!==o&&_e(o),null===(o=Qe(t,e,n,r))&&Hr(t,e,r,Ye,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(t,e,r,null,n)}}var Ye=null;function Qe(t,e,n,r){if(Ye=null,null!==(t=mi(t=_t(r))))if(null===(e=Gt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Vt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Ke(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case $t:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Je=null,Ze=null,$e=null;function tn(){if($e)return $e;var t,e,n=Ze,r=n.length,i="value"in Je?Je.value:Je.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var s=r-t;for(e=1;e<=s&&n[r-e]===i[o-e];e++);return $e=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var s in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=D({},cn,{view:0,detail:0}),fn=on(hn),dn=D({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(sn=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=sn=0,ln=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=on(dn),An=on(D({},dn,{dataTransfer:0})),gn=on(D({},hn,{relatedTarget:0})),yn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=D({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vn=on(mn),bn=on(D({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=xn[t])&&!!e[t]}function Sn(){return En}var Cn=D({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Pn=on(Cn),Mn=on(D({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(D({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),On=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=D({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(In),Ln=[9,13,27,32],kn=u&&"CompositionEvent"in window,Bn=null;u&&"documentMode"in document&&(Bn=document.documentMode);var Nn=u&&"TextEvent"in window&&!Bn,Dn=u&&(!kn||Bn&&8<Bn&&11>=Bn),Fn=String.fromCharCode(32),jn=!1;function Un(t,e){switch(t){case"keyup":return-1!==Ln.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Gn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vn[t.type]:"textarea"===e}function Wn(t,e,n,r){Ct(r),0<(e=qr(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qn=null,Xn=null;function Yn(t){Fr(t,0)}function Qn(t){if(X(bi(t)))return t}function Kn(t,e){if("change"===t)return e}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),$n="function"===typeof tr.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function er(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(t){if("value"===t.propertyName&&Qn(Xn)){var e=[];Wn(e,Xn,t,_t(t)),It(Yn,e)}}function rr(t,e,n){"focusin"===t?(er(),Xn=n,(qn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Xn)}function or(t,e){if("click"===t)return Qn(e)}function sr(t,e){if("input"===t||"change"===t)return Qn(e)}var ar="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(ar(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=fr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ar=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,mr=null,vr=!1;function br(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&lr(mr,r)||(mr=r,0<(r=qr(yr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}function _r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},Er={};function Sr(t){if(xr[t])return xr[t];if(!wr[t])return t;var e,n=wr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Er)return xr[t]=n[e];return t}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=Sr("animationend"),Pr=Sr("animationiteration"),Mr=Sr("animationstart"),Tr=Sr("transitionend"),Or=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,e){Or.set(t,e),l(e,[t])}for(var Lr=0;Lr<Ir.length;Lr++){var kr=Ir[Lr];Rr(kr.toLowerCase(),"on"+(kr[0].toUpperCase()+kr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Pr,"onAnimationIteration"),Rr(Mr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Dr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,s,a,l,c){if(zt.apply(this,arguments),Nt){if(!Nt)throw Error(o(198));var u=Dt;Nt=!1,Dt=null,Ft||(Ft=!0,jt=u)}}(r,e,void 0,t),t.currentTarget=null}function Fr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break t;Dr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break t;Dr(i,a,c),o=l}}}if(Ft)throw t=jt,Ft=!1,jt=null,t}function jr(t,e){var n=e[Ai];void 0===n&&(n=e[Ai]=new Set);var r=t+"__bubble";n.has(r)||(Vr(e,t,2,!1),n.add(r))}function Ur(t,e,n){var r=0;e&&(r|=4),Vr(n,t,r,e)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Gr(t){if(!t[zr]){t[zr]=!0,s.forEach((function(e){"selectionchange"!==e&&(Nr.has(e)||Ur(e,!1,t),Ur(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zr]||(e[zr]=!0,Ur("selectionchange",!1,e))}}function Vr(t,e,n,r){switch(Ke(e)){case 1:var i=We;break;case 4:i=qe;break;default:i=Xe}n=i.bind(null,e,n,t),i=void 0,!Lt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=mi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue t}a=a.parentNode}}r=r.return}It((function(){var r=o,i=_t(n),s=[];t:{var a=Or.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=An;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case Pr:case Mr:l=yn;break;case Tr:l=On;break;case"scroll":l=fn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&e),h=!u&&"scroll"===t,f=u?null!==a?a+"Capture":null:a;u=[];for(var d,p=r;null!==p;){var A=(d=p).stateNode;if(5===d.tag&&null!==A&&(d=A,null!==f&&(null!=(A=Rt(p,f))&&u.push(Wr(p,A,d)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===bt||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(h=Gt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,A="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Mn,A="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:bi(l),d=null==c?a:bi(c),(a=new u(A,p+"leave",l,n,i)).target=h,a.relatedTarget=d,A=null,mi(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=d,u.relatedTarget=h,A=u),h=A,l&&c)t:{for(f=c,p=0,d=u=l;d;d=Xr(d))p++;for(d=0,A=f;A;A=Xr(A))d++;for(;0<p-d;)u=Xr(u),p--;for(;0<d-p;)f=Xr(f),d--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break t;u=Xr(u),f=Xr(f)}u=null}else u=null;null!==l&&Yr(s,a,l,u,!1),null!==c&&null!==h&&Yr(s,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Kn;else if(Hn(a))if(Jn)g=sr;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(t,r))?Wn(s,g,n,i):(y&&y(t,a,r),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=r?bi(r):window,t){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,mr=null);break;case"focusout":mr=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(s,n,i);break;case"selectionchange":if(Ar)break;case"keydown":case"keyup":br(s,n,i)}var m;if(kn)t:{switch(t){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Gn?Un(t,n)&&(v="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(v="onCompositionStart");v&&(Dn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Gn&&(m=tn()):(Ze="value"in(Je=i)?Je.value:Je.textContent,Gn=!0)),0<(y=qr(r,v)).length&&(v=new bn(v,t,null,n,i),s.push({event:v,listeners:y}),m?v.data=m:null!==(m=zn(n))&&(v.data=m))),(m=Nn?function(t,e){switch(t){case"compositionend":return zn(e);case"keypress":return 32!==e.which?null:(jn=!0,Fn);case"textInput":return(t=e.data)===Fn&&jn?null:t;default:return null}}(t,n):function(t,e){if(Gn)return"compositionend"===t||!kn&&Un(t,e)?(t=tn(),$e=Ze=Je=null,Gn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=m))}Fr(s,e)}))}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Rt(t,n))&&r.unshift(Wr(t,o,i)),null!=(o=Rt(t,e))&&r.push(Wr(t,o,i))),t=t.return}return r}function Xr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yr(t,e,n,r,i){for(var o=e._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Rt(n,o))&&s.unshift(Wr(n,l,a)):i||null!=(l=Rt(n,o))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Qr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Jr(t){return("string"===typeof t?t:""+t).replace(Qr,"\n").replace(Kr,"")}function Zr(t,e,n){if(e=Jr(e),Jr(t)!==e&&n)throw Error(o(425))}function $r(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(ai)}:ri;function ai(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Ge(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ge(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,Ai="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function mi(t){var e=t[fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[fi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[fi])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function vi(t){return!(t=t[fi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function _i(t){return t[di]||null}var wi=[],xi=-1;function Ei(t){return{current:t}}function Si(t){0>xi||(t.current=wi[xi],wi[xi]=null,xi--)}function Ci(t,e){xi++,wi[xi]=t.current,t.current=e}var Pi={},Mi=Ei(Pi),Ti=Ei(!1),Oi=Pi;function Ii(t,e){var n=t.type.contextTypes;if(!n)return Pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Li(){Si(Ti),Si(Mi)}function ki(t,e,n){if(Mi.current!==Pi)throw Error(o(168));Ci(Mi,e),Ci(Ti,n)}function Bi(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,V(t)||"Unknown",i));return D({},n,r)}function Ni(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pi,Oi=Mi.current,Ci(Mi,t),Ci(Ti,Ti.current),!0}function Di(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Bi(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Si(Ti),Si(Mi),Ci(Mi,t)):Si(Ti),Ci(Ti,n)}var Fi=null,ji=!1,Ui=!1;function zi(t){null===Fi?Fi=[t]:Fi.push(t)}function Gi(){if(!Ui&&null!==Fi){Ui=!0;var t=0,e=ve;try{var n=Fi;for(ve=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(t+1)),Xt($t,Gi),i}finally{ve=e,Ui=!1}}return null}var Vi=[],Hi=0,Wi=null,qi=0,Xi=[],Yi=0,Qi=null,Ki=1,Ji="";function Zi(t,e){Vi[Hi++]=qi,Vi[Hi++]=Wi,Wi=t,qi=e}function $i(t,e,n){Xi[Yi++]=Ki,Xi[Yi++]=Ji,Xi[Yi++]=Qi,Qi=t;var r=Ki;t=Ji;var i=32-se(r)-1;r&=~(1<<i),n+=1;var o=32-se(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ki=1<<32-se(e)+i|n<<i|r,Ji=o+t}else Ki=1<<o|n<<i|r,Ji=t}function to(t){null!==t.return&&(Zi(t,1),$i(t,1,0))}function eo(t){for(;t===Wi;)Wi=Vi[--Hi],Vi[Hi]=null,qi=Vi[--Hi],Vi[Hi]=null;for(;t===Qi;)Qi=Xi[--Yi],Xi[Yi]=null,Ji=Xi[--Yi],Xi[Yi]=null,Ki=Xi[--Yi],Xi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function so(t,e){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ao(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Qi?{id:Ki,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(io){var e=ro;if(e){var n=e;if(!ao(t,e)){if(lo(t))throw Error(o(418));e=ci(n.nextSibling);var r=no;e&&ao(t,e)?so(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return uo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw fo(),Error(o(418));for(;e;)so(t,e),e=ci(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ci(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=ci(t.nextSibling)}function po(){ro=no=null,io=!1}function Ao(t){null===oo?oo=[t]:oo.push(t)}var go=b.ReactCurrentBatchConfig;function yo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,s=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=i.refs;null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function mo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vo(t){return(0,t._init)(t._payload)}function bo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Lc(t,e)).index=0,t.sibling=null,t}function s(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Dc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var o=n.type;return o===x?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&vo(o)===e.type)?((r=i(e,n.props)).ref=yo(t,e,n),r.return=t,r):((r=kc(n.type,n.key,n.props,null,t.mode,r)).ref=yo(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Fc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Bc(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Dc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=kc(e.type,e.key,e.props,null,t.mode,n)).ref=yo(t,null,e),n.return=t,n;case w:return(e=Fc(e,t.mode,n)).return=t,e;case R:return f(t,(0,e._init)(e._payload),n)}if(et(e)||B(e))return(e=Bc(e,t.mode,n,null)).return=t,e;mo(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(t,e,n,r):null;case w:return n.key===i?u(t,e,n,r):null;case R:return d(t,e,(i=n._init)(n._payload),r)}if(et(n)||B(n))return null!==i?null:h(t,e,n,r,null);mo(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case w:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case R:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||B(r))return h(e,t=t.get(n)||null,r,i,null);mo(e,r)}return null}function A(i,o,a,l){for(var c=null,u=null,h=o,A=o=0,g=null;null!==h&&A<a.length;A++){h.index>A?(g=h,h=null):g=h.sibling;var y=d(i,h,a[A],l);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),o=s(y,o,A),null===u?c=y:u.sibling=y,u=y,h=g}if(A===a.length)return n(i,h),io&&Zi(i,A),c;if(null===h){for(;A<a.length;A++)null!==(h=f(i,a[A],l))&&(o=s(h,o,A),null===u?c=h:u.sibling=h,u=h);return io&&Zi(i,A),c}for(h=r(i,h);A<a.length;A++)null!==(g=p(h,i,A,a[A],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?A:g.key),o=s(g,o,A),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach((function(t){return e(i,t)})),io&&Zi(i,A),c}function g(i,a,l,c){var u=B(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,A=a,g=a=0,y=null,m=l.next();null!==A&&!m.done;g++,m=l.next()){A.index>g?(y=A,A=null):y=A.sibling;var v=d(i,A,m.value,c);if(null===v){null===A&&(A=y);break}t&&A&&null===v.alternate&&e(i,A),a=s(v,a,g),null===h?u=v:h.sibling=v,h=v,A=y}if(m.done)return n(i,A),io&&Zi(i,g),u;if(null===A){for(;!m.done;g++,m=l.next())null!==(m=f(i,m.value,c))&&(a=s(m,a,g),null===h?u=m:h.sibling=m,h=m);return io&&Zi(i,g),u}for(A=r(i,A);!m.done;g++,m=l.next())null!==(m=p(A,i,g,m.value,c))&&(t&&null!==m.alternate&&A.delete(null===m.key?g:m.key),a=s(m,a,g),null===h?u=m:h.sibling=m,h=m);return t&&A.forEach((function(t){return e(i,t)})),io&&Zi(i,g),u}return function t(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:t:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===x){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&vo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=yo(r,u,s),o.return=r,r=o;break t}n(r,u);break}e(r,u),u=u.sibling}s.type===x?((o=Bc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=kc(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return a(r);case w:t:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return a(r);case R:return t(r,o,(u=s._init)(s._payload),l)}if(et(s))return A(r,o,s,l);if(B(s))return g(r,o,s,l);mo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Dc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var _o=bo(!0),wo=bo(!1),xo=Ei(null),Eo=null,So=null,Co=null;function Po(){Co=So=Eo=null}function Mo(t){var e=xo.current;Si(xo),t._currentValue=e}function To(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){Eo=t,Co=So=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(va=!0),t.firstContext=null)}function Io(t){var e=t._currentValue;if(Co!==t)if(t={context:t,memoizedValue:e,next:null},null===So){if(null===Eo)throw Error(o(308));So=t,Eo.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var Ro=null;function Lo(t){null===Ro?Ro=[t]:Ro.push(t)}function ko(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Lo(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bo(t,r)}function Bo(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var No=!1;function Do(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bo(t,n)}return null===(i=r.interleaved)?(e.next=e,Lo(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bo(t,n)}function zo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,me(t,n)}}function Go(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vo(t,e,n,r){var i=t.updateQueue;No=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var f=a.lane,d=a.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,A=a;switch(f=e,d=n,A.tag){case 1:if("function"===typeof(p=A.payload)){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=A.payload)?p.call(d,h,f):p)||void 0===f)break t;h=D({},h,f);break t;case 2:No=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=d,l=h):u=u.next=d,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{s|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Nl|=s,t.lanes=s,t.memoizedState=h}}function Ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},qo=Ei(Wo),Xo=Ei(Wo),Yo=Ei(Wo);function Qo(t){if(t===Wo)throw Error(o(174));return t}function Ko(t,e){switch(Ci(Yo,e),Ci(Xo,t),Ci(qo,Wo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Si(qo),Ci(qo,e)}function Jo(){Si(qo),Si(Xo),Si(Yo)}function Zo(t){Qo(Yo.current);var e=Qo(qo.current),n=lt(e,t.type);e!==n&&(Ci(Xo,t),Ci(qo,n))}function $o(t){Xo.current===t&&(Si(qo),Si(Xo))}var ts=Ei(0);function es(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ns=[];function rs(){for(var t=0;t<ns.length;t++)ns[t]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,hs=!1,fs=0,ds=0;function ps(){throw Error(o(321))}function As(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function gs(t,e,n,r,i,s){if(ss=s,as=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,is.current=null===t||null===t.memoizedState?$s:ta,t=n(r,i),hs){s=0;do{if(hs=!1,fs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,e.updateQueue=null,is.current=ea,t=n(r,i)}while(hs)}if(is.current=Zs,e=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,e)throw Error(o(300));return t}function ys(){var t=0!==fs;return fs=0,t}function ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=t:cs=cs.next=t,cs}function vs(){if(null===ls){var t=as.alternate;t=null!==t?t.memoizedState:null}else t=ls.next;var e=null===cs?as.memoizedState:cs.next;if(null!==e)cs=e,ls=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ls=t).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=t:cs=cs.next=t}return cs}function bs(t,e){return"function"===typeof e?e(t):e}function _s(t){var e=vs(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,a=r):c=c.next=f,as.lanes|=h,Nl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,e.memoizedState)||(va=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{s=i.lane,as.lanes|=s,Nl|=s,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ws(t){var e=vs(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=t(s,a.action),a=a.next}while(a!==i);ar(s,e.memoizedState)||(va=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function Es(t,e){var n=as,r=vs(),i=e(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,va=!0),r=r.queue,Ns(Ps.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Is(9,Cs.bind(null,n,r,i,e),void 0,null),null===Tl)throw Error(o(349));0!==(30&ss)||Ss(n,e,i)}return i}function Ss(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=as.updateQueue)?(e={lastEffect:null,stores:null},as.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Cs(t,e,n,r){e.value=n,e.getSnapshot=r,Ms(e)&&Ts(t)}function Ps(t,e,n){return n((function(){Ms(e)&&Ts(t)}))}function Ms(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch(r){return!0}}function Ts(t){var e=Bo(t,1);null!==e&&nc(e,t,1,-1)}function Os(t){var e=ms();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:t},e.queue=t,t=t.dispatch=Ys.bind(null,as,t),[e.memoizedState,t]}function Is(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=as.updateQueue)?(e={lastEffect:null,stores:null},as.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Rs(){return vs().memoizedState}function Ls(t,e,n,r){var i=ms();as.flags|=t,i.memoizedState=Is(1|e,n,void 0,void 0===r?null:r)}function ks(t,e,n,r){var i=vs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&As(r,s.deps))return void(i.memoizedState=Is(e,n,o,r))}as.flags|=t,i.memoizedState=Is(1|e,n,o,r)}function Bs(t,e){return Ls(8390656,8,t,e)}function Ns(t,e){return ks(2048,8,t,e)}function Ds(t,e){return ks(4,2,t,e)}function Fs(t,e){return ks(4,4,t,e)}function js(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Us(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ks(4,4,js.bind(null,e,t),n)}function zs(){}function Gs(t,e){var n=vs();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&As(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vs(t,e){var n=vs();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&As(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hs(t,e,n){return 0===(21&ss)?(t.baseState&&(t.baseState=!1,va=!0),t.memoizedState=n):(ar(n,e)||(n=Ae(),as.lanes|=n,Nl|=n,t.baseState=!0),e)}function Ws(t,e){var n=ve;ve=0!==n&&4>n?n:4,t(!0);var r=os.transition;os.transition={};try{t(!1),e()}finally{ve=n,os.transition=r}}function qs(){return vs().memoizedState}function Xs(t,e,n){var r=ec(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qs(t))Ks(e,n);else if(null!==(n=ko(t,e,n,r))){nc(n,t,r,tc()),Js(n,e,r)}}function Ys(t,e,n){var r=ec(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qs(t))Ks(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=e.interleaved;return null===l?(i.next=i,Lo(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=ko(t,e,i,r))&&(nc(n,t,r,i=tc()),Js(n,e,r))}}function Qs(t){var e=t.alternate;return t===as||null!==e&&e===as}function Ks(t,e){hs=us=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Js(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,me(t,n)}}var Zs={readContext:Io,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},$s={readContext:Io,useCallback:function(t,e){return ms().memoizedState=[t,void 0===e?null:e],t},useContext:Io,useEffect:Bs,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ls(4194308,4,js.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ls(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ls(4,2,t,e)},useMemo:function(t,e){var n=ms();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ms();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Xs.bind(null,as,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},ms().memoizedState=t},useState:Os,useDebugValue:zs,useDeferredValue:function(t){return ms().memoizedState=t},useTransition:function(){var t=Os(!1),e=t[0];return t=Ws.bind(null,t[1]),ms().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=as,i=ms();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Tl)throw Error(o(349));0!==(30&ss)||Ss(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Bs(Ps.bind(null,r,s,t),[t]),r.flags|=2048,Is(9,Cs.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ms(),e=Tl.identifierPrefix;if(io){var n=Ji;e=":"+e+"R"+(n=(Ki&~(1<<32-se(Ki)-1)).toString(32)+n),0<(n=fs++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=ds++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:Io,useCallback:Gs,useContext:Io,useEffect:Ns,useImperativeHandle:Us,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:Vs,useReducer:_s,useRef:Rs,useState:function(){return _s(bs)},useDebugValue:zs,useDeferredValue:function(t){return Hs(vs(),ls.memoizedState,t)},useTransition:function(){return[_s(bs)[0],vs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Es,useId:qs,unstable_isNewReconciler:!1},ea={readContext:Io,useCallback:Gs,useContext:Io,useEffect:Ns,useImperativeHandle:Us,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:Vs,useReducer:ws,useRef:Rs,useState:function(){return ws(bs)},useDebugValue:zs,useDeferredValue:function(t){var e=vs();return null===ls?e.memoizedState=t:Hs(e,ls.memoizedState,t)},useTransition:function(){return[ws(bs)[0],vs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Es,useId:qs,unstable_isNewReconciler:!1};function na(t,e){if(t&&t.defaultProps){for(var n in e=D({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function ra(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:D({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var ia={isMounted:function(t){return!!(t=t._reactInternals)&&Gt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=jo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Uo(t,o,i))&&(nc(e,t,i,r),zo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=jo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Uo(t,o,i))&&(nc(e,t,i,r),zo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),r=ec(t),i=jo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Uo(t,i,r))&&(nc(e,t,r,n),zo(e,t,r))}};function oa(t,e,n,r,i,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(t,e,n){var r=!1,i=Pi,o=e.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Ri(e)?Oi:Mi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Ii(t,i):Pi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ia,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function aa(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ia.enqueueReplaceState(e,e.state,null)}function la(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Do(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Ri(e)?Oi:Mi.current,i.context=Ii(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(ra(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ia.enqueueReplaceState(i,i.state,null),Vo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function ca(t,e){try{var n="",r=e;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function ua(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ha(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function da(t,e,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),ha(0,e)},n}function pa(t,e,n){(n=jo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,e),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function Aa(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new fa;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Sc.bind(null,t,e,n),e.then(t,t))}function ga(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=jo(-1,1)).tag=2,Uo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var ma=b.ReactCurrentOwner,va=!1;function ba(t,e,n,r){e.child=null===t?wo(e,null,n,r):_o(e,t.child,n,r)}function _a(t,e,n,r,i){n=n.render;var o=e.ref;return Oo(e,i),r=gs(t,e,n,r,o,i),n=ys(),null===t||va?(io&&n&&to(e),e.flags|=1,ba(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i))}function wa(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=kc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,xa(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&t.ref===e.ref)return Ha(t,e,i)}return e.flags|=1,(t=Lc(o,r)).ref=e.ref,t.return=e,e.child=t}function xa(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(va=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Ha(t,e,i);0!==(131072&t.flags)&&(va=!0)}}return Ca(t,e,n,r,i)}function Ea(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ll,Rl),Rl|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ci(Ll,Rl),Rl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Ll,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ci(Ll,Rl),Rl|=r;return ba(t,e,i,n),e.child}function Sa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ca(t,e,n,r,i){var o=Ri(n)?Oi:Mi.current;return o=Ii(e,o),Oo(e,i),n=gs(t,e,n,r,o,i),r=ys(),null===t||va?(io&&r&&to(e),e.flags|=1,ba(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i))}function Pa(t,e,n,r,i){if(Ri(n)){var o=!0;Ni(e)}else o=!1;if(Oo(e,i),null===e.stateNode)Va(t,e),sa(e,n,r),la(e,n,r,i),r=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Ii(e,c=Ri(n)?Oi:Mi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(e,s,r,c),No=!1;var f=e.memoizedState;s.state=f,Vo(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Ti.current||No?("function"===typeof u&&(ra(e,n,u,r),l=e.memoizedState),(a=No||oa(e,n,a,r,f,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Fo(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:na(e.type,a),s.props=c,h=e.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Io(l):l=Ii(e,l=Ri(n)?Oi:Mi.current);var d=n.getDerivedStateFromProps;(u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||f!==l)&&aa(e,s,r,l),No=!1,f=e.memoizedState,s.state=f,Vo(e,r,s,i);var p=e.memoizedState;a!==h||f!==p||Ti.current||No?("function"===typeof d&&(ra(e,n,d,r),p=e.memoizedState),(c=No||oa(e,n,c,r,f,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ma(t,e,n,r,o,i)}function Ma(t,e,n,r,i,o){Sa(t,e);var s=0!==(128&e.flags);if(!r&&!s)return i&&Di(e,n,!1),Ha(t,e,o);r=e.stateNode,ma.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&s?(e.child=_o(e,t.child,null,o),e.child=_o(e,null,a,o)):ba(t,e,a,o),e.memoizedState=r.state,i&&Di(e,n,!0),e.child}function Ta(t){var e=t.stateNode;e.pendingContext?ki(0,e.pendingContext,e.pendingContext!==e.context):e.context&&ki(0,e.context,!1),Ko(t,e.containerInfo)}function Oa(t,e,n,r,i){return po(),Ao(i),e.flags|=256,ba(t,e,n,r),e.child}var Ia,Ra,La,ka,Ba={dehydrated:null,treeContext:null,retryLane:0};function Na(t){return{baseLanes:t,cachePool:null,transitions:null}}function Da(t,e,n){var r,i=e.pendingProps,s=ts.current,a=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&s)),r?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(s|=1),Ci(ts,1&s),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,a?(i=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Nc(l,i,0,null),t=Bc(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Na(n),e.memoizedState=Ba,t):Fa(e,l));if(null!==(s=t.memoizedState)&&null!==(r=s.dehydrated))return function(t,e,n,r,i,s,a){if(n)return 256&e.flags?(e.flags&=-257,ja(t,e,a,r=ua(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nc({mode:"visible",children:r.children},i,0,null),(s=Bc(s,i,a,null)).flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,0!==(1&e.mode)&&_o(e,t.child,null,a),e.child.memoizedState=Na(a),e.memoizedState=Ba,s);if(0===(1&e.mode))return ja(t,e,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,ja(t,e,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&t.childLanes),va||l){if(null!==(r=Tl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Bo(t,i),nc(r,t,i,-1))}return Ac(),ja(t,e,a,r=ua(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Pc.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ro=ci(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Xi[Yi++]=Ki,Xi[Yi++]=Ji,Xi[Yi++]=Qi,Ki=t.id,Ji=t.overflow,Qi=e),e=Fa(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,s,n);if(a){a=i.fallback,l=e.mode,r=(s=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==s?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lc(r,a):(a=Bc(a,l,n,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,l=null===(l=t.child.memoizedState)?Na(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Ba,i}return t=(a=t.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Fa(t,e){return(e=Nc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function ja(t,e,n,r){return null!==r&&Ao(r),_o(e,t.child,null,n),(t=Fa(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ua(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),To(t.return,e,n)}function za(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ga(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ba(t,e,r.children,n),0!==(2&(r=ts.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ua(t,n,e);else if(19===t.tag)Ua(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ci(ts,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===es(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),za(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===es(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}za(e,!0,n,null,o);break;case"together":za(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ha(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Nl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Lc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Lc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Wa(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xa(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(e),null;case 1:case 17:return Ri(e.type)&&Li(),qa(e),null;case 3:return r=e.stateNode,Jo(),Si(Ti),Si(Mi),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ra(t,e),qa(e),null;case 5:$o(e);var i=Qo(Yo.current);if(n=e.type,null!==t&&null!=e.stateNode)La(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return qa(e),null}if(t=Qo(qo.current),ho(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fi]=e,r[di]=s,t=0!==(1&e.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Br.length;i++)jr(Br[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":K(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":it(r,s),jr("invalid",r)}for(var l in mt(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,t),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":q(r),$(r,s,!0);break;case"textarea":q(r),st(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[fi]=e,t[di]=r,Ia(t,e,!1,!1),e.stateNode=t;t:{switch(l=vt(n,r),n){case"dialog":jr("cancel",t),jr("close",t),i=r;break;case"iframe":case"object":case"embed":jr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Br.length;i++)jr(Br[i],t);i=r;break;case"source":jr("error",t),i=r;break;case"img":case"image":case"link":jr("error",t),jr("load",t),i=r;break;case"details":jr("toggle",t),i=r;break;case"input":K(t,r),i=Q(t,r),jr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),jr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),jr("invalid",t)}for(s in mt(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?gt(t,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&ft(t,u):"number"===typeof u&&ft(t,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&jr("scroll",t):null!=u&&v(t,s,u,l))}switch(n){case"input":q(t),$(t,r,!1);break;case"textarea":q(t),st(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?nt(t,!!r.multiple,s,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qa(e),null;case 6:if(t&&null!=e.stateNode)ka(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=Qo(Yo.current),Qo(qo.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[fi]=e,(s=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Zr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&t.mode))}s&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=e,e.stateNode=r}return qa(e),null;case 13:if(Si(ts),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,s=!1;else if(s=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!s)throw Error(o(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qa(e),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ts.current)?0===kl&&(kl=3):Ac())),null!==e.updateQueue&&(e.flags|=4),qa(e),null);case 4:return Jo(),Ra(t,e),null===t&&Gr(e.stateNode.containerInfo),qa(e),null;case 10:return Mo(e.type._context),qa(e),null;case 19:if(Si(ts),null===(s=e.memoizedState))return qa(e),null;if(r=0!==(128&e.flags),null===(l=s.rendering))if(r)Wa(s,!1);else{if(0!==kl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=es(t))){for(e.flags|=128,Wa(s,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ci(ts,1&ts.current|2),e.child}t=t.sibling}null!==s.tail&&Jt()>Gl&&(e.flags|=128,r=!0,Wa(s,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=es(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return qa(e),null}else 2*Jt()-s.renderingStartTime>Gl&&1073741824!==n&&(e.flags|=128,r=!0,Wa(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=s.last)?n.sibling=l:e.child=l,s.last=l)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jt(),e.sibling=null,n=ts.current,Ci(ts,r?1&n|2:1&n),e):(qa(e),null);case 22:case 23:return hc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Rl)&&(qa(e),6&e.subtreeFlags&&(e.flags|=8192)):qa(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ya(t,e){switch(eo(e),e.tag){case 1:return Ri(e.type)&&Li(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Jo(),Si(Ti),Si(Mi),rs(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return $o(e),null;case 13:if(Si(ts),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Si(ts),null;case 4:return Jo(),null;case 10:return Mo(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ia=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},La=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qo(qo.current);var o,s=null;switch(n){case"input":i=Q(t,i),r=Q(t,r),s=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":i=rt(t,i),r=rt(t,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=$r)}for(u in mt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}},ka=function(t,e,n,r){n!==r&&(e.flags|=4)};var Qa=!1,Ka=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function $a(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(t,e,r)}else n.current=null}function tl(t,e,n){try{n()}catch(r){Ec(t,e,r)}}var el=!1;function nl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(e,n,o)}i=i.next}while(i!==r)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[di],delete e[Ai],delete e[gi],delete e[yi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=$r));else if(4!==r&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,hl=!1;function fl(t,e,n){for(n=n.child;null!==n;)dl(t,e,n),n=n.sibling}function dl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(a){}switch(n.tag){case 5:Ka||$a(n,e);case 6:var r=ul,i=hl;ul=null,fl(t,e,n),hl=i,null!==(ul=r)&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Ge(t)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,fl(t,e,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,e,s),i=i.next}while(i!==r)}fl(t,e,n);break;case 1:if(!Ka&&($a(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ec(n,e,a)}fl(t,e,n);break;case 21:fl(t,e,n);break;case 22:1&n.mode?(Ka=(r=Ka)||null!==n.memoizedState,fl(t,e,n),Ka=r):fl(t,e,n);break;default:fl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach((function(e){var r=Mc.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Al(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(o(160));dl(s,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)gl(e,t),e=e.sibling}function gl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Al(e,t),yl(t),4&r){try{nl(3,t,t.return),rl(3,t)}catch(g){Ec(t,t.return,g)}try{nl(5,t,t.return)}catch(g){Ec(t,t.return,g)}}break;case 1:Al(e,t),yl(t),512&r&&null!==n&&$a(n,n.return);break;case 5:if(Al(e,t),yl(t),512&r&&null!==n&&$a(n,n.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(g){Ec(t,t.return,g)}}if(4&r&&null!=(i=t.stateNode)){var s=t.memoizedProps,a=null!==n?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),vt(l,a);var u=vt(l,s);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];"style"===h?gt(i,f):"dangerouslySetInnerHTML"===h?ht(i,f):"children"===h?ft(i,f):v(i,h,f,u)}switch(l){case"input":Z(i,s);break;case"textarea":ot(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?nt(i,!!s.multiple,p,!1):d!==!!s.multiple&&(null!=s.defaultValue?nt(i,!!s.multiple,s.defaultValue,!0):nt(i,!!s.multiple,s.multiple?[]:"",!1))}i[di]=s}catch(g){Ec(t,t.return,g)}}break;case 6:if(Al(e,t),yl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ec(t,t.return,g)}}break;case 3:if(Al(e,t),yl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ge(e.containerInfo)}catch(g){Ec(t,t.return,g)}break;case 4:default:Al(e,t),yl(t);break;case 13:Al(e,t),yl(t),8192&(i=t.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Jt())),4&r&&pl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Ka=(u=Ka)||h,Al(e,t),Ka=u):Al(e,t),yl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Za=t,h=t.child;null!==h;){for(f=Za=h;null!==Za;){switch(p=(d=Za).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:$a(d,d.return);var A=d.stateNode;if("function"===typeof A.componentWillUnmount){r=d,n=d.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:$a(d,d.return);break;case 22:if(null!==d.memoizedState){_l(f);continue}}null!==p?(p.return=d,Za=p):_l(f)}h=h.sibling}t:for(h=null,f=t;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,a=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=At("display",a))}catch(g){Ec(t,t.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ec(t,t.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Al(e,t),yl(t),4&r&&pl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(sl(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ft(i,""),r.flags&=-33),cl(t,al(t),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(t,al(t),s);break;default:throw Error(o(161))}}catch(a){Ec(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function ml(t,e,n){Za=t,vl(t,e,n)}function vl(t,e,n){for(var r=0!==(1&t.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Qa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=Qa;var c=Ka;if(Qa=s,(Ka=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?wl(i):null!==l?(l.return=s,Za=l):wl(i);for(;null!==o;)Za=o,vl(o,e,n),o=o.sibling;Za=i,Qa=a,Ka=c}bl(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):bl(t)}}function bl(t){for(;null!==Za;){var e=Za;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ka||rl(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Ka)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:na(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;null!==s&&Ho(e,s,r);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Ho(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ge(f)}}}break;default:throw Error(o(163))}Ka||512&e.flags&&il(e)}catch(d){Ec(e,e.return,d)}}if(e===t){Za=null;break}if(null!==(n=e.sibling)){n.return=e.return,Za=n;break}Za=e.return}}function _l(t){for(;null!==Za;){var e=Za;if(e===t){Za=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Za=n;break}Za=e.return}}function wl(t){for(;null!==Za;){var e=Za;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Ec(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){Ec(e,i,l)}}var o=e.return;try{il(e)}catch(l){Ec(e,o,l)}break;case 5:var s=e.return;try{il(e)}catch(l){Ec(e,s,l)}}}catch(l){Ec(e,e.return,l)}if(e===t){Za=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Za=a;break}Za=e.return}}var xl,El=Math.ceil,Sl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,Ml=0,Tl=null,Ol=null,Il=0,Rl=0,Ll=Ei(0),kl=0,Bl=null,Nl=0,Dl=0,Fl=0,jl=null,Ul=null,zl=0,Gl=1/0,Vl=null,Hl=!1,Wl=null,ql=null,Xl=!1,Yl=null,Ql=0,Kl=0,Jl=null,Zl=-1,$l=0;function tc(){return 0!==(6&Ml)?Jt():-1!==Zl?Zl:Zl=Jt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Ml)&&0!==Il?Il&-Il:null!==go.transition?(0===$l&&($l=Ae()),$l):0!==(t=ve)?t:t=void 0===(t=window.event)?16:Ke(t.type)}function nc(t,e,n,r){if(50<Kl)throw Kl=0,Jl=null,Error(o(185));ye(t,n,r),0!==(2&Ml)&&t===Tl||(t===Tl&&(0===(2&Ml)&&(Dl|=n),4===kl&&ac(t,Il)),rc(t,r),1===n&&0===Ml&&0===(1&e.mode)&&(Gl=Jt()+500,ji&&Gi()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-se(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=de(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}(t,e);var r=fe(t,t===Tl?Il:0);if(0===r)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){ji=!0,zi(t)}(lc.bind(null,t)):zi(lc.bind(null,t)),si((function(){0===(6&Ml)&&Gi()})),n=null;else{switch(be(r)){case 1:n=$t;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Tc(n,ic.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ic(t,e){if(Zl=-1,$l=0,0!==(6&Ml))throw Error(o(327));var n=t.callbackNode;if(wc()&&t.callbackNode!==n)return null;var r=fe(t,t===Tl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=gc(t,r);else{e=r;var i=Ml;Ml|=2;var s=pc();for(Tl===t&&Il===e||(Vl=null,Gl=Jt()+500,fc(t,e));;)try{mc();break}catch(l){dc(t,l)}Po(),Sl.current=s,Ml=i,null!==Ol?e=0:(Tl=null,Il=0,e=kl)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=oc(t,i))),1===e)throw n=Bl,fc(t,0),ac(t,r),rc(t,Jt()),n;if(6===e)ac(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=gc(t,r))&&(0!==(s=pe(t))&&(r=s,e=oc(t,s))),1===e))throw n=Bl,fc(t,0),ac(t,r),rc(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:_c(t,Ul,Vl);break;case 3:if(ac(t,r),(130023424&r)===r&&10<(e=zl+500-Jt())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(_c.bind(null,t,Ul,Vl),e);break}_c(t,Ul,Vl);break;case 4:if(ac(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-se(r);s=1<<a,(a=e[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){t.timeoutHandle=ri(_c.bind(null,t,Ul,Vl),r);break}_c(t,Ul,Vl);break;default:throw Error(o(329))}}}return rc(t,Jt()),t.callbackNode===n?ic.bind(null,t):null}function oc(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(fc(t,e).flags|=256),2!==(t=gc(t,e))&&(e=Ul,Ul=n,null!==e&&sc(e)),t}function sc(t){null===Ul?Ul=t:Ul.push.apply(Ul,t)}function ac(t,e){for(e&=~Fl,e&=~Dl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-se(e),r=1<<n;t[n]=-1,e&=~r}}function lc(t){if(0!==(6&Ml))throw Error(o(327));wc();var e=fe(t,0);if(0===(1&e))return rc(t,Jt()),null;var n=gc(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=oc(t,r))}if(1===n)throw n=Bl,fc(t,0),ac(t,e),rc(t,Jt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_c(t,Ul,Vl),rc(t,Jt()),null}function cc(t,e){var n=Ml;Ml|=1;try{return t(e)}finally{0===(Ml=n)&&(Gl=Jt()+500,ji&&Gi())}}function uc(t){null!==Yl&&0===Yl.tag&&0===(6&Ml)&&wc();var e=Ml;Ml|=1;var n=Pl.transition,r=ve;try{if(Pl.transition=null,ve=1,t)return t()}finally{ve=r,Pl.transition=n,0===(6&(Ml=e))&&Gi()}}function hc(){Rl=Ll.current,Si(Ll)}function fc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:Jo(),Si(Ti),Si(Mi),rs();break;case 5:$o(r);break;case 4:Jo();break;case 13:case 19:Si(ts);break;case 10:Mo(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Tl=t,Ol=t=Lc(t.current,null),Il=Rl=e,kl=0,Bl=null,Fl=Dl=Nl=0,Ul=jl=null,null!==Ro){for(e=0;e<Ro.length;e++)if(null!==(r=(n=Ro[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Ro=null}return t}function dc(t,e){for(;;){var n=Ol;try{if(Po(),is.current=Zs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,hs=!1,fs=0,Cl.current=null,null===n||null===n.return){kl=1,Bl=e,Ol=null;break}t:{var s=t,a=n.return,l=n,c=e;if(e=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,e),1&p.mode&&Aa(s,u,e),c=u;var A=(e=p).updateQueue;if(null===A){var g=new Set;g.add(c),e.updateQueue=g}else A.add(c);break t}if(0===(1&e)){Aa(s,u,e),Ac();break t}c=Error(o(426))}else if(io&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,e),Ao(ca(c,l));break t}}s=c=ca(c,l),4!==kl&&(kl=2),null===jl?jl=[s]:jl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e,Go(s,da(0,c,e));break t;case 1:l=c;var m=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof m.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===ql||!ql.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e,Go(s,pa(s,l,e));break t}}s=s.return}while(null!==s)}bc(n)}catch(b){e=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function pc(){var t=Sl.current;return Sl.current=Zs,null===t?Zs:t}function Ac(){0!==kl&&3!==kl&&2!==kl||(kl=4),null===Tl||0===(268435455&Nl)&&0===(268435455&Dl)||ac(Tl,Il)}function gc(t,e){var n=Ml;Ml|=2;var r=pc();for(Tl===t&&Il===e||(Vl=null,fc(t,e));;)try{yc();break}catch(i){dc(t,i)}if(Po(),Ml=n,Sl.current=r,null!==Ol)throw Error(o(261));return Tl=null,Il=0,kl}function yc(){for(;null!==Ol;)vc(Ol)}function mc(){for(;null!==Ol&&!Qt();)vc(Ol)}function vc(t){var e=xl(t.alternate,t,Rl);t.memoizedProps=t.pendingProps,null===e?bc(t):Ol=e,Cl.current=null}function bc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Xa(n,e,Rl)))return void(Ol=n)}else{if(null!==(n=Ya(n,e)))return n.flags&=32767,void(Ol=n);if(null===t)return kl=6,void(Ol=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ol=e);Ol=e=t}while(null!==e);0===kl&&(kl=5)}function _c(t,e,n){var r=ve,i=Pl.transition;try{Pl.transition=null,ve=1,function(t,e,n,r){do{wc()}while(null!==Yl);if(0!==(6&Ml))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-se(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,s),t===Tl&&(Ol=Tl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Tc(ee,(function(){return wc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Pl.transition,Pl.transition=null;var a=ve;ve=1;var l=Ml;Ml|=4,Cl.current=null,function(t,e){if(ti=He,dr(t=fr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,f=t,d=null;e:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=a+i),f!==s||0!==r&&3!==f.nodeType||(c=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===n&&++u===i&&(l=a),d===s&&++h===r&&(c=a),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},He=!1,Za=e;null!==Za;)if(t=(e=Za).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Za=t;else for(;null!==Za;){e=Za;try{var A=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==A){var g=A.memoizedProps,y=A.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:na(e.type,g),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){Ec(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,Za=t;break}Za=e.return}A=el,el=!1}(t,n),gl(n,t),pr(ei),He=!!ti,ei=ti=null,t.current=n,ml(n,t,i),Kt(),Ml=l,ve=a,Pl.transition=s}else t.current=n;if(Xl&&(Xl=!1,Yl=t,Ql=i),s=t.pendingLanes,0===s&&(ql=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,Jt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,t=Wl,Wl=null,t;0!==(1&Ql)&&0!==t.tag&&wc(),s=t.pendingLanes,0!==(1&s)?t===Jl?Kl++:(Kl=0,Jl=t):Kl=0,Gi()}(t,e,n,r)}finally{Pl.transition=i,ve=r}return null}function wc(){if(null!==Yl){var t=be(Ql),e=Pl.transition,n=ve;try{if(Pl.transition=null,ve=16>t?16:t,null===Yl)var r=!1;else{if(t=Yl,Yl=null,Ql=0,0!==(6&Ml))throw Error(o(331));var i=Ml;for(Ml|=4,Za=t.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var f=h.child;if(null!==f)f.return=h,Za=f;else for(;null!==Za;){var d=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==d){d.return=p,Za=d;break}Za=p}}}var A=s.alternate;if(null!==A){var g=A.child;if(null!==g){A.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else t:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var m=s.sibling;if(null!==m){m.return=s.return,Za=m;break t}Za=s.return}}var v=t.current;for(Za=v;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else t:for(a=v;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Ec(l,l.return,w)}if(l===a){Za=null;break t}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break t}Za=l.return}}if(Ml=i,Gi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(w){}r=!0}return r}finally{ve=n,Pl.transition=e}}return!1}function xc(t,e,n){t=Uo(t,e=da(0,e=ca(n,e),1),1),e=tc(),null!==t&&(ye(t,1,e),rc(t,e))}function Ec(t,e,n){if(3===t.tag)xc(t,t,n);else for(;null!==e;){if(3===e.tag){xc(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){e=Uo(e,t=pa(e,t=ca(n,t),1),1),t=tc(),null!==e&&(ye(e,1,t),rc(e,t));break}}e=e.return}}function Sc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Tl===t&&(Il&n)===n&&(4===kl||3===kl&&(130023424&Il)===Il&&500>Jt()-zl?fc(t,0):Fl|=n),rc(t,e)}function Cc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=Bo(t,e))&&(ye(t,e,n),rc(t,n))}function Pc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Cc(t,n)}function Mc(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Cc(t,n)}function Tc(t,e){return Xt(t,e)}function Oc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(t,e,n,r){return new Oc(t,e,n,r)}function Rc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Lc(t,e){var n=t.alternate;return null===n?((n=Ic(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kc(t,e,n,r,i,s){var a=2;if(r=t,"function"===typeof t)Rc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case x:return Bc(n.children,i,s,e);case E:a=8,i|=8;break;case S:return(t=Ic(12,n,e,2|i)).elementType=S,t.lanes=s,t;case T:return(t=Ic(13,n,e,i)).elementType=T,t.lanes=s,t;case O:return(t=Ic(19,n,e,i)).elementType=O,t.lanes=s,t;case L:return Nc(n,i,s,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:a=10;break t;case P:a=9;break t;case M:a=11;break t;case I:a=14;break t;case R:a=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Ic(a,n,e,i)).elementType=t,e.type=r,e.lanes=s,e}function Bc(t,e,n,r){return(t=Ic(7,t,r,e)).lanes=n,t}function Nc(t,e,n,r){return(t=Ic(22,t,r,e)).elementType=L,t.lanes=n,t.stateNode={isHidden:!1},t}function Dc(t,e,n){return(t=Ic(6,t,null,e)).lanes=n,t}function Fc(t,e,n){return(e=Ic(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(t,e,n,r,i,o,s,a,l){return t=new jc(t,e,n,a,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Ic(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),t}function zc(t){if(!t)return Pi;t:{if(Gt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Ri(n))return Bi(t,n,e)}return e}function Gc(t,e,n,r,i,o,s,a,l){return(t=Uc(n,r,!0,t,0,o,0,a,l)).context=zc(null),n=t.current,(o=jo(r=tc(),i=ec(n))).callback=void 0!==e&&null!==e?e:null,Uo(n,o,i),t.current.lanes=i,ye(t,i,r),rc(t,r),t}function Vc(t,e,n,r){var i=e.current,o=tc(),s=ec(i);return n=zc(n),null===e.context?e.context=n:e.pendingContext=n,(e=jo(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Uo(i,e,s))&&(nc(t,i,s,o),zo(t,i,s)),s}function Hc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Wc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function qc(t,e){Wc(t,e),(t=t.alternate)&&Wc(t,e)}xl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ti.current)va=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return va=!1,function(t,e,n){switch(e.tag){case 3:Ta(e),po();break;case 5:Zo(e);break;case 1:Ri(e.type)&&Ni(e);break;case 4:Ko(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ci(xo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ci(ts,1&ts.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Da(t,e,n):(Ci(ts,1&ts.current),null!==(t=Ha(t,e,n))?t.sibling:null);Ci(ts,1&ts.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Ga(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ts,ts.current),r)break;return null;case 22:case 23:return e.lanes=0,Ea(t,e,n)}return Ha(t,e,n)}(t,e,n);va=0!==(131072&t.flags)}else va=!1,io&&0!==(1048576&e.flags)&&$i(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Va(t,e),t=e.pendingProps;var i=Ii(e,Mi.current);Oo(e,n),i=gs(null,e,r,t,i,n);var s=ys();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ri(r)?(s=!0,Ni(e)):s=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(e),i.updater=ia,e.stateNode=i,i._reactInternals=e,la(e,r,t,n),e=Ma(null,e,r,!0,s,n)):(e.tag=0,io&&s&&to(e),ba(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Va(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Rc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===M)return 11;if(t===I)return 14}return 2}(r),t=na(r,t),i){case 0:e=Ca(null,e,r,t,n);break t;case 1:e=Pa(null,e,r,t,n);break t;case 11:e=_a(null,e,r,t,n);break t;case 14:e=wa(null,e,r,na(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ca(t,e,r,i=e.elementType===r?i:na(r,i),n);case 1:return r=e.type,i=e.pendingProps,Pa(t,e,r,i=e.elementType===r?i:na(r,i),n);case 3:t:{if(Ta(e),null===t)throw Error(o(387));r=e.pendingProps,i=(s=e.memoizedState).element,Fo(t,e),Vo(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=Oa(t,e,r,n,i=ca(Error(o(423)),e));break t}if(r!==i){e=Oa(t,e,r,n,i=ca(Error(o(424)),e));break t}for(ro=ci(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=wo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Ha(t,e,n);break t}ba(t,e,r,n)}e=e.child}return e;case 5:return Zo(e),null===t&&co(e),r=e.type,i=e.pendingProps,s=null!==t?t.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(e.flags|=32),Sa(t,e),ba(t,e,a,n),e.child;case 6:return null===t&&co(e),null;case 13:return Da(t,e,n);case 4:return Ko(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=_o(e,null,r,n):ba(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,_a(t,e,r,i=e.elementType===r?i:na(r,i),n);case 7:return ba(t,e,e.pendingProps,n),e.child;case 8:case 12:return ba(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ci(xo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ti.current){e=Ha(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=jo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),To(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===e.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),To(a,n,e),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oo(e,n),r=r(i=Io(i)),e.flags|=1,ba(t,e,r,n),e.child;case 14:return i=na(r=e.type,e.pendingProps),wa(t,e,r,i=na(r.type,i),n);case 15:return xa(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:na(r,i),Va(t,e),e.tag=1,Ri(r)?(t=!0,Ni(e)):t=!1,Oo(e,n),sa(e,r,i),la(e,r,i,n),Ma(null,e,r,!0,t,n);case 19:return Ga(t,e,n);case 22:return Ea(t,e,n)}throw Error(o(156,e.tag))};var Xc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function Qc(t){this._internalRoot=t}function Kc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function $c(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var t=Hc(s);a.call(t)}}Vc(e,s,t,i)}else s=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Hc(s);o.call(t)}}var s=Gc(e,r,t,0,null,!1,0,"",Zc);return t._reactRootContainer=s,t[pi]=s.current,Gr(8===t.nodeType?t.parentNode:t),uc(),s}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var a=r;r=function(){var t=Hc(l);a.call(t)}}var l=Uc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=l,t[pi]=l.current,Gr(8===t.nodeType?t.parentNode:t),uc((function(){Vc(e,l,n,r)})),l}(n,e,t,i,r);return Hc(s)}Qc.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Vc(t,e,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Vc(null,t,null,null)})),e[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Le.length&&0!==e&&e<Le[n].priority;n++);Le.splice(n,0,t),0===n&&De(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(me(e,1|n),rc(e,Jt()),0===(6&Ml)&&(Gl=Jt()+500,Gi()))}break;case 13:uc((function(){var e=Bo(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),qc(t,1)}},we=function(t){if(13===t.tag){var e=Bo(t,134217728);if(null!==e)nc(e,t,134217728,tc());qc(t,134217728)}},xe=function(t){if(13===t.tag){var e=ec(t),n=Bo(t,e);if(null!==n)nc(n,t,e,tc());qc(t,e)}},Ee=function(){return ve},Se=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}},wt=function(t,e,n){switch(e){case"input":if(Z(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_i(r);if(!i)throw Error(o(90));X(r),Z(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Mt=cc,Tt=uc;var tu={usingClientEntryPoint:!1,Events:[vi,bi,_i,Ct,Pt,cc]},eu={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ie=ru.inject(nu),oe=ru}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Kc(t))throw Error(o(299));var n=!1,r="",i=Xc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Uc(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Gr(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(o(200));return $c(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Kc(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Gc(e,null,t,1,null!=n?n:null,i,0,s,a),t[pi]=e.current,Gr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qc(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(o(200));return $c(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(o(40));return!!t._reactRootContainer&&(uc((function(){$c(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return $c(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},84391:(t,e,n)=>{"use strict";var r=n(97950);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},97950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(82730)},66366:t=>{var e="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(t)){if((a=t.length)!=s.length)return!1;for(l=a;0!==l--;)if(!o(t[l],s[l]))return!1;return!0}if(n&&t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=t.entries();!(l=u.next()).done;)if(!o(l.value[1],s.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(s)){if((a=t.length)!=s.length)return!1;for(l=a;0!==l--;)if(t[l]!==s[l])return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"===typeof t.valueOf&&"function"===typeof s.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString&&"function"===typeof t.toString&&"function"===typeof s.toString)return t.toString()===s.toString();if((a=(c=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(e&&t instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!t.$$typeof)&&!o(t[c[l]],s[c[l]]))return!1;return!0}return t!==t&&s!==s}t.exports=function(t,e){try{return o(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},95082:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,A=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case u:case h:case o:case a:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case f:case g:case A:case l:return t;default:return e}}case i:return e}}}function w(t){return _(t)===h}e.AsyncMode=u,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=l,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=g,e.Memo=A,e.Portal=i,e.Profiler=a,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return w(t)||_(t)===u},e.isConcurrentMode=w,e.isContextConsumer=function(t){return _(t)===c},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return _(t)===f},e.isFragment=function(t){return _(t)===o},e.isLazy=function(t){return _(t)===g},e.isMemo=function(t){return _(t)===A},e.isPortal=function(t){return _(t)===i},e.isProfiler=function(t){return _(t)===a},e.isStrictMode=function(t){return _(t)===s},e.isSuspense=function(t){return _(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===h||t===a||t===s||t===d||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===A||t.$$typeof===l||t.$$typeof===c||t.$$typeof===f||t.$$typeof===m||t.$$typeof===v||t.$$typeof===b||t.$$typeof===y)},e.typeOf=_},2086:(t,e,n)=>{"use strict";t.exports=n(95082)},51153:(t,e,n)=>{"use strict";var r=n(65043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)s.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:o,_owner:a.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},14202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,g={};function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function m(){}function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},m.prototype=y.prototype;var b=v.prototype=new m;b.constructor=v,A(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,r){var i,o={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)w.call(e,i)&&!E.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:t,key:s,ref:a,props:o,_owner:x.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var P=/\/+/g;function M(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(t,e,i,o,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=t),t=""===o?"."+M(l,0):o,_(s)?(i="",null!=t&&(i=t.replace(P,"$&/")+"/"),T(s,e,i,"",(function(t){return t}))):null!=s&&(C(s)&&(s=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+t)),e.push(s)),1;if(l=0,o=""===o?".":o+":",_(t))for(var c=0;c<t.length;c++){var u=o+M(a=t[c],c);l+=T(a,e,i,u,s)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=T(a=a.value,e,i,u=o+M(a,c++),s);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function O(t,e,n){if(null==t)return t;var r=[],i=0;return T(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function I(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R={current:null},L={transition:null},k={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:x};function B(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:O,forEach:function(t,e,n){O(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return O(t,(function(){e++})),e},toArray:function(t){return O(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=s,e.PureComponent=v,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,e.act=B,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=A({},t.props),o=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=x.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:o,ref:s,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:I}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=L.transition;L.transition={};try{t()}finally{L.transition=e}},e.unstable_act=B,e.useCallback=function(t,e){return R.current.useCallback(t,e)},e.useContext=function(t){return R.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return R.current.useDeferredValue(t)},e.useEffect=function(t,e){return R.current.useEffect(t,e)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(t,e,n){return R.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return R.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return R.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return R.current.useMemo(t,e)},e.useReducer=function(t,e,n){return R.current.useReducer(t,e,n)},e.useRef=function(t){return R.current.useRef(t)},e.useState=function(t){return R.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return R.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.3.1"},65043:(t,e,n)=>{"use strict";t.exports=n(14202)},70579:(t,e,n)=>{"use strict";t.exports=n(51153)},52940:(t,e,n)=>{"use strict";var r=n(82981),i=n(54902),o=Object;t.exports=r((function(){if(null==this||this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t}),"get flags",!0)},92488:(t,e,n)=>{"use strict";var r=n(11779),i=n(61712),o=n(52940),s=n(10201),a=n(20855),l=i(s());r(l,{getPolyfill:s,implementation:o,shim:a}),t.exports=l},10201:(t,e,n)=>{"use strict";var r=n(52940),i=n(11779).supportsDescriptors,o=Object.getOwnPropertyDescriptor;t.exports=function(){if(i&&"gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"===typeof t.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var e="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(n,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return r}},20855:(t,e,n)=>{"use strict";var r=n(11779).supportsDescriptors,i=n(10201),o=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,l=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!r||!l)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=i(),e=l(c),n=o(e,"flags");return n&&n.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},27234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=t[a],c=a+1,u=t[c];if(0>o(l,n))c<i&&0>o(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,d=3,p=!1,A=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function _(t){if(g=!1,b(t),!A)if(null!==r(c))A=!0,L(w);else{var e=r(u);null!==e&&k(_,e.startTime-t)}}function w(t,n){A=!1,g&&(g=!1,m(C),C=-1),p=!0;var o=d;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||t&&!T());){var s=f.callback;if("function"===typeof s){f.callback=null,d=f.priorityLevel;var a=s(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?f.callback=a:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var l=!0;else{var h=r(u);null!==h&&k(_,h.startTime-n),l=!1}return l}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,C=-1,P=5,M=-1;function T(){return!(e.unstable_now()-M<P)}function O(){if(null!==S){var t=e.unstable_now();M=t;var n=!0;try{n=S(!0,t)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof v)x=function(){v(O)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=O,x=function(){R.postMessage(null)}}else x=function(){y(O,0)};function L(t){S=t,E||(E=!0,x())}function k(t,n){C=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){A||p||(A=!0,L(w))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,i,o){var s=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(t.sortIndex=o,n(u,t),null===r(c)&&t===r(u)&&(g?(m(C),C=-1):g=!0,k(_,o-s))):(t.sortIndex=a,n(c,t),A||p||(A=!0,L(w))),t},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},78853:(t,e,n)=>{"use strict";t.exports=n(27234)},75438:(t,e,n)=>{"use strict";var r=n(60002),i=n(74992),o=n(12101)(),s=n(95558),a=n(54902),l=r("%Math.floor%");t.exports=function(t,e){if("function"!==typeof t)throw new a("`fn` is not a function");if("number"!==typeof e||e<0||e>4294967295||l(e)!==e)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in t&&s){var u=s(t,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},82981:(t,e,n)=>{"use strict";var r=n(74992),i=n(12101)(),o=n(27699).functionsHaveConfigurableNames(),s=n(54902);t.exports=function(t,e){if("function"!==typeof t)throw new s("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!o||(i?r(t,"name",e,!0,!0):r(t,"name",e)),t}},94395:t=>{"use strict";t.exports={eudist:function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i},mandist:function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++)i+=Math.abs((t[o]||0)-(e[o]||0));return n?Math.sqrt(i):i},dist:function(t,e,n){var r=Math.abs(t-e);return n?r:r*r}}},45738:(t,e,n)=>{"use strict";var r=n(94395),i=r.eudist,o=r.dist;t.exports={kmrand:function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],l=s?a.join("_"):""+a;n[l]||(n[l]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r},kmpp:function(t,e){var n=t[0].length?i:o,r=[],s=t.length,a=t[0].length>0,l=t[Math.floor(Math.random()*s)];a&&l.join("_");for(r.push(l);r.length<e;){for(var c=[],u=r.length,h=0,f=[],d=0;d<s;d++){for(var p=1/0,A=0;A<u;A++){var g=n(t[d],r[A]);g<=p&&(p=g)}c[d]=p}for(var y=0;y<s;y++)h+=c[y];for(var m=0;m<s;m++)f[m]={i:m,v:t[m],pr:c[m]/h,cs:0};f.sort((function(t,e){return t.pr-e.pr})),f[0].cs=f[0].pr;for(var v=1;v<s;v++)f[v].cs=f[v-1].cs+f[v].pr;for(var b=Math.random(),_=0;_<s-1&&f[_++].cs<b;);r.push(f[_-1].v)}return r}}},70109:(t,e,n)=>{"use strict";var r=n(94395),i=n(45738),o=r.eudist,s=(r.mandist,r.dist,i.kmrand),a=i.kmpp;function l(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}t.exports=function(t,e,n,r){var i=[],c=[],u=[],h=[],f=!1,d=r||1e4,p=t.length,A=t[0].length,g=A>0,y=[];if(n)i="kmrand"==n?s(t,e):"kmpp"==n?a(t,e):n;else for(var m={};i.length<e;){var v=Math.floor(Math.random()*p);m[v]||(m[v]=!0,i.push(t[v]))}do{l(e,0,y);for(var b=0;b<p;b++){for(var _=1/0,w=0,x=0;x<e;x++){(h=g?o(t[b],i[x]):Math.abs(t[b]-i[x]))<=_&&(_=h,w=x)}u[b]=w,y[w]++}for(var E=[],S=(c=[],0);S<e;S++)E[S]=g?l(A,0,E[S]):0,c[S]=i[S];if(g){for(var C=0;C<e;C++)i[C]=[];for(var P=0;P<p;P++)for(var M=E[u[P]],T=t[P],O=0;O<A;O++)M[O]+=T[O];f=!0;for(var I=0;I<e;I++){for(var R=i[I],L=E[I],k=c[I],B=y[I],N=0;N<A;N++)R[N]=L[N]/B||0;if(f)for(var D=0;D<A;D++)if(k[D]!=R[D]){f=!1;break}}}else{for(var F=0;F<p;F++){E[u[F]]+=t[F]}for(var j=0;j<e;j++)i[j]=E[j]/y[j]||0;f=!0;for(var U=0;U<e;U++)if(c[U]!=i[U]){f=!1;break}}f=f||--d<=0}while(!f);return{it:1e4-d,k:e,idxs:u,centroids:i}}},20908:t=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};t.exports=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i=Object.assign({},r,i),!t||"string"!==typeof t)return t;let o=t.trim();if(void 0!==i.skipLike&&i.skipLike.test(o))return t;if(i.hex&&e.test(o))return Number.parseInt(o,16);{const e=n.exec(o);if(e){const n=e[1],r=e[2];let s=function(t){if(t&&-1!==t.indexOf("."))return"."===(t=t.replace(/0+$/,""))?t="0":"."===t[0]?t="0"+t:"."===t[t.length-1]&&(t=t.substr(0,t.length-1)),t;return t}(e[3]);const a=e[4]||e[6];if(!i.leadingZeros&&r.length>0&&n&&"."!==o[2])return t;if(!i.leadingZeros&&r.length>0&&!n&&"."!==o[1])return t;{const e=Number(o),l=""+e;return-1!==l.search(/[eE]/)||a?i.eNotation?e:t:-1!==o.indexOf(".")?"0"===l&&""===s||l===s||n&&l==="-"+s?e:t:r?s===l||n+s===l?e:t:o===l||o===n+l?e:t}}return t}}},44993:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});class r{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:n}=this,r=e[t];for(;t>0;){const i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r}_down(t){const{data:e,compare:n}=this,r=this.length>>1,i=e[t];for(;t<r;){let r=1+(t<<1),o=e[r];const s=r+1;if(s<this.length&&n(e[s],o)<0&&(r=s,o=e[s]),n(o,i)>=0)break;e[t]=o,t=r}e[t]=i}}function i(t,e){return t<e?-1:t>e?1:0}},68874:function(t,e){!function(t){"use strict";function e(){}function n(t){this.message=t||""}function r(t){this.message=t||""}function i(t){this.message=t||""}function o(){}function s(t){return null===t?kt:t.color}function a(t){return null===t?null:t.parent}function l(t,e){null!==t&&(t.color=e)}function c(t){return null===t?null:t.left}function u(t){return null===t?null:t.right}function h(){this.root_=null,this.size_=0}function f(){}function d(){this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}function p(){}function A(t){this.message=t||""}function g(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var y=function(){};y.prototype.interfaces_=function(){return[]},y.prototype.getClass=function(){return y},y.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var m=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),v=function(){},b={MAX_VALUE:{configurable:!0}};v.isNaN=function(t){return Number.isNaN(t)},v.doubleToLongBits=function(t){return t},v.longBitsToDouble=function(t){return t},v.isInfinite=function(t){return!Number.isFinite(t)},b.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(v,b);var _=function(){},w=function(){},x=function(){},E=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},S={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};E.prototype.setOrdinate=function(t,e){switch(t){case E.X:this.x=e;break;case E.Y:this.y=e;break;case E.Z:this.z=e;break;default:throw new m("Invalid ordinate index: "+t)}},E.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!y.equalsWithTolerance(this.x,e.x,n)&&!!y.equalsWithTolerance(this.y,e.y,n)}},E.prototype.getOrdinate=function(t){switch(t){case E.X:return this.x;case E.Y:return this.y;case E.Z:return this.z}throw new m("Invalid ordinate index: "+t)},E.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||v.isNaN(this.z))&&v.isNaN(t.z)},E.prototype.equals=function(t){return t instanceof E&&this.equals2D(t)},E.prototype.equalInZ=function(t,e){return y.equalsWithTolerance(this.z,t.z,e)},E.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},E.prototype.clone=function(){},E.prototype.copy=function(){return new E(this)},E.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},E.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},E.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},E.prototype.hashCode=function(){var t=17;return 37*(t=37*t+E.hashCode(this.x))+E.hashCode(this.y)},E.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},E.prototype.interfaces_=function(){return[_,w,e]},E.prototype.getClass=function(){return E},E.hashCode=function(){if(1===arguments.length){var t=arguments[0];return v.doubleToLongBits(t),Math.trunc(0)}},S.DimensionalComparator.get=function(){return C},S.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},S.NULL_ORDINATE.get=function(){return v.NaN},S.X.get=function(){return 0},S.Y.get=function(){return 1},S.Z.get=function(){return 2},Object.defineProperties(E,S);var C=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new m("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};C.prototype.compare=function(t,e){var n=t,r=e,i=C.compare(n.x,r.x);if(0!==i)return i;var o=C.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:C.compare(n.z,r.z)},C.prototype.interfaces_=function(){return[x]},C.prototype.getClass=function(){return C},C.compare=function(t,e){return t<e?-1:t>e?1:v.isNaN(t)?v.isNaN(e)?0:-1:v.isNaN(e)?1:0};var P=function(){};P.prototype.create=function(){},P.prototype.interfaces_=function(){return[]},P.prototype.getClass=function(){return P};var M=function(){},T={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.toLocationSymbol=function(t){switch(t){case M.EXTERIOR:return"e";case M.BOUNDARY:return"b";case M.INTERIOR:return"i";case M.NONE:return"-"}throw new m("Unknown location value: "+t)},T.INTERIOR.get=function(){return 0},T.BOUNDARY.get=function(){return 1},T.EXTERIOR.get=function(){return 2},T.NONE.get=function(){return-1},Object.defineProperties(M,T);var O=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},I=function(){},R={LOG_10:{configurable:!0}};I.prototype.interfaces_=function(){return[]},I.prototype.getClass=function(){return I},I.log10=function(t){var e=Math.log(t);return v.isInfinite(e)||v.isNaN(e)?e:e/I.LOG_10},I.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},I.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},I.wrap=function(t,e){return t<0?e- -t%e:t%e},I.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],s=arguments[0];return r>s&&(s=r),i>s&&(s=i),o>s&&(s=o),s}},I.average=function(t,e){return(t+e)/2},R.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(I,R);var L=function(t){this.str=t};L.prototype.append=function(t){this.str+=t},L.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},L.prototype.toString=function(t){return this.str};var k=function(t){this.value=t};k.prototype.intValue=function(){return this.value},k.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},k.isNaN=function(t){return Number.isNaN(t)};var B=function(){};B.isWhitespace=function(t){return t<=32&&t>=0||127===t},B.toUpperCase=function(t){return t.toUpperCase()};var N=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}},D={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};N.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},N.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=N.magnitude(n._hi),i=N.TEN.pow(r);(n=n.divide(i)).gt(N.TEN)?(n=n.divide(N.TEN),r+=1):n.lt(N.ONE)&&(n=n.multiply(N.TEN),r-=1);for(var o=r+1,s=new L,a=N.MAX_PRINT_DIGITS-1,l=0;l<=a;l++){t&&l===o&&s.append(".");var c=Math.trunc(n._hi);if(c<0)break;var u=!1,h=0;c>9?(u=!0,h="9"):h="0"+c,s.append(h),n=n.subtract(N.valueOf(c)).multiply(N.TEN),u&&n.selfAdd(N.TEN);var f=!0,d=N.magnitude(n._hi);if(d<0&&Math.abs(d)>=a-l&&(f=!1),!f)break}return e[0]=r,s.toString()},N.prototype.sqr=function(){return this.multiply(this)},N.prototype.doubleValue=function(){return this._hi+this._lo},N.prototype.subtract=function(){if(arguments[0]instanceof N){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},N.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},N.prototype.isZero=function(){return 0===this._hi&&0===this._lo},N.prototype.selfSubtract=function(){if(arguments[0]instanceof N){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},N.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},N.prototype.min=function(t){return this.le(t)?this:t},N.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof N){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,l=null,c=null,u=null,h=null;return l=this._hi/n,h=(i=(c=N.SPLIT*l)-(i=c-l))*(s=(h=N.SPLIT*n)-(s=h-n))-(u=l*n)+i*(a=n-s)+(o=l-i)*s+o*a,h=l+(c=(this._hi-u-h+this._lo-l*r)/n),this._hi=h,this._lo=l-h+c,this}},N.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},N.prototype.divide=function(){if(arguments[0]instanceof N){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,s=null,a=null,l=null;return n=(o=this._hi/t._hi)-(e=(s=N.SPLIT*o)-(e=s-o)),l=e*(r=(l=N.SPLIT*t._hi)-(r=l-t._hi))-(a=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,s=(this._hi-a-l+this._lo-o*t._lo)/t._hi,new N(l=o+s,o-l+s)}if("number"==typeof arguments[0]){var c=arguments[0];return v.isNaN(c)?N.createNaN():N.copy(this).selfDivide(c,0)}},N.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},N.prototype.pow=function(t){if(0===t)return N.valueOf(1);var e=new N(this),n=N.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},N.prototype.ceil=function(){if(this.isNaN())return N.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new N(t,e)},N.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},N.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},N.prototype.setValue=function(){if(arguments[0]instanceof N){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},N.prototype.max=function(t){return this.ge(t)?this:t},N.prototype.sqrt=function(){if(this.isZero())return N.valueOf(0);if(this.isNegative())return N.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=N.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},N.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof N){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;return o=(i=this._hi+e)-(s=i-this._hi),r=(a=(o=e-s+(this._hi-o))+this._lo)+(i-(n=i+a)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],c=arguments[1],u=null,h=null,f=null,d=null,p=null,A=null,g=null;d=this._hi+l,h=this._lo+c,p=d-(A=d-this._hi),f=h-(g=h-this._lo);var y=(u=d+(A=(p=l-A+(this._hi-p))+h))+(A=(f=c-g+(this._lo-f))+(A+(d-u))),m=A+(u-y);return this._hi=y,this._lo=m,this}},N.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof N){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,l=null,c=null;i=(l=N.SPLIT*this._hi)-this._hi,c=N.SPLIT*n,i=l-i,o=this._hi-i,s=c-n;var u=(l=this._hi*n)+(c=i*(s=c-s)-l+i*(a=n-s)+o*s+o*a+(this._hi*r+this._lo*n)),h=c+(i=l-u);return this._hi=u,this._lo=h,this}},N.prototype.selfSqr=function(){return this.selfMultiply(this)},N.prototype.floor=function(){if(this.isNaN())return N.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new N(t,e)},N.prototype.negate=function(){return this.isNaN()?this:new N(-this._hi,-this._lo)},N.prototype.clone=function(){},N.prototype.multiply=function(){if(arguments[0]instanceof N){var t=arguments[0];return t.isNaN()?N.createNaN():N.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return v.isNaN(e)?N.createNaN():N.copy(this).selfMultiply(e,0)}},N.prototype.isNaN=function(){return v.isNaN(this._hi)},N.prototype.intValue=function(){return Math.trunc(this._hi)},N.prototype.toString=function(){var t=N.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},N.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+N.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+N.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},N.prototype.reciprocal=function(){var t=null,e=null,n=null,r=null,i=null,o=null,s=null,a=null;e=(i=1/this._hi)-(t=(o=N.SPLIT*i)-(t=o-i)),n=(a=N.SPLIT*this._hi)-this._hi;var l=i+(o=(1-(s=i*this._hi)-(a=t*(n=a-n)-s+t*(r=this._hi-n)+e*n+e*r)-i*this._lo)/this._hi);return new N(l,i-l+o)},N.prototype.toSciNotation=function(){if(this.isZero())return N.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=N.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},N.prototype.abs=function(){return this.isNaN()?N.NaN:this.isNegative()?this.negate():new N(this)},N.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},N.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},N.prototype.add=function(){if(arguments[0]instanceof N){var t=arguments[0];return N.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return N.copy(this).selfAdd(e)}},N.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof N){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},N.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},N.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},N.prototype.trunc=function(){return this.isNaN()?N.NaN:this.isPositive()?this.floor():this.ceil()},N.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},N.prototype.interfaces_=function(){return[e,_,w]},N.prototype.getClass=function(){return N},N.sqr=function(t){return N.valueOf(t).selfMultiply(t)},N.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return N.parse(t)}if("number"==typeof arguments[0])return new N(arguments[0])},N.sqrt=function(t){return N.valueOf(t).sqrt()},N.parse=function(t){for(var e=0,n=t.length;B.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new N,s=0,a=0,l=0;!(e>=n);){var c=t.charAt(e);if(e++,B.isDigit(c)){var u=c-"0";o.selfMultiply(N.TEN),o.selfAdd(u),s++}else{if("."!==c){if("e"===c||"E"===c){var h=t.substring(e);try{l=k.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+c+"' at position "+e+" in string "+t)}a=s}}var f=o,d=s-a-l;if(0===d)f=o;else if(d>0){var p=N.TEN.pow(d);f=o.divide(p)}else if(d<0){var A=N.TEN.pow(-d);f=o.multiply(A)}return r?f.negate():f},N.createNaN=function(){return new N(v.NaN,v.NaN)},N.copy=function(t){return new N(t)},N.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},N.stringOfChar=function(t,e){for(var n=new L,r=0;r<e;r++)n.append(t);return n.toString()},D.PI.get=function(){return new N(3.141592653589793,12246467991473532e-32)},D.TWO_PI.get=function(){return new N(6.283185307179586,24492935982947064e-32)},D.PI_2.get=function(){return new N(1.5707963267948966,6123233995736766e-32)},D.E.get=function(){return new N(2.718281828459045,14456468917292502e-32)},D.NaN.get=function(){return new N(v.NaN,v.NaN)},D.EPS.get=function(){return 123259516440783e-46},D.SPLIT.get=function(){return 134217729},D.MAX_PRINT_DIGITS.get=function(){return 32},D.TEN.get=function(){return N.valueOf(10)},D.ONE.get=function(){return N.valueOf(1)},D.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},D.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(N,D);var F=function(){},j={DP_SAFE_EPSILON:{configurable:!0}};F.prototype.interfaces_=function(){return[]},F.prototype.getClass=function(){return F},F.orientationIndex=function(t,e,n){var r=F.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=N.valueOf(e.x).selfAdd(-t.x),o=N.valueOf(e.y).selfAdd(-t.y),s=N.valueOf(n.x).selfAdd(-e.x),a=N.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},F.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},F.intersection=function(t,e,n,r){var i=N.valueOf(r.y).selfSubtract(n.y).selfMultiply(N.valueOf(e.x).selfSubtract(t.x)),o=N.valueOf(r.x).selfSubtract(n.x).selfMultiply(N.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=N.valueOf(r.x).selfSubtract(n.x).selfMultiply(N.valueOf(t.y).selfSubtract(n.y)),l=N.valueOf(r.y).selfSubtract(n.y).selfMultiply(N.valueOf(t.x).selfSubtract(n.x)),c=a.subtract(l).selfDivide(s).doubleValue(),u=N.valueOf(t.x).selfAdd(N.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),h=N.valueOf(e.x).selfSubtract(t.x).selfMultiply(N.valueOf(t.y).selfSubtract(n.y)),f=N.valueOf(e.y).selfSubtract(t.y).selfMultiply(N.valueOf(t.x).selfSubtract(n.x)),d=h.subtract(f).selfDivide(s).doubleValue(),p=N.valueOf(n.y).selfAdd(N.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new E(u,p)},F.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return F.signum(s);r=i+o}else{if(!(i<0))return F.signum(s);if(o>=0)return F.signum(s);r=-i-o}var a=F.DP_SAFE_EPSILON*r;return s>=a||-s>=a?F.signum(s):2},F.signum=function(t){return t>0?1:t<0?-1:0},j.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(F,j);var U=function(){},z={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};z.X.get=function(){return 0},z.Y.get=function(){return 1},z.Z.get=function(){return 2},z.M.get=function(){return 3},U.prototype.setOrdinate=function(t,e,n){},U.prototype.size=function(){},U.prototype.getOrdinate=function(t,e){},U.prototype.getCoordinate=function(){},U.prototype.getCoordinateCopy=function(t){},U.prototype.getDimension=function(){},U.prototype.getX=function(t){},U.prototype.clone=function(){},U.prototype.expandEnvelope=function(t){},U.prototype.copy=function(){},U.prototype.getY=function(t){},U.prototype.toCoordinateArray=function(){},U.prototype.interfaces_=function(){return[w]},U.prototype.getClass=function(){return U},Object.defineProperties(U,z);var G=function(){},V=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(G),H=function(){};H.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},H.getProperty=function(t){return{"line.separator":"\n"}[t]};var W=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof E&&arguments[1]instanceof E){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var l=arguments[0],c=arguments[1],u=arguments[2];this.x=l,this.y=c,this.w=u}else if(4===arguments.length){var h=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3],A=h.y-f.y,g=f.x-h.x,y=h.x*f.y-f.x*h.y,m=d.y-p.y,v=p.x-d.x,b=d.x*p.y-p.x*d.y;this.x=g*b-v*y,this.y=m*y-A*b,this.w=A*v-m*g}};W.prototype.getY=function(){var t=this.y/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new V;return t},W.prototype.getX=function(){var t=this.x/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new V;return t},W.prototype.getCoordinate=function(){var t=new E;return t.x=this.getX(),t.y=this.getY(),t},W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,l=r.x-n.x,c=n.x*r.y-r.x*n.y,u=i*l-a*o,h=(o*c-l*s)/u,f=(a*s-i*c)/u;if(v.isNaN(h)||v.isInfinite(h)||v.isNaN(f)||v.isInfinite(f))throw new V;return new E(h,f)};var q=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof E){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3];this.init(o,s,a,l)}},X={serialVersionUID:{configurable:!0}};q.prototype.getArea=function(){return this.getWidth()*this.getHeight()},q.prototype.equals=function(t){if(!(t instanceof q))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},q.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new q;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new q(e,r,n,i)},q.prototype.isNull=function(){return this._maxx<this._minx},q.prototype.getMaxX=function(){return this._maxx},q.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof q){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},q.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof q){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof E){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},q.prototype.getMinY=function(){return this._miny},q.prototype.getMinX=function(){return this._minx},q.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof q){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},q.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},q.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},q.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},q.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},q.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},q.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},q.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},q.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},q.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},q.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof q){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof E){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},q.prototype.centre=function(){return this.isNull()?null:new E((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},q.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof q){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},q.prototype.getMaxY=function(){return this._maxy},q.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},q.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+E.hashCode(this._minx))+E.hashCode(this._maxx))+E.hashCode(this._miny))+E.hashCode(this._maxy)},q.prototype.interfaces_=function(){return[_,e]},q.prototype.getClass=function(){return q},q.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),l=Math.max(o.x,s.x),c=Math.min(r.x,i.x),u=Math.max(r.x,i.x);return!(c>l)&&!(u<a)&&(a=Math.min(o.y,s.y),l=Math.max(o.y,s.y),c=Math.min(r.y,i.y),u=Math.max(r.y,i.y),!(c>l)&&!(u<a))}},X.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(q,X);var Y={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Q=function(t){this.geometryFactory=t||new ye};Q.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=Y.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Y.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],J[n]&&(e=J[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Q.prototype.write=function(t){return this.extractGeometry(t)},Q.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!K[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+K[e].apply(this,[t])+")"};var K={coordinate:function(t){return t.x+" "+t.y},point:function(t){return K.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+K.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(K.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(K.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+K.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+K.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+K.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+K.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},J={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Y.spaces);return this.geometryFactory.createPoint(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Y.trimParens,"$1"),r.push(J.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Y.spaces),r.push(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Y.spaces),r.push(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Y.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Y.trimParens,"$1"),r.push(J.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Y.parenComma),s=[],a=0,l=o.length;a<l;++a)e=o[a].replace(Y.trimParens,"$1"),n=J.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Y.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Y.trimParens,"$1"),r.push(J.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Z=function(t){this.parser=new Q(t)};Z.prototype.write=function(t){return this.parser.write(t)},Z.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var $=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],et.isTrue(t,null);else if(2===arguments.length&&(e=arguments[1],!(t=arguments[0])))throw null===e?new tt:new tt(e)},et.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],et.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new E,this._intPt[1]=new E,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},rt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new L;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return Z.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Z.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return et.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},nt.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return et.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},rt.DONT_INTERSECT.get=function(){return 0},rt.DO_INTERSECT.get=function(){return 1},rt.COLLINEAR.get=function(){return 2},rt.NO_INTERSECTION.get=function(){return 0},rt.POINT_INTERSECTION.get=function(){return 1},rt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,rt);var it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new q(this._inputLines[0][0],this._inputLines[0][1]),n=new q(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,q.intersects(n,r,e)&&0===at.orientationIndex(n,r,e)&&0===at.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=W.intersection(t,n,r,i)}catch(s){if(!(s instanceof V))throw s;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new E(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=F.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);H.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&H.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new E(t),o=new E(e),s=new E(n),a=new E(r),l=new E;this.normalizeToEnvCentre(i,o,s,a,l);var c=this.safeHCoordinateIntersection(i,o,s,a);return c.x+=l.x,c.y+=l.y,c},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=q.intersects(e,n,r),s=q.intersects(e,n,i),a=q.intersects(r,i,e),l=q.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&l?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&l?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,c=n.x<r.x?n.x:r.x,u=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,d=((o>c?o:c)+(a<h?a:h))/2,p=((s>u?s:u)+(l<f?l:f))/2;i.x=d,i.y=p,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!q.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=at.orientationIndex(e,n,r),s=at.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(r,i,e),l=at.orientationIndex(r,i,n);return a>0&&l>0||a<0&&l<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===l?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===l?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new E(r):0===s?this._intPt[0]=new E(i):0===a?this._intPt[0]=new E(e):0===l&&(this._intPt[0]=new E(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=at.distancePointLine(t,n,r),s=at.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=at.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=at.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(nt),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ot.signOfDet2x2(r,i,o,s)},ot.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(s=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=s*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(s=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=s*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,l=ot.signOfDet2x2(i,o,s,a);if(0===l)return this._isPointOnSegment=!0,null;a<o&&(l=-l),l>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==M.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?M.BOUNDARY:this._crossingCount%2==1?M.INTERIOR:M.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof E&&O(arguments[1],U)){for(var t=arguments[1],e=new st(arguments[0]),n=new E,r=new E,i=1;i<t.size();i++)if(t.getCoordinate(i,n),t.getCoordinate(i-1,r),e.countSegment(n,r),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof E&&arguments[1]instanceof Array){for(var o=arguments[1],s=new st(arguments[0]),a=1;a<o.length;a++){var l=o[a],c=o[a-1];if(s.countSegment(l,c),s.isOnSegment())return s.getLocation()}return s.getLocation()}};var at=function(){},lt={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,n){return F.orientationIndex(t,e,n)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(O(arguments[0],U)){var s=arguments[0],a=s.size();if(a<3)return 0;var l=new E,c=new E,u=new E;s.getCoordinate(0,c),s.getCoordinate(1,u);var h=c.x;u.x-=h;for(var f=0,d=1;d<a-1;d++)l.y=c.y,c.x=u.x,c.y=u.y,s.getCoordinate(d+1,u),u.x-=h,f+=c.x*(l.y-u.y);return f/2}},at.distanceLineLine=function(t,e,n,r){if(t.equals(e))return at.distancePointLine(t,n,r);if(n.equals(r))return at.distancePointLine(r,t,e);var i=!1;if(q.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,l=s/o;(l<0||l>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?I.min(at.distancePointLine(t,n,r),at.distancePointLine(e,n,r),at.distancePointLine(n,t,e),at.distancePointLine(r,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==M.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new E;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,l=r.y,c=a-i,u=l-o;n+=Math.sqrt(c*c+u*u),i=a,o=l}return n},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new m("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var l=t[s],c=t[a];if(l.equals2D(n)||c.equals2D(n)||l.equals2D(c))return!1;var u=at.computeOrientation(l,n,c);return 0===u?l.x>c.x:u>0},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},at.computeOrientation=function(t,e,n){return at.orientationIndex(t,e,n)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new m("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=at.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var l=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),c=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/l;if(c<=0)return o.distance(s);if(c>=1)return o.distance(a);var u=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/l;return Math.abs(u)*Math.sqrt(l)}},at.isOnLine=function(t,e){for(var n=new it,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},lt.CLOCKWISE.get=function(){return-1},lt.RIGHT.get=function(){return at.CLOCKWISE},lt.COUNTERCLOCKWISE.get=function(){return 1},lt.LEFT.get=function(){return at.COUNTERCLOCKWISE},lt.COLLINEAR.get=function(){return 0},lt.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,lt);var ct=function(){};ct.prototype.filter=function(t){},ct.prototype.interfaces_=function(){return[]},ct.prototype.getClass=function(){return ct};var ut=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ht={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ut.prototype.isGeometryCollection=function(){return this.getSortIndex()===ut.SORTINDEX_GEOMETRYCOLLECTION},ut.prototype.getFactory=function(){return this._factory},ut.prototype.getGeometryN=function(t){return this},ut.prototype.getArea=function(){return 0},ut.prototype.isRectangle=function(){return!1},ut.prototype.equals=function(){if(arguments[0]instanceof ut){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ut))return!1;var n=e;return this.equalsExact(n)}},ut.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ut.prototype.geometryChanged=function(){this.apply(ut.geometryChangedFilter)},ut.prototype.geometryChangedAction=function(){this._envelope=null},ut.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ut.prototype.getLength=function(){return 0},ut.prototype.getNumGeometries=function(){return 1},ut.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},ut.prototype.getUserData=function(){return this._userData},ut.prototype.getSRID=function(){return this._SRID},ut.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ut.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ut.SORTINDEX_GEOMETRYCOLLECTION)throw new m("This method does not support GeometryCollection arguments")},ut.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},ut.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ut.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ut.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new q(this._envelope)},ut.prototype.setSRID=function(t){this._SRID=t},ut.prototype.setUserData=function(t){this._userData=t},ut.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},ut.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ut.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ut.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ut.SORTINDEX_MULTIPOINT||this.getSortIndex()===ut.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ut.SORTINDEX_MULTIPOLYGON},ut.prototype.interfaces_=function(){return[w,_,e]},ut.prototype.getClass=function(){return ut},ut.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ut.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},ht.serialVersionUID.get=function(){return 0x799ea46522854c00},ht.SORTINDEX_POINT.get=function(){return 0},ht.SORTINDEX_MULTIPOINT.get=function(){return 1},ht.SORTINDEX_LINESTRING.get=function(){return 2},ht.SORTINDEX_LINEARRING.get=function(){return 3},ht.SORTINDEX_MULTILINESTRING.get=function(){return 4},ht.SORTINDEX_POLYGON.get=function(){return 5},ht.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ht.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ht.geometryChangedFilter.get=function(){return ft},Object.defineProperties(ut,ht);var ft=function(){};ft.interfaces_=function(){return[ct]},ft.filter=function(t){t.geometryChangedAction()};var dt=function(){};dt.prototype.filter=function(t){},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt};var pt=function(){},At={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};pt.prototype.isInBoundary=function(t){},pt.prototype.interfaces_=function(){return[]},pt.prototype.getClass=function(){return pt},At.Mod2BoundaryNodeRule.get=function(){return gt},At.EndPointBoundaryNodeRule.get=function(){return yt},At.MultiValentEndPointBoundaryNodeRule.get=function(){return mt},At.MonoValentEndPointBoundaryNodeRule.get=function(){return vt},At.MOD2_BOUNDARY_RULE.get=function(){return new gt},At.ENDPOINT_BOUNDARY_RULE.get=function(){return new yt},At.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},At.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},At.OGC_SFS_BOUNDARY_RULE.get=function(){return pt.MOD2_BOUNDARY_RULE},Object.defineProperties(pt,At);var gt=function(){};gt.prototype.isInBoundary=function(t){return t%2==1},gt.prototype.interfaces_=function(){return[pt]},gt.prototype.getClass=function(){return gt};var yt=function(){};yt.prototype.isInBoundary=function(t){return t>0},yt.prototype.interfaces_=function(){return[pt]},yt.prototype.getClass=function(){return yt};var mt=function(){};mt.prototype.isInBoundary=function(t){return t>1},mt.prototype.interfaces_=function(){return[pt]},mt.prototype.getClass=function(){return mt};var vt=function(){};vt.prototype.isInBoundary=function(t){return 1===t},vt.prototype.interfaces_=function(){return[pt]},vt.prototype.getClass=function(){return vt};var bt=function(){};bt.prototype.add=function(){},bt.prototype.addAll=function(){},bt.prototype.isEmpty=function(){},bt.prototype.iterator=function(){},bt.prototype.size=function(){},bt.prototype.toArray=function(){},bt.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var _t=function(){};_t.prototype.hasNext=function(){},_t.prototype.next=function(){},_t.prototype.remove=function(){};var wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(bt);(r.prototype=new Error).name="NoSuchElementException";var xt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,bt]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Et(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(wt),Et=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new r;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(_t),St=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof E&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],l=arguments[1];if(arguments[2])for(var c=0;c<a.length;c++)this.add(a[c],l);else for(var u=a.length-1;u>=0;u--)this.add(a[u],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof E){var h=arguments[0],f=arguments[1];if(!arguments[2]){var d=this.size();if(d>0){if(h>0&&this.get(h-1).equals2D(f))return null;if(h<d&&this.get(h).equals2D(f))return null}}t.prototype.add.call(this,h,f)}}else if(4===arguments.length){var p=arguments[0],A=arguments[1],g=arguments[2],y=arguments[3],m=1;g>y&&(m=-1);for(var v=g;v!==y;v+=m)this.add(p[v],A);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new E(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(xt),Ct=function(){},Pt={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Pt.ForwardComparator.get=function(){return Mt},Pt.BidirectionalComparator.get=function(){return Tt},Pt.coordArrayType.get=function(){return new Array(0).fill(null)},Ct.prototype.interfaces_=function(){return[]},Ct.prototype.getClass=function(){return Ct},Ct.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},Ct.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Ct.indexOf(r,e)<0)return r}return null},Ct.scroll=function(t,e){var n=Ct.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);H.arraycopy(t,n,r,0,t.length-n),H.arraycopy(t,0,r,t.length-n,n),H.arraycopy(r,0,t,0,t.length)},Ct.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},Ct.intersection=function(t,e){for(var n=new St,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Ct.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Ct.removeRepeatedPoints=function(t){return Ct.hasRepeatedPoints(t)?new St(t,!1).toCoordinateArray():t},Ct.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Ct.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Ct.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new E(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],l=0;l<a;l++)o[s+l]=new E(r[i+l])},Ct.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Ct.envelope=function(t){for(var e=new q,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Ct.toCoordinateArray=function(t){return t.toArray(Ct.coordArrayType)},Ct.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Ct.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Ct.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Ct.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Ct.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Ct.extract=function(t,e,n){e=I.clamp(e,0,t.length);var r=(n=I.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(Ct,Pt);var Mt=function(){};Mt.prototype.compare=function(t,e){return Ct.compare(t,e)},Mt.prototype.interfaces_=function(){return[x]},Mt.prototype.getClass=function(){return Mt};var Tt=function(){};Tt.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Ct.compare(n,r);return Ct.isEqualReversed(n,r)?0:i},Tt.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Ct.increasingDirection(n),o=Ct.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,l=0;l<n.length;l++){var c=n[s].compareTo(r[a]);if(0!==c)return c;s+=i,a+=o}return 0},Tt.prototype.interfaces_=function(){return[x]},Tt.prototype.getClass=function(){return Tt};var Ot=function(){};Ot.prototype.get=function(){},Ot.prototype.put=function(){},Ot.prototype.size=function(){},Ot.prototype.values=function(){},Ot.prototype.entrySet=function(){};var It=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot);(i.prototype=new Error).name="OperationNotSupported",(o.prototype=new bt).contains=function(){};var Rt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Lt(this)},e}(o),Lt=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new r;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new i},e}(_t),kt=0;(h.prototype=new It).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},h.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:kt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:kt,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},h.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===c(a(a(t)))){var e=u(a(a(t)));1===s(e)?(l(a(t),kt),l(e,kt),l(a(a(t)),1),t=a(a(t))):(t===u(a(t))&&(t=a(t),this.rotateLeft(t)),l(a(t),kt),l(a(a(t)),1),this.rotateRight(a(a(t))))}else{var n=c(a(a(t)));1===s(n)?(l(a(t),kt),l(n,kt),l(a(a(t)),1),t=a(a(t))):(t===c(a(t))&&(t=a(t),this.rotateRight(t)),l(a(t),kt),l(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=kt},h.prototype.values=function(){var t=new xt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=h.successor(e));)t.add(e.value);return t},h.prototype.entrySet=function(){var t=new Rt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=h.successor(e));)t.add(e);return t},h.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},h.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},h.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},h.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},h.prototype.size=function(){return this.size_};var Bt=function(){};Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt},f.prototype=new o,(d.prototype=new f).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},d.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},d.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},d.prototype.remove=function(t){throw new i},d.prototype.size=function(){return this.array_.length},d.prototype.isEmpty=function(){return 0===this.array_.length},d.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},d.prototype.iterator=function(){return new Nt(this)};var Nt=function(t){this.treeSet_=t,this.position_=0};Nt.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new r;return this.treeSet_.array_[this.position_++]},Nt.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Nt.prototype.remove=function(){throw new i};var Dt=function(){};Dt.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Dt.asList=function(t){for(var e=new xt,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Ft=function(){},jt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};jt.P.get=function(){return 0},jt.L.get=function(){return 1},jt.A.get=function(){return 2},jt.FALSE.get=function(){return-1},jt.TRUE.get=function(){return-2},jt.DONTCARE.get=function(){return-3},jt.SYM_FALSE.get=function(){return"F"},jt.SYM_TRUE.get=function(){return"T"},jt.SYM_DONTCARE.get=function(){return"*"},jt.SYM_P.get=function(){return"0"},jt.SYM_L.get=function(){return"1"},jt.SYM_A.get=function(){return"2"},Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft},Ft.toDimensionSymbol=function(t){switch(t){case Ft.FALSE:return Ft.SYM_FALSE;case Ft.TRUE:return Ft.SYM_TRUE;case Ft.DONTCARE:return Ft.SYM_DONTCARE;case Ft.P:return Ft.SYM_P;case Ft.L:return Ft.SYM_L;case Ft.A:return Ft.SYM_A}throw new m("Unknown dimension value: "+t)},Ft.toDimensionValue=function(t){switch(B.toUpperCase(t)){case Ft.SYM_FALSE:return Ft.FALSE;case Ft.SYM_TRUE:return Ft.TRUE;case Ft.SYM_DONTCARE:return Ft.DONTCARE;case Ft.SYM_P:return Ft.P;case Ft.SYM_L:return Ft.L;case Ft.SYM_A:return Ft.A}throw new m("Unknown dimension symbol: "+t)},Object.defineProperties(Ft,jt);var Ut=function(){};Ut.prototype.filter=function(t){},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var zt=function(){};zt.prototype.filter=function(t,e){},zt.prototype.isDone=function(){},zt.prototype.isGeometryChanged=function(){},zt.prototype.interfaces_=function(){return[]},zt.prototype.getClass=function(){return zt};var Gt=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new m("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new q,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Dt.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Ft.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Ft.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new d(Dt.asList(this._geometries)),n=new d(Dt.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),s=i.getNumGeometries(),a=0;a<o&&a<s;){var l=this.getGeometryN(a),c=i.getGeometryN(a),u=l.compareToSameClass(c,r);if(0!==u)return u;a++}return a<o?1:a<s?-1:0}},e.prototype.apply=function(){if(O(arguments[0],dt))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(O(arguments[0],zt)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(O(arguments[0],Ut)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(O(arguments[0],ct)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(ut),Vt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ut.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Ft.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Ht(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Bt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(Gt),Ht=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=pt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Ht.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Ht.prototype.getBoundary=function(){return this._geom instanceof Qt?this.boundaryLineString(this._geom):this._geom instanceof Vt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Ht.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Ht.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Ht.prototype.computeBoundaryCoordinates=function(t){var e=new xt;this._endpointMap=new h;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Ct.toCoordinateArray(e)},Ht.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Wt,this._endpointMap.put(t,e)),e.count++},Ht.prototype.interfaces_=function(){return[]},Ht.prototype.getClass=function(){return Ht},Ht.getBoundary=function(){return 1===arguments.length?new Ht(arguments[0]).getBoundary():2===arguments.length?new Ht(arguments[0],arguments[1]).getBoundary():void 0};var Wt=function(){this.count=null};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt};var qt=function(){},Xt={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},qt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",s=new function(){}(new function(){}(qt.getStackTrace(r))),a=0;a<i;a++)try{o+=s.readLine()+qt.NEWLINE}catch(t){if(!(t instanceof p))throw t;et.shouldNeverReachHere()}return o}},qt.split=function(t,e){for(var n=e.length,r=new xt,i=""+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),l=0;l<a.length;l++)a[l]=r.get(l);return a},qt.toString=function(){if(1===arguments.length){var t=arguments[0];return qt.SIMPLE_ORDINATE_FORMAT.format(t)}},qt.spaces=function(t){return qt.chars(" ",t)},Xt.NEWLINE.get=function(){return H.getProperty("line.separator")},Xt.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(qt,Xt);var Yt=function(){};Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Yt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,U.X)===t.getOrdinate(e-1,U.X)&&t.getOrdinate(0,U.Y)===t.getOrdinate(e-1,U.Y)},Yt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(t.getOrdinate(i,o)!==e.getOrdinate(i,o)&&(!v.isNaN(s)||!v.isNaN(a)))return!1}return!0},Yt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Yt.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Yt.copy(e,i-1,r,o,1);return r},Yt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Yt.swap(t,r,e-r)},Yt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Yt.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Yt.copyCoord(t,e+o,n,r+o)},Yt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new L;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(qt.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Yt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Yt.createClosedRing(t,e,4):e.getOrdinate(0,U.X)===e.getOrdinate(n-1,U.X)&&e.getOrdinate(0,U.Y)===e.getOrdinate(n-1,U.Y)?e:Yt.createClosedRing(t,e,n+1)},Yt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Yt.copy(e,0,r,0,i);for(var o=i;o<n;o++)Yt.copy(e,0,r,o,1);return r};var Qt=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new q:this._points.expandEnvelope(new q)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Yt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Ft.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Yt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(O(arguments[0],dt))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(O(arguments[0],zt)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(O(arguments[0],Ut)||O(arguments[0],ct))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Ht(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new m("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Bt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(ut),Kt=function(){};Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt};var Jt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new q;var t=new q;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Ft.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(O(arguments[0],dt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(O(arguments[0],zt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(O(arguments[0],Ut)||O(arguments[0],ct))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Kt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(ut),Zt=function(){};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var $t=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new m("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new m("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var l=t.getX(a),c=t.getY(a);if(l!==o===(c!==s))return!1;o=l,s=c}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(r._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Dt.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);H.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Ct.minCoordinate(e.getCoordinates());Ct.scroll(r,i),H.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],at.isCCW(e.getCoordinates())===n&&Ct.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],i=arguments[0],o=this._shell,s=i._shell,a=o.compareToSameClass(s,r);if(0!==a)return a;for(var l=this.getNumInteriorRing(),c=i.getNumInteriorRing(),u=0;u<l&&u<c;){var h=this.getInteriorRingN(u),f=i.getInteriorRingN(u),d=h.compareToSameClass(f,r);if(0!==d)return d;u++}return u<l?1:u<c?-1:0}},e.prototype.apply=function(t){if(O(t,dt)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(O(t,zt)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(O(t,Ut))t.filter(this);else if(O(t,ct)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(ut),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ut.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Ft.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Kt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(Gt),ee=function(t){function e(e,n){e instanceof E&&n instanceof ye&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ut.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Ft.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Yt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new m("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new m("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Qt),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ut.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new xt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(Gt),re=function(t){this._factory=t||null,this._isUserDataCopied=!1},ie={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};re.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},re.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},re.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Gt?this.editGeometryCollection(t,e):t instanceof $t?this.editPolygon(t,e):t instanceof Jt||t instanceof Qt?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},re.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new xt,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===te?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Vt?this._factory.createMultiLineString(r.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},re.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new xt,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},re.prototype.interfaces_=function(){return[]},re.prototype.getClass=function(){return re},re.GeometryEditorOperation=function(){},ie.NoOpGeometryOperation.get=function(){return oe},ie.CoordinateOperation.get=function(){return se},ie.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(re,ie);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Qt?e.createLineString(n):t instanceof Jt?n.length>0?e.createPoint(n[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Qt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Jt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var le=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new E}else if(O(arguments[0],U)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var l=0;l<s;l++)this._coordinates[l]=new E}},ce={serialVersionUID:{configurable:!0}};le.prototype.setOrdinate=function(t,e,n){switch(e){case U.X:this._coordinates[t].x=n;break;case U.Y:this._coordinates[t].y=n;break;case U.Z:this._coordinates[t].z=n;break;default:throw new m("invalid ordinateIndex")}},le.prototype.size=function(){return this._coordinates.length},le.prototype.getOrdinate=function(t,e){switch(e){case U.X:return this._coordinates[t].x;case U.Y:return this._coordinates[t].y;case U.Z:return this._coordinates[t].z}return v.NaN},le.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},le.prototype.getCoordinateCopy=function(t){return new E(this._coordinates[t])},le.prototype.getDimension=function(){return this._dimension},le.prototype.getX=function(t){return this._coordinates[t].x},le.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new le(t,this._dimension)},le.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},le.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new le(t,this._dimension)},le.prototype.toString=function(){if(this._coordinates.length>0){var t=new L(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},le.prototype.getY=function(t){return this._coordinates[t].y},le.prototype.toCoordinateArray=function(){return this._coordinates},le.prototype.interfaces_=function(){return[U,e]},le.prototype.getClass=function(){return le},ce.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(le,ce);var ue=function(){},he={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ue.prototype.readResolve=function(){return ue.instance()},ue.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new le(arguments[0]);if(O(arguments[0],U))return new le(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new le(t):new le(t,e)}},ue.prototype.interfaces_=function(){return[P,e]},ue.prototype.getClass=function(){return ue},ue.instance=function(){return ue.instanceObject},he.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},he.instanceObject.get=function(){return new ue},Object.defineProperties(ue,he);var fe=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new xt,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Rt;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Ot),de=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Ae){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},pe={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};de.prototype.equals=function(t){if(!(t instanceof de))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},de.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new k(n).compareTo(new k(r))},de.prototype.getScale=function(){return this._scale},de.prototype.isFloating=function(){return this._modelType===de.FLOATING||this._modelType===de.FLOATING_SINGLE},de.prototype.getType=function(){return this._modelType},de.prototype.toString=function(){var t="UNKNOWN";return this._modelType===de.FLOATING?t="Floating":this._modelType===de.FLOATING_SINGLE?t="Floating-Single":this._modelType===de.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},de.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return v.isNaN(t)||this._modelType===de.FLOATING_SINGLE?t:this._modelType===de.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof E){var e=arguments[0];if(this._modelType===de.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},de.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===de.FLOATING?t=16:this._modelType===de.FLOATING_SINGLE?t=6:this._modelType===de.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},de.prototype.setScale=function(t){this._scale=Math.abs(t)},de.prototype.interfaces_=function(){return[e,_]},de.prototype.getClass=function(){return de},de.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},pe.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},pe.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(de,pe);var Ae=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ge={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Ae.prototype.readResolve=function(){return Ae.nameToTypeMap.get(this._name)},Ae.prototype.toString=function(){return this._name},Ae.prototype.interfaces_=function(){return[e]},Ae.prototype.getClass=function(){return Ae},ge.serialVersionUID.get=function(){return-552860263173159e4},ge.nameToTypeMap.get=function(){return new fe},Object.defineProperties(Ae,ge),de.Type=Ae,de.FIXED=new Ae("FIXED"),de.FLOATING=new Ae("FLOATING"),de.FLOATING_SINGLE=new Ae("FLOATING SINGLE");var ye=function t(){this._precisionModel=new de,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?O(arguments[0],P)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof de&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},me={serialVersionUID:{configurable:!0}};ye.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new E(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new E(t.getMinX(),t.getMinY()),new E(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new E(t.getMinX(),t.getMinY()),new E(t.getMinX(),t.getMaxY()),new E(t.getMaxX(),t.getMaxY()),new E(t.getMaxX(),t.getMinY()),new E(t.getMinX(),t.getMinY())]),null)},ye.prototype.createLineString=function(t){return t?t instanceof Array?new Qt(this.getCoordinateSequenceFactory().create(t),this):O(t,U)?new Qt(t,this):void 0:new Qt(this.getCoordinateSequenceFactory().create([]),this)},ye.prototype.createMultiLineString=function(){return 0===arguments.length?new Vt(null,this):1===arguments.length?new Vt(arguments[0],this):void 0},ye.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(ye.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof $t)return this.createMultiPolygon(ye.toPolygonArray(t));if(a instanceof Qt)return this.createMultiLineString(ye.toLineStringArray(t));if(a instanceof Jt)return this.createMultiPoint(ye.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},ye.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},ye.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(O(arguments[0],U))return new Jt(arguments[0],this)}},ye.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ye.prototype.createPolygon=function(){if(0===arguments.length)return new $t(null,null,this);if(1===arguments.length){if(O(arguments[0],U)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new $t(arguments[0],arguments[1],this)},ye.prototype.getSRID=function(){return this._SRID},ye.prototype.createGeometryCollection=function(){return 0===arguments.length?new Gt(null,this):1===arguments.length?new Gt(arguments[0],this):void 0},ye.prototype.createGeometry=function(t){return new re(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},ye.prototype.getPrecisionModel=function(){return this._precisionModel},ye.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(O(arguments[0],U))return new ee(arguments[0],this)}},ye.prototype.createMultiPolygon=function(){return 0===arguments.length?new ne(null,this):1===arguments.length?new ne(arguments[0],this):void 0},ye.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new te(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(O(arguments[0],U)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),r=0;r<e.size();r++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension());Yt.copy(e,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},ye.prototype.interfaces_=function(){return[e]},ye.prototype.getClass=function(){return ye},ye.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.getDefaultCoordinateSequenceFactory=function(){return ue.instance()},ye.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},me.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(ye,me);var ve=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],be=function(t){this.geometryFactory=t||new ye};be.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!_e[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ve.indexOf(n)?_e[n].apply(this,[e.coordinates]):"GeometryCollection"===n?_e[n].apply(this,[e.geometries]):_e[n].apply(this,[e])},be.prototype.write=function(t){var e=t.getGeometryType();if(!we[e])throw new Error("Geometry is not supported");return we[e].apply(this,[t])};var _e={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!_e[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=_e.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new E(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new E(t[0],t[1]),new E(t[2],t[1]),new E(t[2],t[3]),new E(t[0],t[3]),new E(t[0],t[1])])},Point:function(t){var e=new E(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(_e.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=_e.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(_e.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=_e.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],s=_e.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(_e.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},we={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:we.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=we.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(we.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=we.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=we.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=we.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=we.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(we[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},xe=function(t){this.geometryFactory=t||new ye,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new be(this.geometryFactory)};xe.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===de.FIXED&&this.reducePrecision(e),e},xe.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Ee=function(){this.parser=new be(this.geometryFactory)};Ee.prototype.write=function(t){return this.parser.write(t)};var Se=function(){},Ce={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.opposite=function(t){return t===Se.LEFT?Se.RIGHT:t===Se.RIGHT?Se.LEFT:t},Ce.ON.get=function(){return 0},Ce.LEFT.get=function(){return 1},Ce.RIGHT.get=function(){return 2},Object.defineProperties(Se,Ce),(A.prototype=new Error).name="EmptyStackException",(g.prototype=new wt).add=function(t){return this.array_.push(t),!0},g.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},g.prototype.push=function(t){return this.array_.push(t),t},g.prototype.pop=function(t){if(0===this.array_.length)throw new A;return this.array_.pop()},g.prototype.peek=function(){if(0===this.array_.length)throw new A;return this.array_[this.array_.length-1]},g.prototype.empty=function(){return 0===this.array_.length},g.prototype.isEmpty=function(){return this.empty()},g.prototype.search=function(t){return this.array_.indexOf(t)},g.prototype.size=function(){return this.array_.length},g.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Pe=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Pe.prototype.getCoordinate=function(){return this._minCoord},Pe.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Pe.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=at.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===at.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===at.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Pe.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Se.LEFT;return n[e].y<n[e+1].y&&(r=Se.RIGHT),r},Pe.prototype.getEdge=function(){return this._orientedDe},Pe.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Pe.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Pe.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Se.LEFT&&(this._orientedDe=this._minDe.getSym())},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe};var Me=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new E(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}($),Te=function(){this.array_=[]};Te.prototype.addLast=function(t){this.array_.push(t)},Te.prototype.removeFirst=function(){return this.array_.shift()},Te.prototype.isEmpty=function(){return 0===this.array_.length};var Oe=function(){this._finder=null,this._dirEdgeList=new xt,this._nodes=new xt,this._rightMostCoord=null,this._env=null,this._finder=new Pe};Oe.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Oe.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Oe.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Me("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Oe.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Se.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Oe.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Oe.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Se.RIGHT)>=1&&e.getDepth(Se.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Oe.prototype.computeDepths=function(t){var e=new Rt,n=new Te,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Oe.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Oe.prototype.getEnvelope=function(){if(null===this._env){for(var t=new q,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Oe.prototype.addReachable=function(t){var e=new g;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Oe.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Se.LEFT,t.getDepth(Se.RIGHT)),e.setDepth(Se.RIGHT,t.getDepth(Se.LEFT))},Oe.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Oe.prototype.getNodes=function(){return this._nodes},Oe.prototype.getDirectedEdges=function(){return this._dirEdgeList},Oe.prototype.interfaces_=function(){return[_]},Oe.prototype.getClass=function(){return Oe};var Ie=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Se.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Se.ON]=o,this.location[Se.LEFT]=s,this.location[Se.RIGHT]=a}};Ie.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Ie.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==M.NONE)return!1;return!0},Ie.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===M.NONE&&(this.location[e]=t)},Ie.prototype.isLine=function(){return 1===this.location.length},Ie.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Se.ON]=this.location[Se.ON],e[Se.LEFT]=M.NONE,e[Se.RIGHT]=M.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===M.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Ie.prototype.getLocations=function(){return this.location},Ie.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Se.LEFT];this.location[Se.LEFT]=this.location[Se.RIGHT],this.location[Se.RIGHT]=t},Ie.prototype.toString=function(){var t=new L;return this.location.length>1&&t.append(M.toLocationSymbol(this.location[Se.LEFT])),t.append(M.toLocationSymbol(this.location[Se.ON])),this.location.length>1&&t.append(M.toLocationSymbol(this.location[Se.RIGHT])),t.toString()},Ie.prototype.setLocations=function(t,e,n){this.location[Se.ON]=t,this.location[Se.LEFT]=e,this.location[Se.RIGHT]=n},Ie.prototype.get=function(t){return t<this.location.length?this.location[t]:M.NONE},Ie.prototype.isArea=function(){return this.location.length>1},Ie.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===M.NONE)return!0;return!1},Ie.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Se.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Ie.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(M.NONE)},Ie.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Ie.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Ie.prototype.interfaces_=function(){return[]},Ie.prototype.getClass=function(){return Ie};var Re=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Ie(e),this.elt[1]=new Ie(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Ie(n.elt[0]),this.elt[1]=new Ie(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Ie(M.NONE),this.elt[1]=new Ie(M.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Ie(o,s,a),this.elt[1]=new Ie(o,s,a)}else if(4===arguments.length){var l=arguments[0],c=arguments[1],u=arguments[2],h=arguments[3];this.elt[0]=new Ie(M.NONE,M.NONE,M.NONE),this.elt[1]=new Ie(M.NONE,M.NONE,M.NONE),this.elt[l].setLocations(c,u,h)}};Re.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Re.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Re.prototype.isNull=function(t){return this.elt[t].isNull()},Re.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Re.prototype.isLine=function(t){return this.elt[t].isLine()},Re.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Ie(t.elt[e]):this.elt[e].merge(t.elt[e])},Re.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Re.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Se.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Re.prototype.toString=function(){var t=new L;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Re.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Re.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Re.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Se.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Re.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Re.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Re.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Ie(this.elt[t].location[0]))},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re},Re.toLineLabel=function(t){for(var e=new Re(M.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Le=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new xt,this._pts=new xt,this._label=new Re(M.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new xt,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Le.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},Le.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Le.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Me("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Me("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();et.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Le.prototype.getLinearRing=function(){return this._ring},Le.prototype.getCoordinate=function(t){return this._pts.get(t)},Le.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Le.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},Le.prototype.isHole=function(){return this._isHole},Le.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Le.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Le.prototype.addHole=function(t){this._holes.add(t)},Le.prototype.isShell=function(){return null===this._shell},Le.prototype.getLabel=function(){return this._label},Le.prototype.getEdges=function(){return this._edges},Le.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Le.prototype.getShell=function(){return this._shell},Le.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Se.RIGHT);if(n===M.NONE)return null;if(this._label.getLocation(e)===M.NONE)return this._label.setLocation(e,n),null}},Le.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Le.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le};var ke=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Le),Be=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new xt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new ke(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Le),Ne=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Ne.prototype.setVisited=function(t){this._isVisited=t},Ne.prototype.setInResult=function(t){this._isInResult=t},Ne.prototype.isCovered=function(){return this._isCovered},Ne.prototype.isCoveredSet=function(){return this._isCoveredSet},Ne.prototype.setLabel=function(t){this._label=t},Ne.prototype.getLabel=function(){return this._label},Ne.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Ne.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Ne.prototype.isInResult=function(){return this._isInResult},Ne.prototype.isVisited=function(){return this._isVisited},Ne.prototype.interfaces_=function(){return[]},Ne.prototype.getClass=function(){return Ne};var De=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Re(0,M.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=M.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==M.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Re(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Re)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===M.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=M.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case M.BOUNDARY:n=M.INTERIOR;break;case M.INTERIOR:default:n=M.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ne),Fe=function(){this.nodeMap=new h,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Fe.prototype.find=function(t){return this.nodeMap.get(t)},Fe.prototype.addNode=function(){if(arguments[0]instanceof E){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof De){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Fe.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Fe.prototype.iterator=function(){return this.nodeMap.values().iterator()},Fe.prototype.values=function(){return this.nodeMap.values()},Fe.prototype.getBoundaryNodes=function(t){for(var e=new xt,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===M.BOUNDARY&&e.add(r)}return e},Fe.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Fe.prototype.interfaces_=function(){return[]},Fe.prototype.getClass=function(){return Fe};var je=function(){},Ue={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je},je.isNorthern=function(t){return t===je.NE||t===je.NW},je.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},je.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},je.isInHalfPlane=function(t,e){return e===je.SE?t===je.SE||t===je.SW:t===e||t===e+1},je.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new m("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?je.NE:je.SE:e>=0?je.NW:je.SW}if(arguments[0]instanceof E&&arguments[1]instanceof E){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new m("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?je.NE:je.SE:r.y>=n.y?je.NW:je.SW}},Ue.NE.get=function(){return 0},Ue.NW.get=function(){return 1},Ue.SW.get=function(){return 2},Ue.SE.get=function(){return 3},Object.defineProperties(je,Ue);var ze=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=i,this.init(o,s),this._label=a}};ze.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},ze.prototype.getDy=function(){return this._dy},ze.prototype.getCoordinate=function(){return this._p0},ze.prototype.setNode=function(t){this._node=t},ze.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},ze.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},ze.prototype.getDirectedCoordinate=function(){return this._p1},ze.prototype.getDx=function(){return this._dx},ze.prototype.getLabel=function(){return this._label},ze.prototype.getEdge=function(){return this._edge},ze.prototype.getQuadrant=function(){return this._quadrant},ze.prototype.getNode=function(){return this._node},ze.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},ze.prototype.computeLabel=function(t){},ze.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=je.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},ze.prototype.interfaces_=function(){return[_]},ze.prototype.getClass=function(){return ze};var Ge=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Re(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Me("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Se.LEFT)===M.INTERIOR&&this._label.getLocation(e,Se.RIGHT)===M.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Se.LEFT]+"/"+this._depth[Se.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,M.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,M.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Se.LEFT&&(r=-1);var i=Se.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===M.EXTERIOR&&e===M.INTERIOR?1:t===M.INTERIOR&&e===M.EXTERIOR?-1:0},e}(ze),Ve=function(){};Ve.prototype.createNode=function(t){return new De(t,null)},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve};var He=function(){if(this._edges=new xt,this._nodes=null,this._edgeEndList=new xt,0===arguments.length)this._nodes=new Fe(new Ve);else if(1===arguments.length){var t=arguments[0];this._nodes=new Fe(t)}};He.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},He.prototype.find=function(t){return this._nodes.find(t)},He.prototype.addNode=function(){if(arguments[0]instanceof De){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof E){var e=arguments[0];return this._nodes.addNode(e)}},He.prototype.getNodeIterator=function(){return this._nodes.iterator()},He.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},He.prototype.debugPrintln=function(t){H.out.println(t)},He.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===M.BOUNDARY},He.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},He.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&at.computeOrientation(t,e,r)===at.COLLINEAR&&je.quadrant(t,e)===je.quadrant(n,r)},He.prototype.getEdgeEnds=function(){return this._edgeEndList},He.prototype.debugPrint=function(t){H.out.print(t)},He.prototype.getEdgeIterator=function(){return this._edges.iterator()},He.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},He.prototype.insertEdge=function(t){this._edges.add(t)},He.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},He.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new Ge(n,!0),i=new Ge(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},He.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},He.prototype.getNodes=function(){return this._nodes.values()},He.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},He.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var We=function(){this._geometryFactory=null,this._shellList=new xt;var t=arguments[0];this._geometryFactory=t};We.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},We.prototype.computePolygons=function(t){for(var e=new xt,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},We.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Me("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},We.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new xt,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},We.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},We.prototype.buildMaximalEdgeRings=function(t){for(var e=new xt,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Be(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},We.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},We.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},We.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var l=a.next(),c=l.getLinearRing(),u=c.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;u.contains(r)&&at.isPointInRing(i,c.getCoordinates())&&(h=!0),h&&(null===o||s.contains(u))&&(o=l)}return o},We.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},We.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];He.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new xt,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var qe=function(){};qe.prototype.getBounds=function(){},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe};var Xe=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Xe.prototype.getItem=function(){return this._item},Xe.prototype.getBounds=function(){return this._bounds},Xe.prototype.interfaces_=function(){return[qe,e]},Xe.prototype.getClass=function(){return Xe};var Ye=function(){this._size=null,this._items=null,this._size=0,this._items=new xt,this._items.add(null)};Ye.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Ye.prototype.size=function(){return this._size},Ye.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Ye.prototype.clear=function(){this._size=0,this._items.clear()},Ye.prototype.isEmpty=function(){return 0===this._size},Ye.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye};var Qe=function(){};Qe.prototype.visitItem=function(t){},Qe.prototype.interfaces_=function(){return[]},Qe.prototype.getClass=function(){return Qe};var Ke=function(){};Ke.prototype.insert=function(t,e){},Ke.prototype.remove=function(t,e){},Ke.prototype.query=function(){},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var Je=function(){if(this._childBoundables=new xt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Ze={serialVersionUID:{configurable:!0}};Je.prototype.getLevel=function(){return this._level},Je.prototype.size=function(){return this._childBoundables.size()},Je.prototype.getChildBoundables=function(){return this._childBoundables},Je.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Je.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Je.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Je.prototype.interfaces_=function(){return[qe,e]},Je.prototype.getClass=function(){return Je},Ze.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Je,Ze);var $e=function(){};$e.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$e.min=function(t){return $e.sort(t),t.get(0)},$e.sort=function(t,e){var n=t.toArray();e?Dt.sort(n,e):Dt.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},$e.singletonList=function(t){var e=new xt;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),r=tn.isComposite(this._boundable2);if(n&&r)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new m("neither boundable is composite")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new tn(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[_]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Je};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new xt,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Je?t+=this.size(n):n instanceof Xe&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Xe&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new xt:t}if(1===arguments.length){for(var e=arguments[0],n=new xt,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Je){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Xe?n.add(i.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Xe(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new xt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(et.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Je?this.boundablesAtLevel(n,s,i):(et.isTrue(s instanceof Xe),-1===n&&i.add(s))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new xt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(O(arguments[2],Qe)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var i=arguments[0],o=arguments[2],s=arguments[1].getChildBoundables(),a=0;a<s.size();a++){var l=s.get(a);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof Je?this.query(i,l,o):l instanceof Xe?o.visitItem(l.getItem()):et.shouldNeverReachHere())}else if(O(arguments[2],wt)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var c=arguments[0],u=arguments[2],h=arguments[1].getChildBoundables(),f=0;f<h.size();f++){var d=h.get(f);this.getIntersectsOp().intersects(d.getBounds(),c)&&(d instanceof Je?this.query(c,d,u):d instanceof Xe?u.add(d.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var l=a.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Je&&(o=this.remove(n,l,i))){s=l;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Je){var r=this.depth(n);r>t&&(t=r)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new xt;n.add(this.createNode(e));var r=new xt(t);$e.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var sn=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new xt,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},n.prototype.createNode=function(t){return new an(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new xt;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(O(arguments[2],Qe)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var i=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,i,o,s)}else if(O(arguments[2],wt)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var a=arguments[0],l=arguments[1],c=arguments[2];t.prototype.query.call(this,a,l,c)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new xt(t);$e.sort(i,n.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(O(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var r=arguments[0];return this.nearestNeighbour(r,v.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&O(arguments[1],on)){var i=arguments[0],o=arguments[1],s=new tn(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tn&&"number"==typeof arguments[1]){var a=arguments[0],l=arguments[1],c=null,u=new Ye;for(u.add(a);!u.isEmpty()&&l>0;){var h=u.poll(),f=h.getDistance();if(f>=l)break;h.isLeaves()?(l=f,c=h):h.expandToQueue(u,l)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[2],p=new Xe(arguments[0],arguments[1]),A=new tn(this.getRoot(),p,d);return this.nearestNeighbour(A)[0]}},n.prototype.interfaces_=function(){return[Ke,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},r.STRtreeNode.get=function(){return an},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[x]},compare:function(e,r){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[x]},compare:function(e,r){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(en),an=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new q(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Je),ln=function(){};ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln},ln.relativeSign=function(t,e){return t<e?-1:t>e?1:0},ln.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=ln.relativeSign(e.x,n.x),i=ln.relativeSign(e.y,n.y);switch(t){case 0:return ln.compareValue(r,i);case 1:return ln.compareValue(i,r);case 2:return ln.compareValue(i,-r);case 3:return ln.compareValue(-r,i);case 4:return ln.compareValue(-r,-i);case 5:return ln.compareValue(-i,-r);case 6:return ln.compareValue(-i,r);case 7:return ln.compareValue(r,-i)}return et.shouldNeverReachHere("invalid octant value"),0},ln.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var cn=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new E(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};cn.prototype.getCoordinate=function(){return this.coord},cn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},cn.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:ln.compare(this._segmentOctant,this.coord,e.coord)},cn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},cn.prototype.isInterior=function(){return this._isInterior},cn.prototype.interfaces_=function(){return[_]},cn.prototype.getClass=function(){return cn};var un=function(){this._nodeMap=new h,this._edge=null;var t=arguments[0];this._edge=t};un.prototype.getSplitCoordinates=function(){var t=new St;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},un.prototype.addCollapsedNodes=function(){var t=new xt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},un.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},un.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new k(e+1))}},un.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new E(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new E(e.coord))},un.prototype.iterator=function(){return this._nodeMap.values().iterator()},un.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},un.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},un.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new k(e[0])),r=i}},un.prototype.getEdge=function(){return this._edge},un.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},un.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new E(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new E(e.coord)),new pn(o,this._edge.getData())},un.prototype.add=function(t,e){var n=new cn(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(et.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},un.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new $("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new $("bad split edge end point at "+i)},un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un};var hn=function(){};hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new m("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof E&&arguments[1]instanceof E){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new m("Cannot compute the octant for two identical points "+i);return hn.octant(s,a)}};var fn=function(){};fn.prototype.getCoordinates=function(){},fn.prototype.size=function(){},fn.prototype.getCoordinate=function(t){},fn.prototype.isClosed=function(){},fn.prototype.setData=function(t){},fn.prototype.getData=function(){},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn};var dn=function(){};dn.prototype.addIntersection=function(t,e){},dn.prototype.interfaces_=function(){return[fn]},dn.prototype.getClass=function(){return dn};var pn=function(){this._nodeList=new un(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};pn.prototype.getCoordinates=function(){return this._pts},pn.prototype.size=function(){return this._pts.length},pn.prototype.getCoordinate=function(t){return this._pts[t]},pn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},pn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},pn.prototype.setData=function(t){this._data=t},pn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:hn.octant(t,e)},pn.prototype.getData=function(){return this._data},pn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],i=new E(arguments[0].getIntersection(r));this.addIntersection(i,n)}},pn.prototype.toString=function(){return Z.toLineString(new le(this._pts))},pn.prototype.getNodeList=function(){return this._nodeList},pn.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},pn.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},pn.prototype.interfaces_=function(){return[dn]},pn.prototype.getClass=function(){return pn},pn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new xt;return pn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var An=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new E,this.p1=new E;else if(1===arguments.length){var t=arguments[0];this.p0=new E(t.p0),this.p1=new E(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new E(e,n),this.p1=new E(r,i)}},gn={serialVersionUID:{configurable:!0}};An.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},An.prototype.orientationIndex=function(){if(arguments[0]instanceof An){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),n=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof E){var r=arguments[0];return at.orientationIndex(this.p0,this.p1,r)}},An.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},An.prototype.isVertical=function(){return this.p0.x===this.p1.x},An.prototype.equals=function(t){if(!(t instanceof An))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},An.prototype.intersection=function(t){var e=new it;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},An.prototype.project=function(){if(arguments[0]instanceof E){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new E(t);var e=this.projectionFactor(t),n=new E;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof An){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new An(s,a)}},An.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},An.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},An.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},An.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},An.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},An.prototype.midPoint=function(){return An.midPoint(this.p0,this.p1)},An.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?v.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},An.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=v.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var l=t.closestPoint(this.p1);return(i=l.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=l),n},An.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},An.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},An.prototype.getLength=function(){return this.p0.distance(this.p1)},An.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},An.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},An.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},An.prototype.lineIntersection=function(t){try{return W.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof V))throw t}return null},An.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},An.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,l=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*i/s,l=e*o/s}return new E(n-l,r+a)},An.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},An.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||v.isNaN(e))&&(e=1),e},An.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},An.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},An.prototype.distance=function(){if(arguments[0]instanceof An){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof E){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},An.prototype.pointAlong=function(t){var e=new E;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},An.prototype.hashCode=function(){var t=v.doubleToLongBits(this.p0.x);t^=31*v.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=v.doubleToLongBits(this.p1.x);return n^=31*v.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},An.prototype.interfaces_=function(){return[_,e]},An.prototype.getClass=function(){return An},An.midPoint=function(t,e){return new E((t.x+e.x)/2,(t.y+e.y)/2)},gn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(An,gn);var yn=function(){this.tempEnv1=new q,this.tempEnv2=new q,this._overlapSeg1=new An,this._overlapSeg2=new An};yn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn};var mn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};mn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},mn.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)},mn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},mn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},mn.prototype.setId=function(t){this._id=t},mn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},mn.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new q(t,e)}return this._env},mn.prototype.getEndIndex=function(){return this._end},mn.prototype.getStartIndex=function(){return this._start},mn.prototype.getContext=function(){return this._context},mn.prototype.getId=function(){return this._id},mn.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],l=n._pts[r],c=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(l,c),!o.tempEnv1.intersects(o.tempEnv2))return null;var u=Math.trunc((t+e)/2),h=Math.trunc((r+i)/2);t<u&&(r<h&&this.computeOverlapsInternal(t,u,n,r,h,o),h<i&&this.computeOverlapsInternal(t,u,n,h,i,o)),u<e&&(r<h&&this.computeOverlapsInternal(u,e,n,r,h,o),h<i&&this.computeOverlapsInternal(u,e,n,h,i,o))},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var vn=function(){};vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.getChainStartIndices=function(t){var e=0,n=new xt;n.add(new k(e));do{var r=vn.findChainEnd(t,e);n.add(new k(r)),e=r}while(e<t.length-1);return vn.toIntArray(n)},vn.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=je.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||je.quadrant(t[i-1],t[i])===r);)i++;return i-1},vn.getChains=function(){if(1===arguments.length){var t=arguments[0];return vn.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new xt,i=vn.getChainStartIndices(e),o=0;o<i.length-1;o++){var s=new mn(e,i[o],i[o+1],n);r.add(s)}return r}},vn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var bn=function(){};bn.prototype.computeNodes=function(t){},bn.prototype.getNodedSubstrings=function(){},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn};var _n=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};_n.prototype.setSegmentIntersector=function(t){this._segInt=t},_n.prototype.interfaces_=function(){return[bn]},_n.prototype.getClass=function(){return _n};var wn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new xt,this._index=new sn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return pn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=vn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new xn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return xn},Object.defineProperties(e,n),e}(_n),xn=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,e,o,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yn),En=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Sn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};En.prototype.getEndCapStyle=function(){return this._endCapStyle},En.prototype.isSingleSided=function(){return this._isSingleSided},En.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=En.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=En.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==En.JOIN_ROUND&&(this._quadrantSegments=En.DEFAULT_QUADRANT_SEGMENTS)},En.prototype.getJoinStyle=function(){return this._joinStyle},En.prototype.setJoinStyle=function(t){this._joinStyle=t},En.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},En.prototype.getSimplifyFactor=function(){return this._simplifyFactor},En.prototype.getQuadrantSegments=function(){return this._quadrantSegments},En.prototype.setEndCapStyle=function(t){this._endCapStyle=t},En.prototype.getMitreLimit=function(){return this._mitreLimit},En.prototype.setMitreLimit=function(t){this._mitreLimit=t},En.prototype.setSingleSided=function(t){this._isSingleSided=t},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En},En.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Sn.CAP_ROUND.get=function(){return 1},Sn.CAP_FLAT.get=function(){return 2},Sn.CAP_SQUARE.get=function(){return 3},Sn.JOIN_ROUND.get=function(){return 1},Sn.JOIN_MITRE.get=function(){return 2},Sn.JOIN_BEVEL.get=function(){return 3},Sn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Sn.DEFAULT_MITRE_LIMIT.get=function(){return 5},Sn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(En,Sn);var Cn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},Pn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Cn.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)},Cn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Cn.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Cn.prototype.isShallowConcavity=function(t,e,n,r){return at.computeOrientation(t,e,n)===this._angleOrientation&&at.distancePointLine(e,t,n)<r},Cn.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Cn.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},Cn.prototype.isConcave=function(t,e,n){return at.computeOrientation(t,e,n)===this._angleOrientation},Cn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Cn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Cn.DELETE;)e++;return e},Cn.prototype.isShallow=function(t,e,n,r){return at.distancePointLine(e,t,n)<r},Cn.prototype.collapseLine=function(){for(var t=new St,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Cn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.simplify=function(t,e){return new Cn(t).simplify(e)},Pn.INIT.get=function(){return 0},Pn.DELETE.get=function(){return 1},Pn.KEEP.get=function(){return 1},Pn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Cn,Pn);var Mn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new xt},Tn={COORDINATE_ARRAY_TYPE:{configurable:!0}};Mn.prototype.getCoordinates=function(){return this._ptList.toArray(Mn.COORDINATE_ARRAY_TYPE)},Mn.prototype.setPrecisionModel=function(t){this._precisionModel=t},Mn.prototype.addPt=function(t){var e=new E(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Mn.prototype.revere=function(){},Mn.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Mn.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Mn.prototype.toString=function(){return(new ye).createLineString(this.getCoordinates()).toString()},Mn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new E(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Mn.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Tn.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Mn,Tn);var On=function(){},In={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},On.toDegrees=function(t){return 180*t/Math.PI},On.normalize=function(t){for(;t>Math.PI;)t-=On.PI_TIMES_2;for(;t<=-Math.PI;)t+=On.PI_TIMES_2;return t},On.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},On.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},On.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},On.interiorAngle=function(t,e,n){var r=On.angle(e,t),i=On.angle(e,n);return Math.abs(i-r)},On.normalizePositive=function(t){if(t<0){for(;t<0;)t+=On.PI_TIMES_2;t>=On.PI_TIMES_2&&(t=0)}else{for(;t>=On.PI_TIMES_2;)t-=On.PI_TIMES_2;t<0&&(t=0)}return t},On.angleBetween=function(t,e,n){var r=On.angle(e,t),i=On.angle(e,n);return On.diff(r,i)},On.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},On.toRadians=function(t){return t*Math.PI/180},On.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?On.COUNTERCLOCKWISE:n<0?On.CLOCKWISE:On.NONE},On.angleBetweenOriented=function(t,e,n){var r=On.angle(e,t),i=On.angle(e,n)-r;return i<=-Math.PI?i+On.PI_TIMES_2:i>Math.PI?i-On.PI_TIMES_2:i},In.PI_TIMES_2.get=function(){return 2*Math.PI},In.PI_OVER_2.get=function(){return Math.PI/2},In.PI_OVER_4.get=function(){return Math.PI/4},In.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},In.CLOCKWISE.get=function(){return at.CLOCKWISE},In.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(On,In);var Rn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new An,this._seg1=new An,this._offset0=new An,this._offset1=new An,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new it,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===En.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Ln={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Rn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=at.computeOrientation(this._s0,this._s1,this._s2),r=n===at.CLOCKWISE&&this._side===Se.LEFT||n===at.COUNTERCLOCKWISE&&this._side===Se.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Rn.prototype.addLineEndCap=function(t,e){var n=new An(t,e),r=new An;this.computeOffsetSegment(n,Se.LEFT,this._distance,r);var i=new An;this.computeOffsetSegment(n,Se.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case En.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case En.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case En.CAP_SQUARE:var l=new E;l.x=Math.abs(this._distance)*Math.cos(a),l.y=Math.abs(this._distance)*Math.sin(a);var c=new E(r.p1.x+l.x,r.p1.y+l.y),u=new E(i.p1.x+l.x,i.p1.y+l.y);this._segList.addPt(c),this._segList.addPt(u)}},Rn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Rn.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=W.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof V))throw t;o=new E(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Rn.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),l=n.x-t.x,c=n.y-t.y,u=Math.atan2(c,l);r===at.CLOCKWISE?a<=u&&(a+=2*Math.PI):a>=u&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,u,r,i),this._segList.addPt(n)},Rn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Rn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===En.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===En.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Rn.prototype.createSquare=function(t){this._segList.addPt(new E(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new E(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new E(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new E(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Rn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Rn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Rn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Rn.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Rn.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=On.angle(i,this._seg0.p0),s=On.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=On.normalize(o+s),l=On.normalize(a+Math.PI),c=r*n,u=n-c*Math.abs(Math.sin(s)),h=i.x+c*Math.cos(l),f=i.y+c*Math.sin(l),d=new E(h,f),p=new An(i,d),A=p.pointAlongOffset(1,u),g=p.pointAlongOffset(1,-u);this._side===Se.LEFT?(this._segList.addPt(A),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(A))},Rn.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Se.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),l=i*n*o/a,c=i*n*s/a;r.p0.x=t.p0.x-c,r.p0.y=t.p0.y+l,r.p1.x=t.p1.x-c,r.p1.y=t.p1.y+l},Rn.prototype.addFilletArc=function(t,e,n,r,i){var o=r===at.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var l=s/a,c=0,u=new E;c<s;){var h=e+o*c;u.x=t.x+i*Math.cos(h),u.y=t.y+i*Math.sin(h),this._segList.addPt(u),c+=l}},Rn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Rn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new E((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new E((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Rn.prototype.createCircle=function(t){var e=new E(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Rn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Rn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Mn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Rn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Rn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===En.JOIN_BEVEL||this._bufParams.getJoinStyle()===En.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Rn.prototype.closeRing=function(){this._segList.closeRing()},Rn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},Ln.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Ln.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Ln.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Ln.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Rn,Ln);var kn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};kn.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Ct.reverse(o),o},kn.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Cn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=Cn.simplify(t,r),l=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var c=2;c<=l;c++)n.addNextSegment(a[c],!0)}n.addLastSegment(),n.closeRing()},kn.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Se.RIGHT&&(r=-r);var i=Cn.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()},kn.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Cn.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Se.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=Cn.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Se.LEFT);for(var l=a-2;l>=0;l--)e.addNextSegment(s[l],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},kn.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case En.CAP_ROUND:e.createCircle(t);break;case En.CAP_SQUARE:e.createSquare(t)}},kn.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},kn.prototype.getBufferParameters=function(){return this._bufParams},kn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},kn.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return kn.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},kn.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Cn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=Cn.simplify(t,r),l=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var c=2;c<=l;c++)n.addNextSegment(a[c],!0)}n.addLastSegment()},kn.prototype.getSegGen=function(t){return new Rn(this._precisionModel,this._bufParams,t)},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn},kn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new E(t[n]);return e};var Bn=function(){this._subgraphs=null,this._seg=new An,this._cga=new at;var t=arguments[0];this._subgraphs=t},Nn={DepthSegment:{configurable:!0}};Bn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new xt,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(O(arguments[2],wt)&&arguments[0]instanceof E&&arguments[1]instanceof Ge){for(var o=arguments[0],s=arguments[1],a=arguments[2],l=s.getEdge().getCoordinates(),c=0;c<l.length-1;c++)if(this._seg.p0=l[c],this._seg.p1=l[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,o)===at.RIGHT)){var u=s.getDepth(Se.LEFT);this._seg.p0.equals(l[c])||(u=s.getDepth(Se.RIGHT));var h=new Dn(this._seg,u);a.add(h)}}else if(O(arguments[2],wt)&&arguments[0]instanceof E&&O(arguments[1],wt))for(var f=arguments[0],d=arguments[2],p=arguments[1].iterator();p.hasNext();){var A=p.next();A.isForward()&&this.findStabbedSegments(f,A,d)}},Bn.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:$e.min(e)._leftDepth},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Nn.DepthSegment.get=function(){return Dn},Object.defineProperties(Bn,Nn);var Dn=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new An(t),this._leftDepth=e};Dn.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Dn.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Dn.prototype.toString=function(){return this._upwardSeg.toString()},Dn.prototype.interfaces_=function(){return[_]},Dn.prototype.getClass=function(){return Dn};var Fn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Fn.prototype.area=function(){return Fn.area(this.p0,this.p1,this.p2)},Fn.prototype.signedArea=function(){return Fn.signedArea(this.p0,this.p1,this.p2)},Fn.prototype.interpolateZ=function(t){if(null===t)throw new m("Supplied point is null.");return Fn.interpolateZ(t,this.p0,this.p1,this.p2)},Fn.prototype.longestSideLength=function(){return Fn.longestSideLength(this.p0,this.p1,this.p2)},Fn.prototype.isAcute=function(){return Fn.isAcute(this.p0,this.p1,this.p2)},Fn.prototype.circumcentre=function(){return Fn.circumcentre(this.p0,this.p1,this.p2)},Fn.prototype.area3D=function(){return Fn.area3D(this.p0,this.p1,this.p2)},Fn.prototype.centroid=function(){return Fn.centroid(this.p0,this.p1,this.p2)},Fn.prototype.inCentre=function(){return Fn.inCentre(this.p0,this.p1,this.p2)},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Fn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Fn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Fn.det=function(t,e,n,r){return t*r-e*n},Fn.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,l=n.y-o,c=r.y-o,u=s*c-a*l,h=t.x-i,f=t.y-o,d=(c*h-a*f)/u,p=(-l*h+s*f)/u;return e.z+d*(n.z-e.z)+p*(r.z-e.z)},Fn.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},Fn.isAcute=function(t,e,n){return!!On.isAcute(t,e,n)&&!!On.isAcute(e,n,t)&&!!On.isAcute(n,t,e)},Fn.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,l=e.y-i,c=2*Fn.det(o,s,a,l),u=Fn.det(s,o*o+s*s,l,a*a+l*l),h=Fn.det(o,o*o+s*s,a,a*a+l*l);return new E(r-u/c,i+h/c)},Fn.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new W(t.x+n/2,t.y+r/2,1),o=new W(t.x-r+n/2,t.y+n+r/2,1);return new W(i,o)},Fn.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new E(t.x+i*o,t.y+i*s)},Fn.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,l=n.z-t.z,c=i*l-o*a,u=o*s-r*l,h=r*a-i*s,f=c*c+u*u+h*h;return Math.sqrt(f)/2},Fn.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new E(r,i)},Fn.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o,a=(r*t.x+i*e.x+o*n.x)/s,l=(r*t.y+i*e.y+o*n.y)/s;return new E(a,l)};var jn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new xt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};jn.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},jn.prototype.addPolygon=function(t){var e=this._distance,n=Se.LEFT;this._distance<0&&(e=-this._distance,n=Se.RIGHT);var r=t.getExteriorRing(),i=Ct.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,M.EXTERIOR,M.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Ct.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Se.opposite(n),M.INTERIOR,M.EXTERIOR)}},jn.prototype.isTriangleErodedCompletely=function(t,e){var n=new Fn(t[0],t[1],t[2]),r=n.inCentre();return at.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},jn.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Ct.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},jn.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new pn(t,new Re(0,M.BOUNDARY,e,n));this._curveList.add(r)},jn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},jn.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(o=i,s=r,n=Se.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},jn.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $t?this.addPolygon(t):t instanceof Qt?this.addLineString(t):t instanceof Jt?this.addPoint(t):(t instanceof te||t instanceof Vt||t instanceof ne||t instanceof Gt)&&this.addCollection(t)},jn.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},jn.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn};var Un=function(){};Un.prototype.locate=function(t){},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var zn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};zn.prototype.next=function(){if(this._atStart)return this._atStart=!1,zn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new r;var t=this._parent.getGeometryN(this._index++);return t instanceof Gt?(this._subcollectionIterator=new zn(t),this._subcollectionIterator.next()):t},zn.prototype.remove=function(){throw new Error(this.getClass().getName())},zn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},zn.prototype.interfaces_=function(){return[_t]},zn.prototype.getClass=function(){return zn},zn.isAtomic=function(t){return!(t instanceof Gt)};var Gn=function(){this._geom=null;var t=arguments[0];this._geom=t};Gn.prototype.locate=function(t){return Gn.locate(t,this._geom)},Gn.prototype.interfaces_=function(){return[Un]},Gn.prototype.getClass=function(){return Gn},Gn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},Gn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Gn.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(Gn.isPointInRing(t,i))return!1}return!0},Gn.containsPoint=function(t,e){if(e instanceof $t)return Gn.containsPointInPolygon(t,e);if(e instanceof Gt)for(var n=new zn(e);n.hasNext();){var r=n.next();if(r!==e&&Gn.containsPoint(t,r))return!0}return!1},Gn.locate=function(t,e){return e.isEmpty()?M.EXTERIOR:Gn.containsPoint(t,e)?M.INTERIOR:M.EXTERIOR};var Vn=function(){this._edgeMap=new h,this._edgeList=null,this._ptInAreaLocation=[M.NONE,M.NONE]};Vn.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Vn.prototype.propagateSideLabels=function(t){for(var e=M.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Se.LEFT)!==M.NONE&&(e=r.getLocation(t,Se.LEFT))}if(e===M.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Se.ON)===M.NONE&&a.setLocation(t,Se.ON,i),a.isArea(t)){var l=a.getLocation(t,Se.LEFT),c=a.getLocation(t,Se.RIGHT);if(c!==M.NONE){if(c!==i)throw new Me("side location conflict",s.getCoordinate());l===M.NONE&&et.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=l}else et.isTrue(a.getLocation(t,Se.LEFT)===M.NONE,"found single null side"),a.setLocation(t,Se.RIGHT,i),a.setLocation(t,Se.LEFT,i)}}},Vn.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Vn.prototype.print=function(t){H.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Vn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Vn.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Se.LEFT);et.isTrue(r!==M.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();et.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Se.LEFT),l=s.getLocation(t,Se.RIGHT);if(a===l)return!1;if(l!==i)return!1;i=a}return!0},Vn.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Vn.prototype.iterator=function(){return this.getEdges().iterator()},Vn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new xt(this._edgeMap.values())),this._edgeList},Vn.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===M.NONE&&(this._ptInAreaLocation[t]=Gn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Vn.prototype.toString=function(){var t=new L;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Vn.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Vn.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===M.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),l=0;l<2;l++)if(a.isAnyNull(l)){var c=M.NONE;if(e[l])c=M.EXTERIOR;else{var u=s.getCoordinate();c=this.getLocation(l,u,t)}a.setAllLocationsIfNull(l,c)}},Vn.prototype.getDegree=function(){return this._edgeMap.size()},Vn.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn};var Hn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Me("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return je.isNorthern(i)&&je.isNorthern(o)?n:je.isNorthern(i)||je.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){H.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new xt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Se.LEFT),r=t.getDepth(Se.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Me("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],s=arguments[2],a=arguments[0];a<o;a++){var l=this._edgeList.get(a);l.setEdgeDepths(Se.RIGHT,s),s=l.getDepth(Se.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=M.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=M.INTERIOR;break}if(r.isInResult()){t=M.EXTERIOR;break}}}if(t===M.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===M.INTERIOR):(s.isInResult()&&(i=M.EXTERIOR),a.isInResult()&&(i=M.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Re(M.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==M.INTERIOR&&o!==M.BOUNDARY||this._label.setLocation(i,M.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vn),Wn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new De(t,new Hn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ve),qn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};qn.prototype.compareTo=function(t){var e=t;return qn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},qn.prototype.interfaces_=function(){return[_]},qn.prototype.getClass=function(){return qn},qn.orientation=function(t){return 1===Ct.increasingDirection(t)},qn.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,l=e?0:t.length-1,c=r?0:n.length-1;;){var u=t[l].compareTo(n[c]);if(0!==u)return u;var h=(l+=i)===s,f=(c+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};var Xn=function(){this._edges=new xt,this._ocaMap=new h};Xn.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Xn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Xn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Xn.prototype.iterator=function(){return this._edges.iterator()},Xn.prototype.getEdges=function(){return this._edges},Xn.prototype.get=function(t){return this._edges.get(t)},Xn.prototype.findEqualEdge=function(t){var e=new qn(t.getCoordinates());return this._ocaMap.get(e)},Xn.prototype.add=function(t){this._edges.add(t);var e=new qn(t.getCoordinates());this._ocaMap.put(e,t)},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Yn=function(){};Yn.prototype.processIntersections=function(t,e,n,r){},Yn.prototype.isDone=function(){},Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn};var Qn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Qn.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Qn.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Qn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Qn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Qn.prototype.getLineIntersector=function(){return this._li},Qn.prototype.hasProperIntersection=function(){return this._hasProper},Qn.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Qn.prototype.hasIntersection=function(){return this._hasIntersection},Qn.prototype.isDone=function(){return!1},Qn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Qn.prototype.interfaces_=function(){return[Yn]},Qn.prototype.getClass=function(){return Qn},Qn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Kn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new E(t),this.segmentIndex=e,this.dist=n};Kn.prototype.getSegmentIndex=function(){return this.segmentIndex},Kn.prototype.getCoordinate=function(){return this.coord},Kn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Kn.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Kn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Kn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Kn.prototype.getDistance=function(){return this.dist},Kn.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Kn.prototype.interfaces_=function(){return[_]},Kn.prototype.getClass=function(){return Kn};var Jn=function(){this._nodeMap=new h,this.edge=null;var t=arguments[0];this.edge=t};Jn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Jn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Jn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Jn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Jn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new E(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new nr(o,new Re(this.edge._label))},Jn.prototype.add=function(t,e,n){var r=new Kn(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Jn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn};var Zn=function(){};Zn.prototype.getChainStartIndices=function(t){var e=0,n=new xt;n.add(new k(e));do{var r=this.findChainEnd(t,e);n.add(new k(r)),e=r}while(e<t.length-1);return Zn.toIntArray(n)},Zn.prototype.findChainEnd=function(t,e){for(var n=je.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&je.quadrant(t[r-1],t[r])===n;)r++;return r-1},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var $n=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new q,this.env2=new q;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Zn;this.startIndex=e.getChainStartIndices(this.pts)};$n.prototype.getCoordinates=function(){return this.pts},$n.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},$n.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},$n.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4],c=arguments[5],u=this.pts[i],h=this.pts[o],f=s.pts[a],d=s.pts[l];if(o-i==1&&l-a==1)return c.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(u,h),this.env2.init(f,d),!this.env1.intersects(this.env2))return null;var p=Math.trunc((i+o)/2),A=Math.trunc((a+l)/2);i<p&&(a<A&&this.computeIntersectsForChain(i,p,s,a,A,c),A<l&&this.computeIntersectsForChain(i,p,s,A,l,c)),p<o&&(a<A&&this.computeIntersectsForChain(p,o,s,a,A,c),A<l&&this.computeIntersectsForChain(p,o,s,A,l,c))}},$n.prototype.getStartIndexes=function(){return this.startIndex},$n.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var tr=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},er={NULL_VALUE:{configurable:!0}};tr.prototype.getDepth=function(t,e){return this._depth[t][e]},tr.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},tr.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==tr.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===tr.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===tr.NULL_VALUE}},tr.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},tr.prototype.getDelta=function(t){return this._depth[t][Se.RIGHT]-this._depth[t][Se.LEFT]},tr.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?M.EXTERIOR:M.INTERIOR},tr.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},tr.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==M.EXTERIOR&&r!==M.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=tr.depthAtLocation(r):this._depth[e][n]+=tr.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===M.INTERIOR&&this._depth[i][o]++}},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},tr.depthAtLocation=function(t){return t===M.EXTERIOR?0:t===M.INTERIOR?1:tr.NULL_VALUE},er.NULL_VALUE.get=function(){return-1},Object.defineProperties(tr,er);var nr=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Jn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new tr,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Re.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $n(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new q;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new E(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var l=this.pts[a];i.equals2D(l)&&(o=a,s=0)}this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new L;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Se.ON),e.getLocation(1,Se.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Se.LEFT),e.getLocation(1,Se.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Se.RIGHT),e.getLocation(1,Se.RIGHT),2))},e}(Ne),rr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Xn,this._bufParams=t||null};rr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},rr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Re(t.getLabel())).flip(),n.merge(r);var i=rr.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(rr.depthDelta(t.getLabel()))},rr.prototype.buildSubgraphs=function(t,e){for(var n=new xt,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new Bn(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},rr.prototype.createSubgraphs=function(t){for(var e=new xt,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Oe;i.create(r),e.add(i)}}return $e.sort(e,$e.reverseOrder()),e},rr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new wn,n=new it;return n.setPrecisionModel(t),e.setSegmentIntersector(new Qn(n)),e},rr.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new kn(n,this._bufParams),i=new jn(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new He(new Wn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new We(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},rr.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new nr(i.getCoordinates(),new Re(s));this.insertUniqueEdge(a)}}},rr.prototype.setNoder=function(t){this._workingNoder=t},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.depthDelta=function(t){var e=t.getLocation(0,Se.LEFT),n=t.getLocation(0,Se.RIGHT);return e===M.INTERIOR&&n===M.EXTERIOR?1:e===M.EXTERIOR&&n===M.INTERIOR?-1:0},rr.convertSegStrings=function(t){for(var e=new ye,n=new xt;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var ir=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ir.prototype.rescale=function(){if(O(arguments[0],bt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&H.out.println(n)}},ir.prototype.scale=function(){if(O(arguments[0],bt)){for(var t=arguments[0],e=new xt,n=t.iterator();n.hasNext();){var r=n.next();e.add(new pn(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),s=0;s<i.length;s++)o[s]=new E(Math.round((i[s].x-this._offsetX)*this._scaleFactor),Math.round((i[s].y-this._offsetY)*this._scaleFactor),i[s].z);return Ct.removeRepeatedPoints(o)}},ir.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ir.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ir.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ir.prototype.interfaces_=function(){return[bn]},ir.prototype.getClass=function(){return ir};var or=function(){this._li=new it,this._segStrings=null;var t=arguments[0];this._segStrings=t},sr={fact:{configurable:!0}};or.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new $("found endpt/interior pt intersection at index "+o+" :pt "+n)},or.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),l=0;l<s.length-1;l++)for(var c=0;c<a.length-1;c++)this.checkInteriorIntersections(i,l,o,c);else if(4===arguments.length){var u=arguments[0],h=arguments[1],f=arguments[2],d=arguments[3];if(u===f&&h===d)return null;var p=u.getCoordinates()[h],A=u.getCoordinates()[h+1],g=f.getCoordinates()[d],y=f.getCoordinates()[d+1];if(this._li.computeIntersection(p,A,g,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,A)||this.hasInteriorIntersection(this._li,g,y)))throw new $("found non-noded intersection at "+p+"-"+A+" and "+g+"-"+y)}},or.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},or.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},or.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},or.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new $("found non-noded collapse at "+or.fact.createLineString([t,e,n]))},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},sr.fact.get=function(){return new ye},Object.defineProperties(or,sr);var ar=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new m("Scale factor must be non-zero");1!==e&&(this._pt=new E(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new E,this._p1Scaled=new E),this.initCorners(this._pt)},lr={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ar.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),"Found bad envelope test"),a},ar.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new E(this._maxx,this._maxy),this._corner[1]=new E(this._minx,this._maxy),this._corner[2]=new E(this._minx,this._miny),this._corner[3]=new E(this._maxx,this._miny)},ar.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ar.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ar.prototype.getCoordinate=function(){return this._originalPt},ar.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ar.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ar.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new q(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ar.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},ar.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!t.equals(this._pt)||!!e.equals(this._pt))))},ar.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},lr.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ar,lr);var cr=function(){this.tempEnv1=new q,this.selectedSegment=new An};cr.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr};var ur=function(){this._index=null;var t=arguments[0];this._index=t},hr={HotPixelSnapAction:{configurable:!0}};ur.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new fr(e,n,r);return this._index.query(i,{interfaces_:function(){return[Qe]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur},hr.HotPixelSnapAction.get=function(){return fr},Object.defineProperties(ur,hr);var fr=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cr),dr=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new xt};dr.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},dr.prototype.isDone=function(){return!1},dr.prototype.getInteriorIntersections=function(){return this._interiorIntersections},dr.prototype.interfaces_=function(){return[Yn]},dr.prototype.getClass=function(){return dr};var pr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new it,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};pr.prototype.checkCorrectness=function(t){var e=pn.getNodedSubstrings(t),n=new or(e);try{n.checkValid()}catch(t){if(!(t instanceof G))throw t;t.printStackTrace()}},pr.prototype.getNodedSubstrings=function(){return pn.getNodedSubstrings(this._nodedSegStrings)},pr.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},pr.prototype.findInteriorIntersections=function(t,e){var n=new dr(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},pr.prototype.computeVertexSnaps=function(){if(O(arguments[0],bt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof pn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new ar(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},pr.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new wn,this._pointSnapper=new ur(this._noder.getIndex()),this.snapRound(t,this._li)},pr.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new ar(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},pr.prototype.interfaces_=function(){return[bn]},pr.prototype.getClass=function(){return pr};var Ar=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new En,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},gr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Ar.prototype.bufferFixedPrecision=function(t){var e=new ir(new pr(new de(1)),t.getScale()),n=new rr(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Ar.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Ar.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Me))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=Ar.precisionScaleFactor(this._argGeom,this._distance,n),i=new de(r);this.bufferFixedPrecision(i)}},Ar.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===de.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Ar.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Ar.prototype.bufferOriginalPrecision=function(){try{var t=new rr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof $))throw t;this._saveException=t}},Ar.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Ar.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new Ar(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ut&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],r=new Ar(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof En&&arguments[0]instanceof ut&&"number"==typeof arguments[1]){var i=arguments[1];return new Ar(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],s=arguments[2],a=arguments[3],l=new Ar(arguments[0]);return l.setQuadrantSegments(s),l.setEndCapStyle(a),l.getResultGeometry(o)}},Ar.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=I.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},gr.CAP_ROUND.get=function(){return En.CAP_ROUND},gr.CAP_BUTT.get=function(){return En.CAP_FLAT},gr.CAP_FLAT.get=function(){return En.CAP_FLAT},gr.CAP_SQUARE.get=function(){return En.CAP_SQUARE},gr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Ar,gr);var yr=function(){this._pt=[new E,new E],this._distance=v.NaN,this._isNull=!0};yr.prototype.getCoordinates=function(){return this._pt},yr.prototype.getCoordinate=function(t){return this._pt[t]},yr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},yr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},yr.prototype.getDistance=function(){return this._distance},yr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr};var mr=function(){};mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},mr.computeDistance=function(){if(arguments[2]instanceof yr&&arguments[0]instanceof Qt&&arguments[1]instanceof E)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),r=new An,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof yr&&arguments[0]instanceof $t&&arguments[1]instanceof E){var s=arguments[0],a=arguments[1],l=arguments[2];mr.computeDistance(s.getExteriorRing(),a,l);for(var c=0;c<s.getNumInteriorRing();c++)mr.computeDistance(s.getInteriorRingN(c),a,l)}else if(arguments[2]instanceof yr&&arguments[0]instanceof ut&&arguments[1]instanceof E){var u=arguments[0],h=arguments[1],f=arguments[2];if(u instanceof Qt)mr.computeDistance(u,h,f);else if(u instanceof $t)mr.computeDistance(u,h,f);else if(u instanceof Gt)for(var d=u,p=0;p<d.getNumGeometries();p++){var A=d.getGeometryN(p);mr.computeDistance(A,h,f)}else f.setMinimum(u.getCoordinate(),h)}else if(arguments[2]instanceof yr&&arguments[0]instanceof An&&arguments[1]instanceof E){var g=arguments[1],y=arguments[2],m=arguments[0].closestPoint(g);y.setMinimum(m,g)}};var vr=function(t){this._maxPtDist=new yr,this._inputGeom=t||null},br={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};vr.prototype.computeMaxMidpointDistance=function(t){var e=new wr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vr.prototype.computeMaxVertexDistance=function(t){var e=new _r(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vr.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},vr.prototype.getDistancePoints=function(){return this._maxPtDist},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},br.MaxPointDistanceFilter.get=function(){return _r},br.MaxMidpointDistanceFilter.get=function(){return wr},Object.defineProperties(vr,br);var _r=function(t){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=t||null};_r.prototype.filter=function(t){this._minPtDist.initialize(),mr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},_r.prototype.getMaxPointDistance=function(){return this._maxPtDist},_r.prototype.interfaces_=function(){return[dt]},_r.prototype.getClass=function(){return _r};var wr=function(t){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=t||null};wr.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new E((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),mr.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wr.prototype.isDone=function(){return!1},wr.prototype.isGeometryChanged=function(){return!1},wr.prototype.getMaxPointDistance=function(){return this._maxPtDist},wr.prototype.interfaces_=function(){return[zt]},wr.prototype.getClass=function(){return wr};var xr=function(t){this._comps=t||null};xr.prototype.filter=function(t){t instanceof $t&&this._comps.add(t)},xr.prototype.interfaces_=function(){return[Ut]},xr.prototype.getClass=function(){return xr},xr.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return xr.getPolygons(t,new xt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $t?n.add(e):e instanceof Gt&&e.apply(new xr(n)),n}};var Er=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Er.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Qt&&this._lines.add(t)},Er.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Er.prototype.interfaces_=function(){return[ct]},Er.prototype.getClass=function(){return Er},Er.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Er.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Er.getLines(e,n))}},Er.getLines=function(){if(1===arguments.length){var t=arguments[0];return Er.getLines(t,!1)}if(2===arguments.length){if(O(arguments[0],bt)&&O(arguments[1],bt)){for(var e=arguments[1],n=arguments[0].iterator();n.hasNext();){var r=n.next();Er.getLines(r,e)}return e}if(arguments[0]instanceof ut&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1],s=new xt;return i.apply(new Er(s,o)),s}if(arguments[0]instanceof ut&&O(arguments[1],bt)){var a=arguments[0],l=arguments[1];return a instanceof Qt?l.add(a):a.apply(new Er(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&O(arguments[0],bt)&&O(arguments[1],bt)){for(var c=arguments[1],u=arguments[2],h=arguments[0].iterator();h.hasNext();){var f=h.next();Er.getLines(f,c,u)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ut&&O(arguments[1],bt)){var d=arguments[1],p=arguments[2];return arguments[0].apply(new Er(d,p)),d}}};var Sr=function(){if(this._boundaryRule=pt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new m("Rule must be non-null");this._boundaryRule=t}};Sr.prototype.locateInternal=function(){if(arguments[0]instanceof E&&arguments[1]instanceof $t){var t=arguments[0],e=arguments[1];if(e.isEmpty())return M.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===M.EXTERIOR)return M.EXTERIOR;if(r===M.BOUNDARY)return M.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=this.locateInPolygonRing(t,o);if(s===M.INTERIOR)return M.EXTERIOR;if(s===M.BOUNDARY)return M.BOUNDARY}return M.INTERIOR}if(arguments[0]instanceof E&&arguments[1]instanceof Qt){var a=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(a))return M.EXTERIOR;var c=l.getCoordinates();return l.isClosed()||!a.equals(c[0])&&!a.equals(c[c.length-1])?at.isOnLine(a,c)?M.INTERIOR:M.EXTERIOR:M.BOUNDARY}if(arguments[0]instanceof E&&arguments[1]instanceof Jt){var u=arguments[0];return arguments[1].getCoordinate().equals2D(u)?M.INTERIOR:M.EXTERIOR}},Sr.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):M.EXTERIOR},Sr.prototype.intersects=function(t,e){return this.locate(t,e)!==M.EXTERIOR},Sr.prototype.updateLocationInfo=function(t){t===M.INTERIOR&&(this._isIn=!0),t===M.BOUNDARY&&this._numBoundaries++},Sr.prototype.computeLocation=function(t,e){if(e instanceof Jt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Qt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $t)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Vt)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof ne)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof Gt)for(var l=new zn(e);l.hasNext();){var c=l.next();c!==e&&this.computeLocation(t,c)}},Sr.prototype.locate=function(t,e){return e.isEmpty()?M.EXTERIOR:e instanceof Qt||e instanceof $t?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?M.BOUNDARY:this._numBoundaries>0||this._isIn?M.INTERIOR:M.EXTERIOR)},Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr};var Cr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._component=e,this._segIndex=n,this._pt=r}},Pr={INSIDE_AREA:{configurable:!0}};Cr.prototype.isInsideArea=function(){return this._segIndex===Cr.INSIDE_AREA},Cr.prototype.getCoordinate=function(){return this._pt},Cr.prototype.getGeometryComponent=function(){return this._component},Cr.prototype.getSegmentIndex=function(){return this._segIndex},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr},Pr.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Cr,Pr);var Mr=function(t){this._pts=t||null};Mr.prototype.filter=function(t){t instanceof Jt&&this._pts.add(t)},Mr.prototype.interfaces_=function(){return[Ut]},Mr.prototype.getClass=function(){return Mr},Mr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Jt?$e.singletonList(t):Mr.getPoints(t,new xt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Jt?n.add(e):e instanceof Gt&&e.apply(new Mr(n)),n}};var Tr=function(){this._locations=null;var t=arguments[0];this._locations=t};Tr.prototype.filter=function(t){(t instanceof Jt||t instanceof Qt||t instanceof $t)&&this._locations.add(new Cr(t,0,t.getCoordinate()))},Tr.prototype.interfaces_=function(){return[Ut]},Tr.prototype.getClass=function(){return Tr},Tr.getLocations=function(t){var e=new xt;return t.apply(new Tr(e)),e};var Or=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Sr,this._minDistanceLocation=null,this._minDistance=v.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Or.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=xr.getPolygons(this._geom[e]);if(i.size()>0){var o=Tr.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&O(arguments[0],wt)&&O(arguments[1],wt)){for(var s=arguments[0],a=arguments[1],l=arguments[2],c=0;c<s.size();c++)for(var u=s.get(c),h=0;h<a.size();h++)if(this.computeContainmentDistance(u,a.get(h),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Cr&&arguments[1]instanceof $t){var f=arguments[0],d=arguments[1],p=arguments[2],A=f.getCoordinate();if(M.EXTERIOR!==this._ptLocator.locate(A,d))return this._minDistance=0,p[0]=f,p[1]=new Cr(d,A),null}},Or.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Or.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Er.getLines(this._geom[0]),n=Er.getLines(this._geom[1]),r=Mr.getPoints(this._geom[0]),i=Mr.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Or.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Or.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Or.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Or.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Qt&&arguments[1]instanceof Jt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var s=at.distancePointLine(i,r[o],r[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new An(r[o],r[o+1]).closestPoint(i);n[0]=new Cr(t,o,a),n[1]=new Cr(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Qt&&arguments[1]instanceof Qt){var l=arguments[0],c=arguments[1],u=arguments[2];if(l.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var h=l.getCoordinates(),f=c.getCoordinates(),d=0;d<h.length-1;d++)for(var p=0;p<f.length-1;p++){var A=at.distanceLineLine(h[d],h[d+1],f[p],f[p+1]);if(A<this._minDistance){this._minDistance=A;var g=new An(h[d],h[d+1]),y=new An(f[p],f[p+1]),m=g.closestPoints(y);u[0]=new Cr(l,d,m[0]),u[1]=new Cr(c,p,m[1])}if(this._minDistance<=this._terminateDistance)return null}}},Or.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o),a=i.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Cr(i,0,i.getCoordinate()),n[1]=new Cr(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Or.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new m("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Or.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.distance=function(t,e){return new Or(t,e).distance()},Or.isWithinDistance=function(t,e,n){return new Or(t,e,n).distance()<=n},Or.nearestPoints=function(t,e){return new Or(t,e).nearestPoints()};var Ir=function(){this._pt=[new E,new E],this._distance=v.NaN,this._isNull=!0};Ir.prototype.getCoordinates=function(){return this._pt},Ir.prototype.getCoordinate=function(t){return this._pt[t]},Ir.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Ir.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Ir.prototype.toString=function(){return Z.toLineString(this._pt[0],this._pt[1])},Ir.prototype.getDistance=function(){return this._distance},Ir.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir};var Rr=function(){};Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.computeDistance=function(){if(arguments[2]instanceof Ir&&arguments[0]instanceof Qt&&arguments[1]instanceof E)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new An,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Ir&&arguments[0]instanceof $t&&arguments[1]instanceof E){var a=arguments[0],l=arguments[1],c=arguments[2];Rr.computeDistance(a.getExteriorRing(),l,c);for(var u=0;u<a.getNumInteriorRing();u++)Rr.computeDistance(a.getInteriorRingN(u),l,c)}else if(arguments[2]instanceof Ir&&arguments[0]instanceof ut&&arguments[1]instanceof E){var h=arguments[0],f=arguments[1],d=arguments[2];if(h instanceof Qt)Rr.computeDistance(h,f,d);else if(h instanceof $t)Rr.computeDistance(h,f,d);else if(h instanceof Gt)for(var p=h,A=0;A<p.getNumGeometries();A++){var g=p.getGeometryN(A);Rr.computeDistance(g,f,d)}else d.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof Ir&&arguments[0]instanceof An&&arguments[1]instanceof E){var y=arguments[1],m=arguments[2],v=arguments[0].closestPoint(y);m.setMinimum(v,y)}};var Lr=function(){this._g0=null,this._g1=null,this._ptDist=new Ir,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},kr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Lr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Lr.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new m("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Lr.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Lr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Lr.prototype.computeOrientedDistance=function(t,e,n){var r=new Br(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Nr(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},Lr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Lr.distance=function(){if(2===arguments.length)return new Lr(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new Lr(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},kr.MaxPointDistanceFilter.get=function(){return Br},kr.MaxDensifiedByFractionDistanceFilter.get=function(){return Nr},Object.defineProperties(Lr,kr);var Br=function(){this._maxPtDist=new Ir,this._minPtDist=new Ir,this._euclideanDist=new Rr,this._geom=null;var t=arguments[0];this._geom=t};Br.prototype.filter=function(t){this._minPtDist.initialize(),Rr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Br.prototype.getMaxPointDistance=function(){return this._maxPtDist},Br.prototype.interfaces_=function(){return[dt]},Br.prototype.getClass=function(){return Br};var Nr=function(){this._maxPtDist=new Ir,this._minPtDist=new Ir,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Nr.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*i,l=n.y+s*o,c=new E(a,l);this._minPtDist.initialize(),Rr.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Nr.prototype.isDone=function(){return!1},Nr.prototype.isGeometryChanged=function(){return!1},Nr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Nr.prototype.interfaces_=function(){return[zt]},Nr.prototype.getClass=function(){return Nr};var Dr=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Fr={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Dr.prototype.checkMaximumDistance=function(t,e,n){var r=new Lr(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Z.toLineString(i[0],i[1])+")"}},Dr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Dr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Dr.VERBOSE&&H.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Dr.prototype.checkNegativeValid=function(){if(!(this._input instanceof $t||this._input instanceof ne||this._input instanceof Gt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Dr.prototype.getErrorIndicator=function(){return this._errorIndicator},Dr.prototype.checkMinimumDistance=function(t,e,n){var r=new Or(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Z.toLineString(i[0],i[1])+" )"}},Dr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Dr.prototype.getErrorLocation=function(){return this._errorLocation},Dr.prototype.getPolygonLines=function(t){for(var e=new xt,n=new Er(e),r=xr.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},Dr.prototype.getErrorMessage=function(){return this._errMsg},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Fr.VERBOSE.get=function(){return!1},Fr.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Dr,Fr);var jr=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Ur={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};jr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},jr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*jr.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new q(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new q(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},jr.prototype.checkDistance=function(){var t=new Dr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},jr.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},jr.prototype.checkPolygonal=function(){this._result instanceof $t||this._result instanceof ne||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},jr.prototype.getErrorIndicator=function(){return this._errorIndicator},jr.prototype.getErrorLocation=function(){return this._errorLocation},jr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},jr.prototype.report=function(t){if(!jr.VERBOSE)return null;H.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},jr.prototype.getErrorMessage=function(){return this._errorMsg},jr.prototype.interfaces_=function(){return[]},jr.prototype.getClass=function(){return jr},jr.isValidMsg=function(t,e,n){var r=new jr(t,e,n);return r.isValid()?null:r.getErrorMessage()},jr.isValid=function(t,e,n){return!!new jr(t,e,n).isValid()},Ur.VERBOSE.get=function(){return!1},Ur.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(jr,Ur);var zr=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};zr.prototype.getCoordinates=function(){return this._pts},zr.prototype.size=function(){return this._pts.length},zr.prototype.getCoordinate=function(t){return this._pts[t]},zr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},zr.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:hn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},zr.prototype.setData=function(t){this._data=t},zr.prototype.getData=function(){return this._data},zr.prototype.toString=function(){return Z.toLineString(new le(this._pts))},zr.prototype.interfaces_=function(){return[fn]},zr.prototype.getClass=function(){return zr};var Gr=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new xt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Gr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Gr.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Gr.prototype.getIntersectionSegments=function(){return this._intSegments},Gr.prototype.count=function(){return this._intersectionCount},Gr.prototype.getIntersections=function(){return this._intersections},Gr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Gr.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Gr.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Gr.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Gr.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Gr.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Gr.prototype.interfaces_=function(){return[Yn]},Gr.prototype.getClass=function(){return Gr},Gr.createAllIntersectionsFinder=function(t){var e=new Gr(t);return e.setFindAllIntersections(!0),e},Gr.createAnyIntersectionFinder=function(t){return new Gr(t)},Gr.createIntersectionCounter=function(t){var e=new Gr(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Vr=function(){this._li=new it,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Vr.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Vr.prototype.getIntersections=function(){return this._segInt.getIntersections()},Vr.prototype.isValid=function(){return this.execute(),this._isValid},Vr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Vr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Gr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new wn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Vr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Me(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Vr.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Z.toLineString(t[0],t[1])+" and "+Z.toLineString(t[2],t[3])},Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.computeIntersections=function(t){var e=new Vr(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Hr=function t(){this._nv=null;var e=arguments[0];this._nv=new Vr(t.toSegmentStrings(e))};Hr.prototype.checkValid=function(){this._nv.checkValid()},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr},Hr.toSegmentStrings=function(t){for(var e=new xt,n=t.iterator();n.hasNext();){var r=n.next();e.add(new zr(r.getCoordinates(),r))}return e},Hr.checkValid=function(t){new Hr(t).checkValid()};var Wr=function(t){this._mapOp=t};Wr.prototype.map=function(t){for(var e=new xt,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(ye.toGeometryArray(e))},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr},Wr.map=function(t,e){return new Wr(e).map(t)};var qr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new xt,this._resultLineList=new xt;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};qr.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},qr.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},qr.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},qr.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Ci.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},qr.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},qr.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},qr.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},qr.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Ci.isResultOfOp(r,e)&&e===Ci.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr};var Xr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new xt;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Xr.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Xr.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===Ci.INTERSECTION)){var r=n.getLabel();Ci.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Xr.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr};var Yr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Yr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Yr.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof ee&&!r.isEmpty()||(n=!1);for(var i=new xt,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ee||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new xt;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},Yr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Yr.prototype.getInputGeometry=function(){return this._inputGeom},Yr.prototype.transformMultiLineString=function(t,e){for(var n=new xt,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Yr.prototype.transformCoordinates=function(t,e){return this.copy(t)},Yr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Yr.prototype.transformMultiPoint=function(t,e){for(var n=new xt,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Yr.prototype.transformMultiPolygon=function(t,e){for(var n=new xt,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Yr.prototype.copy=function(t){return t.copy()},Yr.prototype.transformGeometryCollection=function(t,e){for(var n=new xt,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ye.toGeometryArray(n)):this._factory.buildGeometry(n)},Yr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Jt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Qt)return this.transformLineString(t,null);if(t instanceof Vt)return this.transformMultiLineString(t,null);if(t instanceof $t)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof Gt)return this.transformGeometryCollection(t,null);throw new m("Unknown Geometry subtype: "+t.getClass().getName())},Yr.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr};var Qr=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new An,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Qt&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Qr.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new E(o)),0===r&&this._isClosed&&t.set(t.size()-1,new E(o)))}},Qr.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Qr.prototype.snapTo=function(t){var e=new St(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Qr.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new E(i),!1)}},Qr.prototype.findSegmentIndexToSnap=function(t,e){for(var n=v.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Qr.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Kr=function(t){this._srcGeom=t||null},Jr={SNAP_PRECISION_FACTOR:{configurable:!0}};Kr.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Zr(e,n).transform(this._srcGeom)},Kr.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Zr(t,n,!0).transform(this._srcGeom),i=r;return e&&O(i,Zt)&&(i=r.buffer(0)),i},Kr.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Kr.prototype.extractTargetCoordinates=function(t){for(var e=new d,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Kr.prototype.computeMinimumSegmentLength=function(t){for(var e=v.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Kr(t);r[0]=i.snapTo(e,n);var o=new Kr(e);return r[1]=o.snapTo(r[0],n),r},Kr.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Kr.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===de.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Kr.computeOverlaySnapTolerance(i),Kr.computeOverlaySnapTolerance(o))}},Kr.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Kr.SNAP_PRECISION_FACTOR},Kr.snapToSelf=function(t,e,n){return new Kr(t).snapToSelf(e,n)},Jr.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Kr,Jr);var Zr=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Qr(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yr),$r=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$r.prototype.getCommon=function(){return v.longBitsToDouble(this._commonBits)},$r.prototype.add=function(t){var e=v.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=$r.signExpBits(this._commonBits),this._isFirst=!1,null):$r.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=$r.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=$r.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},$r.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=v.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+v.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.getBit=function(t,e){return 0!=(t&1<<e)?1:0},$r.signExpBits=function(t){return t>>52},$r.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},$r.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if($r.getBit(t,r)!==$r.getBit(e,r))return n;n++}return 52};var ti=function(){this._commonCoord=null,this._ccFilter=new ni},ei={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ti.prototype.addCommonBits=function(t){var e=new ri(this._commonCoord);t.apply(e),t.geometryChanged()},ti.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new E(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ri(e);return t.apply(n),t.geometryChanged(),t},ti.prototype.getCommonCoordinate=function(){return this._commonCoord},ti.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ei.CommonCoordinateFilter.get=function(){return ni},ei.Translater.get=function(){return ri},Object.defineProperties(ti,ei);var ni=function(){this._commonBitsX=new $r,this._commonBitsY=new $r};ni.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ni.prototype.getCommonCoordinate=function(){return new E(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ni.prototype.interfaces_=function(){return[dt]},ni.prototype.getClass=function(){return ni};var ri=function(){this.trans=null;var t=arguments[0];this.trans=t};ri.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},ri.prototype.isDone=function(){return!1},ri.prototype.isGeometryChanged=function(){return!0},ri.prototype.interfaces_=function(){return[zt]},ri.prototype.getClass=function(){return ri};var ii=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};ii.prototype.selfSnap=function(t){return new Kr(t).snapTo(t,this._snapTolerance)},ii.prototype.removeCommonBits=function(t){this._cbr=new ti,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},ii.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},ii.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Ci.overlayOp(e[0],e[1],t);return this.prepareResult(n)},ii.prototype.checkValid=function(t){t.isValid()||H.out.println("Snapped geometry is invalid")},ii.prototype.computeSnapTolerance=function(){this._snapTolerance=Kr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ii.prototype.snap=function(t){var e=this.removeCommonBits(t);return Kr.snap(e[0],e[1],this._snapTolerance)},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.overlayOp=function(t,e,n){return new ii(t,e).getResultGeometry(n)},ii.union=function(t,e){return ii.overlayOp(t,e,Ci.UNION)},ii.intersection=function(t,e){return ii.overlayOp(t,e,Ci.INTERSECTION)},ii.symDifference=function(t,e){return ii.overlayOp(t,e,Ci.SYMDIFFERENCE)},ii.difference=function(t,e){return ii.overlayOp(t,e,Ci.DIFFERENCE)};var oi=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};oi.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Ci.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof $))throw t;r=t}if(!n)try{e=ii.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof $?r:t}return e},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.overlayOp=function(t,e,n){return new oi(t,e).getResultGeometry(n)},oi.union=function(t,e){return oi.overlayOp(t,e,Ci.UNION)},oi.intersection=function(t,e){return oi.overlayOp(t,e,Ci.INTERSECTION)},oi.symDifference=function(t,e){return oi.overlayOp(t,e,Ci.SYMDIFFERENCE)},oi.difference=function(t,e){return oi.overlayOp(t,e,Ci.DIFFERENCE)};var si=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};si.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si};var ai=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},li={INSERT:{configurable:!0},DELETE:{configurable:!0}};ai.prototype.isDelete=function(){return this._eventType===ai.DELETE},ai.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ai.prototype.getObject=function(){return this._obj},ai.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ai.prototype.getInsertEvent=function(){return this._insertEvent},ai.prototype.isInsert=function(){return this._eventType===ai.INSERT},ai.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ai.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ai.prototype.interfaces_=function(){return[_]},ai.prototype.getClass=function(){return ai},li.INSERT.get=function(){return 1},li.DELETE.get=function(){return 2},Object.defineProperties(ai,li);var ci=function(){};ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci};var ui=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};ui.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(ui.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},ui.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ui.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},ui.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ui.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},ui.prototype.hasProperIntersection=function(){return this._hasProper},ui.prototype.hasIntersection=function(){return this._hasIntersection},ui.prototype.isDone=function(){return this._isDone},ui.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},ui.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},ui.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui},ui.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var hi=function(t){function e(){t.call(this),this.events=new xt,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$e.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ui&&O(arguments[0],wt)&&O(arguments[1],wt)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&O(arguments[0],wt)&&arguments[1]instanceof ui){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new si(n,i),s=new ai(e,n.getMinX(i),o);this.events.add(s),this.events.add(new ai(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ci),fi=function(){this._min=v.POSITIVE_INFINITY,this._max=v.NEGATIVE_INFINITY},di={NodeComparator:{configurable:!0}};fi.prototype.getMin=function(){return this._min},fi.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},fi.prototype.getMax=function(){return this._max},fi.prototype.toString=function(){return Z.toLineString(new E(this._min,0),new E(this._max,0))},fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi},di.NodeComparator.get=function(){return pi},Object.defineProperties(fi,di);var pi=function(){};pi.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},pi.prototype.interfaces_=function(){return[x]},pi.prototype.getClass=function(){return pi};var Ai=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fi),gi=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fi),yi=function(){this._leaves=new xt,this._root=null,this._level=0};yi.prototype.buildTree=function(){$e.sort(this._leaves,new fi.NodeComparator);for(var t=this._leaves,e=null,n=new xt;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},yi.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Ai(t,e,n))},yi.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},yi.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},yi.prototype.printNode=function(t){H.out.println(Z.toLineString(new E(t._min,this._level),new E(t._max,this._level)))},yi.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},yi.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new gi(t.get(n),t.get(n+1));e.add(i)}}},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi};var mi=function(){this._items=new xt};mi.prototype.visitItem=function(t){this._items.add(t)},mi.prototype.getItems=function(){return this._items},mi.prototype.interfaces_=function(){return[Qe]},mi.prototype.getClass=function(){return mi};var vi=function(){this._index=null;var t=arguments[0];if(!O(t,Zt))throw new m("Argument must be Polygonal");this._index=new wi(t)},bi={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};vi.prototype.locate=function(t){var e=new st(t),n=new _i(e);return this._index.query(t.y,t.y,n),e.getLocation()},vi.prototype.interfaces_=function(){return[Un]},vi.prototype.getClass=function(){return vi},bi.SegmentVisitor.get=function(){return _i},bi.IntervalIndexedGeometry.get=function(){return wi},Object.defineProperties(vi,bi);var _i=function(){this._counter=null;var t=arguments[0];this._counter=t};_i.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},_i.prototype.interfaces_=function(){return[Qe]},_i.prototype.getClass=function(){return _i};var wi=function(){this._index=new yi;var t=arguments[0];this.init(t)};wi.prototype.init=function(t){for(var e=Er.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},wi.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new An(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},wi.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new mi;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi};var xi=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new fe,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Sr,2===arguments.length){var e=arguments[0],n=arguments[1],r=pt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;M.NONE,r.getLocation(t,Se.ON)===M.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[1],r=arguments[2],i=new ui(arguments[0],!0,!1);i.setIsDoneIfProperInt(r);var o=this.createEdgeSetIntersector(),s=this._parentGeom instanceof ee||this._parentGeom instanceof $t||this._parentGeom instanceof ne,a=n||!s;return o.computeIntersections(this._edges,i,a),this.addSelfIntersectionNodes(this._argIndex),i}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new ui(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Jt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,M.INTERIOR)}else if(arguments[0]instanceof E){var e=arguments[0];this.insertPoint(this._argIndex,e,M.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),M.EXTERIOR,M.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,M.INTERIOR,M.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],M.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],M.BOUNDARY)},e.prototype.addLineString=function(t){var e=Ct.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new nr(e,new Re(this._argIndex,M.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===M.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Ct.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;at.isCCW(r)&&(i=n,o=e);var s=new nr(r,new Re(this._argIndex,M.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],M.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new Re(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new hi},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof $t)this.addPolygon(e);else if(e instanceof Qt)this.addLineString(e);else if(e instanceof Jt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof Vt)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof Gt))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return O(this._parentGeom,Zt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new vi(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?M.BOUNDARY:M.INTERIOR},e}(He),Ei=function(){if(this._li=new it,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new xi(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=pt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new xi(0,e,r),this._arg[1]=new xi(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new xi(0,i,s),this._arg[1]=new xi(1,o,s)}};Ei.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Ei.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei};var Si=function(){};Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si.map=function(){if(arguments[0]instanceof ut&&O(arguments[1],Si.MapOp)){for(var t=arguments[0],e=arguments[1],n=new xt,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(O(arguments[0],bt)&&O(arguments[1],Si.MapOp)){for(var o=arguments[0],s=arguments[1],a=new xt,l=o.iterator();l.hasNext();){var c=l.next(),u=s.map(c);null!==u&&a.add(u)}return a}},Si.MapOp=function(){};var Ci=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Sr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Xn,this._resultPolyList=new xt,this._resultLineList=new xt,this._resultPointList=new xt,this._graph=new He(new Wn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Re(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new xt;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==M.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new xt,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new xt;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Hr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new We(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new qr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Xr(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Se.RIGHT),i.getLocation(1,Se.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(et.isTrue(!r.isNull(i,Se.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Se.LEFT,r.getLocation(i,Se.LEFT)),et.isTrue(!r.isNull(i,Se.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Se.RIGHT,r.getLocation(i,Se.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ei);Ci.overlayOp=function(t,e,n){return new Ci(t,e).getResultGeometry(n)},Ci.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Ci.createEmptyResult(Ci.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Wr.map(t,{interfaces_:function(){return[Si.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.INTERSECTION)},Ci.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ci.createEmptyResult(Ci.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.SYMDIFFERENCE)},Ci.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Ci.INTERSECTION:o=Math.min(r,i);break;case Ci.UNION:o=Math.max(r,i);break;case Ci.DIFFERENCE:o=r;break;case Ci.SYMDIFFERENCE:o=Math.max(r,i)}return o},Ci.createEmptyResult=function(t,e,n,r){var i=null;switch(Ci.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Ci.difference=function(t,e){return t.isEmpty()?Ci.createEmptyResult(Ci.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.DIFFERENCE))},Ci.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Ci.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===M.BOUNDARY&&(i=M.INTERIOR),o===M.BOUNDARY&&(o=M.INTERIOR),s){case Ci.INTERSECTION:return i===M.INTERIOR&&o===M.INTERIOR;case Ci.UNION:return i===M.INTERIOR||o===M.INTERIOR;case Ci.DIFFERENCE:return i===M.INTERIOR&&o!==M.INTERIOR;case Ci.SYMDIFFERENCE:return i===M.INTERIOR&&o!==M.INTERIOR||i!==M.INTERIOR&&o===M.INTERIOR}return!1}},Ci.INTERSECTION=1,Ci.UNION=2,Ci.DIFFERENCE=3,Ci.SYMDIFFERENCE=4;var Pi=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Sr,this._seg=new An;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Pi.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Pi.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?M.BOUNDARY:this._ptLocator.locate(t,this._g)},Pi.prototype.extractLinework=function(t){var e=new Mi;t.apply(e);var n=e.getLinework(),r=ye.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi};var Mi=function(){this._linework=null,this._linework=new xt};Mi.prototype.getLinework=function(){return this._linework},Mi.prototype.filter=function(t){if(t instanceof $t){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Mi.prototype.interfaces_=function(){return[Ut]},Mi.prototype.getClass=function(){return Mi};var Ti=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Ti.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Ti.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Ti.prototype.getPoints=function(t){for(var e=new xt,n=Er.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Ti.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,l=n*o/s,c=(e.x+t.x)/2,u=(e.y+t.y)/2;if(this._doLeft){var h=new E(c-l,u+a);r.add(h)}if(this._doRight){var f=new E(c+l,u-a);r.add(f)}},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti};var Oi=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new xt;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Pi(this._geom[0],this._boundaryDistanceTolerance),new Pi(this._geom[1],this._boundaryDistanceTolerance),new Pi(this._geom[2],this._boundaryDistanceTolerance)]},Ii={TOLERANCE:{configurable:!0}};Oi.prototype.reportResult=function(t,e,n){H.out.println("Overlay result invalid - A:"+M.toLocationSymbol(e[0])+" B:"+M.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+M.toLocationSymbol(e[2]))},Oi.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Oi.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Oi.hasLocation(this._location,M.BOUNDARY)||this.isValidResult(r,this._location)}},Oi.prototype.addTestPts=function(t){var e=new Ti(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Oi.prototype.isValidResult=function(t,e){var n=Ci.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===M.INTERIOR);return r||this.reportResult(t,e,n),r},Oi.prototype.getInvalidLocation=function(){return this._invalidLocation},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Oi.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Kr.computeSizeBasedSnapTolerance(t),Kr.computeSizeBasedSnapTolerance(e))},Oi.isValid=function(t,e,n,r){return new Oi(t,e,r).isValid(n)},Ii.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Oi,Ii);var Ri=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Ri.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Ri.prototype.combine=function(){for(var t=new xt,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.combine=function(){if(1===arguments.length)return new Ri(arguments[0]).combine();if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Ri(Ri.createList(t,e)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return new Ri(Ri.createList(n,r,i)).combine()}},Ri.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Ri.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new xt;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new xt;return s.add(r),s.add(i),s.add(o),s}};var Li=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new xt)},ki={STRTREE_NODE_CAPACITY:{configurable:!0}};Li.prototype.reduceToGeometries=function(t){for(var e=new xt,n=t.iterator();n.hasNext();){var r=n.next(),i=null;O(r,wt)?i=this.unionTree(r):r instanceof ut&&(i=r),e.add(i)}return e},Li.prototype.extractByEnvelope=function(t,e,n){for(var r=new xt,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Li.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Ri.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},Li.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new sn(Li.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Li.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Li.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Li.getGeometry(e,n),Li.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},Li.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Li.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Li.prototype.unionActual=function(t,e){return Li.restrictToPolygons(t.union(e))},Li.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Li.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new xt,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);return r.add(s),Ri.combine(r)},Li.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.restrictToPolygons=function(t){if(O(t,Zt))return t;var e=xr.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ye.toPolygonArray(e))},Li.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Li.union=function(t){return new Li(t).union()},ki.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Li,ki);var Bi=function(){};Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Bi.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ci.createEmptyResult(Ci.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.UNION)},t.GeoJSONReader=xe,t.GeoJSONWriter=Ee,t.OverlayOp=Ci,t.UnionOp=Bi,t.BufferOp=Ar,Object.defineProperty(t,"__esModule",{value:!0})}(e)},33895:(t,e,n)=>{"use strict";var r=n(65043);var i="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=r.useSyncExternalStore,s=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,u){var h=s(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=l((function(){function t(t){if(!a){if(a=!0,o=t,t=r(t),void 0!==u&&f.hasValue){var e=f.value;if(u(e,t))return s=e}return s=t}if(e=s,i(o,t))return e;var n=r(t);return void 0!==u&&u(e,n)?e:(o=t,s=n)}var o,s,a=!1,l=void 0===n?null:n;return[function(){return t(e())},null===l?void 0:function(){return t(l())}]}),[e,n,r,u]);var d=o(t,h[0],h[1]);return a((function(){f.hasValue=!0,f.value=d}),[d]),c(d),d}},77237:(t,e,n)=>{"use strict";t.exports=n(33895)},63506:(t,e,n)=>{"use strict";n.r(e),n.d(e,{MAX_LATITUDE:()=>r.aH,WebMercatorViewport:()=>r.KH,addMetersToLngLat:()=>r.dT,altitudeToFovy:()=>r.Os,default:()=>r.KH,fitBounds:()=>r.Fe,flyToViewport:()=>r.rj,fovyToAltitude:()=>r.wZ,getBounds:()=>r.gW,getDistanceScales:()=>r.nI,getFlyToDuration:()=>r.v7,getMeterZoom:()=>r.fO,getProjectionMatrix:()=>r.Jh,getProjectionParameters:()=>r.om,getViewMatrix:()=>r.rY,lngLatToWorld:()=>r.Gw,normalizeViewportProps:()=>r.CK,pixelsToWorld:()=>r.xJ,scaleToZoom:()=>r.J9,unitsPerMeter:()=>r.mY,worldToLngLat:()=>r.iV,worldToPixels:()=>r.VJ,zoomToScale:()=>r.XM});var r=n(17844)},27798:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.2df4c7f28ea0852de67b.cjs"},17414:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.b3be9f7061014d41cc6b.cjs"},80503:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.52ea61cdf41302cc2cf1.cjs"},81592:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.ba34af46b0c2b9fa6745.cjs"},76605:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.89ea5c1982a77173f441.cjs"},61681:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.f082f2402d237c4bb120.cjs"},73406:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.651e9e73428c5c2eac5b.cjs"},46675:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.370d8b00371b83e92ec6.cjs"},99575:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.c4f3434d3926cde79bbf.cjs"},40859:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.173056266e9aa68cd052.cjs"},68320:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.2745bf29465386bf49eb.cjs"},60637:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.dfb51e3e0ab9bcf572c5.cjs"},64310:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.2f8e01570df0e3b24305.cjs"},92618:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.1fdee6791332c50a1a72.cjs"},71659:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.bd096611b0931642796c.cjs"},76537:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.b6f1d7741dde1fa31384.cjs"},46606:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.19b9d094d15823c59351.cjs"},92763:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.02a07966000be7128f5e.cjs"},25909:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.2a6b56476cff96cf64ae.cjs"},10168:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.1a8e41da928bb0a54647.cjs"},72402:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.0e7e2c9b746ec478c6b1.cjs"},89968:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.9a3e2151f28e8b9a3aa6.cjs"},98836:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.89ea5c1982a77173f441.cjs"},70726:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.173056266e9aa68cd052.cjs"},65751:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.2f8e01570df0e3b24305.cjs"},24823:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.1a8e41da928bb0a54647.cjs"},23357:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.083500f530ac0cb829e0.cjs"},61740:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.8d662dd55984e846a3b0.cjs"},20883:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.27cd85f87f9259372b2d.cjs"},29280:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.014e8447e17857a59663.cjs"},17588:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.3e16bda94ac70befa011.cjs"},72266:(t,e,n)=>{"use strict";t.exports=n.p+"static/media/index.ba34af46b0c2b9fa6745.cjs"},54705:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function o(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{A:()=>o})},56704:(t,e,n)=>{"use strict";n.d(e,{H:()=>ee});const r=t=>"boolean"===typeof t,i=t=>"function"===typeof t,o=t=>null!==t&&"object"===typeof t,s=t=>o(t)&&t.constructor==={}.constructor,a=t=>Boolean(t)&&"function"===typeof t[Symbol.iterator],l=t=>t&&"function"===typeof t[Symbol.asyncIterator],c=t=>"undefined"!==typeof Response&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,u=t=>"undefined"!==typeof Blob&&t instanceof Blob,h=t=>t&&"object"===typeof t&&t.isBuffer,f=t=>(t=>"undefined"!==typeof ReadableStream&&t instanceof ReadableStream||o(t)&&i(t.tee)&&i(t.cancel)&&i(t.getReader))(t)||(t=>o(t)&&i(t.read)&&i(t.pipe)&&r(t.readable))(t);function d(t,e){if(!t)throw new Error(e||"loader assertion failed.")}function p(t){var e;if(!t)return!1;Array.isArray(t)&&(t=t[0]);return Array.isArray(null===(e=t)||void 0===e?void 0:e.extensions)}function A(t){var e,n;let r;return d(t,"null loader"),d(p(t),"invalid loader"),Array.isArray(t)&&(r=t[1],t=t[0],t={...t,options:{...t.options,...r}}),(null!==(e=t)&&void 0!==e&&e.parseTextSync||null!==(n=t)&&void 0!==n&&n.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}let g="";const y={};var m=n(54705);class v extends Error{constructor(t,e){super(t),(0,m.A)(this,"reason",void 0),(0,m.A)(this,"url",void 0),(0,m.A)(this,"response",void 0),this.reason=e.reason,this.url=e.url,this.response=e.response}}const b=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,_=/^([-\w.]+\/[-\w.+]+)/;function w(t,e){return t.toLowerCase()===e.toLowerCase()}function x(t){const e=b.exec(t);return e?e[1]:""}const E=/\?.*/;function S(t){return t.replace(E,"")}function C(t){if(c(t)){return t.url}if(u(t)){return t.name||""}return"string"===typeof t?t:""}function P(t){if(c(t)){const e=t,n=e.headers.get("content-type")||"",r=S(e.url);return function(t){const e=_.exec(t);return e?e[1]:t}(n)||x(r)}if(u(t)){return t.type||""}return"string"===typeof t?x(t):""}async function M(t){if(c(t))return t;const e={},n=function(t){if(c(t))return t.headers["content-length"]||-1;if(u(t))return t.size;return"string"===typeof t?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}(t);n>=0&&(e["content-length"]=String(n));const r=C(t),i=P(t);i&&(e["content-type"]=i);const o=await async function(t){const e=5;if("string"===typeof t)return"data:,".concat(t.slice(0,e));if(t instanceof Blob){const e=t.slice(0,5);return await new Promise((t=>{const n=new FileReader;n.onload=e=>{var n;return t(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.result)},n.readAsDataURL(e)}))}if(t instanceof ArrayBuffer){const n=function(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return btoa(e)}(t.slice(0,e));return"data:base64,".concat(n)}return null}(t);o&&(e["x-first-bytes"]=o),"string"===typeof t&&(t=(new TextEncoder).encode(t));const s=new Response(t,{headers:e});return Object.defineProperty(s,"url",{value:r}),s}async function T(t){if(!t.ok){const e=await async function(t){const n=function(t){if(t.length<50)return t;const e=t.slice(t.length-15),n=t.substr(0,32);return"".concat(n,"...").concat(e)}(t.url);let r="Failed to fetch resource (".concat(t.status,") ").concat(t.statusText,": ").concat(n);r=r.length>100?"".concat(r.slice(0,100),"..."):r;const i={reason:t.statusText,url:t.url,response:t};try{const e=t.headers.get("Content-Type");i.reason=null!==e&&void 0!==e&&e.includes("application/json")?await t.json():t.text()}catch(e){}return new v(r,i)}(t);throw e}}async function O(t,e){if("string"===typeof t){const i=function(t){for(const e in y)if(t.startsWith(e)){const n=y[e];t=t.replace(e,n)}return t.startsWith("http://")||t.startsWith("https://")||(t="".concat(g).concat(t)),t}(t);var n,r;if(function(t){return!function(t){return t.startsWith("http:")||t.startsWith("https:")}(t)&&!function(t){return t.startsWith("data:")}(t)}(i))if(null!==(n=globalThis.loaders)&&void 0!==n&&n.fetchNode)return null===(r=globalThis.loaders)||void 0===r?void 0:r.fetchNode(i,e);return await fetch(i,e)}return await M(t)}function I(){var t;return!("object"===typeof process&&"[object process]"===String(process)&&!(null!==(t=process)&&void 0!==t&&t.browser))||function(t){var e,n;if("undefined"!==typeof window&&"renderer"===(null===(e=window.process)||void 0===e?void 0:e.type))return!0;if("undefined"!==typeof process&&Boolean(null===(n=process.versions)||void 0===n?void 0:n.electron))return!0;const r="undefined"!==typeof navigator&&navigator.userAgent,i=t||r;return Boolean(i&&i.indexOf("Electron")>=0)}()}const R="4.0.7";class L{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";this.storage=function(t){try{const e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(e){return null}}(n),this.id=t,this.config=e,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){if(Object.assign(this.config,t),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let t={};if(this.storage){const e=this.storage.getItem(this.id);t=e?JSON.parse(e):{}}return Object.assign(this.config,t),this}}var k;!function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(k||(k={}));const B=10;function N(t){return"string"!==typeof t?t:(t=t.toUpperCase(),k[t]||k.WHITE)}function D(t,e){if(!t)throw new Error(e||"Assertion failed")}const F=globalThis,j=(globalThis.document,globalThis.process||{});globalThis.console,globalThis.navigator;function U(){let t;var e,n;if(I()&&F.performance)t=null===F||void 0===F||null===(e=F.performance)||void 0===e||null===(n=e.now)||void 0===n?void 0:n.call(e);else if("hrtime"in j){var r;const e=null===j||void 0===j||null===(r=j.hrtime)||void 0===r?void 0:r.call(j);t=1e3*e[0]+e[1]/1e6}else t=Date.now();return t}const z={debug:I()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},G={enabled:!0,level:0};function V(){}const H={},W={once:!0};class q{constructor(){let{id:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};this.VERSION=R,this._startTs=U(),this._deltaTs=U(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=t,this.userData={},this._storage=new L("__probe-".concat(this.id,"__"),G),this.timeStamp("".concat(this.id," started")),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n),i=t;for(const o of r){const n=i[o];"function"===typeof n&&(e.find((t=>o===t))||(i[o]=n.bind(t)))}}(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((U()-this._startTs).toPrecision(10))}getDelta(){return Number((U()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.setConfiguration({enabled:t}),this}setLevel(t){return this._storage.setConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,e){this._storage.setConfiguration({[t]:e})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,e){if(!t)throw new Error(e||"Assertion failed")}warn(t){return this._getLogFunction(0,t,z.warn,arguments,W)}error(t){return this._getLogFunction(0,t,z.error,arguments)}deprecated(t,e){return this.warn("`".concat(t,"` is deprecated and will be removed in a later version. Use `").concat(e,"` instead"))}removed(t,e){return this.error("`".concat(t,"` has been removed. Use `").concat(e,"` instead"))}probe(t,e){return this._getLogFunction(t,e,z.log,arguments,{time:!0,once:!0})}log(t,e){return this._getLogFunction(t,e,z.debug,arguments)}info(t,e){return this._getLogFunction(t,e,console.info,arguments)}once(t,e){return this._getLogFunction(t,e,z.debug||z.info,arguments,W)}table(t,e,n){return e?this._getLogFunction(t,e,console.table||V,n&&[n],{tag:Q(e)}):V}time(t,e){return this._getLogFunction(t,e,console.time?console.time:console.info)}timeEnd(t,e){return this._getLogFunction(t,e,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,e){return this._getLogFunction(t,e,console.timeStamp||V)}group(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=Y({logLevel:t,message:e,opts:n}),{collapsed:i}=n;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(t,e,Object.assign({},n,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||V)}withGroup(t,e,n){this.group(t,e)();try{n()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=X(t)}_getLogFunction(t,e,n,r,i){if(this._shouldLog(t)){i=Y({logLevel:t,message:e,args:r,opts:i}),D(n=n||i.method),i.total=this.getTotal(),i.delta=this.getDelta(),this._deltaTs=U();const o=i.tag||i.message;if(i.once&&o){if(H[o])return V;H[o]=U()}return e=function(t,e,n){if("string"===typeof e){const r=n.time?function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const n=Math.max(e-t.length,0);return"".concat(" ".repeat(n)).concat(t)}(function(t){let e;return e=t<10?"".concat(t.toFixed(2),"ms"):t<100?"".concat(t.toFixed(1),"ms"):t<1e3?"".concat(t.toFixed(0),"ms"):"".concat((t/1e3).toFixed(2),"s"),e}(n.total)):"";e=function(t,e,n){if(!I&&"string"===typeof t){if(e){const n=N(e);t="\x1b[".concat(n,"m").concat(t,"\x1b[39m")}if(n){const e=N(n);t="\x1b[".concat(e+B,"m").concat(t,"\x1b[49m")}}return t}(e=n.time?"".concat(t,": ").concat(r,"  ").concat(e):"".concat(t,": ").concat(e),n.color,n.background)}return e}(this.id,i.message,i),n.bind(console,e,...i.args)}return V}}function X(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return D(Number.isFinite(e)&&e>=0),e}function Y(t){const{logLevel:e,message:n}=t;t.logLevel=X(e);const r=t.args?Array.from(t.args):[];for(;r.length&&r.shift()!==n;);switch(typeof e){case"string":case"function":void 0!==n&&r.unshift(n),t.message=e;break;case"object":Object.assign(t,e)}"function"===typeof t.message&&(t.message=t.message());const i=typeof t.message;return D("string"===i||"object"===i),Object.assign(t,{args:r},t.opts)}function Q(t){for(const e in t)for(const n in t[e])return n||"untitled";return"empty"}q.VERSION=R;const K=new q({id:"loaders.gl"});class J{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof global&&global,"undefined"!==typeof document&&document;const Z=Boolean("object"!==typeof process||"[object process]"!==String(process)||process.browser),$="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version),tt=($&&parseFloat($[1]),{fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){(0,m.A)(this,"console",void 0),this.console=console}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.console.log.bind(this.console,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.console.info.bind(this.console,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.console.warn.bind(this.console,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.console.error.bind(this.console,...e)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:Z,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]}),et={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function nt(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function rt(){const t=nt();return t.globalOptions=t.globalOptions||{...tt},t.globalOptions}function it(t,e,n,r){return n=n||[],function(t,e){ot(t,null,tt,et,e);for(const n of e){const r=t&&t[n.id]||{},i=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};ot(r,n.id,i,o,e)}}(t,n=Array.isArray(n)?n:[n]),at(e,t,r)}function ot(t,e,n,r,i){const s=e||"Top level",a=e?"".concat(e,"."):"";for(const l in t){const c=!e&&o(t[l]);if(!(l in n)&&!("baseUri"===l&&!e)&&!("workerUrl"===l&&e))if(l in r)K.warn("".concat(s," loader option '").concat(a).concat(l,"' no longer supported, use '").concat(r[l],"'"))();else if(!c){const t=st(l,i);K.warn("".concat(s," loader option '").concat(a).concat(l,"' not recognized. ").concat(t))()}}}function st(t,e){const n=t.toLowerCase();let r="";for(const i of e)for(const e in i.options){if(t===e)return"Did you mean '".concat(i.id,".").concat(e,"'?");const o=e.toLowerCase();(n.startsWith(o)||o.startsWith(n))&&(r=r||"Did you mean '".concat(i.id,".").concat(e,"'?"))}return r}function at(t,e,n){const r={...t.options||{}};return function(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}(r,n),null===r.log&&(r.log=new J),lt(r,rt()),lt(r,e),r}function lt(t,e){for(const n in e)if(n in e){const r=e[n];s(r)&&s(t[n])?t[n]={...t[n],...e[n]}:t[n]=e[n]}}function ct(t,e){const n=rt(),r=t||n;return"function"===typeof r.fetch?r.fetch:o(r.fetch)?t=>O(t,r.fetch):null!==e&&void 0!==e&&e.fetch?null===e||void 0===e?void 0:e.fetch:O}"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof global&&global,"undefined"!==typeof document&&document;const ut="object"!==typeof process||"[object process]"!==String(process)||process.browser,ht="undefined"!==typeof window&&"undefined"!==typeof window.orientation,ft="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);ft&&parseFloat(ft[1]);class dt{terminate(){}}function pt(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const At=new Map;function gt(t){pt(t.source&&!t.url||!t.source&&t.url);let e=At.get(t.source||t.url);return e||(t.url&&(e=function(t){if(!t.startsWith("http"))return t;return yt((e=t,"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var e}(t.url),At.set(t.url,e)),t.source&&(e=yt(t.source),At.set(t.source,e))),pt(e),e}function yt(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function mt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=n||new Set;if(t){if(vt(t))r.add(t);else if(vt(t.buffer))r.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"===typeof t)for(const i in t)mt(t[i],e,r)}else;return void 0===n?Array.from(r):[]}function vt(t){return!!t&&(t instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&t instanceof MessagePort||("undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas)))}const bt=()=>{};class _t{static isSupported(){return"undefined"!==typeof Worker&&ut||"undefined"!==typeof dt&&!ut}constructor(t){(0,m.A)(this,"name",void 0),(0,m.A)(this,"source",void 0),(0,m.A)(this,"url",void 0),(0,m.A)(this,"terminated",!1),(0,m.A)(this,"worker",void 0),(0,m.A)(this,"onMessage",void 0),(0,m.A)(this,"onError",void 0),(0,m.A)(this,"_loadableURL","");const{name:e,source:n,url:r}=t;pt(n||r),this.name=e,this.source=n,this.url=r,this.onMessage=bt,this.onError=t=>console.log(t),this.worker=ut?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=bt,this.onError=bt,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(t,e){e=e||mt(t),this.worker.postMessage(t,e)}_getErrorFromErrorEvent(t){let e="Failed to load ";return e+="worker ".concat(this.name," from ").concat(this.url,". "),t.message&&(e+="".concat(t.message," in ")),t.lineno&&(e+=":".concat(t.lineno,":").concat(t.colno)),new Error(e)}_createBrowserWorker(){this._loadableURL=gt({source:this.source,url:this.url});const t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},t.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},t.onmessageerror=t=>console.error(t),t}_createNodeWorker(){let t;if(this.url){const e=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);t=new dt(e,{eval:!1})}else{if(!this.source)throw new Error("no worker");t=new dt(this.source,{eval:!0})}return t.on("message",(t=>{this.onMessage(t)})),t.on("error",(t=>{this.onError(t)})),t.on("exit",(t=>{})),t}}class wt{constructor(t,e){(0,m.A)(this,"name",void 0),(0,m.A)(this,"workerThread",void 0),(0,m.A)(this,"isRunning",!0),(0,m.A)(this,"result",void 0),(0,m.A)(this,"_resolve",(()=>{})),(0,m.A)(this,"_reject",(()=>{})),this.name=t,this.workerThread=e,this.result=new Promise(((t,e)=>{this._resolve=t,this._reject=e}))}postMessage(t,e){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:e})}done(t){pt(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){pt(this.isRunning),this.isRunning=!1,this._reject(t)}}class xt{static isSupported(){return _t.isSupported()}constructor(t){(0,m.A)(this,"name","unnamed"),(0,m.A)(this,"source",void 0),(0,m.A)(this,"url",void 0),(0,m.A)(this,"maxConcurrency",1),(0,m.A)(this,"maxMobileConcurrency",1),(0,m.A)(this,"onDebug",(()=>{})),(0,m.A)(this,"reuseWorkers",!0),(0,m.A)(this,"props",{}),(0,m.A)(this,"jobQueue",[]),(0,m.A)(this,"idleQueue",[]),(0,m.A)(this,"count",0),(0,m.A)(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}destroy(){this.idleQueue.forEach((t=>t.destroy())),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},void 0!==t.name&&(this.name=t.name),void 0!==t.maxConcurrency&&(this.maxConcurrency=t.maxConcurrency),void 0!==t.maxMobileConcurrency&&(this.maxMobileConcurrency=t.maxMobileConcurrency),void 0!==t.reuseWorkers&&(this.reuseWorkers=t.reuseWorkers),void 0!==t.onDebug&&(this.onDebug=t.onDebug)}async startJob(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t,e,n)=>t.done(n),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(t,e)=>t.error(e);const r=new Promise((r=>(this.jobQueue.push({name:t,onMessage:e,onError:n,onStart:r}),this)));return this._startQueuedJob(),await r}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const e=this.jobQueue.shift();if(e){this.onDebug({message:"Starting job",name:e.name,workerThread:t,backlog:this.jobQueue.length});const r=new wt(e.name,t);t.onMessage=t=>e.onMessage(r,t.type,t.payload),t.onError=t=>e.onError(r,t),e.onStart(r);try{await r.result}catch(n){console.error("Worker exception: ".concat(n))}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){!ut||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new _t({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return ht?this.maxMobileConcurrency:this.maxConcurrency}}const Et={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class St{static isSupported(){return _t.isSupported()}static getWorkerFarm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return St._workerFarm=St._workerFarm||new St({}),St._workerFarm.setProps(t),St._workerFarm}constructor(t){(0,m.A)(this,"props",void 0),(0,m.A)(this,"workerPools",new Map),this.props={...Et},this.setProps(t),this.workerPools=new Map}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const e of this.workerPools.values())e.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:e,source:n,url:r}=t;let i=this.workerPools.get(e);return i||(i=new xt({name:e,source:n,url:r}),i.setProps(this._getWorkerPoolProps()),this.workerPools.set(e,i)),i}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(0,m.A)(St,"_workerFarm",void 0);const Ct="latest";const Pt=function(){var t;return null!==(t=globalThis._loadersgl_)&&void 0!==t&&t.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.2.1"),globalThis._loadersgl_.version}();async function Mt(t,e,n,r,i){const o=t.id,s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e[t.id]||{},r="".concat(t.id,ut?"-worker.js":"-worker-node.js");let i=n.workerUrl;if(i||"compression"!==t.id||(i=e.workerUrl),"test"===e._workerType&&(i=ut?"modules/".concat(t.module,"/dist/").concat(r):"modules/".concat(t.module,"/src/workers/").concat(t.id,"-worker-node.ts")),!i){let e=t.version;"latest"===e&&(e=Ct);const n=e?"@".concat(e):"";i="https://unpkg.com/@loaders.gl/".concat(t.module).concat(n,"/dist/").concat(r)}return pt(i),i}(t,n),a=St.getWorkerFarm(n).getWorkerPool({name:o,url:s});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const l=await a.startJob("process-on-worker",Tt.bind(null,i));l.postMessage("process",{input:e,options:n,context:r});const c=await l.result;return await c.result}async function Tt(t,e,n,r){switch(n){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":const{id:o,input:s,options:a}=r;try{const n=await t(s,a);e.postMessage("done",{id:o,result:n})}catch(i){const t=i instanceof Error?i.message:"unknown error";e.postMessage("error",{id:o,error:t})}break;default:console.warn("parse-with-worker unknown message ".concat(n))}}function Ot(t,e){return It(t||{},e)}function It(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>3)return e;const r={...t};for(const[i,o]of Object.entries(e))o&&"object"===typeof o&&!Array.isArray(o)?r[i]=It(r[i]||{},e[i],n+1):r[i]=e[i];return r}function Rt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){const e=t.map((t=>t instanceof ArrayBuffer?new Uint8Array(t):t)),n=e.reduce(((t,e)=>t+e.byteLength),0),r=new Uint8Array(n);let i=0;for(const o of e)r.set(o,i),i+=o.byteLength;return r.buffer}(e)}const Lt=262144;const kt=262144;const Bt=1048576;function Nt(t){if((e=t)&&"object"===typeof e&&e.isBuffer)return t;var e;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return 0===t.byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if("string"===typeof t){const e=t;return(new TextEncoder).encode(e).buffer}if(t&&"object"===typeof t&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function Dt(t,e){return Z?async function*(t,e){const n=t.getReader();let r;try{for(;;){const t=r||n.read();null!==e&&void 0!==e&&e._streamReadAhead&&(r=n.read());const{done:i,value:o}=await t;if(i)return;yield Nt(o)}}catch(i){n.releaseLock()}}(t,e):async function*(t){for await(const e of t)yield Nt(e)}(t)}function Ft(t,e){if("string"===typeof t)return function*(t,e){const n=(null===e||void 0===e?void 0:e.chunkSize)||Lt;let r=0;const i=new TextEncoder;for(;r<t.length;){const e=Math.min(t.length-r,n),o=t.slice(r,r+e);r+=e,yield i.encode(o)}}(t,e);if(t instanceof ArrayBuffer)return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const{chunkSize:n=kt}=e;let r=0;for(;r<t.byteLength;){const e=Math.min(t.byteLength-r,n),i=new ArrayBuffer(e),o=new Uint8Array(t,r,e);new Uint8Array(i).set(o),r+=e,yield i}}()}(t,e);if(u(t))return async function*(t,e){const n=(null===e||void 0===e?void 0:e.chunkSize)||Bt;let r=0;for(;r<t.size;){const e=r+n,i=await t.slice(r,e).arrayBuffer();r=e,yield i}}(t,e);if(f(t))return Dt(t,e);if(c(t)){return Dt(t.body,e)}throw new Error("makeIterator")}const jt="Cannot convert supplied data type";async function Ut(t,e,n){const r=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if("string"===typeof t||r)return function(t,e){if(e.text&&"string"===typeof t)return t;if(h(t)&&(t=t.buffer),t instanceof ArrayBuffer){const n=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let n=t.buffer;const r=t.byteLength||t.length;return 0===t.byteOffset&&r===n.byteLength||(n=n.slice(t.byteOffset,t.byteOffset+r)),n}throw new Error(jt)}(t,e);if(u(t)&&(t=await M(t)),c(t)){const n=t;return await T(n),e.binary?await n.arrayBuffer():await n.text()}if(f(t)&&(t=Ft(t,n)),a(t)||l(t))return async function(t){const e=[];for await(const n of t)e.push(n);return Rt(...e)}(t);throw new Error(jt)}function zt(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function Gt(t,e,n){if(n)return n;const r={fetch:ct(e,t),...t};if(r.url){const t=S(r.url);r.baseUrl=t,r.queryString=function(t){const e=t.match(E);return e&&e[0]}(r.url),r.filename=zt(t),r.baseUrl=function(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}(t)}return Array.isArray(r.loaders)||(r.loaders=null),r}const Vt=new q({id:"loaders.gl"}),Ht=()=>{const t=nt();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};const Wt=/\.([^.]+)$/;function qt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!Xt(t))return null;if(e&&!Array.isArray(e))return A(e);let i=[];e&&(i=i.concat(e)),null!==n&&void 0!==n&&n.ignoreRegisteredLoaders||i.push(...Ht()),function(t){for(const e of t)A(e)}(i);const o=function(t,e,n,r){const i=C(t),o=P(t),s=S(i)||(null===r||void 0===r?void 0:r.url);let a=null,l="";null!==n&&void 0!==n&&n.mimeType&&(a=Qt(e,null===n||void 0===n?void 0:n.mimeType),l="match forced by supplied MIME type ".concat(null===n||void 0===n?void 0:n.mimeType));a=a||function(t,e){const n=e&&Wt.exec(e),r=n&&n[1];return r?function(t,e){e=e.toLowerCase();for(const n of t)for(const t of n.extensions)if(t.toLowerCase()===e)return n;return null}(t,r):null}(e,s),l=l||(a?"matched url ".concat(s):""),a=a||Qt(e,o),l=l||(a?"matched MIME type ".concat(o):""),a=a||function(t,e){if(!e)return null;for(const n of t)if("string"===typeof e){if(Kt(e,n))return n}else if(ArrayBuffer.isView(e)){if(Jt(e.buffer,e.byteOffset,n))return n}else if(e instanceof ArrayBuffer){if(Jt(e,0,n))return n}return null}(e,t),l=l||(a?"matched initial data ".concat(Zt(t)):""),null!==n&&void 0!==n&&n.fallbackMimeType&&(a=a||Qt(e,null===n||void 0===n?void 0:n.fallbackMimeType),l=l||(a?"matched fallback MIME type ".concat(o):""));var c;l&&Vt.log(1,"selectLoader selected ".concat(null===(c=a)||void 0===c?void 0:c.name,": ").concat(l,"."));return a}(t,i,n,r);if(!o&&(null===n||void 0===n||!n.nothrow))throw new Error(Yt(t));return o}function Xt(t){return!(t instanceof Response&&204===t.status)}function Yt(t){const e=C(t),n=P(t);let r="No valid loader found (";r+=e?"".concat(zt(e),", "):"no url provided, ",r+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");const i=t?Zt(t):"";return r+=i?' first bytes: "'.concat(i,'"'):"first bytes: not available",r+=")",r}function Qt(t,e){for(const r of t){var n;if(null!==(n=r.mimeTypes)&&void 0!==n&&n.some((t=>w(e,t))))return r;if(w(e,"application/x.".concat(r.id)))return r}return null}function Kt(t,e){if(e.testText)return e.testText(t);return(Array.isArray(e.tests)?e.tests:[e.tests]).some((e=>t.startsWith(e)))}function Jt(t,e,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((n=>function(t,e,n,r){if(r instanceof ArrayBuffer)return function(t,e,n){if(n=n||t.byteLength,t.byteLength<n||e.byteLength<n)return!1;const r=new Uint8Array(t),i=new Uint8Array(e);for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(r,t,r.byteLength);switch(typeof r){case"function":return r(t);case"string":return r===$t(t,e,r.length);default:return!1}}(t,e,0,n)))}function Zt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof t)return t.slice(0,e);if(ArrayBuffer.isView(t))return $t(t.buffer,t.byteOffset,e);if(t instanceof ArrayBuffer){return $t(t,0,e)}return""}function $t(t,e,n){if(t.byteLength<e+n)return"";const r=new DataView(t);let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(e+o));return i}async function te(t,e,n,r){!e||Array.isArray(e)||p(e)||(r=void 0,n=e,e=void 0),n=n||{};const i=C(t=await t),o=function(t,e){if(t&&!Array.isArray(t))return t;let n;if(t&&(n=Array.isArray(t)?t:[t]),e&&e.loaders){const t=Array.isArray(e.loaders)?e.loaders:[e.loaders];n=n?[...n,...t]:t}return n&&n.length?n:void 0}(e,r),s=await async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!Xt(t))return null;let i=qt(t,e,{...n,nothrow:!0},r);if(i)return i;if(u(t)&&(i=qt(t=await t.slice(0,10).arrayBuffer(),e,n,r)),!i&&(null===n||void 0===n||!n.nothrow))throw new Error(Yt(t));return i}(t,o,n);return s?(r=Gt({url:i,_parse:te,loaders:o},n=it(n,s,o,i),r||null),await async function(t,e,n,r){if(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt;pt(t,"no worker provided");const n=t.version}(t),n=Ot(t.options,n),c(e)){const t=e,{ok:n,redirected:i,status:o,statusText:s,type:a,url:l}=t,c=Object.fromEntries(t.headers.entries());r.response={headers:c,ok:n,redirected:i,status:o,statusText:s,type:a,url:l}}e=await Ut(e,t,n);const i=t;if(i.parseTextSync&&"string"===typeof e)return i.parseTextSync(e,n,r);if(function(t,e){return!!St.isSupported()&&!!(ut||null!==e&&void 0!==e&&e._nodeWorkers)&&t.worker&&(null===e||void 0===e?void 0:e.worker)}(t,n))return await Mt(t,e,n,r,te);if(i.parseText&&"string"===typeof e)return await i.parseText(e,n,r);if(i.parse)return await i.parse(e,n,r);throw pt(!i.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"))}(s,t,n,r)):null}async function ee(t,e,n,r){let i,o;Array.isArray(e)||p(e)?(i=e,o=n):(i=[],o=e);const s=ct(o);let a=t;return"string"===typeof t&&(a=await s(t)),u(t)&&(a=await s(t)),Array.isArray(i),await te(a,i,o)}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>r[t]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,r)=>(n.f[r](t,e),e)),[])),n.u=t=>"static/js/"+t+"."+{453:"87598f16",879:"ed62ed5a"}[t]+".chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="reimagina_urbano:";n.l=(r,i,o,s)=>{if(t[r])t[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+o),a.src=r),t[r]=[i];var f=(e,n)=>{a.onerror=a.onload=null,clearTimeout(d);var i=t[r];if(delete t[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((t=>t(n))),e)return e(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.p="/",(()=>{var t={792:0};n.f.j=(e,r)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=t[e]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(e),a=new Error;n.l(s,(r=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((e=>0!==t[e]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(e&&e(r);c<s.length;c++)o=s[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkreimagina_urbano=self.webpackChunkreimagina_urbano||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),(()=>{"use strict";var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Qg,hasStandardBrowserEnv:()=>Kg,hasStandardBrowserWebWorkerEnv:()=>Zg,origin:()=>$g});var e={};n.r(e),n.d(e,{scaleBand:()=>Tr,scaleDiverging:()=>La,scaleDivergingLog:()=>ka,scaleDivergingPow:()=>Na,scaleDivergingSqrt:()=>Da,scaleDivergingSymlog:()=>Ba,scaleIdentity:()=>Ci,scaleImplicit:()=>Pr,scaleLinear:()=>Si,scaleLog:()=>Bi,scaleOrdinal:()=>Mr,scalePoint:()=>Ir,scalePow:()=>Hi,scaleQuantile:()=>no,scaleQuantize:()=>ro,scaleRadial:()=>Xi,scaleSequential:()=>Ca,scaleSequentialLog:()=>Pa,scaleSequentialPow:()=>Ta,scaleSequentialQuantile:()=>Ia,scaleSequentialSqrt:()=>Oa,scaleSequentialSymlog:()=>Ma,scaleSqrt:()=>Wi,scaleSymlog:()=>ji,scaleThreshold:()=>io,scaleTime:()=>wa,scaleUtc:()=>xa,tickFormat:()=>xi});var r=n(65043),i=n.t(r,2),o=n(84391),s=n(89816);const a="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function l(t,e){for(;t;){if(t===e)return!0;t=Object.getPrototypeOf(t)}return!1}var c=n(72505),u=n(43203);const h={position:"absolute",zIndex:-1};function f(t,e){if("function"===typeof t)return t(e);if(Array.isArray(t))return t.map((t=>f(t,e)));if(d(t)){if(function(t){var e;return null===(e=t.props)||void 0===e?void 0:e.mapStyle}(t))return e.style=h,(0,r.cloneElement)(t,e);if(function(t){const e=t.type;return e&&e.deckGLViewProps}(t))return(0,r.cloneElement)(t,e)}return t}function d(t){return t&&"object"===typeof t&&"type"in t||!1}function p(t){if("function"===typeof t)return(0,r.createElement)(c.A,{},t);if(Array.isArray(t))return t.map(p);if(d(t)){if(t.type===r.Fragment)return p(t.props.children);if(l(t.type,c.A))return t}return t}const A={mixBlendMode:null};function g(t){t.redrawReason&&(t.deck._drawLayers(t.redrawReason),t.redrawReason=null)}const y=(0,r.forwardRef)(((t,e)=>{const[n,i]=(0,r.useState)(0),o=(0,r.useRef)({control:null,version:n,forceUpdate:()=>i((t=>t+1))}).current,h=(0,r.useRef)(null),y=(0,r.useRef)(null),m=(0,r.useMemo)((()=>function(t){let{children:e,layers:n=[],views:i=null}=t;const o=[],s=[],a={};return r.Children.forEach(p(e),(t=>{if(d(t)){const e=t.type;if(l(e,u.A)){const n=function(t,e){const n={},r=t.defaultProps||{};for(const i in e)r[i]!==e[i]&&(n[i]=e[i]);return new t(n)}(e,t.props);s.push(n)}else o.push(t);if(l(e,c.A)&&e!==c.A&&t.props.id){const n=new e(t.props);a[n.id]=n}}else t&&o.push(t)})),Object.keys(a).length>0&&(Array.isArray(i)?i.forEach((t=>{a[t.id]=t})):i&&(a[i.id]=i),i=Object.values(a)),n=s.length>0?[...s,...n]:n,{layers:n,children:o,views:i}}(t)),[t.layers,t.views,t.children]);let v=!0;const b=e=>{var n;return v&&t.viewState?(o.viewStateUpdateRequested=e,null):(o.viewStateUpdateRequested=null,null===(n=t.onViewStateChange)||void 0===n?void 0:n.call(t,e))},_=e=>{var n;v?o.interactionStateUpdateRequested=e:(o.interactionStateUpdateRequested=null,null===(n=t.onInteractionStateChange)||void 0===n||n.call(t,e))},w=(0,r.useMemo)((()=>{const e={...t,style:null,width:"100%",height:"100%",parent:h.current,canvas:y.current,layers:m.layers,views:m.views,onViewStateChange:b,onInteractionStateChange:_};return delete e._customRender,o.deck&&o.deck.setProps(e),e}),[t]);(0,r.useEffect)((()=>{const e=t.Deck||s.A;return o.deck=function(t,e,n){const r=new e({...n,_customRender:e=>{t.redrawReason=e;const n=r.getViewports();t.lastRenderedViewports!==n?t.forceUpdate():g(t)}});return r}(o,e,{...w,parent:h.current,canvas:y.current}),()=>{var t;return null===(t=o.deck)||void 0===t?void 0:t.finalize()}}),[]),a((()=>{g(o);const{viewStateUpdateRequested:t,interactionStateUpdateRequested:e}=o;t&&b(t),e&&_(e)})),(0,r.useImperativeHandle)(e,(()=>function(t){return{get deck(){return t.deck},pickObject:e=>t.deck.pickObject(e),pickMultipleObjects:e=>t.deck.pickMultipleObjects(e),pickObjects:e=>t.deck.pickObjects(e)}}(o)),[]);const x=o.deck&&o.deck.isInitialized?o.deck.getViewports():void 0,{ContextProvider:E,width:S,height:C,id:P,style:M}=t,{containerStyle:T,canvasStyle:O}=(0,r.useMemo)((()=>function(t){let{width:e,height:n,style:r}=t;const i={position:"absolute",zIndex:0,left:0,top:0,width:e,height:n},o={left:0,top:0};if(r)for(const s in r)s in A?o[s]=r[s]:i[s]=r[s];return{containerStyle:i,canvasStyle:o}}({width:S,height:C,style:M})),[S,C,M]);if(!o.viewStateUpdateRequested&&o.lastRenderedViewports===x||o.version!==n){o.lastRenderedViewports=x,o.version=n;const t=function(t){let{children:e,deck:n,ContextProvider:i}=t;const{viewManager:o}=n||{};if(!o||!o.views.length)return[];const s={},a=o.views[0].id;for(const r of e){let t=a,e=r;d(r)&&l(r.type,c.A)&&(t=r.props.id||a,e=r.props.children);const n=o.getViewport(t),i=o.getViewState(t);if(n){i.padding=n.padding;const{x:r,y:o,width:a,height:l}=n;e=f(e,{x:r,y:o,width:a,height:l,viewport:n,viewState:i}),s[t]||(s[t]={viewport:n,children:[]}),s[t].children.push(e)}}return Object.keys(s).map((t=>{const{viewport:e,children:o}=s[t],{x:a,y:l,width:c,height:u}=e,h={position:"absolute",left:a,top:l,width:c,height:u},f="view-".concat(t),d=(0,r.createElement)("div",{key:f,id:f,style:h},...o);if(i){const o={viewport:e,container:n.canvas.offsetParent,eventManager:n.eventManager,onViewStateChange:e=>{e.viewId=t,n._onViewStateChange(e)}};return(0,r.createElement)(i,{key:f,value:o},d)}return d}))}({children:m.children,deck:o.deck,ContextProvider:E}),e=(0,r.createElement)("canvas",{key:"canvas",id:P||"deckgl-overlay",ref:y,style:O});o.control=(0,r.createElement)("div",{id:"".concat(P||"deckgl","-wrapper"),ref:h,style:T},[e,t])}return v=!1,o.control}));y.defaultProps=s.A.defaultProps;const m=y;var v=n(77267);const b=r.createContext(null);function _(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!_(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===typeof t&&"object"===typeof e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){if(!e.hasOwnProperty(i))return!1;if(!_(t[i],e[i]))return!1}return!0}return!1}function w(t,e){if(!t.getProjection)return;const n=t.getProjection();_(n,e.getProjection())||e.setProjection(n)}function x(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function E(t,e){const n=e.viewState||e;let r=!1;if("longitude"in n&&"latitude"in n){const e=t.center;t.center=new e.constructor(n.longitude,n.latitude),r=r||e!==t.center}if("zoom"in n){const e=t.zoom;t.zoom=n.zoom,r=r||e!==t.zoom}if("bearing"in n){const e=t.bearing;t.bearing=n.bearing,r=r||e!==t.bearing}if("pitch"in n){const e=t.pitch;t.pitch=n.pitch,r=r||e!==t.pitch}return n.padding&&!t.isPaddingEqual(n.padding)&&(r=!0,t.padding=n.padding),r}const S=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function C(t){if(!t)return null;if("string"===typeof t)return t;if("toJS"in t&&(t=t.toJS()),!t.layers)return t;const e={};for(const r of t.layers)e[r.id]=r;const n=t.layers.map((t=>{let n=null;"interactive"in t&&(n=Object.assign({},t),delete n.interactive);const r=e[t.ref];if(r){n=n||Object.assign({},t),delete n.ref;for(const t of S)t in r&&(n[t]=r[t])}return n||t}));return{...t,layers:n}}const P={version:8,sources:{},layers:[]},M={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},T={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},O={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},I=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],R=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class L{constructor(t,e,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=t=>{const e=this.props[O[t.type]];e?e(t):"error"===t.type&&console.error(t.error)},this._onPointerEvent=t=>{"mousemove"!==t.type&&"mouseout"!==t.type||this._updateHover(t);const e=this.props[M[t.type]];e&&(this.props.interactiveLayerIds&&"mouseover"!==t.type&&"mouseout"!==t.type&&(t.features=this._hoveredFeatures||this._queryRenderedFeatures(t.point)),e(t),delete t.features)},this._onCameraEvent=t=>{if(!this._internalUpdate){const e=this.props[T[t.type]];e&&e(t)}t.type in this._deferredEvents&&(this._deferredEvents[t.type]=!1)},this._MapClass=t,this.props=e,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const e=this.props;this.props=t;const n=this._updateSettings(t,e);n&&this._createShadowTransform(this._map);const r=this._updateSize(t),i=this._updateViewState(t,!0);this._updateStyle(t,e),this._updateStyleComponents(t,e),this._updateHandlers(t,e),(n||r||i&&!this._map.isMoving())&&this.redraw()}static reuse(t,e){const n=L.savedMaps.pop();if(!n)return null;const r=n.map,i=r.getContainer();for(e.className=i.className;i.childNodes.length>0;)e.appendChild(i.childNodes[0]);r._container=e;const o=r._resizeObserver;o&&(o.disconnect(),o.observe(e)),n.setProps({...t,styleDiffing:!1}),r.resize();const{initialViewState:s}=t;return s&&(s.bounds?r.fitBounds(s.bounds,{...s.fitBoundsOptions,duration:0}):n._updateViewState(s,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",(()=>r.fire("load"))),r._update(),n}_initialize(t){const{props:e}=this,{mapStyle:n=P}=e,r={...e,...e.initialViewState,accessToken:e.mapboxAccessToken||k()||null,container:t,style:C(n)},i=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[i.longitude||0,i.latitude||0],zoom:i.zoom||0,pitch:i.pitch||0,bearing:i.bearing||0}),e.gl){const t=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=t,e.gl)}const o=new this._MapClass(r);i.padding&&o.setPadding(i.padding),e.cursor&&(o.getCanvas().style.cursor=e.cursor),this._createShadowTransform(o);const s=o._render;o._render=t=>{this._inRender=!0,s.call(o,t),this._inRender=!1};const a=o._renderTaskQueue.run;o._renderTaskQueue.run=t=>{a.call(o._renderTaskQueue,t),this._onBeforeRepaint()},o.on("render",(()=>this._onAfterRepaint()));const l=o.fire;o.fire=this._fireEvent.bind(this,l),o.on("resize",(()=>{this._renderTransform.resize(o.transform.width,o.transform.height)})),o.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),w(o.transform,this._renderTransform)})),o.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const c in M)o.on(c,this._onPointerEvent);for(const c in T)o.on(c,this._onCameraEvent);for(const c in O)o.on(c,this._onEvent);this._map=o}recycle(){const t=this.map.getContainer().querySelector("[mapboxgl-children]");null===t||void 0===t||t.remove(),L.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const e=function(t){const e=t.clone();return e.pixelsToGLUnits=t.pixelsToGLUnits,e}(t.transform);t.painter.transform=e,this._renderTransform=e}_updateSize(t){const{viewState:e}=t;if(e){const t=this._map;if(e.width!==t.transform.width||e.height!==t.transform.height)return t.resize(),!0}return!1}_updateViewState(t,e){if(this._internalUpdate)return!1;const n=this._map,r=this._renderTransform,{zoom:i,pitch:o,bearing:s}=r,a=n.isMoving();a&&(r.cameraElevationReference="sea");const l=E(r,{...x(n.transform),...t});if(a&&(r.cameraElevationReference="ground"),l&&e){const t=this._deferredEvents;t.move=!0,t.zoom||(t.zoom=i!==r.zoom),t.rotate||(t.rotate=s!==r.bearing),t.pitch||(t.pitch=o!==r.pitch)}return a||E(n.transform,t),l}_updateSettings(t,e){const n=this._map;let r=!1;for(const i of I)if(i in t&&!_(t[i],e[i])){r=!0;const e=n["set".concat(i[0].toUpperCase()).concat(i.slice(1))];null===e||void 0===e||e.call(n,t[i])}return r}_updateStyle(t,e){if(t.cursor!==e.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==e.mapStyle){const{mapStyle:e=P,styleDiffing:n=!0}=t,r={diff:n};return"localIdeographFontFamily"in t&&(r.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(C(e),r),!0}return!1}_updateStyleComponents(t,e){const n=this._map;let r=!1;return n.isStyleLoaded()&&("light"in t&&n.setLight&&!_(t.light,e.light)&&(r=!0,n.setLight(t.light)),"fog"in t&&n.setFog&&!_(t.fog,e.fog)&&(r=!0,n.setFog(t.fog)),"terrain"in t&&n.setTerrain&&!_(t.terrain,e.terrain)&&(t.terrain&&!n.getSource(t.terrain.source)||(r=!0,n.setTerrain(t.terrain)))),r}_updateHandlers(t,e){var n,r;const i=this._map;let o=!1;for(const s of R){const a=null===(n=t[s])||void 0===n||n;_(a,null===(r=e[s])||void 0===r||r)||(o=!0,a?i[s].enable(a):i[s].disable())}return o}_queryRenderedFeatures(t){const e=this._map,n=e.transform,{interactiveLayerIds:r=[]}=this.props;try{return e.transform=this._renderTransform,e.queryRenderedFeatures(t,{layers:r.filter(e.getLayer.bind(e))})}catch(JS){return[]}finally{e.transform=n}}_updateHover(t){var e;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const n=t.type,r=(null===(e=this._hoveredFeatures)||void 0===e?void 0:e.length)>0,i=this._queryRenderedFeatures(t.point),o=i.length>0;!o&&r&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=i,o&&!r&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=n}else this._hoveredFeatures=null}_fireEvent(t,e,n){const r=this._map,i=r.transform,o="string"===typeof e?e:e.type;return"move"===o&&this._updateViewState(this.props,!1),o in T&&("object"===typeof e&&(e.viewState=x(i)),this._map.isMoving())?(r.transform=this._renderTransform,t.call(r,e,n),r.transform=i,r):(t.call(r,e,n),r)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&t.fire(n);this._internalUpdate=!1;const e=this._map.transform;t.transform=this._renderTransform,this._onAfterRepaint=()=>{w(this._renderTransform,e),t.transform=e}}}function k(){let t=null;if("undefined"!==typeof location){const e=/access_token=([^&\/]*)/.exec(location.search);t=e&&e[1]}try{t=t||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://reimagina-urbano-api.eastus.cloudapp.azure.com:8000"}.MapboxAccessToken}catch(JS){}try{t=t||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://reimagina-urbano-api.eastus.cloudapp.azure.com:8000"}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(R0){}return t}L.savedMaps=[];const B=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function N(t){if(!t)return null;const e=t.map,n={getMap:()=>e,getCenter:()=>t.transform.center,getZoom:()=>t.transform.zoom,getBearing:()=>t.transform.bearing,getPitch:()=>t.transform.pitch,getPadding:()=>t.transform.padding,getBounds:()=>t.transform.getBounds(),project:n=>{const r=e.transform;e.transform=t.transform;const i=e.project(n);return e.transform=r,i},unproject:n=>{const r=e.transform;e.transform=t.transform;const i=e.unproject(n);return e.transform=r,i},queryTerrainElevation:(n,r)=>{const i=e.transform;e.transform=t.transform;const o=e.queryTerrainElevation(n,r);return e.transform=i,o},queryRenderedFeatures:(n,r)=>{const i=e.transform;e.transform=t.transform;const o=e.queryRenderedFeatures(n,r);return e.transform=i,o}};for(const r of function(t){const e=new Set;let n=t;for(;n;){for(const r of Object.getOwnPropertyNames(n))"_"!==r[0]&&"function"===typeof t[r]&&"fire"!==r&&"setEventedParent"!==r&&e.add(r);n=Object.getPrototypeOf(n)}return Array.from(e)}(e))r in n||B.includes(r)||(n[r]=e[r].bind(e));return n}const D="undefined"!==typeof document?r.useLayoutEffect:r.useEffect,F=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const j=r.createContext(null);function U(t,e,n){const i=(0,r.useContext)(b),[o,s]=(0,r.useState)(null),a=(0,r.useRef)(),{current:l}=(0,r.useRef)({mapLib:null,map:null});(0,r.useEffect)((()=>{const e=t.mapLib;let r,o=!0;return Promise.resolve(e||n).then((e=>{if(!o)return;if(!e)throw new Error("Invalid mapLib");const n="Map"in e?e:e.default;if(!n.Map)throw new Error("Invalid mapLib");if(function(t,e){for(const r of F)r in e&&(t[r]=e[r]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=e;n&&t.getRTLTextPluginStatus&&"unavailable"===t.getRTLTextPluginStatus()&&t.setRTLTextPlugin(n,(t=>{t&&console.error(t)}),!0)}(n,t),n.supported&&!n.supported(t))throw new Error("Map is not supported by this browser");t.reuseMaps&&(r=L.reuse(t,a.current)),r||(r=new L(n.Map,t,a.current)),l.map=N(r),l.mapLib=n,s(r),null===i||void 0===i||i.onMapMount(l.map,t.id)})).catch((e=>{const{onError:n}=t;n?n({type:"error",target:null,originalEvent:null,error:e}):console.error(e)})),()=>{o=!1,r&&(null===i||void 0===i||i.onMapUnmount(t.id),t.reuseMaps?r.recycle():r.destroy())}}),[]),D((()=>{o&&o.setProps(t)})),(0,r.useImperativeHandle)(e,(()=>l.map),[o]);const c=(0,r.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...t.style})),[t.style]);return r.createElement("div",{id:t.id,ref:a,style:c},o&&r.createElement(j.Provider,{value:l},r.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},t.children)))}var z=n(97950);const G=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function V(t,e){if(!t||!e)return;const n=t.style;for(const r in e){const t=e[r];Number.isFinite(t)&&!G.test(r)?n[r]="".concat(t,"px"):n[r]=t}}(0,r.memo)((0,r.forwardRef)((function(t,e){const{map:n,mapLib:i}=(0,r.useContext)(j),o=(0,r.useRef)({props:t});o.current.props=t;const s=(0,r.useMemo)((()=>{let e=!1;r.Children.forEach(t.children,(t=>{t&&(e=!0)}));const n={...t,element:e?document.createElement("div"):null},a=new i.Marker(n);return a.setLngLat([t.longitude,t.latitude]),a.getElement().addEventListener("click",(t=>{var e,n;null===(n=(e=o.current.props).onClick)||void 0===n||n.call(e,{type:"click",target:a,originalEvent:t})})),a.on("dragstart",(t=>{var e,n;const r=t;r.lngLat=s.getLngLat(),null===(n=(e=o.current.props).onDragStart)||void 0===n||n.call(e,r)})),a.on("drag",(t=>{var e,n;const r=t;r.lngLat=s.getLngLat(),null===(n=(e=o.current.props).onDrag)||void 0===n||n.call(e,r)})),a.on("dragend",(t=>{var e,n;const r=t;r.lngLat=s.getLngLat(),null===(n=(e=o.current.props).onDragEnd)||void 0===n||n.call(e,r)})),a}),[]);(0,r.useEffect)((()=>(s.addTo(n.getMap()),()=>{s.remove()})),[]);const{longitude:a,latitude:l,offset:c,style:u,draggable:h=!1,popup:f=null,rotation:d=0,rotationAlignment:p="auto",pitchAlignment:A="auto"}=t;return(0,r.useEffect)((()=>{V(s.getElement(),u)}),[u]),(0,r.useImperativeHandle)(e,(()=>s),[]),s.getLngLat().lng===a&&s.getLngLat().lat===l||s.setLngLat([a,l]),c&&!function(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,r=Array.isArray(t)?t[1]:t?t.y:0,i=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0;return n===i&&r===o}(s.getOffset(),c)&&s.setOffset(c),s.isDraggable()!==h&&s.setDraggable(h),s.getRotation()!==d&&s.setRotation(d),s.getRotationAlignment()!==p&&s.setRotationAlignment(p),s.getPitchAlignment()!==A&&s.setPitchAlignment(A),s.getPopup()!==f&&s.setPopup(f),(0,z.createPortal)(t.children,s.getElement())})));function H(t){return new Set(t?t.trim().split(/\s+/):[])}(0,r.memo)((0,r.forwardRef)((function(t,e){const{map:n,mapLib:i}=(0,r.useContext)(j),o=(0,r.useMemo)((()=>document.createElement("div")),[]),s=(0,r.useRef)({props:t});s.current.props=t;const a=(0,r.useMemo)((()=>{const e={...t},n=new i.Popup(e);return n.setLngLat([t.longitude,t.latitude]),n.once("open",(t=>{var e,n;null===(n=(e=s.current.props).onOpen)||void 0===n||n.call(e,t)})),n}),[]);if((0,r.useEffect)((()=>{const t=t=>{var e,n;null===(n=(e=s.current.props).onClose)||void 0===n||n.call(e,t)};return a.on("close",t),a.setDOMContent(o).addTo(n.getMap()),()=>{a.off("close",t),a.isOpen()&&a.remove()}}),[]),(0,r.useEffect)((()=>{V(a.getElement(),t.style)}),[t.style]),(0,r.useImperativeHandle)(e,(()=>a),[]),a.isOpen()&&(a.getLngLat().lng===t.longitude&&a.getLngLat().lat===t.latitude||a.setLngLat([t.longitude,t.latitude]),t.offset&&!_(a.options.offset,t.offset)&&a.setOffset(t.offset),a.options.anchor===t.anchor&&a.options.maxWidth===t.maxWidth||(a.options.anchor=t.anchor,a.setMaxWidth(t.maxWidth)),a.options.className!==t.className)){const e=H(a.options.className),n=H(t.className);for(const t of e)n.has(t)||a.removeClassName(t);for(const t of n)e.has(t)||a.addClassName(t);a.options.className=t.className}return(0,z.createPortal)(t.children,o)})));const W=function(t,e,n,i){const o=(0,r.useContext)(j),s=(0,r.useMemo)((()=>t(o)),[]);return(0,r.useEffect)((()=>{const t=i||n||e,r="function"===typeof e&&"function"===typeof n?e:null,a="function"===typeof n?n:"function"===typeof e?e:null,{map:l}=o;return l.hasControl(s)||(l.addControl(s,null===t||void 0===t?void 0:t.position),r&&r(o)),()=>{a&&a(o),l.hasControl(s)&&l.removeControl(s)}}),[]),s};(0,r.memo)((function(t){const e=W((e=>{let{mapLib:n}=e;return new n.AttributionControl(t)}),{position:t.position});return(0,r.useEffect)((()=>{V(e._container,t.style)}),[t.style]),null}));(0,r.memo)((function(t){const e=W((e=>{let{mapLib:n}=e;return new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)})}),{position:t.position});return(0,r.useEffect)((()=>{V(e._controlContainer,t.style)}),[t.style]),null}));(0,r.memo)((0,r.forwardRef)((function(t,e){const n=(0,r.useRef)({props:t}),i=W((e=>{let{mapLib:r}=e;const i=new r.GeolocateControl(t),o=i._setupUI;return i._setupUI=t=>{i._container.hasChildNodes()||o(t)},i.on("geolocate",(t=>{var e,r;null===(r=(e=n.current.props).onGeolocate)||void 0===r||r.call(e,t)})),i.on("error",(t=>{var e,r;null===(r=(e=n.current.props).onError)||void 0===r||r.call(e,t)})),i.on("outofmaxbounds",(t=>{var e,r;null===(r=(e=n.current.props).onOutOfMaxBounds)||void 0===r||r.call(e,t)})),i.on("trackuserlocationstart",(t=>{var e,r;null===(r=(e=n.current.props).onTrackUserLocationStart)||void 0===r||r.call(e,t)})),i.on("trackuserlocationend",(t=>{var e,r;null===(r=(e=n.current.props).onTrackUserLocationEnd)||void 0===r||r.call(e,t)})),i}),{position:t.position});return n.current.props=t,(0,r.useImperativeHandle)(e,(()=>i),[]),(0,r.useEffect)((()=>{V(i._container,t.style)}),[t.style]),null})));(0,r.memo)((function(t){const e=W((e=>{let{mapLib:n}=e;return new n.NavigationControl(t)}),{position:t.position});return(0,r.useEffect)((()=>{V(e._container,t.style)}),[t.style]),null}));(0,r.memo)((function(t){const e=W((e=>{let{mapLib:n}=e;return new n.ScaleControl(t)}),{position:t.position}),n=(0,r.useRef)(t),i=n.current;n.current=t;const{style:o}=t;return void 0!==t.maxWidth&&t.maxWidth!==i.maxWidth&&(e.options.maxWidth=t.maxWidth),void 0!==t.unit&&t.unit!==i.unit&&e.setUnit(t.unit),(0,r.useEffect)((()=>{V(e._container,o)}),[o]),null}));const q=n.e(879).then(n.t.bind(n,879,23)),X=r.forwardRef((function(t,e){return U(t,e,q)}));function Y(){}function Q(t){return null==t?Y:function(){return this.querySelector(t)}}function K(){return[]}function J(t){return null==t?K:function(){return this.querySelectorAll(t)}}function Z(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function $(t){return function(){return this.matches(t)}}function tt(t){return function(e){return e.matches(t)}}var et=Array.prototype.find;function nt(){return this.firstElementChild}var rt=Array.prototype.filter;function it(){return Array.from(this.children)}function ot(t){return new Array(t.length)}function st(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function at(t,e,n,r,i,o){for(var s,a=0,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new st(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function lt(t,e,n,r,i,o,s){var a,l,c,u=new Map,h=e.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(d[a]=c=s.call(l,l.__data__,a,e)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<f;++a)c=s.call(t,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new st(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(d[a])===l&&(i[a]=l)}function ct(t){return t.__data__}function ut(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function ht(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}st.prototype={constructor:st,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ft="http://www.w3.org/1999/xhtml";const dt={svg:"http://www.w3.org/2000/svg",xhtml:ft,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),dt.hasOwnProperty(e)?{space:dt[e],local:t}:t}function At(t){return function(){this.removeAttribute(t)}}function gt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yt(t,e){return function(){this.setAttribute(t,e)}}function mt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function bt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function _t(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wt(t){return function(){this.style.removeProperty(t)}}function xt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Et(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function St(t,e){return t.style.getPropertyValue(e)||_t(t).getComputedStyle(t,null).getPropertyValue(e)}function Ct(t){return function(){delete this[t]}}function Pt(t,e){return function(){this[t]=e}}function Mt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Tt(t){return t.trim().split(/^|\s+/)}function Ot(t){return t.classList||new It(t)}function It(t){this._node=t,this._names=Tt(t.getAttribute("class")||"")}function Rt(t,e){for(var n=Ot(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Lt(t,e){for(var n=Ot(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function kt(t){return function(){Rt(this,t)}}function Bt(t){return function(){Lt(this,t)}}function Nt(t,e){return function(){(e.apply(this,arguments)?Rt:Lt)(this,t)}}function Dt(){this.textContent=""}function Ft(t){return function(){this.textContent=t}}function jt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ut(){this.innerHTML=""}function zt(t){return function(){this.innerHTML=t}}function Gt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Vt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ht(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ft&&e.documentElement.namespaceURI===ft?e.createElement(t):e.createElementNS(n,t)}}function qt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Xt(t){var e=pt(t);return(e.local?qt:Wt)(e)}function Yt(){return null}function Qt(){var t=this.parentNode;t&&t.removeChild(this)}function Kt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Zt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function $t(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function te(t,e,n){var r=_t(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ee(t,e){return function(){return te(this,t,e)}}function ne(t,e){return function(){return te(this,t,e.apply(this,arguments))}}It.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var re=[null];function ie(t,e){this._groups=t,this._parents=e}function oe(){return new ie([[document.documentElement]],re)}ie.prototype=oe.prototype={constructor:ie,select:function(t){"function"!==typeof t&&(t=Q(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=t.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new ie(r,this._parents)},selectAll:function(t){t="function"===typeof t?Z(t):J(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(t.call(s,s.__data__,c,a)),i.push(s));return new ie(r,i)},selectChild:function(t){return this.select(null==t?nt:function(t){return function(){return et.call(this.children,t)}}("function"===typeof t?t:tt(t)))},selectChildren:function(t){return this.selectAll(null==t?it:function(t){return function(){return rt.call(this.children,t)}}("function"===typeof t?t:tt(t)))},filter:function(t){"function"!==typeof t&&(t=$(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new ie(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ct);var n,r=e?lt:at,i=this._parents,o=this._groups;"function"!==typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=i[u],f=o[u],d=f.length,p=ut(t.call(h,h&&h.__data__,u,i)),A=p.length,g=l[u]=new Array(A),y=a[u]=new Array(A);r(h,f,g,y,c[u]=new Array(d),p,e);for(var m,v,b=0,_=0;b<A;++b)if(m=g[b]){for(b>=_&&(_=b+1);!(v=y[_])&&++_<A;);m._next=v||null}}return(a=new ie(a,i))._enter=l,a._exit=c,a},enter:function(){return new ie(this._enter||this._groups.map(ot),this._parents)},exit:function(){return new ie(this._exit||this._groups.map(ot),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"===typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],h=r[l],f=u.length,d=a[l]=new Array(f),p=0;p<f;++p)(c=u[p]||h[p])&&(d[p]=c);for(;l<i;++l)a[l]=n[l];return new ie(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ht);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(e)}return new ie(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=pt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?gt:At:"function"===typeof e?n.local?bt:vt:n.local?mt:yt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?wt:"function"===typeof e?Et:xt)(t,e,null==n?"":n)):St(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ct:"function"===typeof e?Mt:Pt)(t,e)):this.node()[t]},classed:function(t,e){var n=Tt(t+"");if(arguments.length<2){for(var r=Ot(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?Nt:e?kt:Bt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Dt:("function"===typeof t?jt:Ft)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ut:("function"===typeof t?Gt:zt)(t)):this.node().innerHTML},raise:function(){return this.each(Vt)},lower:function(){return this.each(Ht)},append:function(t){var e="function"===typeof t?t:Xt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:Xt(t),r=null==e?Yt:"function"===typeof e?e:Q(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Qt)},clone:function(t){return this.select(t?Jt:Kt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?$t:Zt,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"===typeof e?ne:ee)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const se=oe;var ae={value:()=>{}};function le(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ce(r)}function ce(t){this._=t}function ue(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function he(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ae,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ce.prototype=le.prototype={constructor:ce,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=o[s]).type)i[n]=he(i[n],t.name,e);else if(null==e)for(n in i)i[n]=he(i[n],t.name,null);return this}for(;++s<a;)if((n=(t=o[s]).type)&&(n=ue(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ce(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const fe=le;var de,pe,Ae=0,ge=0,ye=0,me=1e3,ve=0,be=0,_e=0,we="object"===typeof performance&&performance.now?performance:Date,xe="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ee(){return be||(xe(Se),be=we.now()+_e)}function Se(){be=0}function Ce(){this._call=this._time=this._next=null}function Pe(t,e,n){var r=new Ce;return r.restart(t,e,n),r}function Me(){be=(ve=we.now())+_e,Ae=ge=0;try{!function(){Ee(),++Ae;for(var t,e=de;e;)(t=be-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ae}()}finally{Ae=0,function(){var t,e,n=de,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:de=e);pe=t,Oe(r)}(),be=0}}function Te(){var t=we.now(),e=t-ve;e>me&&(_e-=e,ve=t)}function Oe(t){Ae||(ge&&(ge=clearTimeout(ge)),t-be>24?(t<1/0&&(ge=setTimeout(Me,t-we.now()-_e)),ye&&(ye=clearInterval(ye))):(ye||(ve=we.now(),ye=setInterval(Te,me)),Ae=1,xe(Me)))}function Ie(t,e,n){var r=new Ce;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Ce.prototype=Pe.prototype={constructor:Ce,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Ee():+n)+(null==e?0:+e),this._next||pe===this||(pe?pe._next=this:de=this,pe=this),this._call=t,this._time=n,Oe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Oe())}};var Re=fe("start","end","cancel","interrupt"),Le=[],ke=0,Be=1,Ne=2,De=3,Fe=4,je=5,Ue=6;function ze(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=Be,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(o){var c,u,h,f;if(n.state!==Be)return l();for(c in i)if((f=i[c]).name===n.name){if(f.state===De)return Ie(s);f.state===Fe?(f.state=Ue,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=Ue,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(Ie((function(){n.state===De&&(n.state=Fe,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=Ne,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ne){for(n.state=De,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=je,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);n.state===je&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=Ue,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Pe(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Re,tween:Le,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ke})}function Ge(t,e){var n=He(t,e);if(n.state>ke)throw new Error("too late; already scheduled");return n}function Ve(t,e){var n=He(t,e);if(n.state>De)throw new Error("too late; already running");return n}function He(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function We(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var qe,Xe=180/Math.PI,Ye={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qe(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Xe,skewX:Math.atan(l)*Xe,scaleX:s,scaleY:a}}function Ke(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],l=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:We(t,i)},{i:l-2,x:We(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:We(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:We(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,l),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:We(t,n)},{i:a-2,x:We(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(t){for(var e,n=-1,r=l.length;++n<r;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var Je=Ke((function(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ye:Qe(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Ze=Ke((function(t){return null==t?Ye:(qe||(qe=document.createElementNS("http://www.w3.org/2000/svg","g")),qe.setAttribute("transform",t),(t=qe.transform.baseVal.consolidate())?Qe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ye)}),", ",")",")");function $e(t,e){var n,r;return function(){var i=Ve(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function tn(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Ve(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function en(t,e,n){var r=t._id;return t.each((function(){var t=Ve(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return He(t,r).value[e]}}function nn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function on(){}var sn=.7,an=1/sn,ln="\\s*([+-]?\\d+)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hn=/^#([0-9a-f]{3,8})$/,fn=new RegExp("^rgb\\(".concat(ln,",").concat(ln,",").concat(ln,"\\)$")),dn=new RegExp("^rgb\\(".concat(un,",").concat(un,",").concat(un,"\\)$")),pn=new RegExp("^rgba\\(".concat(ln,",").concat(ln,",").concat(ln,",").concat(cn,"\\)$")),An=new RegExp("^rgba\\(".concat(un,",").concat(un,",").concat(un,",").concat(cn,"\\)$")),gn=new RegExp("^hsl\\(".concat(cn,",").concat(un,",").concat(un,"\\)$")),yn=new RegExp("^hsla\\(".concat(cn,",").concat(un,",").concat(un,",").concat(cn,"\\)$")),mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vn(){return this.rgb().formatHex()}function bn(){return this.rgb().formatRgb()}function _n(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?wn(e):3===n?new Sn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?xn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?xn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=fn.exec(t))?new Sn(e[1],e[2],e[3],1):(e=dn.exec(t))?new Sn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=pn.exec(t))?xn(e[1],e[2],e[3],e[4]):(e=An.exec(t))?xn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=gn.exec(t))?In(e[1],e[2]/100,e[3]/100,1):(e=yn.exec(t))?In(e[1],e[2]/100,e[3]/100,e[4]):mn.hasOwnProperty(t)?wn(mn[t]):"transparent"===t?new Sn(NaN,NaN,NaN,0):null}function wn(t){return new Sn(t>>16&255,t>>8&255,255&t,1)}function xn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sn(t,e,n,r)}function En(t,e,n,r){return 1===arguments.length?((i=t)instanceof on||(i=_n(i)),i?new Sn((i=i.rgb()).r,i.g,i.b,i.opacity):new Sn):new Sn(t,e,n,null==r?1:r);var i}function Sn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Cn(){return"#".concat(On(this.r)).concat(On(this.g)).concat(On(this.b))}function Pn(){const t=Mn(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(Tn(this.r),", ").concat(Tn(this.g),", ").concat(Tn(this.b)).concat(1===t?")":", ".concat(t,")"))}function Mn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function On(t){return((t=Tn(t))<16?"0":"")+t.toString(16)}function In(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ln(t,e,n,r)}function Rn(t){if(t instanceof Ln)return new Ln(t.h,t.s,t.l,t.opacity);if(t instanceof on||(t=_n(t)),!t)return new Ln;if(t instanceof Ln)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ln(s,a,l,t.opacity)}function Ln(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function kn(t){return(t=(t||0)%360)<0?t+360:t}function Bn(t){return Math.max(0,Math.min(1,t||0))}function Nn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Dn(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}nn(on,_n,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vn,formatHex:vn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Rn(this).formatHsl()},formatRgb:bn,toString:bn}),nn(Sn,En,rn(on,{brighter(t){return t=null==t?an:Math.pow(an,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?sn:Math.pow(sn,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sn(Tn(this.r),Tn(this.g),Tn(this.b),Mn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cn,formatHex:Cn,formatHex8:function(){return"#".concat(On(this.r)).concat(On(this.g)).concat(On(this.b)).concat(On(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Pn,toString:Pn})),nn(Ln,(function(t,e,n,r){return 1===arguments.length?Rn(t):new Ln(t,e,n,null==r?1:r)}),rn(on,{brighter(t){return t=null==t?an:Math.pow(an,t),new Ln(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?sn:Math.pow(sn,t),new Ln(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sn(Nn(t>=240?t-240:t+120,i,r),Nn(t,i,r),Nn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ln(kn(this.h),Bn(this.s),Bn(this.l),Mn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Mn(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(kn(this.h),", ").concat(100*Bn(this.s),"%, ").concat(100*Bn(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));const Fn=t=>()=>t;function jn(t,e){return function(n){return t+n*e}}function Un(t){return 1===(t=+t)?zn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Fn(isNaN(e)?n:e)}}function zn(t,e){var n=e-t;return n?jn(t,n):Fn(isNaN(t)?e:t)}const Gn=function t(e){var n=Un(e);function r(t,e){var r=n((t=En(t)).r,(e=En(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=zn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function Vn(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=En(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}Vn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return Dn((n-r/e)*e,s,i,o,a)}})),Vn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return Dn((n-r/e)*e,i,o,s,a)}}));var Hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wn=new RegExp(Hn.source,"g");function qn(t,e){var n,r,i,o=Hn.lastIndex=Wn.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=Hn.exec(t))&&(r=Wn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:We(n,r)})),o=Wn.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}function Xn(t,e){var n;return("number"===typeof e?We:e instanceof _n?Gn:(n=_n(e))?(e=n,Gn):qn)(t,e)}function Yn(t){return function(){this.removeAttribute(t)}}function Qn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kn(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function Jn(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function Zn(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttribute(t)}}function $n(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttributeNS(t.space,t.local)}}function tr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function er(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function nr(t,e){return function(){Ge(this,t).delay=+e.apply(this,arguments)}}function rr(t,e){return e=+e,function(){Ge(this,t).delay=e}}function ir(t,e){return function(){Ve(this,t).duration=+e.apply(this,arguments)}}function or(t,e){return e=+e,function(){Ve(this,t).duration=e}}var sr=se.prototype.constructor;function ar(t){return function(){this.style.removeProperty(t)}}var lr=0;function cr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ur(){return++lr}var hr=se.prototype;cr.prototype=function(t){return se().transition(t)}.prototype={constructor:cr,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Q(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,h=o[s]=new Array(u),f=0;f<u;++f)(a=c[f])&&(l=t.call(a,a.__data__,f,c))&&("__data__"in a&&(l.__data__=a.__data__),h[f]=l,ze(h[f],e,n,f,h,He(a,n)));return new cr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=J(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var f,d=t.call(l,l.__data__,h,c),p=He(l,n),A=0,g=d.length;A<g;++A)(f=d[A])&&ze(f,e,n,A,d,p);o.push(d),s.push(l)}return new cr(o,s,e,n)},selectChild:hr.selectChild,selectChildren:hr.selectChildren,filter:function(t){"function"!==typeof t&&(t=$(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new cr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=e[a],u=n[a],h=c.length,f=s[a]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(f[d]=l);for(;a<r;++a)s[a]=e[a];return new cr(s,this._parents,this._name,this._id)},selection:function(){return new sr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ur(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=He(s,e);ze(s,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new cr(r,this._parents,t,n)},call:hr.call,nodes:hr.nodes,node:hr.node,size:hr.size,empty:hr.empty,each:hr.each,on:function(t,e){var n=this._id;return arguments.length<2?He(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ge:Ve;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}(n,t,e))},attr:function(t,e){var n=pt(t),r="transform"===n?Ze:Xn;return this.attrTween(t,"function"===typeof e?(n.local?$n:Zn)(n,r,en(this,"attr."+t,e)):null==e?(n.local?Qn:Yn)(n):(n.local?Jn:Kn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=pt(t);return this.tween(n,(r.local?tr:er)(r,e))},style:function(t,e,n){var r="transform"===(t+="")?Je:Xn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=St(this,t),s=(this.style.removeProperty(t),St(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,ar(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=St(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=St(this,t)),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}(t,r,en(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var l=Ve(this,t),c=l.on,u=null==l.value[s]?o||(o=ar(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=St(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(en(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=He(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?$e:tn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?nr:rr)(e,t)):He(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?ir:or)(e,t)):He(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!==typeof e)throw new Error;return function(){Ve(this,t).ease=e}}(e,t)):He(this.node(),e).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;Ve(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0===--i&&o()}};n.each((function(){var n=Ve(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:hr[Symbol.iterator]};var fr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function dr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}se.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Ne&&n.state<je,n.state=Ue,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}(this,t)}))},se.prototype.transition=function(t){var e,n;t instanceof cr?(e=t._id,t=t._name):(e=ur(),(n=fr).time=Ee(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&ze(s,t,e,c,a,n||dr(s,e));return new cr(r,this._parents,t,e)};const{abs:pr,max:Ar,min:gr}=Math;function yr(t){return[+t[0],+t[1]]}function mr(t){return[yr(t[0]),yr(t[1])]}["w","e"].map(vr),["n","s"].map(vr),["n","w","e","s","nw","ne","sw","se"].map(vr);function vr(t){return{type:t}}function br(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function _r(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e)}return this}class wr extends Map{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(xr(this,t))}has(t){return super.has(xr(this,t))}set(t,e){return super.set(Er(this,t),e)}delete(t){return super.delete(Sr(this,t))}}Set;function xr(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):e}function Er(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function Sr(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function Cr(t){return null!==t&&"object"===typeof t?t.valueOf():t}const Pr=Symbol("implicit");function Mr(){var t=new wr,e=[],n=[],r=Pr;function i(i){let o=t.get(i);if(void 0===o){if(r!==Pr)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new wr;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Mr(e,n).unknown(r)},br.apply(i,arguments),i}function Tr(){var t,e,n=Mr().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=s<o,f=h?s:o,d=h?o:s;t=(d-f)/Math.max(1,n-l+2*c),a&&(t=Math.floor(t)),f+=(d-f-t*(n-l))*u,e=t*(1-l),a&&(f=Math.round(f),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map((function(e){return f+t*e}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,s]=t,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(t){return[o,s]=t,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return Tr(r(),[o,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},br.apply(h(),arguments)}function Or(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Or(e())},t}function Ir(){return Or(Tr.apply(null,arguments).paddingInner(1))}const Rr=Math.sqrt(50),Lr=Math.sqrt(10),kr=Math.sqrt(2);function Br(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Rr?10:o>=Lr?5:o>=kr?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?Br(t,e,2*n):[a,l,c]}function Nr(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,o,s]=r?Br(e,t,n):Br(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function Dr(t,e,n){return Br(t=+t,e=+e,n=+n)[2]}function Fr(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?Dr(e,t,n):Dr(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function jr(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ur(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zr(t){let e,n,r;function i(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=jr,n=(e,n)=>jr(t(e),n),r=(e,n)=>t(e)-n):(e=t===jr||t===Ur?t:Gr,n=t,r=t),{left:i,center:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function Gr(){return 0}function Vr(t){return null===t?NaN:+t}const Hr=zr(jr),Wr=Hr.right,qr=(Hr.left,zr(Vr).center,Wr);function Xr(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Jr(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=o[n](t);return s}}function Yr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qr(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=Jr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function Kr(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Jr(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Fn(e):("number"===i?We:"string"===i?(n=_n(e))?(e=n,Gn):qn:e instanceof _n?Gn:e instanceof Date?Yr:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Xr:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?Qr:We:Kr))(t,e)}function Zr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $r(t){return+t}var ti=[0,1];function ei(t){return t}function ni(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ri(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=ni(i,r),o=n(s,o)):(r=ni(r,i),o=n(o,s)),function(t){return o(r(t))}}function ii(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=ni(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=qr(t,e,1,r)-1;return o[n](i[n](e))}}function oi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function si(){var t,e,n,r,i,o,s=ti,a=ti,l=Jr,c=ei;function u(){var t=Math.min(s.length,a.length);return c!==ei&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),r=t>2?ii:ri,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(s.map(t),a,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(a,s.map(t),We)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,$r),u()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),l=Zr,u()},h.clamp=function(t){return arguments.length?(c=!!t||ei,u()):c!==ei},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function ai(){return si()(ei,ei)}var li,ci=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ui(t){if(!(e=ci.exec(t)))throw new Error("invalid format: "+t);var e;return new hi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function hi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function fi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function di(t){return(t=fi(Math.abs(t)))?t[1]:NaN}function pi(t,e){var n=fi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ui.prototype=hi.prototype,hi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ai={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pi(100*t,e),r:pi,s:function(t,e){var n=fi(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(li=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fi(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gi(t){return t}var yi,mi,vi,bi=Array.prototype.map,_i=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function wi(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?gi:(e=bi.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?gi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(bi.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ui(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,A=t.comma,g=t.precision,y=t.trim,m=t.type;"n"===m?(A=!0,m="g"):Ai[m]||(void 0===g&&(g=12),y=!0,m="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var v="$"===f?i:"#"===f&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===f?o:/[%p]/.test(m)?l:"",_=Ai[m],w=/[defgprs%]/.test(m);function x(t){var i,o,l,f=v,x=b;if("c"===m)x=_(t)+x,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:_(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0===+t&&"+"!==h&&(E=!1),f=(E?"("===h?h:c:"-"===h||"("===h?"":h)+f,x=("s"===m?_i[8+li/3]:"")+x+(E&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){x=(46===l?s+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}A&&!d&&(t=r(t,1/0));var S=f.length+t.length+x.length,C=S<p?new Array(p-S+1).join(e):"";switch(A&&d&&(t=r(C+t,C.length?p-x.length:1/0),C=""),n){case"<":t=f+t+x+C;break;case"=":t=f+C+t+x;break;case"^":t=C.slice(0,S=C.length>>1)+f+t+x+C.slice(S);break;default:t=C+f+t+x}return a(t)}return g=void 0===g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return t+""},x}return{format:h,formatPrefix:function(t,e){var n=h(((t=ui(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(di(e)/3))),i=Math.pow(10,-r),o=_i[8+r/3];return function(t){return n(i*t)+o}}}}function xi(t,e,n,r){var i,o=Fr(t,e,n);switch((r=ui(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(di(e)/3)))-di(Math.abs(t)))}(o,s))||(r.precision=i),vi(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,di(e)-di(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-di(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return mi(r)}function Ei(t){var e=t.domain;return t.ticks=function(t){var n=e();return Nr(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return xi(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=a,a=i);u-- >0;){if((i=Dr(l,c,n))===r)return o[s]=l,o[a]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Si(){var t=ai();return t.copy=function(){return oi(t,Si())},br.apply(t,arguments),Ei(t)}function Ci(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,$r),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Ci(t).unknown(e)},t=arguments.length?Array.from(t,$r):[0,1],Ei(n)}function Pi(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],s=t[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),t[r]=e.floor(o),t[i]=e.ceil(s),t}function Mi(t){return Math.log(t)}function Ti(t){return Math.exp(t)}function Oi(t){return-Math.log(-t)}function Ii(t){return-Math.exp(-t)}function Ri(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Li(t){return(e,n)=>-t(-e,n)}function ki(t){const e=t(Mi,Ti),n=e.domain;let r,i,o=10;function s(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?Ri:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=Li(r),i=Li(i),t(Oi,Ii)):t(Mi,Ti),e}return e.base=function(t){return arguments.length?(o=+t,s()):o},e.domain=function(t){return arguments.length?(n(t),s()):n()},e.ticks=t=>{const e=n();let s=e[0],a=e[e.length-1];const l=a<s;l&&([s,a]=[a,s]);let c,u,h=r(s),f=r(a);const d=null==t?10:+t;let p=[];if(!(o%1)&&f-h<d){if(h=Math.floor(h),f=Math.ceil(f),s>0){for(;h<=f;++h)for(c=1;c<o;++c)if(u=h<0?c/i(-h):c*i(h),!(u<s)){if(u>a)break;p.push(u)}}else for(;h<=f;++h)for(c=o-1;c>=1;--c)if(u=h>0?c/i(-h):c*i(h),!(u<s)){if(u>a)break;p.push(u)}2*p.length<d&&(p=Nr(s,a,d))}else p=Nr(h,f,Math.min(f-h,d)).map(i);return l?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=ui(n)).precision||(n.trim=!0),n=mi(n)),t===1/0)return n;const s=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=s?n(t):""}},e.nice=()=>n(Pi(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function Bi(){const t=ki(si()).domain([1,10]);return t.copy=()=>oi(t,Bi()).base(t.base()),br.apply(t,arguments),t}function Ni(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Di(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Fi(t){var e=1,n=t(Ni(e),Di(e));return n.constant=function(n){return arguments.length?t(Ni(e=+n),Di(e)):e},Ei(n)}function ji(){var t=Fi(si());return t.copy=function(){return oi(t,ji()).constant(t.constant())},br.apply(t,arguments)}function Ui(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zi(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Gi(t){return t<0?-t*t:t*t}function Vi(t){var e=t(ei,ei),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(ei,ei):.5===n?t(zi,Gi):t(Ui(n),Ui(1/n)):n},Ei(e)}function Hi(){var t=Vi(si());return t.copy=function(){return oi(t,Hi()).exponent(t.exponent())},br.apply(t,arguments),t}function Wi(){return Hi.apply(null,arguments).exponent(.5)}function qi(t){return Math.sign(t)*t*t}function Xi(){var t,e=ai(),n=[0,1],r=!1;function i(n){var i=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(qi(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,$r)).map(qi)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Xi(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},br.apply(i,arguments),Ei(i)}function Yi(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Qi(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Ki(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr;if(t===jr)return Ji;if("function"!==typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function Ji(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function Zi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=void 0===i?Ji:Ki(i);r>n;){if(r-n>600){const o=r-n+1,s=e-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);Zi(t,e,Math.max(n,Math.floor(e-s*l/o+c)),Math.min(r,Math.floor(e+(o-s)*l/o+c)),i)}const o=t[e];let s=n,a=r;for($i(t,n,e),i(t[r],o)>0&&$i(t,n,r);s<a;){for($i(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}0===i(t[n],o)?$i(t,n,a):(++a,$i(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function $i(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function to(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return Qi(t);if(e>=1)return Yi(t);var r,i=(r-1)*e,o=Math.floor(i),s=Yi(Zi(t,o).subarray(0,o+1));return s+(Qi(t.subarray(o+1))-s)*(i-o)}}function eo(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vr;if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(i-o)}}function no(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=eo(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[qr(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(jr),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return no().domain(e).range(n).unknown(t)},br.apply(o,arguments)}function ro(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[qr(i,e,0,r)]:t}function a(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return s}return s.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,a()):[e,n]},s.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,a()):o.slice()},s.invertExtent=function(t){var s=o.indexOf(t);return s<0?[NaN,NaN]:s<1?[e,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return ro().domain([e,n]).range(o).unknown(t)},br.apply(Ei(s),arguments)}function io(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[qr(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return io().domain(e).range(n).unknown(t)},br.apply(i,arguments)}yi=wi({thousands:",",grouping:[3],currency:["$",""]}),mi=yi.format,vi=yi.formatPrefix;const oo=1e3,so=6e4,ao=36e5,lo=864e5,co=6048e5,uo=2592e6,ho=31536e6,fo=new Date,po=new Date;function Ao(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;let a;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=n=>Ao((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(fo.setTime(+e),po.setTime(+r),t(fo),t(po),Math.floor(n(fo,po))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t===0:e=>i.count(0,e)%t===0):i:null)),i}const go=Ao((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));go.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Ao((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):go:null);go.range;const yo=Ao((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*oo)}),((t,e)=>(e-t)/oo),(t=>t.getUTCSeconds())),mo=(yo.range,Ao((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oo)}),((t,e)=>{t.setTime(+t+e*so)}),((t,e)=>(e-t)/so),(t=>t.getMinutes()))),vo=(mo.range,Ao((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*so)}),((t,e)=>(e-t)/so),(t=>t.getUTCMinutes()))),bo=(vo.range,Ao((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oo-t.getMinutes()*so)}),((t,e)=>{t.setTime(+t+e*ao)}),((t,e)=>(e-t)/ao),(t=>t.getHours()))),_o=(bo.range,Ao((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*ao)}),((t,e)=>(e-t)/ao),(t=>t.getUTCHours()))),wo=(_o.range,Ao((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*so)/lo),(t=>t.getDate()-1))),xo=(wo.range,Ao((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/lo),(t=>t.getUTCDate()-1))),Eo=(xo.range,Ao((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/lo),(t=>Math.floor(t/lo))));Eo.range;function So(t){return Ao((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*so)/co))}const Co=So(0),Po=So(1),Mo=So(2),To=So(3),Oo=So(4),Io=So(5),Ro=So(6);Co.range,Po.range,Mo.range,To.range,Oo.range,Io.range,Ro.range;function Lo(t){return Ao((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/co))}const ko=Lo(0),Bo=Lo(1),No=Lo(2),Do=Lo(3),Fo=Lo(4),jo=Lo(5),Uo=Lo(6),zo=(ko.range,Bo.range,No.range,Do.range,Fo.range,jo.range,Uo.range,Ao((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),Go=(zo.range,Ao((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),Vo=(Go.range,Ao((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));Vo.every=t=>isFinite(t=Math.floor(t))&&t>0?Ao((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;Vo.range;const Ho=Ao((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));Ho.every=t=>isFinite(t=Math.floor(t))&&t>0?Ao((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;Ho.range;function Wo(t,e,n,r,i,o){const s=[[yo,1,oo],[yo,5,5e3],[yo,15,15e3],[yo,30,3e4],[o,1,so],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,ao],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,lo],[r,2,1728e5],[n,1,co],[e,1,uo],[e,3,7776e6],[t,1,ho]];function a(e,n,r){const i=Math.abs(n-e)/r,o=zr((t=>{let[,,e]=t;return e})).right(s,i);if(o===s.length)return t.every(Fr(e/ho,n/ho,r));if(0===o)return go.every(Math.max(Fr(e,n,r),1));const[a,l]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return a.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"===typeof n.range?n:a(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},a]}const[qo,Xo]=Wo(Ho,Go,ko,Eo,_o,vo),[Yo,Qo]=Wo(Vo,zo,Co,wo,bo,mo);function Ko(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Jo(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zo(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var $o,ts,es,ns={"-":"",_:" ",0:"0"},rs=/^\s*\d+/,is=/^%/,os=/[\\^$*+?|[\]().{}]/g;function ss(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function as(t){return t.replace(os,"\\$&")}function ls(t){return new RegExp("^(?:"+t.map(as).join("|")+")","i")}function cs(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function us(t,e,n){var r=rs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hs(t,e,n){var r=rs.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function fs(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ds(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ps(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function As(t,e,n){var r=rs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gs(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ys(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ms(t,e,n){var r=rs.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function vs(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bs(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _s(t,e,n){var r=rs.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ws(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xs(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Es(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ss(t,e,n){var r=rs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Cs(t,e,n){var r=rs.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ps(t,e,n){var r=is.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ms(t,e,n){var r=rs.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ts(t,e,n){var r=rs.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Os(t,e){return ss(t.getDate(),e,2)}function Is(t,e){return ss(t.getHours(),e,2)}function Rs(t,e){return ss(t.getHours()%12||12,e,2)}function Ls(t,e){return ss(1+wo.count(Vo(t),t),e,3)}function ks(t,e){return ss(t.getMilliseconds(),e,3)}function Bs(t,e){return ks(t,e)+"000"}function Ns(t,e){return ss(t.getMonth()+1,e,2)}function Ds(t,e){return ss(t.getMinutes(),e,2)}function Fs(t,e){return ss(t.getSeconds(),e,2)}function js(t){var e=t.getDay();return 0===e?7:e}function Us(t,e){return ss(Co.count(Vo(t)-1,t),e,2)}function zs(t){var e=t.getDay();return e>=4||0===e?Oo(t):Oo.ceil(t)}function Gs(t,e){return t=zs(t),ss(Oo.count(Vo(t),t)+(4===Vo(t).getDay()),e,2)}function Vs(t){return t.getDay()}function Hs(t,e){return ss(Po.count(Vo(t)-1,t),e,2)}function Ws(t,e){return ss(t.getFullYear()%100,e,2)}function qs(t,e){return ss((t=zs(t)).getFullYear()%100,e,2)}function Xs(t,e){return ss(t.getFullYear()%1e4,e,4)}function Ys(t,e){var n=t.getDay();return ss((t=n>=4||0===n?Oo(t):Oo.ceil(t)).getFullYear()%1e4,e,4)}function Qs(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ss(e/60|0,"0",2)+ss(e%60,"0",2)}function Ks(t,e){return ss(t.getUTCDate(),e,2)}function Js(t,e){return ss(t.getUTCHours(),e,2)}function Zs(t,e){return ss(t.getUTCHours()%12||12,e,2)}function $s(t,e){return ss(1+xo.count(Ho(t),t),e,3)}function ta(t,e){return ss(t.getUTCMilliseconds(),e,3)}function ea(t,e){return ta(t,e)+"000"}function na(t,e){return ss(t.getUTCMonth()+1,e,2)}function ra(t,e){return ss(t.getUTCMinutes(),e,2)}function ia(t,e){return ss(t.getUTCSeconds(),e,2)}function oa(t){var e=t.getUTCDay();return 0===e?7:e}function sa(t,e){return ss(ko.count(Ho(t)-1,t),e,2)}function aa(t){var e=t.getUTCDay();return e>=4||0===e?Fo(t):Fo.ceil(t)}function la(t,e){return t=aa(t),ss(Fo.count(Ho(t),t)+(4===Ho(t).getUTCDay()),e,2)}function ca(t){return t.getUTCDay()}function ua(t,e){return ss(Bo.count(Ho(t)-1,t),e,2)}function ha(t,e){return ss(t.getUTCFullYear()%100,e,2)}function fa(t,e){return ss((t=aa(t)).getUTCFullYear()%100,e,2)}function da(t,e){return ss(t.getUTCFullYear()%1e4,e,4)}function pa(t,e){var n=t.getUTCDay();return ss((t=n>=4||0===n?Fo(t):Fo.ceil(t)).getUTCFullYear()%1e4,e,4)}function Aa(){return"+0000"}function ga(){return"%"}function ya(t){return+t}function ma(t){return Math.floor(+t/1e3)}function va(t){return new Date(t)}function ba(t){return t instanceof Date?+t:+new Date(+t)}function _a(t,e,n,r,i,o,s,a,l,c){var u=ai(),h=u.invert,f=u.domain,d=c(".%L"),p=c(":%S"),A=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),m=c("%b %d"),v=c("%B"),b=c("%Y");function _(t){return(l(t)<t?d:a(t)<t?p:s(t)<t?A:o(t)<t?g:r(t)<t?i(t)<t?y:m:n(t)<t?v:b)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?f(Array.from(t,ba)):f().map(va)},u.ticks=function(e){var n=f();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?_:c(e)},u.nice=function(t){var n=f();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?f(Pi(n,t)):u},u.copy=function(){return oi(u,_a(t,e,n,r,i,o,s,a,l,c))},u}function wa(){return br.apply(_a(Yo,Qo,Vo,zo,Co,wo,bo,mo,yo,ts).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xa(){return br.apply(_a(qo,Xo,Ho,Go,ko,xo,_o,vo,yo,es).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ea(){var t,e,n,r,i,o=0,s=1,a=ei,l=!1;function c(e){return null==e||isNaN(e=+e)?i:a(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}function u(t){return function(e){var n,r;return arguments.length?([n,r]=e,a=t(n,r),c):[a(0),a(1)]}}return c.domain=function(i){return arguments.length?([o,s]=i,t=r(o=+o),e=r(s=+s),n=t===e?0:1/(e-t),c):[o,s]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(a=t,c):a},c.range=u(Jr),c.rangeRound=u(Zr),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(s),n=t===e?0:1/(e-t),c}}function Sa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ca(){var t=Ei(Ea()(ei));return t.copy=function(){return Sa(t,Ca())},_r.apply(t,arguments)}function Pa(){var t=ki(Ea()).domain([1,10]);return t.copy=function(){return Sa(t,Pa()).base(t.base())},_r.apply(t,arguments)}function Ma(){var t=Fi(Ea());return t.copy=function(){return Sa(t,Ma()).constant(t.constant())},_r.apply(t,arguments)}function Ta(){var t=Vi(Ea());return t.copy=function(){return Sa(t,Ta()).exponent(t.exponent())},_r.apply(t,arguments)}function Oa(){return Ta.apply(null,arguments).exponent(.5)}function Ia(){var t=[],e=ei;function n(n){if(null!=n&&!isNaN(n=+n))return e((qr(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(jr),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>to(t,r/e)))},n.copy=function(){return Ia(e).domain(t)},_r.apply(n,arguments)}function Ra(){var t,e,n,r,i,o,s,a=0,l=.5,c=1,u=1,h=ei,f=!1;function d(t){return isNaN(t=+t)?s:(t=.5+((t=+o(t))-e)*(u*t<u*e?r:i),h(f?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,h=function(t,e){void 0===e&&(e=t,t=Jr);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}(t,[n,r,i]),d):[h(0),h(.5),h(1)]}}return d.domain=function(s){return arguments.length?([a,l,c]=s,t=o(a=+a),e=o(l=+l),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,d):[a,l,c]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(h=t,d):h},d.range=p(Jr),d.rangeRound=p(Zr),d.unknown=function(t){return arguments.length?(s=t,d):s},function(s){return o=s,t=s(a),e=s(l),n=s(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,d}}function La(){var t=Ei(Ra()(ei));return t.copy=function(){return Sa(t,La())},_r.apply(t,arguments)}function ka(){var t=ki(Ra()).domain([.1,1,10]);return t.copy=function(){return Sa(t,ka()).base(t.base())},_r.apply(t,arguments)}function Ba(){var t=Fi(Ra());return t.copy=function(){return Sa(t,Ba()).constant(t.constant())},_r.apply(t,arguments)}function Na(){var t=Vi(Ra());return t.copy=function(){return Sa(t,Na()).exponent(t.exponent())},_r.apply(t,arguments)}function Da(){return Na.apply(null,arguments).exponent(.5)}function Fa(t,e,n){this.k=t,this.x=e,this.y=n}!function(t){$o=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=ls(i),u=cs(i),h=ls(o),f=cs(o),d=ls(s),p=cs(s),A=ls(a),g=cs(a),y=ls(l),m=cs(l),v={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Os,e:Os,f:Bs,g:qs,G:Ys,H:Is,I:Rs,j:Ls,L:ks,m:Ns,M:Ds,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ya,s:ma,S:Fs,u:js,U:Us,V:Gs,w:Vs,W:Hs,x:null,X:null,y:Ws,Y:Xs,Z:Qs,"%":ga},b={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Ks,e:Ks,f:ea,g:fa,G:pa,H:Js,I:Zs,j:$s,L:ta,m:na,M:ra,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ya,s:ma,S:ia,u:oa,U:sa,V:la,w:ca,W:ua,x:null,X:null,y:ha,Y:da,Z:Aa,"%":ga},_={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=A.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:bs,e:bs,f:Cs,g:gs,G:As,H:ws,I:ws,j:_s,L:Ss,m:vs,M:xs,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:ms,Q:Ms,s:Ts,S:Es,u:hs,U:fs,V:ds,w:us,W:ps,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:gs,Y:As,Z:ys,"%":Ps};function w(t,e){return function(n){var r,i,o,s=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(i=ns[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),s.push(r),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function x(t,e){return function(n){var r,i,o=Zo(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Jo(Zo(o.y,0,1))).getUTCDay(),r=i>4||0===i?Bo.ceil(r):Bo(r),r=xo.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ko(Zo(o.y,0,1))).getDay(),r=i>4||0===i?Po.ceil(r):Po(r),r=wo.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Jo(Zo(o.y,0,1)).getUTCDay():Ko(Zo(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Jo(o)):Ko(o)}}function E(t,e,n,r){for(var i,o,s=0,a=e.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(i=e.charCodeAt(s++))){if(i=e.charAt(s++),!(o=_[i in ns?e.charAt(s++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=w(n,v),v.X=w(r,v),v.c=w(e,v),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=x(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=x(t+="",!0);return e.toString=function(){return t},e}}}(t),ts=$o.format,$o.parse,es=$o.utcFormat,$o.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Fa.prototype={constructor:Fa,scale:function(t){return 1===t?this:new Fa(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Fa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Fa(1,0,0);Fa.prototype;var ja=1,Ua=2,za=5,Ga=484813681109536e-20,Va=Math.PI/2,Ha=.16666666666666666,Wa=.04722222222222222,qa=.022156084656084655,Xa=1e-10,Ya=.017453292519943295,Qa=57.29577951308232,Ka=Math.PI/4,Ja=2*Math.PI,Za=3.14159265359,$a={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const tl={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var el=/[\s_\-\/\(\)]/g;function nl(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(el,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(el,"")===i)return t[n]}function rl(t){var e,n,r,i={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*Ya},lat_1:function(t){i.lat1=t*Ya},lat_2:function(t){i.lat2=t*Ya},lat_ts:function(t){i.lat_ts=t*Ya},lon_0:function(t){i.long0=t*Ya},lon_1:function(t){i.long1=t*Ya},lon_2:function(t){i.long2=t*Ya},alpha:function(t){i.alpha=parseFloat(t)*Ya},lonc:function(t){i.longc=t*Ya},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=nl(tl,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*Ya},pm:function(t){var e=nl($a,t);i.from_greenwich=(e||parseFloat(t))*Ya},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in o)n=o[e],e in s?"function"===typeof(r=s[e])?r(n):i[r]=n:i[e]=n;return"string"===typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}const il=function(t){var e=new hl(t);return e.output()};var ol=1,sl=/\s/,al=/[A-Za-z]/,ll=/[A-Za-z84_]/,cl=/[,\]]/,ul=/[\d\.E\-\+]/;function hl(t){if("string"!==typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=ol}function fl(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce((function(t,e){return dl(e,t),t}),r);e&&(t[e]=i)}function dl(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void dl(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var r;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&dl(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&dl(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void fl(e,n,t);default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return dl(t,e[n]);return fl(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}hl.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;sl.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case ol:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},hl.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(cl.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},hl.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=ol)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=ol,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},hl.prototype.number=function(t){if(!ul.test(t)){if(cl.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},hl.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},hl.prototype.keyword=function(t){if(ll.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=ol)}if(!cl.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},hl.prototype.neutral=function(t){if(al.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(ul.test(t))return this.word=t,void(this.state=3);if(!cl.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},hl.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var pl=.017453292519943295;function Al(t){return t*pl}function gl(t){var e=il(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return dl(e,i),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];-1!==i[0].indexOf("north")||("y"===i[0]||"lat"===i[0])&&"north"===i[1]?e+="n":-1!==i[0].indexOf("south")||("y"===i[0]||"lat"===i[0])&&"south"===i[1]?e+="s":-1!==i[0].indexOf("east")||("x"===i[0]||"lon"===i[0])&&"east"===i[1]?e+="e":-1===i[0].indexOf("west")&&("x"!==i[0]&&"lon"!==i[0]||"west"!==i[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function s(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Al],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Al],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",Al],["lat0","latitude_of_origin",Al],["lat0","standard_parallel_1",Al],["lat1","standard_parallel_1",Al],["lat2","standard_parallel_2",Al],["azimuth","Azimuth"],["alpha","azimuth",Al],["srsCode","name"]].forEach((function(e){return function(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName?!t.lat_ts&&t.lat0&&"Polar_Stereographic"===t.projName&&(t.lat_ts=t.lat0,t.lat0=Al(t.lat0>0?90:-90)):(t.lat0=Al(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(i),i}function yl(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?yl[t]=rl(arguments[1]):yl[t]=gl(arguments[1]):yl[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?yl.apply(e,t):yl(t)}));if("string"===typeof t){if(t in yl)return yl[t]}else"EPSG"in t?yl["EPSG:"+t.EPSG]=t:"ESRI"in t?yl["ESRI:"+t.ESRI]=t:"IAU2000"in t?yl["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(yl);const ml=yl;var vl=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var bl=["3857","900913","3785","102113"];const _l=function(t){if(!function(t){return"string"===typeof t}(t))return t;if(function(t){return t in ml}(t))return ml[t];if(function(t){return vl.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=gl(t);if(function(t){var e=nl(t,"authority");if(e){var n=nl(e,"epsg");return n&&bl.indexOf(n)>-1}}(e))return ml["EPSG:3857"];var n=function(t){var e=nl(t,"extension");if(e)return nl(e,"proj4")}(e);return n?rl(n):e}return function(t){return"+"===t[0]}(t)?rl(t):void 0};function wl(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t}function xl(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function El(t){return t<0?-1:1}function Sl(t){return Math.abs(t)<=Za?t:t-El(t)*Ja}function Cl(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Va-e))/r}function Pl(t,e){for(var n,r,i=.5*t,o=Va-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),o+=r=Va-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-o,Math.abs(r)<=1e-10)return o;return-9999}const Ml={init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=xl(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,i=t.y;if(i*Qa>90&&i*Qa<-90&&r*Qa>180&&r*Qa<-180)return null;if(Math.abs(Math.abs(i)-Va)<=Xa)return null;if(this.sphere)e=this.x0+this.a*this.k0*Sl(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(Ka+.5*i));else{var o=Math.sin(i),s=Cl(this.e,i,o);e=this.x0+this.a*this.k0*Sl(r-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=Va-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=Pl(this.e,o)))return null}return e=Sl(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]};function Tl(t){return t}var Ol=[Ml,{init:function(){},forward:Tl,inverse:Tl,names:["longlat","identity"]}],Il={},Rl=[];function Ll(t,e){var n=Rl.length;return t.names?(Rl[n]=t,t.names.forEach((function(t){Il[t.toLowerCase()]=n})),this):(console.log(e),!0)}const kl={start:function(){Ol.forEach(Ll)},add:Ll,get:function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!==typeof Il[e]&&Rl[Il[e]]?Rl[Il[e]]:void 0}};var Bl={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Nl=Bl.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Bl.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Dl={};Dl.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Dl.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Dl.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Dl.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Dl.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Dl.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Dl.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Dl.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},Dl.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Dl.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Dl.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Dl.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Dl.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Dl.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Dl.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Dl.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Dl.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};const Fl=function(t,e,n,r,i,o){var s={};return s.datum_type=void 0===t||"none"===t?za:4,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=ja),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=Ua,s.datum_params[3]*=Ga,s.datum_params[4]*=Ga,s.datum_params[5]*=Ga,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=n,s.b=r,s.es=i,s.ep2=o,s};function jl(t,e){if(!(this instanceof jl))return new jl(t);e=e||function(t){if(t)throw t};var n=_l(t);if("object"===typeof n){var r=jl.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=nl(Dl,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o=function(t,e,n,r,i){if(!t){var o=nl(Bl,r);o||(o=Nl),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<Xa)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(t,e,n,r){var i=t*t,o=e*e,s=(i-o)/i,a=0;return r?(i=(t*=1-s*(Ha+s*(Wa+s*qa)))*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(i-o)/o}}(o.a,o.b,o.rf,n.R_A),a=n.datum||Fl(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2);wl(this,n),wl(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=a,this.init(),e(null,this)}else e(t)}else e(t)}jl.projections=kl,jl.projections.start();const Ul=jl;function zl(t,e,n){var r,i,o,s,a=t.x,l=t.y,c=t.z?t.z:0;if(l<-Va&&l>-1.001*Va)l=-Va;else if(l>Va&&l<1.001*Va)l=Va;else{if(l<-Va)return{x:-1/0,y:-1/0,z:t.z};if(l>Va)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),i=Math.sin(l),s=Math.cos(l),o=i*i,{x:((r=n/Math.sqrt(1-e*o))+c)*s*Math.cos(a),y:(r+c)*s*Math.sin(a),z:(r*(1-e)+c)*i}}function Gl(t,e,n,r){var i,o,s,a,l,c,u,h,f,d,p,A,g,y,m,v=1e-12,b=t.x,_=t.y,w=t.z?t.z:0;if(i=Math.sqrt(b*b+_*_),o=Math.sqrt(b*b+_*_+w*w),i/n<v){if(y=0,o/n<v)return m=-r,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(_,b);s=w/o,h=(a=i/o)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*a*a)),f=s*l,g=0;do{g++,c=e*(u=n/Math.sqrt(1-e*f*f))/(u+(m=i*h+w*f-u*(1-e*f*f))),A=(p=s*(l=1/Math.sqrt(1-c*(2-c)*a*a)))*h-(d=a*(1-c)*l)*f,h=d,f=p}while(A*A>1e-24&&g<30);return{x:y,y:Math.atan(p/Math.abs(d)),z:m}}function Vl(t){return t===ja||t===Ua}function Hl(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===ja?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==Ua||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)||t.datum_type===za||e.datum_type===za?n:t.es!==e.es||t.a!==e.a||Vl(t.datum_type)||Vl(e.datum_type)?(n=zl(n,t.es,t.a),Vl(t.datum_type)&&(n=function(t,e,n){if(e===ja)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Ua){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+a*t.z)+r,y:c*(l*t.x+t.y-s*t.z)+i,z:c*(-a*t.x+s*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),Vl(e.datum_type)&&(n=function(t,e,n){if(e===ja)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Ua){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=(t.x-r)/c,h=(t.y-i)/c,f=(t.z-o)/c;return{x:u+l*h-a*f,y:-l*u+h+s*f,z:a*u-s*h+f}}}(n,e.datum_type,e.datum_params)),Gl(n,e.es,e.a,e.b)):n}function Wl(t,e,n){var r,i,o,s=n.x,a=n.y,l=n.z||0,c={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=s,i=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(r=a,i=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(r=l,i="z"),t.axis[o]){case"e":case"w":case"n":case"s":c[i]=r;break;case"u":void 0!==n[i]&&(c.z=r);break;case"d":void 0!==n[i]&&(c.z=-r);break;default:return null}return c}function ql(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function Xl(t){if("function"===typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Yl(t,e,n){var r;if(Array.isArray(n)&&(n=ql(n)),function(t){Xl(t.x),Xl(t.y)}(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===ja||t.datum.datum_type===Ua)&&"WGS84"!==e.datumCode||(e.datum.datum_type===ja||e.datum.datum_type===Ua)&&"WGS84"!==t.datumCode}(t,e)&&(n=Yl(t,r=new Ul("WGS84"),n),t=r),"enu"!==t.axis&&(n=Wl(t,!1,n)),"longlat"===t.projName)n={x:n.x*Ya,y:n.y*Ya,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;return t.from_greenwich&&(n.x+=t.from_greenwich),n=Hl(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*Qa,y:n.y*Qa,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?Wl(e,!0,n):n}var Ql=Ul("WGS84");function Kl(t,e,n){var r,i,o;return Array.isArray(n)?(r=Yl(t,e,n)||{x:NaN,y:NaN},n.length>2?"undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name?"number"===typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(i=Yl(t,e,n),2===(o=Object.keys(n)).length||o.forEach((function(r){if("undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]})),i)}function Jl(t){return t instanceof Ul?t:t.oProj?t.oProj:Ul(t)}const Zl=function(t,e,n){t=Jl(t);var r,i=!1;return"undefined"===typeof e?(e=t,t=Ql,i=!0):("undefined"!==typeof e.x||Array.isArray(e))&&(n=e,e=t,t=Ql,i=!0),e=Jl(e),n?Kl(t,e,n):(r={forward:function(n){return Kl(t,e,n)},inverse:function(n){return Kl(e,t,n)}},i&&(r.oProj=e),r)};var $l=6,tc="AJSAJS",ec="AFAFAF",nc=65,rc=73,ic=79,oc=86,sc=90;const ac={forward:lc,inverse:function(t){var e=fc(Ac(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:cc};function lc(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,n){var r=pc(n),i=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return function(t,e,n){var r=n-1,i=tc.charCodeAt(r),o=ec.charCodeAt(r),s=i+t-1,a=o+e,l=!1;s>sc&&(s=s-sc+nc-1,l=!0);(s===rc||i<rc&&s>rc||(s>rc||i<rc)&&l)&&s++;(s===ic||i<ic&&s>ic||(s>ic||i<ic)&&l)&&++s===rc&&s++;s>sc&&(s=s-sc+nc-1);a>oc?(a=a-oc+nc-1,l=!0):l=!1;(a===rc||o<rc&&a>rc||(a>rc||o<rc)&&l)&&a++;(a===ic||o<ic&&a>ic||(a>ic||o<ic)&&l)&&++a===rc&&a++;a>oc&&(a=a-oc+nc-1);return String.fromCharCode(s)+String.fromCharCode(a)}(i,o,r)}(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}(function(t){var e,n,r,i,o,s,a,l,c=t.lat,u=t.lon,h=6378137,f=.00669438,d=.9996,p=uc(c),A=uc(u);l=Math.floor((u+180)/6)+1,180===u&&(l=60);c>=56&&c<64&&u>=3&&u<12&&(l=32);c>=72&&c<84&&(u>=0&&u<9?l=31:u>=9&&u<21?l=33:u>=21&&u<33?l=35:u>=33&&u<42&&(l=37));a=uc(6*(l-1)-180+3),e=f/(1-f),n=h/Math.sqrt(1-f*Math.sin(p)*Math.sin(p)),r=Math.tan(p)*Math.tan(p),i=e*Math.cos(p)*Math.cos(p),o=Math.cos(p)*(A-a),s=h*((1-f/4-3*f*f/64-5*f*f*f/256)*p-(3*f/8+3*f*f/32+45*f*f*f/1024)*Math.sin(2*p)+(15*f*f/256+45*f*f*f/1024)*Math.sin(4*p)-35*f*f*f/3072*Math.sin(6*p));var g=d*n*(o+(1-r+i)*o*o*o/6+(5-18*r+r*r+72*i-58*e)*o*o*o*o*o/120)+5e5,y=d*(s+n*Math.tan(p)*(o*o/2+(5-r+9*i+4*i*i)*o*o*o*o/24+(61-58*r+r*r+600*i-330*e)*o*o*o*o*o*o/720));c<0&&(y+=1e7);return{northing:Math.round(y),easting:Math.round(g),zoneNumber:l,zoneLetter:dc(c)}}({lat:t[1],lon:t[0]}),e)}function cc(t){var e=fc(Ac(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function uc(t){return t*(Math.PI/180)}function hc(t){return t/Math.PI*180}function fc(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,s,a,l,c,u,h,f,d,p=.9996,A=6378137,g=.00669438,y=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=n-5e5,v=e;r<"N"&&(v-=1e7),h=6*(i-1)-180+3,o=.006739496752268451,d=(f=v/p/6367449.145945056)+(3*y/2-27*y*y*y/32)*Math.sin(2*f)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*f)+151*y*y*y/96*Math.sin(6*f),s=A/Math.sqrt(1-g*Math.sin(d)*Math.sin(d)),a=Math.tan(d)*Math.tan(d),l=o*Math.cos(d)*Math.cos(d),c=.99330562*A/Math.pow(1-g*Math.sin(d)*Math.sin(d),1.5),u=m/(s*p);var b=d-s*Math.tan(d)/c*(u*u/2-(5+3*a+10*l-4*l*l-9*o)*u*u*u*u/24+(61+90*a+298*l+45*a*a-1.6983531815716497-3*l*l)*u*u*u*u*u*u/720);b=hc(b);var _,w=(u-(1+2*a+l)*u*u*u/6+(5-2*l+28*a-3*l*l+8*o+24*a*a)*u*u*u*u*u/120)/Math.cos(d);if(w=h+hc(w),t.accuracy){var x=fc({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:x.lat,right:x.lon,bottom:b,left:w}}else _={lat:b,lon:w};return _}function dc(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function pc(t){var e=t%$l;return 0===e&&(e=$l),e}function Ac(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var s=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;r=t.substring(o,o+=2);for(var l=pc(s),c=function(t,e){var n=tc.charCodeAt(e-1),r=1e5,i=!1;for(;n!==t.charCodeAt(0);){if(++n===rc&&n++,n===ic&&n++,n>sc){if(i)throw"Bad character: "+t;n=nc,i=!0}r+=1e5}return r}(r.charAt(0),l),u=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=ec.charCodeAt(e-1),r=0,i=!1;for(;n!==t.charCodeAt(0);){if(++n===rc&&n++,n===ic&&n++,n>oc){if(i)throw"Bad character: "+t;n=nc,i=!0}r+=1e5}return r}(r.charAt(1),l);u<gc(a);)u+=2e6;var h=n-o;if(h%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,d,p,A=h/2,g=0,y=0;return A>0&&(f=1e5/Math.pow(10,A),d=t.substring(o,o+A),g=parseFloat(d)*f,p=t.substring(o+A),y=parseFloat(p)*f),{easting:g+c,northing:y+u,zoneLetter:a,zoneNumber:s,accuracy:f}}function gc(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function yc(t,e,n){if(!(this instanceof yc))return new yc(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"===typeof t&&"undefined"===typeof e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}yc.fromMGRS=function(t){return new yc(cc(t))},yc.prototype.toMGRS=function(t){return lc([this.x,this.y],t)};const mc=yc;var vc=1,bc=.25,_c=.046875,wc=.01953125,xc=.01068115234375,Ec=.75,Sc=.46875,Cc=.013020833333333334,Pc=.007120768229166667,Mc=.3645833333333333,Tc=.005696614583333333,Oc=.3076171875;function Ic(t){var e=[];e[0]=vc-t*(bc+t*(_c+t*(wc+t*xc))),e[1]=t*(Ec-t*(_c+t*(wc+t*xc)));var n=t*t;return e[2]=n*(Sc-t*(Cc+t*Pc)),n*=t,e[3]=n*(Mc-t*Tc),e[4]=n*t*Oc,e}function Rc(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var Lc=20;function kc(t,e,n){for(var r=1/(1-e),i=t,o=Lc;o;--o){var s=Math.sin(i),a=1-e*s*s;if(i-=a=(Rc(i,s,Math.cos(i),n)-t)*(a*Math.sqrt(a))*r,Math.abs(a)<Xa)return i}return i}const Bc={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ic(this.es),this.ml0=Rc(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,i=t.x,o=t.y,s=Sl(i-this.long0),a=Math.sin(o),l=Math.cos(o);if(this.es){var c=l*s,u=Math.pow(c,2),h=this.ep2*Math.pow(l,2),f=Math.pow(h,2),d=Math.abs(l)>Xa?Math.tan(o):0,p=Math.pow(d,2),A=Math.pow(p,2);e=1-this.es*Math.pow(a,2),c/=Math.sqrt(e);var g=Rc(o,a,l,this.en);n=this.a*(this.k0*c*(1+u/6*(1-p+h+u/20*(5-18*p+A+14*h-58*p*h+u/42*(61+179*A-A*p-479*p)))))+this.x0,r=this.a*(this.k0*(g-this.ml0+a*s*c/2*(1+u/12*(5-p+9*h+4*f+u/30*(61+A-58*p+270*h-330*p*h+u/56*(1385+543*A-A*p-3111*p))))))+this.y0}else{var y=l*Math.sin(s);if(Math.abs(Math.abs(y)-1)<Xa)return 93;if(n=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,r=l*Math.cos(s)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(r))>=1){if(y-1>Xa)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,i,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(n=kc(e=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<Va){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>Xa?Math.tan(n):0,u=this.ep2*Math.pow(l,2),h=Math.pow(u,2),f=Math.pow(c,2),d=Math.pow(f,2);e=1-this.es*Math.pow(a,2);var p=o*Math.sqrt(e)/this.k0,A=Math.pow(p,2);r=n-(e*=c)*A/(1-this.es)*.5*(1-A/12*(5+3*f-9*u*f+u-4*h-A/30*(61+90*f-252*u*f+45*d+46*u-A/56*(1385+3633*f+4095*d+1574*d*f)))),i=Sl(this.long0+p*(1-A/6*(1+2*f+u-A/20*(5+28*f+24*d+8*u*f+6*u-A/42*(61+662*f+1320*d+720*d*f))))/l)}else r=Va*El(s),i=0;else{var g=Math.exp(o/this.k0),y=.5*(g-1/g),m=this.lat0+s/this.k0,v=Math.cos(m);e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(y,2))),r=Math.asin(e),s<0&&(r=-r),i=0===y&&0===v?0:Sl(Math.atan2(y,v)+this.long0)}return t.x=i,t.y=r,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]};function Nc(t){var e=Math.exp(t);return e=(e-1/e)/2}function Dc(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function Fc(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Dc(1,e)+1))),t<0?-e:e}function jc(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,o=t[i],s=0;--i>=0;)n=r*o-s+t[i],s=o,o=n;return e+n*Math.sin(2*e)}function Uc(t,e,n){for(var r,i,o=Math.sin(e),s=Math.cos(e),a=Nc(n),l=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),c=2*s*l,u=-2*o*a,h=t.length-1,f=t[h],d=0,p=0,A=0;--h>=0;)r=p,i=d,f=c*(p=f)-r-u*(d=A)+t[h],A=u*p-i+c*d;return[(c=o*l)*f-(u=s*a)*A,c*A+u*f]}const zc={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=jc(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,o=t[i],s=0;--i>=0;)n=r*o-s+t[i],s=o,o=n;return Math.sin(e)*n}(this.gtu,2*r))},forward:function(t){var e=Sl(t.x-this.long0),n=t.y;n=jc(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(r,s*i),e=Math.atan2(o*i,Dc(r,i*s)),e=Fc(Math.tan(e));var a,l,c=Uc(this.gtu,2*n,2*e);return n+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),t.x=a,t.y=l,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=Uc(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Nc(r));var s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r);i=Math.atan2(s*c,Dc(l,c*a)),e=Sl((r=Math.atan2(l,c*a))+this.long0),n=jc(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]};const Gc={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(Sl(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Ya,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,zc.init.apply(this),this.forward=zc.forward,this.inverse=zc.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function Vc(t,e){return Math.pow((1-t)/(1+t),e)}const Hc={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ka)/(Math.pow(Math.tan(.5*this.lat0+Ka),this.C)*Vc(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Ka),this.C)*Vc(this.e*Math.sin(n),this.ratexp))-Va,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+Ka)/this.K,1/this.C),i=20;i>0&&(n=2*Math.atan(r*Vc(this.e*Math.sin(t.y),-.5*this.e))-Va,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]};const Wc={init:function(){Hc.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=Sl(t.x-this.long0),Hc.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Hc.inverse.apply(this,[t]),t.x=Sl(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};const qc={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Xa&&(this.k0=.5*(1+El(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Xa&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Xa&&(this.k0=.5*this.cons*xl(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Cl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=xl(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Va,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,i,o,s,a=t.x,l=t.y,c=Math.sin(l),u=Math.cos(l),h=Sl(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=Xa&&Math.abs(l+this.lat0)<=Xa?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(h)),t.x=this.a*e*u*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*u*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(l,c,this.e))-Va,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=Xa?(o=Cl(this.e,l*this.con,this.con*c),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<Xa?(e=2*this.a*this.k0/(1+i*Math.cos(h)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(h))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(h))+this.y0),t.x=e*i*Math.sin(h)+this.x0,t))},inverse:function(t){var e,n,r,i,o;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=Xa?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<Xa?this.lat0>0?Sl(this.long0+Math.atan2(t.x,-1*t.y)):Sl(this.long0+Math.atan2(t.x,t.y)):Sl(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=Xa){if(s<=Xa)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*Pl(this.e,r),e=this.con*Sl(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Xa?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=Sl(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*Pl(this.e,Math.tan(.5*(Va+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(Va+t))*Math.pow((1-e)/(1+e),.5*n)}};const Xc={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,l=0,c=o,u=-1e3,h=0;Math.abs(c-u)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t},names:["somerc"]};const Yc={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,o=Cl(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(s*s<1&&(s=1),isNaN(this.longc)){var a=Cl(this.e,this.lat1,Math.sin(this.lat1)),l=Cl(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var c=Math.pow(a,this.bl),u=Math.pow(l,this.bl);i=.5*((r=this.el/c)-1/r);var h=(this.el*this.el-u*c)/(this.el*this.el+u*c),f=(u-c)/(u+c),d=Sl(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*d)/f)/this.bl,this.long0=Sl(this.long0);var p=Sl(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/i),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else r=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=r*Math.pow(o,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,n,r,i=t.x,o=t.y,s=Sl(i-this.long0);if(Math.abs(Math.abs(o)-Va)<=Xa)r=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(Ka+r*this.gamma0*.5)),e=-1*r*Va*this.al/this.bl;else{var a=Cl(this.e,o,Math.sin(o)),l=this.el/Math.pow(a,this.bl),c=.5*(l-1/l),u=.5*(l+1/l),h=Math.sin(this.bl*s),f=(c*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/u;n=Math.abs(Math.abs(f)-1)<=Xa?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-f)/(1+f))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=Xa?this.al*this.bl*s:this.al*Math.atan2(c*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),o=.5*(r+1/r),s=Math.sin(this.bl*e/this.al),a=(s*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/o,l=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<Xa?(t.x=this.long0,t.y=Va):Math.abs(a+1)<Xa?(t.x=this.long0,t.y=-1*Va):(t.y=Pl(this.e,l),t.x=Sl(this.long0-Math.atan2(i*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};const Qc={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Xa)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=xl(this.e,e,n),i=Cl(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=xl(this.e,o,s),l=Cl(this.e,this.lat2,o),c=Cl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Xa?this.ns=Math.log(r/a)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=Xa&&(n=El(n)*(Va-2*Xa));var r,i,o=Math.abs(Math.abs(n)-Va);if(o>Xa)r=Cl(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var s=this.ns*Sl(e-this.long0);return t.x=this.k0*(i*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,r,i,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=Pl(this.e,r)))return null}else i=-Va;return o=Sl(l/this.ns+this.long0),t.x=o,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};const Kc={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,o,s,a,l=t.x,c=t.y,u=Sl(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,o,s,a,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,c+=1}while(0===a&&c<15);return c>=15?null:t},names:["Krovak","krovak"]};function Jc(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Zc(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function $c(t){return.375*t*(1+.25*t*(1+.46875*t))}function tu(t){return.05859375*t*t*(1+.75*t)}function eu(t){return t*t*t*(35/3072)}function nu(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function ru(t){return Math.abs(t)<Va?t:t-El(t)*Math.PI}function iu(t,e,n,r,i){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN}const ou={init:function(){this.sphere||(this.e0=Zc(this.es),this.e1=$c(this.es),this.e2=tu(this.es),this.e3=eu(this.es),this.ml0=this.a*Jc(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=Sl(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=nu(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),u=c*c,h=this.es*s*s/(1-this.es);e=a*c*(1-u*l*(1/6-(8-l+8*h)*u/120)),n=this.a*Jc(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*o/s*u*(.5+(5-l+6*h)*u/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var s=iu(this.ml0/this.a+i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Va)<=Xa)return t.x=this.long0,t.y=Va,i<0&&(t.y*=-1),t;var a=nu(this.a,this.e,Math.sin(s)),l=a*a*a/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),u=r*this.a/a,h=u*u;e=s-a*Math.tan(s)/l*u*u*(.5-(1+3*c)*u*u/24),n=u*(1-h*(c/3+(1+3*c)*c*h/15))/Math.cos(s)}return t.x=Sl(n+this.long0),t.y=ru(e),t},names:["Cassini","Cassini_Soldner","cass"]};function su(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e}var au=.3333333333333333,lu=.17222222222222222,cu=.10257936507936508,uu=.06388888888888888,hu=.0664021164021164,fu=.016415012942191543;const du={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-Va)<Xa?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<Xa?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=su(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*au,e=t*t,n[0]+=e*lu,n[1]=e*uu,e*=t,n[0]+=e*cu,n[1]+=e*hu,n[2]=e*fu,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=su(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,i,o,s,a,l,c,u,h=t.x,f=t.y;if(h=Sl(h-this.long0),this.sphere){if(o=Math.sin(f),u=Math.cos(f),r=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+u*r:1+this.sinph0*o+this.cosph0*u*r)<=Xa)return null;e=(n=Math.sqrt(2/n))*u*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.lat0)<Xa)return null;n=Ka-.5*f,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(h),i=Math.sin(h),o=Math.sin(f),s=su(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=Va+f,s=this.qp-s;break;case this.S_POLE:c=f-Va,s=this.qp+s}if(Math.abs(c)<Xa)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*l*r):(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,e=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?c:-c)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,s,a,l=t.x/this.a,c=t.y/this.a;if(this.sphere){var u,h=0,f=0;if((n=.5*(u=Math.sqrt(l*l+c*c)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(u)<=Xa?0:Math.asin(c*f/u),l*=f,c=h*u;break;case this.OBLIQ:n=Math.abs(u)<=Xa?this.lat0:Math.asin(h*this.sinph0+c*f*this.cosph0/u),l*=f*this.cosph0,c=(h-Math.sin(n)*this.sinph0)*u;break;case this.N_POLE:c=-c,n=Va-n;break;case this.S_POLE:n-=Va}e=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,c):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,c*=this.dd,(s=Math.sqrt(l*l+c*c))<Xa)return t.x=this.long0,t.y=this.lat0,t;i=2*Math.asin(.5*s/this.rq),r=Math.cos(i),l*=i=Math.sin(i),this.mode===this.OBLIQ?(a=r*this.sinb1+c*i*this.cosb1/s,o=this.qp*a,c=s*this.cosb1*r-c*this.sinb1*i):(a=c*i/s,o=this.qp*a,c=s*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),!(o=l*l+c*c))return t.x=this.long0,t.y=this.lat0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(l,c),n=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}(Math.asin(a),this.apa)}return t.x=Sl(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function pu(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}const Au={init:function(){Math.abs(this.lat1+this.lat2)<Xa||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=xl(this.e3,this.sin_po,this.cos_po),this.qs1=su(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=xl(this.e3,this.sin_po,this.cos_po),this.qs2=su(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=su(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>Xa?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=su(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*Sl(e-this.long0),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),o=Sl(i/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,i,o,s=pu(.5*e);if(t<Xa)return s;for(var a=t*t,l=1;l<=25;l++)if(s+=o=.5*(i=1-(r=t*(n=Math.sin(s)))*r)*i/Math.cos(s)*(e/(1-a)-n/i+.5/t*Math.log((1-r)/(1+r))),Math.abs(o)<=1e-7)return s;return null}};const gu={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,i,o,s,a,l=t.x,c=t.y;return r=Sl(l-this.long0),e=Math.sin(c),n=Math.cos(c),i=Math.cos(r),(o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=Xa?(s=this.x0+1*this.a*n*Math.sin(r)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/o):(s=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),s=pu((r=Math.cos(i))*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=Sl(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]};const yu={init:function(){this.sphere||(this.k0=xl(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,i=t.y,o=Sl(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=su(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Sl(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Va:Va;for(var r,i,o,s,a=Math.asin(.5*e),l=0;l<30;l++)if(i=Math.sin(a),o=Math.cos(a),s=t*i,a+=r=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-i/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(r)<=1e-10)return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=Sl(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};const mu={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=Sl(e-this.long0),i=ru(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=Sl(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=ru(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};const vu={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Zc(this.es),this.e1=$c(this.es),this.e2=tu(this.es),this.e3=eu(this.es),this.ml0=this.a*Jc(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,i=t.x,o=t.y,s=Sl(i-this.long0);if(r=s*Math.sin(o),this.sphere)Math.abs(o)<=Xa?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*(ru(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=Xa)e=this.a*s,n=-1*this.ml0;else{var a=nu(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(r),n=this.a*Jc(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,i,o,s,a,l,c;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Xa)e=Sl(r/this.a+this.long0),n=0;else{var u;for(s=this.lat0+i/this.a,a=r*r/this.a/this.a+s*s,l=s,o=20;o;--o)if(l+=c=-1*(s*(l*(u=Math.tan(l))+1)-l-.5*(l*l+a)*u)/((l-s)/u-1),Math.abs(c)<=Xa){n=l;break}e=Sl(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=Xa)n=0,e=Sl(this.long0+r/this.a);else{var h,f,d,p,A;for(s=(this.ml0+i)/this.a,a=r*r/this.a/this.a+s*s,l=s,o=20;o;--o)if(A=this.e*Math.sin(l),h=Math.sqrt(1-A*A)*Math.tan(l),f=this.a*Jc(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(s*(h*(p=f/this.a)+1)-p-.5*h*(p*p+a))/(this.es*Math.sin(2*l)*(p*p+a-2*s*p)/(4*h)+(s-p)*(h*d-2/Math.sin(2*l))-d),Math.abs(c)<=Xa){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=Sl(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};const bu={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,i=n-this.long0,o=r/Ga*1e-5,s=i,a=1,l=0;for(e=1;e<=10;e++)a*=o,l+=this.A[e]*a;var c,u=l,h=s,f=1,d=0,p=0,A=0;for(e=1;e<=6;e++)c=d*u+f*h,f=f*u-d*h,d=c,p=p+this.B_re[e]*f-this.B_im[e]*d,A=A+this.B_im[e]*f+this.B_re[e]*d;return t.x=A*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,i=t.y,o=r-this.x0,s=(i-this.y0)/this.a,a=o/this.a,l=1,c=0,u=0,h=0;for(e=1;e<=6;e++)n=c*s+l*a,l=l*s-c*a,c=n,u=u+this.C_re[e]*l-this.C_im[e]*c,h=h+this.C_im[e]*l+this.C_re[e]*c;for(var f=0;f<this.iterations;f++){var d,p=u,A=h,g=s,y=a;for(e=2;e<=6;e++)d=A*u+p*h,p=p*u-A*h,A=d,g+=(e-1)*(this.B_re[e]*p-this.B_im[e]*A),y+=(e-1)*(this.B_im[e]*p+this.B_re[e]*A);p=1,A=0;var m=this.B_re[1],v=this.B_im[1];for(e=2;e<=6;e++)d=A*u+p*h,p=p*u-A*h,A=d,m+=e*(this.B_re[e]*p-this.B_im[e]*A),v+=e*(this.B_im[e]*p+this.B_re[e]*A);var b=m*m+v*v;u=(g*m+y*v)/b,h=(y*m-g*v)/b}var _=u,w=h,x=1,E=0;for(e=1;e<=9;e++)x*=_,E+=this.D[e]*x;var S=this.lat0+E*Ga*1e5,C=this.long0+w;return t.x=C,t.y=S,t},names:["New_Zealand_Map_Grid","nzmg"]};const _u={init:function(){},forward:function(t){var e=t.x,n=t.y,r=Sl(e-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=Sl(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]};const wu={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ic(this.es)},forward:function(t){var e,n,r=t.x,i=t.y;if(r=Sl(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),s=20;s;--s){var a=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<Xa)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);n=this.a*Rc(i,l,c,this.en),e=this.a*r*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=pu((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=pu(Math.sin(e)/this.n)),n=Sl(n+this.long0),e=ru(e)):(e=kc(t.y/this.a,this.es,this.en),(r=Math.abs(e))<Va?(r=Math.sin(e),n=Sl(this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)))):r-Xa<Va&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]};const xu={init:function(){},forward:function(t){for(var e=t.x,n=t.y,r=Sl(e-this.long0),i=n,o=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<Xa)break}i/=2,Math.PI/2-Math.abs(n)<Xa&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=a,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=Sl(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t},names:["Mollweide","moll"]};const Eu={init:function(){Math.abs(this.lat1+this.lat2)<Xa||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Zc(this.es),this.e1=$c(this.es),this.e2=tu(this.es),this.e3=eu(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=xl(this.e,this.sinphi,this.cosphi),this.ml1=Jc(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Xa?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=xl(this.e,this.sinphi,this.cosphi),this.ml2=Jc(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Jc(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=Jc(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*Sl(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(i=Sl(this.long0+o/this.ns),r=ru(this.g-n/this.a),t.x=i,t.y=r,t):(r=iu(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),i=Sl(this.long0+o/this.ns),t.x=i,t.y=r,t)},names:["Equidistant_Conic","eqdc"]};const Su={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.x,i=t.y,o=Sl(r-this.long0);Math.abs(i)<=Xa&&(e=this.x0+this.R*o,n=this.y0);var s=pu(2*Math.abs(i/Math.PI));(Math.abs(o)<=Xa||Math.abs(Math.abs(i)-Va)<=Xa)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),l=a*a,c=Math.sin(s),u=Math.cos(s),h=u/(c+u-1),f=h*h,d=h*(2/c-1),p=d*d,A=Math.PI*this.R*(a*(h-p)+Math.sqrt(l*(h-p)*(h-p)-(p+l)*(f-p)))/(p+l);o<0&&(A=-A),e=this.x0+A;var g=l+h;return A=Math.PI*this.R*(d*g-a*Math.sqrt((p+l)*(l+1)-g*g))/(p+l),n=i>=0?this.y0+A:this.y0-A,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i,o,s,a,l,c,u,h,f;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(r=t.x/h)*r+(i=t.y/h)*i,h=3*(i*i/(l=-2*(s=-Math.abs(i)*(1+o))+1+2*i*i+o*o)+(2*(a=s-2*i*i+r*r)*a*a/l/l/l-9*s*a/l/l)/27)/(c=(s-a*a/3/l)/l)/(u=2*Math.sqrt(-c/3)),Math.abs(h)>1&&(h=h>=0?1:-1),f=Math.acos(h)/3,n=t.y>=0?(-u*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:-(-u*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,e=Math.abs(r)<Xa?this.long0:Sl(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};const Cu={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,s,a,l,c,u,h,f,d,p,A,g,y,m,v,b,_,w,x=t.x,E=t.y,S=Math.sin(t.y),C=Math.cos(t.y),P=Sl(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=Xa?(t.x=this.x0+this.a*(Va-E)*Math.sin(P),t.y=this.y0-this.a*(Va-E)*Math.cos(P),t):Math.abs(this.sin_p12+1)<=Xa?(t.x=this.x0+this.a*(Va+E)*Math.sin(P),t.y=this.y0+this.a*(Va+E)*Math.cos(P),t):(m=this.sin_p12*S+this.cos_p12*C*Math.cos(P),y=(g=Math.acos(m))?g/Math.sin(g):1,t.x=this.x0+this.a*y*C*Math.sin(P),t.y=this.y0+this.a*y*(this.cos_p12*S-this.sin_p12*C*Math.cos(P)),t):(e=Zc(this.es),n=$c(this.es),r=tu(this.es),i=eu(this.es),Math.abs(this.sin_p12-1)<=Xa?(o=this.a*Jc(e,n,r,i,Va),s=this.a*Jc(e,n,r,i,E),t.x=this.x0+(o-s)*Math.sin(P),t.y=this.y0-(o-s)*Math.cos(P),t):Math.abs(this.sin_p12+1)<=Xa?(o=this.a*Jc(e,n,r,i,Va),s=this.a*Jc(e,n,r,i,E),t.x=this.x0+(o+s)*Math.sin(P),t.y=this.y0+(o+s)*Math.cos(P),t):(a=S/C,l=nu(this.a,this.e,this.sin_p12),c=nu(this.a,this.e,S),u=Math.atan((1-this.es)*a+this.es*l*this.sin_p12/(c*C)),v=0===(h=Math.atan2(Math.sin(P),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(P)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(h)-Math.PI)<=Xa?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(P)*Math.cos(u)/Math.sin(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),g=l*v*(1-(b=v*v)*(A=(d=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*d)*(1-A)/6+(_=b*v)/8*(p=f*d)*(1-2*A)+(w=_*v)/120*(A*(4-7*A)-3*f*f*(1-7*A))-w*v/48*p),t.x=this.x0+g*Math.sin(h),t.y=this.y0+g*Math.cos(h),t))},inverse:function(t){var e,n,r,i,o,s,a,l,c,u,h,f,d,p,A,g,y,m,v,b,_,w,x;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*Va*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=Xa?s=this.lat0:(s=pu(i*this.sin_p12+t.y*r*this.cos_p12/e),a=Math.abs(this.lat0)-Va,o=Math.abs(a)<=Xa?this.lat0>=0?Sl(this.long0+Math.atan2(t.x,-t.y)):Sl(this.long0-Math.atan2(-t.x,t.y)):Sl(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=o,t.y=s,t}return l=Zc(this.es),c=$c(this.es),u=tu(this.es),h=eu(this.es),Math.abs(this.sin_p12-1)<=Xa?(s=iu(((f=this.a*Jc(l,c,u,h,Va))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,l,c,u,h),o=Sl(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=Xa?(f=this.a*Jc(l,c,u,h,Va),s=iu(((e=Math.sqrt(t.x*t.x+t.y*t.y))-f)/this.a,l,c,u,h),o=Sl(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),A=Math.atan2(t.x,t.y),d=nu(this.a,this.e,this.sin_p12),g=Math.cos(A),m=-(y=this.e*this.cos_p12*g)*y/(1-this.es),v=3*this.es*(1-m)*this.sin_p12*this.cos_p12*g/(1-this.es),w=1-m*(_=(b=e/d)-m*(1+m)*Math.pow(b,3)/6-v*(1+3*m)*Math.pow(b,4)/24)*_/2-b*_*_*_/6,p=Math.asin(this.sin_p12*Math.cos(_)+this.cos_p12*Math.sin(_)*g),o=Sl(this.long0+Math.asin(Math.sin(A)*Math.sin(_)/Math.cos(p))),x=Math.sin(p),s=Math.atan2((x-this.es*w*this.sin_p12)*Math.tan(p),x*(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};const Pu={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,s,a,l=t.x,c=t.y;return r=Sl(l-this.long0),e=Math.sin(c),n=Math.cos(c),i=Math.cos(r),((o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=Xa)&&(s=1*this.a*n*Math.sin(r),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i,o,s,a;return t.x-=this.x0,t.y-=this.y0,n=pu((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=Xa?(a=this.lat0,t.x=s,t.y=a,t):(a=pu(i*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-Va,Math.abs(o)<=Xa?(s=this.lat0>=0?Sl(this.long0+Math.atan2(t.x,-t.y)):Sl(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=Sl(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=s,t.y=a,t))},names:["ortho"]};var Mu=1,Tu=2,Ou=3,Iu=4,Ru=5,Lu=6,ku={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Bu(t,e,n,r){var i;return t<Xa?(r.value=ku.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=Ka?r.value=ku.AREA_0:i>Ka&&i<=Va+Ka?(r.value=ku.AREA_1,i-=Va):i>Va+Ka||i<=-(Va+Ka)?(r.value=ku.AREA_2,i=i>=0?i-Za:i+Za):(r.value=ku.AREA_3,i+=Va)),i}function Nu(t,e){var n=t+e;return n<-Za?n+=Ja:n>+Za&&(n-=Ja),n}const Du={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Va-Ka/2?this.face=Ru:this.lat0<=-(Va-Ka/2)?this.face=Lu:Math.abs(this.long0)<=Ka?this.face=Mu:Math.abs(this.long0)<=Va+Ka?this.face=this.long0>0?Tu:Iu:this.face=Ou,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,r,i,o,s,a={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Ru)i=Va-e,n>=Ka&&n<=Va+Ka?(l.value=ku.AREA_0,r=n-Va):n>Va+Ka||n<=-(Va+Ka)?(l.value=ku.AREA_1,r=n>0?n-Za:n+Za):n>-(Va+Ka)&&n<=-Ka?(l.value=ku.AREA_2,r=n+Va):(l.value=ku.AREA_3,r=n);else if(this.face===Lu)i=Va+e,n>=Ka&&n<=Va+Ka?(l.value=ku.AREA_0,r=-n+Va):n<Ka&&n>=-Ka?(l.value=ku.AREA_1,r=-n):n<-Ka&&n>=-(Va+Ka)?(l.value=ku.AREA_2,r=-n-Va):(l.value=ku.AREA_3,r=n>0?-n+Za:-n-Za);else{var c,u,h,f,d,p;this.face===Tu?n=Nu(n,+Va):this.face===Ou?n=Nu(n,+Za):this.face===Iu&&(n=Nu(n,-Va)),f=Math.sin(e),d=Math.cos(e),p=Math.sin(n),c=d*Math.cos(n),u=d*p,h=f,this.face===Mu?r=Bu(i=Math.acos(c),h,u,l):this.face===Tu?r=Bu(i=Math.acos(u),h,-c,l):this.face===Ou?r=Bu(i=Math.acos(-c),h,-u,l):this.face===Iu?r=Bu(i=Math.acos(-u),h,c,l):(i=r=0,l.value=ku.AREA_0)}return s=Math.atan(12/Za*(r+Math.acos(Math.sin(r)*Math.cos(Ka))-Va)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===ku.AREA_1?s+=Va:l.value===ku.AREA_2?s+=Za:l.value===ku.AREA_3&&(s+=1.5*Za),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,n,r,i,o,s,a,l,c,u,h,f,d={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=ku.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=ku.AREA_1,e-=Va):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=ku.AREA_2,e=e<0?e+Za:e-Za):(p.value=ku.AREA_3,e+=Va),c=Za/12*Math.tan(e),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(r=Math.cos(e))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===Ru)l=Math.acos(a),d.phi=Va-l,p.value===ku.AREA_0?d.lam=s+Va:p.value===ku.AREA_1?d.lam=s<0?s+Za:s-Za:p.value===ku.AREA_2?d.lam=s-Va:d.lam=s;else if(this.face===Lu)l=Math.acos(a),d.phi=l-Va,p.value===ku.AREA_0?d.lam=-s+Va:p.value===ku.AREA_1?d.lam=-s:p.value===ku.AREA_2?d.lam=-s-Va:d.lam=s<0?-s-Za:-s+Za;else{var A,g,y;c=(A=a)*A,g=(c+=(y=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*y)>=1?0:Math.sqrt(1-c),p.value===ku.AREA_1?(c=g,g=-y,y=c):p.value===ku.AREA_2?(g=-g,y=-y):p.value===ku.AREA_3&&(c=g,g=y,y=-c),this.face===Tu?(c=A,A=-g,g=c):this.face===Ou?(A=-A,g=-g):this.face===Iu&&(c=A,A=g,g=-c),d.phi=Math.acos(-y)-Va,d.lam=Math.atan2(g,A),this.face===Tu?d.lam=Nu(d.lam,-Va):this.face===Ou?d.lam=Nu(d.lam,-Za):this.face===Iu&&(d.lam=Nu(d.lam,+Va))}return 0!==this.es&&(u=d.phi<0?1:0,h=Math.tan(d.phi),f=this.b/Math.sqrt(h*h+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),u&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var Fu=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ju=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Uu=.8487,zu=1.3523,Gu=Qa/5,Vu=1/Gu,Hu=18,Wu=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};const qu={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=Sl(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*Gu);r<0?r=0:r>=Hu&&(r=17);var i={x:Wu(Fu[r],n=Qa*(n-Vu*r))*e,y:Wu(ju[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*Uu+this.x0,i.y=i.y*this.a*zu+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*Uu),y:Math.abs(t.y-this.y0)/(this.a*zu)};if(e.y>=1)e.x/=Fu[18][0],e.y=t.y<0?-Va:Va;else{var n=Math.floor(e.y*Hu);for(n<0?n=0:n>=Hu&&(n=17);;)if(ju[n][0]>e.y)--n;else{if(!(ju[n+1][0]<=e.y))break;++n}var r=ju[n],i=5*(e.y-r[0])/(ju[n+1][0]-r[0]);i=function(t,e,n,r){for(var i=e;r;--r){var o=t(i);if(i-=o,Math.abs(o)<n)break}return i}((function(t){return(Wu(r,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(r,t)}),i,Xa,100),e.x/=Wu(Fu[n],i),e.y=(5*n+i)*Ya,t.y<0&&(e.y=-e.y)}return e.x=Sl(e.x+this.long0),e},names:["Robinson","robin"]};const Xu={init:function(){this.name="geocent"},forward:function(t){return zl(t,this.es,this.a)},inverse:function(t){return Gl(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};Zl.defaultDatum="WGS84",Zl.Proj=Ul,Zl.WGS84=new Zl.Proj("WGS84"),Zl.Point=mc,Zl.toPoint=ql,Zl.defs=ml,Zl.transform=Yl,Zl.mgrs=ac,Zl.version="__VERSION__",function(t){t.Proj.projections.add(Bc),t.Proj.projections.add(zc),t.Proj.projections.add(Gc),t.Proj.projections.add(Wc),t.Proj.projections.add(qc),t.Proj.projections.add(Xc),t.Proj.projections.add(Yc),t.Proj.projections.add(Qc),t.Proj.projections.add(Kc),t.Proj.projections.add(ou),t.Proj.projections.add(du),t.Proj.projections.add(Au),t.Proj.projections.add(gu),t.Proj.projections.add(yu),t.Proj.projections.add(mu),t.Proj.projections.add(vu),t.Proj.projections.add(bu),t.Proj.projections.add(_u),t.Proj.projections.add(wu),t.Proj.projections.add(xu),t.Proj.projections.add(Eu),t.Proj.projections.add(Su),t.Proj.projections.add(Cu),t.Proj.projections.add(Pu),t.Proj.projections.add(Du),t.Proj.projections.add(qu),t.Proj.projections.add(Xu)}(Zl);const Yu=Zl;class Qu{static defineProjectionAliases(t){const e=[];for(const n in t)e.push([n,t[n]]);Yu.defs(e)}constructor(t){let{from:e="WGS84",to:n="WGS84"}=t;if(this._projection=Yu(e,n),!this._projection)throw new Error("Invalid projection");this.project=this.project.bind(this),this.unproject=this.unproject.bind(this)}project(t){return this._projection.forward(t)}unproject(t){return this._projection.inverse(t)}}function Ku(t,e){for(const n of t)n.geometry.coordinates=Ju(n.geometry.coordinates,e);return t}function Ju(t,e){return function(t){return Array.isArray(t)&&Number.isFinite(t[0])&&Number.isFinite(t[1])}(t)?e(t):t.map((t=>Ju(t,e)))}function Zu(t,e){if(null===t)return null;switch(e){case GeometryType.Point:case GeometryType.MultiPoint:return function(t){const e=t.xyArray(),n=t.zArray();return{positions:th(e,n)}}(t);case GeometryType.LineString:case GeometryType.MultiLineString:return function(t){const e=t.xyArray(),n=t.zArray(),r=th(e,n),i=t.endsArray()&&Array.from(t.endsArray())||[e.length/2];i.unshift(0);const o={value:new Uint16Array(i),size:1};return{positions:r,pathIndices:o}}(t);case GeometryType.Polygon:return $u(t);case GeometryType.MultiPolygon:return function(t){const e=[];let n=0,r=1,i=1;for(let f=0;f<t.partsLength();f++){const o=$u(t.parts(f));n+=o.positions.value.length,r+=o.primitivePolygonIndices.value.length-1,i+=o.polygonIndices.value.length-1,e.push(o)}const o=new Float64Array(n),s=new Uint32Array(r),a=new Uint32Array(i);let l=0,c=1,u=1;const h=e[0].positions.size;for(const f of e)o.set(f.positions.value,l*h),s.set(f.primitivePolygonIndices.value.subarray(1).map((t=>t+l)),c),a.set(f.polygonIndices.value.subarray(1).map((t=>t+l)),u),l+=f.positions.value.length/h,c+=f.primitivePolygonIndices.value.length-1,u+=f.polygonIndices.value.length-1;return{positions:{value:o,size:h},primitivePolygonIndices:{value:s,size:1},polygonIndices:{value:a,size:1}}}(t);default:throw new Error("Unimplemented geometry type: ".concat(e))}}function $u(t){const e=t.xyArray(),n=th(e,t.zArray()),r=t.endsArray()&&Array.from(t.endsArray())||[e.length/2];r.unshift(0);return{positions:n,primitivePolygonIndices:{value:new Uint16Array(r),size:1},polygonIndices:{value:new Uint16Array([0,e.length/2]),size:1}}}function th(t,e){if(!e)return{value:t,size:2};if(2*e.length!==t.length)throw new Error("Z array must be half XY array's length");const n=t.length+e.length,r=new Float64Array(n);for(let i=0;i<t.length/2;i++)r[3*i+0]=t[2*i+0],r[3*i+1]=t[2*i+1],r[3*i+2]=e[i];return{value:r,size:3}}function eh(t){var e,n;const r={title:t.title||"",description:t.description||"",crs:JSON.stringify(t.crs)||"",metadata:t.metadata||"",geometryType:String(t.geometryType),indexNodeSize:String(t.indexNodeSize),featureCount:String(t.featuresCount),bounds:(null===(e=t.envelope)||void 0===e?void 0:e.join(","))||""},i=(null===(n=t.columns)||void 0===n?void 0:n.map((t=>function(t){const e={title:t.title||"",description:t.description||"",width:String(t.width),precision:String(t.precision),scale:String(t.scale),unique:String(t.unique),primary_key:String(t.primary_key)};return{name:t.name,type:ih(t.type),nullable:t.nullable,metadata:e}}(t))))||[];return{metadata:r,fields:i}}var nh,rh;function ih(t){switch(t){case nh.Byte:return"int8";case nh.UByte:return"uint8";case nh.Bool:return"bool";case nh.Short:return"int16";case nh.UShort:return"uint16";case nh.Int:return"int32";case nh.UInt:return"uint32";case nh.Long:return"int64";case nh.ULong:return"uint64";case nh.Float:return"float32";case nh.Double:return"float64";case nh.String:return"utf8";case nh.Json:return"null";case nh.DateTime:return"date-millisecond";case nh.Binary:return"binary";default:return"null"}}function oh(t,e){const n=[];for(let r=0;r<t.length;r+=2){const i=[t[r],t[r+1]];e&&i.push(e[r>>1]),n.push(i)}return n}function sh(t,e,n){if(!n||0===n.length)return[oh(t,e)];let r=0;const i=Array.from(n).map((e=>t.slice(r,r=e<<1)));let o;return e&&(r=0,o=Array.from(n).map((t=>e.slice(r,r=t)))),i.map(((t,e)=>oh(t,o?o[e]:void 0)))}function ah(t,e){let n=e;if(n===rh.Unknown&&(n=t.type()),n===rh.GeometryCollection){const e=[];for(let n=0;n<t.partsLength();n++){const r=t.parts(n),i=r.type();e.push(ah(r,i))}return{type:rh[n],geometries:e}}if(n===rh.MultiPolygon){const e=[];for(let n=0;n<t.partsLength();n++)e.push(ah(t.parts(n),rh.Polygon));return{type:rh[n],coordinates:e.map((t=>t.coordinates))}}const r=function(t,e){const n=t.xyArray(),r=t.zArray();switch(e){case rh.Point:{const t=Array.from(n);return r&&t.push(r[0]),t}case rh.MultiPoint:case rh.LineString:return oh(n,r);case rh.MultiLineString:case rh.Polygon:return sh(n,r,t.endsArray())}}(t,n);return{type:rh[n],coordinates:r}}!function(t){t[t.Byte=0]="Byte",t[t.UByte=1]="UByte",t[t.Bool=2]="Bool",t[t.Short=3]="Short",t[t.UShort=4]="UShort",t[t.Int=5]="Int",t[t.UInt=6]="UInt",t[t.Long=7]="Long",t[t.ULong=8]="ULong",t[t.Float=9]="Float",t[t.Double=10]="Double",t[t.String=11]="String",t[t.Json=12]="Json",t[t.DateTime=13]="DateTime",t[t.Binary=14]="Binary"}(nh||(nh={})),function(t){t[t.Unknown=0]="Unknown",t[t.Point=1]="Point",t[t.LineString=2]="LineString",t[t.Polygon=3]="Polygon",t[t.MultiPoint=4]="MultiPoint",t[t.MultiLineString=5]="MultiLineString",t[t.MultiPolygon=6]="MultiPolygon",t[t.GeometryCollection=7]="GeometryCollection",t[t.CircularString=8]="CircularString",t[t.CompoundCurve=9]="CompoundCurve",t[t.CurvePolygon=10]="CurvePolygon",t[t.MultiCurve=11]="MultiCurve",t[t.MultiSurface=12]="MultiSurface",t[t.Curve=13]="Curve",t[t.Surface=14]="Surface",t[t.PolyhedralSurface=15]="PolyhedralSurface",t[t.TIN=16]="TIN",t[t.Triangle=17]="Triangle"}(rh||(rh={}));const lh=new Int32Array(2),ch=new Float32Array(lh.buffer),uh=new Float64Array(lh.buffer),hh=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];var fh,dh;!function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(fh||(fh={}));class ph{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new ph(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return lh[0]=this.readInt32(t),ch[0]}readFloat64(t){return lh[hh?0:1]=this.readInt32(t),lh[hh?1:0]=this.readInt32(t+4),uh[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){ch[0]=e,this.writeInt32(t,lh[0])}writeFloat64(t,e){uh[0]=e,this.writeInt32(t,lh[hh?0:1]),this.writeInt32(t+4,lh[hh?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);t+=4;const r=this.bytes_.subarray(t,t+n);return e===fh.UTF8_BYTES?r:this.text_decoder_.decode(r)}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createScalarList(t,e){const n=[];for(let r=0;r<e;++r){const e=t(r);null!==e&&n.push(e)}return n}createObjList(t,e){const n=[];for(let r=0;r<e;++r){const e=t(r);null!==e&&n.push(e.unpack())}return n}}!function(t){t[t.Byte=0]="Byte",t[t.UByte=1]="UByte",t[t.Bool=2]="Bool",t[t.Short=3]="Short",t[t.UShort=4]="UShort",t[t.Int=5]="Int",t[t.UInt=6]="UInt",t[t.Long=7]="Long",t[t.ULong=8]="ULong",t[t.Float=9]="Float",t[t.Double=10]="Double",t[t.String=11]="String",t[t.Json=12]="Json",t[t.DateTime=13]="DateTime",t[t.Binary=14]="Binary"}(dh||(dh={}));new TextEncoder;const Ah=new TextDecoder;function gh(t,e){const n={};if(!e||0===e.length)return n;const r=t.propertiesArray();if(!r)return n;const i=new DataView(r.buffer,r.byteOffset),o=t.propertiesLength();let s=0;for(;s<o;){const t=i.getUint16(s,!0);s+=2;const o=e[t],a=o.name;switch(o.type){case dh.Bool:n[a]=Boolean(i.getUint8(s)),s+=1;break;case dh.Byte:n[a]=i.getInt8(s),s+=1;break;case dh.UByte:n[a]=i.getUint8(s),s+=1;break;case dh.Short:n[a]=i.getInt16(s,!0),s+=2;break;case dh.UShort:n[a]=i.getUint16(s,!0),s+=2;break;case dh.Int:n[a]=i.getInt32(s,!0),s+=4;break;case dh.UInt:n[a]=i.getUint32(s,!0),s+=4;break;case dh.Long:n[a]=Number(i.getBigInt64(s,!0)),s+=8;break;case dh.ULong:n[a]=Number(i.getBigUint64(s,!0)),s+=8;break;case dh.Float:n[a]=i.getFloat32(s,!0),s+=4;break;case dh.Double:n[a]=i.getFloat64(s,!0),s+=8;break;case dh.DateTime:case dh.String:{const t=i.getUint32(s,!0);s+=4,n[a]=Ah.decode(r.subarray(s,s+t)),s+=t;break}case dh.Json:{const t=i.getUint32(s,!0);s+=4;const e=Ah.decode(r.subarray(s,s+t));n[a]=JSON.parse(e),s+=t;break}default:throw new Error("Unknown type ".concat(o.type))}}return n}function yh(t,e){const n=e.columns;return{type:"Feature",geometry:ah(t.geometry(),e.geometryType),properties:gh(t,n)}}const mh=new Uint8Array(0);function vh(t,e){if(!t.length)return e;if(!e.length)return t;var n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function bh(t){return"function"===typeof t.slice?t:new _h("function"===typeof t.read?t:t.getReader())}function _h(t){this._source=t,this._array=mh,this._index=0}_h.prototype.read=function(){var t=this,e=t._array.subarray(t._index);return t._source.read().then((function(n){return t._array=mh,t._index=0,n.done?e.length>0?{done:!1,value:e}:{done:!0,value:void 0}:{done:!1,value:vh(e,n.value)}}))},_h.prototype.slice=function(t){if((t|=0)<0)throw new Error("invalid length");var e=this,n=this._array.length-this._index;if(this._index+t<=this._array.length)return Promise.resolve(this._array.subarray(this._index,this._index+=t));var r=new Uint8Array(t);return r.set(this._array.subarray(this._index)),function i(){return e._source.read().then((function(o){return o.done?(e._array=mh,e._index=0,n>0?r.subarray(0,n):null):n+o.value.length>=t?(e._array=o.value,e._index=t-n,r.set(o.value.subarray(0,t-n),n),r):(r.set(o.value,n),n+=o.value.length,i())}))}()},_h.prototype.cancel=function(){return this._source.cancel()};var wh=n(54705);class xh{constructor(){(0,wh.A)(this,"bb",null),(0,wh.A)(this,"bb_pos",0)}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsColumn(t,e){return(e||new xh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsColumn(t,e){return t.setPosition(t.position()+4),(e||new xh).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}type(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):dh.Byte}title(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}width(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb_pos+t):-1}precision(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):-1}scale(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):-1}nullable(){const t=this.bb.__offset(this.bb_pos,18);return!t||Boolean(this.bb.readInt8(this.bb_pos+t))}unique(){const t=this.bb.__offset(this.bb_pos,20);return!!t&&Boolean(this.bb.readInt8(this.bb_pos+t))}primaryKey(){const t=this.bb.__offset(this.bb_pos,22);return!!t&&Boolean(this.bb.readInt8(this.bb_pos+t))}metadata(t){const e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__string(this.bb_pos+e,t):null}static startColumn(t){t.startObject(11)}static addName(t,e){t.addFieldOffset(0,e,0)}static addType(t,e){t.addFieldInt8(1,e,dh.Byte)}static addTitle(t,e){t.addFieldOffset(2,e,0)}static addDescription(t,e){t.addFieldOffset(3,e,0)}static addWidth(t,e){t.addFieldInt32(4,e,-1)}static addPrecision(t,e){t.addFieldInt32(5,e,-1)}static addScale(t,e){t.addFieldInt32(6,e,-1)}static addNullable(t,e){t.addFieldInt8(7,Number(e),Number(!0))}static addUnique(t,e){t.addFieldInt8(8,Number(e),Number(!1))}static addPrimaryKey(t,e){t.addFieldInt8(9,Number(e),Number(!1))}static addMetadata(t,e){t.addFieldOffset(10,e,0)}static endColumn(t){const e=t.endObject();return t.requiredField(e,4),e}static createColumn(t,e,n,r,i,o,s,a,l,c,u,h){return xh.startColumn(t),xh.addName(t,e),xh.addType(t,n),xh.addTitle(t,r),xh.addDescription(t,i),xh.addWidth(t,o),xh.addPrecision(t,s),xh.addScale(t,a),xh.addNullable(t,l),xh.addUnique(t,c),xh.addPrimaryKey(t,u),xh.addMetadata(t,h),xh.endColumn(t)}}class Eh{constructor(){(0,wh.A)(this,"bb",null),(0,wh.A)(this,"bb_pos",0)}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsGeometry(t,e){return(e||new Eh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsGeometry(t,e){return t.setPosition(t.position()+4),(e||new Eh).__init(t.readInt32(t.position())+t.position(),t)}ends(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*t):0}endsLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}endsArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}xy(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}xyLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}xyArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}z(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}zLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}zArray(){const t=this.bb.__offset(this.bb_pos,8);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}m(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}mLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}mArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}t(t){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}tLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}tArray(){const t=this.bb.__offset(this.bb_pos,12);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}tm(t){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*t):BigInt(0)}tmLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readUint8(this.bb_pos+t):rh.Unknown}parts(t,e){const n=this.bb.__offset(this.bb_pos,18);return n?(e||new Eh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}partsLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startGeometry(t){t.startObject(8)}static addEnds(t,e){t.addFieldOffset(0,e,0)}static createEndsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startEndsVector(t,e){t.startVector(4,e,4)}static addXy(t,e){t.addFieldOffset(1,e,0)}static createXyVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startXyVector(t,e){t.startVector(8,e,8)}static addZ(t,e){t.addFieldOffset(2,e,0)}static createZVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startZVector(t,e){t.startVector(8,e,8)}static addM(t,e){t.addFieldOffset(3,e,0)}static createMVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startMVector(t,e){t.startVector(8,e,8)}static addT(t,e){t.addFieldOffset(4,e,0)}static createTVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startTVector(t,e){t.startVector(8,e,8)}static addTm(t,e){t.addFieldOffset(5,e,0)}static createTmVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startTmVector(t,e){t.startVector(8,e,8)}static addType(t,e){t.addFieldInt8(6,e,rh.Unknown)}static addParts(t,e){t.addFieldOffset(7,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static endGeometry(t){return t.endObject()}static createGeometry(t,e,n,r,i,o,s,a,l){return Eh.startGeometry(t),Eh.addEnds(t,e),Eh.addXy(t,n),Eh.addZ(t,r),Eh.addM(t,i),Eh.addT(t,o),Eh.addTm(t,s),Eh.addType(t,a),Eh.addParts(t,l),Eh.endGeometry(t)}}class Sh{constructor(){(0,wh.A)(this,"bb",null),(0,wh.A)(this,"bb_pos",0)}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFeature(t,e){return(e||new Sh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFeature(t,e){return t.setPosition(t.position()+4),(e||new Sh).__init(t.readInt32(t.position())+t.position(),t)}geometry(t){const e=this.bb.__offset(this.bb_pos,4);return e?(t||new Eh).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}properties(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}propertiesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}propertiesArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}columns(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new xh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}columnsLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFeature(t){t.startObject(3)}static addGeometry(t,e){t.addFieldOffset(0,e,0)}static addProperties(t,e){t.addFieldOffset(1,e,0)}static createPropertiesVector(t,e){t.startVector(1,e.length,1);for(let n=e.length-1;n>=0;n--)t.addInt8(e[n]);return t.endVector()}static startPropertiesVector(t,e){t.startVector(1,e,1)}static addColumns(t,e){t.addFieldOffset(2,e,0)}static createColumnsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startColumnsVector(t,e){t.startVector(4,e,4)}static endFeature(t){return t.endObject()}static finishFeatureBuffer(t,e){t.finish(e)}static finishSizePrefixedFeatureBuffer(t,e){t.finish(e,void 0,!0)}static createFeature(t,e,n,r){return Sh.startFeature(t),Sh.addGeometry(t,e),Sh.addProperties(t,n),Sh.addColumns(t,r),Sh.endFeature(t)}}class Ch{constructor(){(0,wh.A)(this,"bb",null),(0,wh.A)(this,"bb_pos",0)}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCrs(t,e){return(e||new Ch).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCrs(t,e){return t.setPosition(t.position()+4),(e||new Ch).__init(t.readInt32(t.position())+t.position(),t)}org(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}code(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}name(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}wkt(t){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null}codeString(t){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}static startCrs(t){t.startObject(6)}static addOrg(t,e){t.addFieldOffset(0,e,0)}static addCode(t,e){t.addFieldInt32(1,e,0)}static addName(t,e){t.addFieldOffset(2,e,0)}static addDescription(t,e){t.addFieldOffset(3,e,0)}static addWkt(t,e){t.addFieldOffset(4,e,0)}static addCodeString(t,e){t.addFieldOffset(5,e,0)}static endCrs(t){return t.endObject()}static createCrs(t,e,n,r,i,o,s){return Ch.startCrs(t),Ch.addOrg(t,e),Ch.addCode(t,n),Ch.addName(t,r),Ch.addDescription(t,i),Ch.addWkt(t,o),Ch.addCodeString(t,s),Ch.endCrs(t)}}class Ph{constructor(){(0,wh.A)(this,"bb",null),(0,wh.A)(this,"bb_pos",0)}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsHeader(t,e){return(e||new Ph).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsHeader(t,e){return t.setPosition(t.position()+4),(e||new Ph).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}envelope(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}envelopeLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}envelopeArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}geometryType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):rh.Unknown}hasZ(){const t=this.bb.__offset(this.bb_pos,10);return!!t&&Boolean(this.bb.readInt8(this.bb_pos+t))}hasM(){const t=this.bb.__offset(this.bb_pos,12);return!!t&&Boolean(this.bb.readInt8(this.bb_pos+t))}hasT(){const t=this.bb.__offset(this.bb_pos,14);return!!t&&Boolean(this.bb.readInt8(this.bb_pos+t))}hasTm(){const t=this.bb.__offset(this.bb_pos,16);return!!t&&Boolean(this.bb.readInt8(this.bb_pos+t))}columns(t,e){const n=this.bb.__offset(this.bb_pos,18);return n?(e||new xh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}columnsLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}featuresCount(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint64(this.bb_pos+t):BigInt("0")}indexNodeSize(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readUint16(this.bb_pos+t):16}crs(t){const e=this.bb.__offset(this.bb_pos,24);return e?(t||new Ch).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}title(t){const e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){const e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__string(this.bb_pos+e,t):null}metadata(t){const e=this.bb.__offset(this.bb_pos,30);return e?this.bb.__string(this.bb_pos+e,t):null}static startHeader(t){t.startObject(14)}static addName(t,e){t.addFieldOffset(0,e,0)}static addEnvelope(t,e){t.addFieldOffset(1,e,0)}static createEnvelopeVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startEnvelopeVector(t,e){t.startVector(8,e,8)}static addGeometryType(t,e){t.addFieldInt8(2,e,rh.Unknown)}static addHasZ(t,e){t.addFieldInt8(3,Number(e),Number(!1))}static addHasM(t,e){t.addFieldInt8(4,Number(e),Number(!1))}static addHasT(t,e){t.addFieldInt8(5,Number(e),Number(!1))}static addHasTm(t,e){t.addFieldInt8(6,Number(e),Number(!1))}static addColumns(t,e){t.addFieldOffset(7,e,0)}static createColumnsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startColumnsVector(t,e){t.startVector(4,e,4)}static addFeaturesCount(t,e){t.addFieldInt64(8,e,BigInt("0"))}static addIndexNodeSize(t,e){t.addFieldInt16(9,e,16)}static addCrs(t,e){t.addFieldOffset(10,e,0)}static addTitle(t,e){t.addFieldOffset(11,e,0)}static addDescription(t,e){t.addFieldOffset(12,e,0)}static addMetadata(t,e){t.addFieldOffset(13,e,0)}static endHeader(t){return t.endObject()}static finishHeaderBuffer(t,e){t.finish(e)}static finishSizePrefixedHeaderBuffer(t,e){t.finish(e,void 0,!0)}}function Mh(t){const e=Ph.getRootAsHeader(t),n=e.featuresCount(),r=e.indexNodeSize(),i=[];for(let a=0;a<e.columnsLength();a++){const t=e.columns(a);if(!t)throw new Error("Column unexpectedly missing");if(!t.name())throw new Error("Column name unexpectedly missing");i.push({name:t.name(),type:t.type(),title:t.title(),description:t.description(),width:t.width(),precision:t.precision(),scale:t.scale(),nullable:t.nullable(),unique:t.unique(),primary_key:t.primaryKey()})}const o=e.crs(),s=o?{org:o.org(),code:o.code(),name:o.name(),description:o.description(),wkt:o.wkt(),code_string:o.codeString()}:null;return{geometryType:e.geometryType(),columns:i,envelope:null,featuresCount:Number(n),indexNodeSize:r,crs:s,title:e.title(),description:e.description(),metadata:e.metadata()}}var Th=function(t,e){return Th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Th(t,e)};function Oh(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){t.done?i(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function Ih(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Rh(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lh(t){return this instanceof Lh?(this.v=t,this):new Lh(t)}function kh(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{!function(t){t.value instanceof Lh?Promise.resolve(t.value.v).then(l,c):u(o[0][2],t)}(i[t](e))}catch(n){u(o[0][3],n)}}function l(t){a("next",t)}function c(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}var Bh=function(t){function e(e){var n=t.call(this,e)||this;return Object.defineProperty(n,"name",{value:"RepeaterOverflowError",enumerable:!1}),"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(n,n.constructor.prototype):n.__proto__=n.constructor.prototype,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(n,n.constructor),n}return function(t,e){function n(){this.constructor=t}Th(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error);(function(){function t(t){if(t<0)throw new RangeError("Capacity may not be less than 0");this._c=t,this._q=[]}Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._q.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return this._q.length>=this._c},enumerable:!1,configurable:!0}),t.prototype.add=function(t){if(this.full)throw new Error("Buffer full");this._q.push(t)},t.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()}})(),function(){function t(t){if(t<1)throw new RangeError("Capacity may not be less than 1");this._c=t,this._q=[]}Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._q.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.add=function(t){for(;this._q.length>=this._c;)this._q.shift();this._q.push(t)},t.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()}}(),function(){function t(t){if(t<1)throw new RangeError("Capacity may not be less than 1");this._c=t,this._q=[]}Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._q.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.add=function(t){this._q.length<this._c&&this._q.push(t)},t.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()}}();function Nh(t){null!=t&&"function"===typeof t.then&&t.then(zh,zh)}var Dh=2,Fh=3,jh=4,Uh=1024,zh=function(){};function Gh(t){var e=t.err,n=Promise.resolve(t.execution).then((function(t){if(null!=e)throw e;return t}));return t.err=void 0,t.execution=n.then((function(){}),(function(){})),void 0===t.pending?n:t.pending.then((function(){return n}))}function Vh(t,e){var n=t.state>=Fh;return Promise.resolve(e).then((function(e){return!n&&t.state>=jh?Gh(t).then((function(t){return{value:t,done:!0}})):{value:e,done:n}}))}function Hh(t,e){var n,r;if(!(t.state>=Dh))if(t.state=Dh,t.onnext(),t.onstop(),null==t.err&&(t.err=e),0!==t.pushes.length||"undefined"!==typeof t.buffer&&!t.buffer.empty)try{for(var i=Rh(t.pushes),o=i.next();!o.done;o=i.next()){o.value.resolve()}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}else Wh(t)}function Wh(t){var e,n;if(!(t.state>=Fh)){t.state<Dh&&Hh(t),t.state=Fh,t.buffer=void 0;try{for(var r=Rh(t.nexts),i=r.next();!i.done;i=r.next()){var o=i.value,s=void 0===t.pending?Gh(t):t.pending.then((function(){return Gh(t)}));o.resolve(Vh(t,s))}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}t.pushes=[],t.nexts=[]}}function qh(t){t.state>=jh||(t.state<Fh&&Wh(t),t.state=jh)}function Xh(t,e){if(Nh(e),t.pushes.length>=Uh)throw new Bh("No more than "+Uh+" pending calls to push are allowed on a single repeater.");if(t.state>=Dh)return Promise.resolve(void 0);var n,r=void 0===t.pending?Promise.resolve(e):t.pending.then((function(){return e}));(r=r.catch((function(e){t.state<Dh&&(t.err=e),qh(t)})),t.nexts.length)?(t.nexts.shift().resolve(Vh(t,r)),n=t.nexts.length?Promise.resolve(t.nexts[0].value):new Promise((function(e){return t.onnext=e}))):"undefined"===typeof t.buffer||t.buffer.full?n=new Promise((function(e){return t.pushes.push({resolve:e,value:r})})):(t.buffer.add(r),n=Promise.resolve(void 0));var i=!0,o={},s=n.catch((function(t){if(i)throw t}));return o.then=function(t,e){return i=!1,Promise.prototype.then.call(n,t,e)},o.catch=function(t){return i=!1,Promise.prototype.catch.call(n,t)},o.finally=n.finally.bind(n),t.pending=r.then((function(){return s})).catch((function(e){t.err=e,qh(t)})),o}function Yh(t){if(!(t.state>=1)){t.state=1;var e=Xh.bind(null,t),n=function(t){var e=Hh.bind(null,t),n=new Promise((function(e){return t.onstop=e}));return e.then=n.then.bind(n),e.catch=n.catch.bind(n),e.finally=n.finally.bind(n),e}(t);t.execution=new Promise((function(r){return r(t.executor(e,n))})),t.execution.catch((function(){return Hh(t)}))}}var Qh,Kh,Jh=new WeakMap,Zh=function(){function t(t,e){Jh.set(this,{executor:t,buffer:e,err:void 0,state:0,pushes:[],nexts:[],pending:void 0,execution:void 0,onnext:zh,onstop:zh})}return t.prototype.next=function(t){Nh(t);var e=Jh.get(this);if(void 0===e)throw new Error("WeakMap error");if(e.nexts.length>=Uh)throw new Bh("No more than "+Uh+" pending calls to next are allowed on a single repeater.");if(e.state<=0&&Yh(e),e.onnext(t),"undefined"!==typeof e.buffer&&!e.buffer.empty){var n=Vh(e,e.buffer.remove());if(e.pushes.length){var r=e.pushes.shift();e.buffer.add(r.value),e.onnext=r.resolve}return n}if(e.pushes.length){var i=e.pushes.shift();return e.onnext=i.resolve,Vh(e,i.value)}return e.state>=Dh?(Wh(e),Vh(e,Gh(e))):new Promise((function(n){return e.nexts.push({resolve:n,value:t})}))},t.prototype.return=function(t){Nh(t);var e=Jh.get(this);if(void 0===e)throw new Error("WeakMap error");return Wh(e),e.execution=Promise.resolve(e.execution).then((function(){return t})),Vh(e,Gh(e))},t.prototype.throw=function(t){var e=Jh.get(this);if(void 0===e)throw new Error("WeakMap error");return e.state<=0||e.state>=Dh||"undefined"!==typeof e.buffer&&!e.buffer.empty?(Wh(e),null==e.err&&(e.err=t),Vh(e,Gh(e))):this.next(Promise.reject(t))},t.prototype[Symbol.asyncIterator]=function(){return this},t.race=tf,t.merge=ef,t.zip=nf,t.latest=rf,t}();function $h(t,e){var n,r,i=[],o=function(t){null!=t&&"function"===typeof t[Symbol.asyncIterator]?i.push(t[Symbol.asyncIterator]()):null!=t&&"function"===typeof t[Symbol.iterator]?i.push(t[Symbol.iterator]()):i.push(function(){return kh(this,arguments,(function(){return Ih(this,(function(n){switch(n.label){case 0:return e.yieldValues?[4,Lh(t)]:[3,3];case 1:return[4,n.sent()];case 2:n.sent(),n.label=3;case 3:return e.returnValues?[4,Lh(t)]:[3,5];case 4:return[2,n.sent()];case 5:return[2]}}))}))}())};try{for(var s=Rh(t),a=s.next();!a.done;a=s.next()){o(a.value)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function tf(t){var e=this,n=$h(t,{returnValues:!0});return new Zh((function(t,r){return Oh(e,void 0,void 0,(function(){var e,i,o,s,a,l;return Ih(this,(function(c){switch(c.label){case 0:if(!n.length)return r(),[2];i=!1,r.then((function(){e(),i=!0})),c.label=1;case 1:c.trys.push([1,,5,7]),s=void 0,a=0,l=function(){var i,l,c,u,h,f;return Ih(this,(function(d){switch(d.label){case 0:i=a;try{for(h=void 0,l=Rh(n),c=l.next();!c.done;c=l.next())u=c.value,Promise.resolve(u.next()).then((function(t){t.done?(r(),void 0===o&&(o=t)):a===i&&(a++,e(t))}),(function(t){return r(t)}))}catch(p){h={error:p}}finally{try{c&&!c.done&&(f=l.return)&&f.call(l)}finally{if(h)throw h.error}}return[4,new Promise((function(t){return e=t}))];case 1:return void 0===(s=d.sent())?[3,3]:[4,t(s.value)];case 2:d.sent(),d.label=3;case 3:return[2]}}))},c.label=2;case 2:return i?[3,4]:[5,l()];case 3:return c.sent(),[3,2];case 4:return[2,o&&o.value];case 5:return r(),[4,Promise.race(n.map((function(t){return t.return&&t.return()})))];case 6:return c.sent(),[7];case 7:return[2]}}))}))}))}function ef(t){var e=this,n=$h(t,{yieldValues:!0});return new Zh((function(t,r){return Oh(e,void 0,void 0,(function(){var e,i,o,s=this;return Ih(this,(function(a){switch(a.label){case 0:if(!n.length)return r(),[2];e=[],i=!1,r.then((function(){var t,n;i=!0;try{for(var r=Rh(e),o=r.next();!o.done;o=r.next()){(0,o.value)()}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,Promise.all(n.map((function(n,a){return Oh(s,void 0,void 0,(function(){var s;return Ih(this,(function(l){switch(l.label){case 0:l.trys.push([0,,6,9]),l.label=1;case 1:return i?[3,5]:(Promise.resolve(n.next()).then((function(t){return e[a](t)}),(function(t){return r(t)})),[4,new Promise((function(t){e[a]=t}))]);case 2:return void 0===(s=l.sent())?[3,4]:s.done?(o=s,[2]):[4,t(s.value)];case 3:l.sent(),l.label=4;case 4:return[3,1];case 5:return[3,9];case 6:return n.return?[4,n.return()]:[3,8];case 7:l.sent(),l.label=8;case 8:return[7];case 9:return[2]}}))}))})))];case 2:return a.sent(),[2,o&&o.value];case 3:return r(),[7];case 4:return[2]}}))}))}))}function nf(t){var e=this,n=$h(t,{returnValues:!0});return new Zh((function(t,r){return Oh(e,void 0,void 0,(function(){var e,i,o,s;return Ih(this,(function(a){switch(a.label){case 0:if(!n.length)return r(),[2,[]];i=!1,r.then((function(){e(),i=!0})),a.label=1;case 1:a.trys.push([1,,6,8]),a.label=2;case 2:return i?[3,5]:(Promise.all(n.map((function(t){return t.next()}))).then((function(t){return e(t)}),(function(t){return r(t)})),[4,new Promise((function(t){return e=t}))]);case 3:return void 0===(o=a.sent())?[2]:(s=o.map((function(t){return t.value})),o.some((function(t){return t.done}))?[2,s]:[4,t(s)]);case 4:return a.sent(),[3,2];case 5:return[3,8];case 6:return r(),[4,Promise.all(n.map((function(t){return t.return&&t.return()})))];case 7:return a.sent(),[7];case 8:return[2]}}))}))}))}function rf(t){var e=this,n=$h(t,{yieldValues:!0,returnValues:!0});return new Zh((function(t,r){return Oh(e,void 0,void 0,(function(){var e,i,o,s,a,l=this;return Ih(this,(function(c){switch(c.label){case 0:if(!n.length)return r(),[2,[]];i=[],o=!1,r.then((function(){var t,n;e();try{for(var r=Rh(i),s=r.next();!s.done;s=r.next()){(0,s.value)()}}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}o=!0})),c.label=1;case 1:return c.trys.push([1,,5,7]),Promise.all(n.map((function(t){return t.next()}))).then((function(t){return e(t)}),(function(t){return r(t)})),[4,new Promise((function(t){return e=t}))];case 2:return void 0===(s=c.sent())?[2]:(a=s.map((function(t){return t.value})),s.every((function(t){return t.done}))?[2,a]:[4,t(a.slice())]);case 3:return c.sent(),[4,Promise.all(n.map((function(e,n){return Oh(l,void 0,void 0,(function(){var l;return Ih(this,(function(c){switch(c.label){case 0:if(s[n].done)return[2,s[n].value];c.label=1;case 1:return o?[3,4]:(Promise.resolve(e.next()).then((function(t){return i[n](t)}),(function(t){return r(t)})),[4,new Promise((function(t){return i[n]=t}))]);case 2:return void 0===(l=c.sent())?[2,s[n].value]:l.done?[2,l.value]:(a[n]=l.value,[4,t(a.slice())]);case 3:return c.sent(),[3,1];case 4:return[2]}}))}))})))];case 4:return[2,c.sent()];case 5:return r(),[4,Promise.all(n.map((function(t){return t.return&&t.return()})))];case 6:return c.sent(),[7];case 7:return[2]}}))}))}))}class of{constructor(){(0,wh.A)(this,"_extraRequestThreshold",262144)}extraRequestThreshold(){return this._extraRequestThreshold}setExtraRequestThreshold(t){if(t<0)throw new Error("extraRequestThreshold cannot be negative");this._extraRequestThreshold=t}}Qh=of,(0,wh.A)(of,"global",new Qh),function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error"}(Kh||(Kh={}));class sf{static debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log(Kh.Debug,...e)}static info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log(Kh.Info,...e)}static warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log(Kh.Warn,...e)}static error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log(Kh.Error,...e)}static log(t){if(!(this.logLevel>t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];switch(t){case Kh.Debug:console.debug(...n);break;case Kh.Info:console.info(...n);break;case Kh.Warn:console.warn(...n);break;case Kh.Error:console.error(...n)}}}}(0,wh.A)(sf,"logLevel",Kh.Warn);const af=40;function lf(t,e){e=Math.min(Math.max(Number(e),2),65535);let n=t,r=n;do{n=Math.ceil(n/e),r+=n}while(1!==n);return r*af}async function*cf(t,e,n,r){class i{constructor(t,e){(0,wh.A)(this,"_level",void 0),(0,wh.A)(this,"nodes",void 0),this._level=e,this.nodes=t}level(){return this._level}startNodeIdx(){return this.nodes[0]}endNodeIdx(){return this.nodes[1]}extendEndNodeIdx(t){console.assert(t>this.nodes[1]),this.nodes[1]=t}toString(){return"[NodeRange level: ".concat(this._level,", nodes: ").concat(this.nodes[0],"-").concat(this.nodes[1],"]")}}const{minX:o,minY:s,maxX:a,maxY:l}=n;sf.info("tree items: ".concat(t,", nodeSize: ").concat(e));const c=function(t,e){if(e<2)throw new Error("Node size must be at least 2");if(0===t)throw new Error("Number of items must be greater than 0");let n=t,r=n;const i=[n];do{n=Math.ceil(n/e),r+=n,i.push(n)}while(1!==n);const o=[];n=r;for(const a of i)o.push(n-a),n-=a;const s=[];for(let a=0;a<i.length;a++)s.push([o[a],o[a]+i[a]]);return s}(t,e),u=c[0][0],h=[(()=>{const t=c.length-1;return new i([0,1],t)})()];for(sf.debug("starting stream search with queue: ".concat(h,", numItems: ").concat(t,", nodeSize: ").concat(e,", levelBounds: ").concat(c));0!=h.length;){const n=h.shift();sf.debug("popped node: ".concat(n,", queueLength: ").concat(h.length));const f=n.startNodeIdx(),d=f>=u,p=(()=>{const[,t]=c[n.level()],r=Math.min(n.endNodeIdx()+e,t);return d&&r<t?r+1:r})(),A=p-f,g=await r(f*af,A*af),y=new DataView(g);for(let e=f;e<p;e++){const r=e-f,c=r*af;if(a<y.getFloat64(c+0,!0))continue;if(l<y.getFloat64(c+8,!0))continue;if(o>y.getFloat64(c+16,!0))continue;if(s>y.getFloat64(c+24,!0))continue;const p=y.getBigUint64(c+32,!0);if(d){const n=p,i=(()=>{if(e<t-1){const t=(r+1)*af;return y.getBigUint64(t+32,!0)-n}return null})(),o=e-u;yield[Number(n),o,Number(i)];continue}const A=p,g=of.global.extraRequestThreshold()/af,m=h[h.length-1];if(void 0!==m&&m.level()==n.level()-1&&A<m.endNodeIdx()+g){sf.debug('Merging "nodeRange" request into existing range: '.concat(m,", newEndNodeIdx: ").concat(m.endNodeIdx()," -> ").concat(A)),m.extendEndNodeIdx(Number(A));continue}const v=(()=>{const t=n.level()-1,e=[Number(A),Number(A)+1];return new i(e,t)})();void 0!==m&&m.level()==v.level()?sf.info("Same level, but too far away. Pushing new request for nodeIdx: ".concat(A," rather than merging with distant ").concat(m)):sf.info("Pushing new level for ".concat(v," onto queue with nearestNodeRange: ").concat(m," since there's not already a range for this level.")),h.push(v)}}}const uf=new Uint8Array([102,103,98,3,102,103,98,0]),hf=4;class ff{constructor(t,e,n,r){(0,wh.A)(this,"headerClient",void 0),(0,wh.A)(this,"header",void 0),(0,wh.A)(this,"headerLength",void 0),(0,wh.A)(this,"indexLength",void 0),this.headerClient=t,this.header=e,this.headerLength=n,this.indexLength=r}static async open(t){const e=new df(t),n=(()=>{let t,e=0;for(t=0;t<3;t++){e+=16**t*af}return e})(),r=2024+n;sf.debug("fetching header. minReqLength: ".concat(r," (assumedHeaderLength: ").concat(2024,", assumedIndexLength: ").concat(n,")"));{const t=new Uint8Array(await e.getRange(0,8,r,"header"));if(!t.subarray(0,3).every(((t,e)=>uf[e]===t)))throw sf.error("bytes: ".concat(t," != ").concat(uf)),new Error("Not a FlatGeobuf file");sf.debug("magic bytes look good")}let i;{const t=await e.getRange(8,4,r,"header");i=new DataView(t).getUint32(0,!0);if(i>10485760||i<8)throw new Error("Invalid header size");sf.debug("headerLength: ".concat(i))}const o=await e.getRange(12,i,r,"header"),s=Mh(new ph(new Uint8Array(o))),a=lf(s.featuresCount,s.indexNodeSize);return sf.debug("completed: opening http reader"),new ff(e,s,i,a)}async*selectBbox(t){const e=this.lengthBeforeTree(),n=this.headerClient,r=async function(t,r){return n.getRange(e+t,r,0,"index")},i=[];let o=[];for await(const a of cf(this.header.featuresCount,this.header.indexNodeSize,t,r)){const[t,,]=a;let[,,e]=a;if(e||(sf.info("final feature"),e=4),0==o.length){o.push([t,e]);continue}const n=o[o.length-1],r=t-(n[0]+n[1]);r>of.global.extraRequestThreshold()&&(sf.info("Pushing new feature batch, since gap ".concat(r," was too large")),i.push(o),o=[]),o.push([t,e])}this.headerClient.logUsage("header+index"),o.length>0&&i.push(o);const s=i.flatMap((t=>this.readFeatureBatch(t)));yield*Zh.merge(s)}lengthBeforeTree(){return uf.length+hf+this.headerLength}lengthBeforeFeatures(){return this.lengthBeforeTree()+this.indexLength}buildFeatureClient(){return new df(this.headerClient.httpClient)}async*readFeatureBatch(t){const[e]=t[0],[n,r]=t[t.length-1],i=n+r-e,o=this.buildFeatureClient();let s=i;for(const[a]of t)yield await this.readFeature(o,a,s),s=0;o.logUsage("feature")}async readFeature(t,e,n){const r=e+this.lengthBeforeFeatures();let i;{const e=await t.getRange(r,4,n,"feature length");i=new DataView(e).getUint32(0,!0)}const o=await t.getRange(r+4,i,n,"feature data"),s=new Uint8Array(o),a=new Uint8Array(i+hf);a.set(s,hf);const l=new ph(a);return l.setPosition(hf),Sh.getRootAsFeature(l)}}class df{constructor(t){if((0,wh.A)(this,"httpClient",void 0),(0,wh.A)(this,"bytesEverUsed",0),(0,wh.A)(this,"bytesEverFetched",0),(0,wh.A)(this,"buffer",new ArrayBuffer(0)),(0,wh.A)(this,"head",0),"string"===typeof t)this.httpClient=new pf(t);else{if(!(t instanceof pf))throw new Error("Unknown source ");this.httpClient=t}}async getRange(t,e,n,r){this.bytesEverUsed+=e;const i=t-this.head,o=i+e;if(i>=0&&o<=this.buffer.byteLength)return this.buffer.slice(i,o);const s=Math.max(e,n);return this.bytesEverFetched+=s,sf.debug("requesting for new Range: ".concat(t,"-").concat(t+s-1)),this.buffer=await this.httpClient.getRange(t,s,r),this.head=t,this.buffer.slice(0,e)}logUsage(t){const e=t.split(" ")[0],n=this.bytesEverUsed,r=this.bytesEverFetched,i=(100*n/r).toFixed(2);sf.info("".concat(e," bytes used/requested: ").concat(n," / ").concat(r," = ").concat(i,"%"))}}class pf{constructor(t){(0,wh.A)(this,"url",void 0),(0,wh.A)(this,"requestsEverMade",0),(0,wh.A)(this,"bytesEverRequested",0),this.url=t}async getRange(t,e,n){this.requestsEverMade+=1,this.bytesEverRequested+=e;const r="bytes=".concat(t,"-").concat(t+e-1);sf.info("request: #".concat(this.requestsEverMade,", purpose: ").concat(n,"), bytes: (this_request: ").concat(e,", ever: ").concat(this.bytesEverRequested,"), Range: ").concat(r));return(await fetch(this.url,{headers:{Range:r}})).arrayBuffer()}}function Af(t,e,n){if(!t.subarray(0,3).every(((t,e)=>uf[e]===t)))throw new Error("Not a FlatGeobuf file");const r=new ph(t),i=r.readUint32(uf.length);r.setPosition(uf.length+hf);const o=Mh(r);n&&n(o);let s=uf.length+hf+i;const{indexNodeSize:a,featuresCount:l}=o;a>0&&(s+=lf(l,a));const c=[];for(;s<r.capacity();){const t=r.readUint32(s);r.setPosition(s+hf);const n=Sh.getRootAsFeature(r);c.push(e(n,o)),s+=hf+t}return c}async function*gf(t,e,n){const r=bh(t),i=async t=>await r.slice(t);let o=new Uint8Array(await i(8));if(!o.subarray(0,3).every(((t,e)=>uf[e]===t)))throw new Error("Not a FlatGeobuf file");o=new Uint8Array(await i(4));let s=new ph(o);const a=s.readUint32(0);o=new Uint8Array(await i(a)),s=new ph(o);const l=Mh(s);n&&n(l);const{indexNodeSize:c,featuresCount:u}=l;if(c>0){const t=lf(u,c);await i(t)}let h;for(;h=await mf(i,l,e);)yield h}async function*yf(t,e,n,r){const i=await ff.open(t);sf.debug("opened reader"),r&&r(i.header);for await(const o of i.selectBbox(e))yield n(o,i.header)}async function mf(t,e,n){let r=new Uint8Array(await t(4,"feature length"));if(0===r.byteLength)return;let i=new ph(r);const o=i.readUint32(0);r=new Uint8Array(await t(o,"feature data"));const s=new Uint8Array(o+4);s.set(r,4),i=new ph(s),i.setPosition(hf);return n(Sh.getRootAsFeature(i),e)}const vf=function(t,e,n){return t instanceof Uint8Array?function(t,e){return{type:"FeatureCollection",features:Af(t,yh,e)}}(t,n):t instanceof ReadableStream?function(t,e){return gf(t,yh,e)}(t,n):function(t,e,n){return yf(t,e,yh,n)}(t,e,n)},bf=function(t,e,n){return t instanceof Uint8Array?Af(t,e):t instanceof ReadableStream?gf(t,e):yf(t,n,e)};function _f(t,e){const n=t.geometry(),r=e.geometryType||(null===n||void 0===n?void 0:n.type()),i=Zu(n,r);return i.properties=gh(t,e.columns),i}function wf(t,e){var n;const r=null===e||void 0===e||null===(n=e.flatgeobuf)||void 0===n?void 0:n.shape;switch(r){case"geojson-table":return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===t.byteLength)return{shape:"geojson-table",type:"FeatureCollection",features:[]};const{reproject:n=!1,_targetCrs:r="WGS84"}=e&&e.gis||{},i=new Uint8Array(t);let o,s,{features:a}=vf(i,void 0,(t=>{o=t,s=eh(o)}));const l=o&&o.crs;let c;if(n&&l)try{c=new Qu({from:l.wkt,to:r})}catch(u){}c&&(a=Ku(a,(t=>c.project(t))));return{shape:"geojson-table",schema:s,type:"FeatureCollection",features:a}}(t,e);case"columnar-table":return{shape:"columnar-table",data:xf(t,e)};case"binary":return xf(t,e);default:throw new Error(r)}}function xf(t){const e=new Uint8Array(t);return bf(e,Zu)}const Ef={...{dataType:null,batchType:null,id:"flatgeobuf",name:"FlatGeobuf",module:"flatgeobuf",version:"4.2.1",worker:!0,extensions:["fgb"],mimeTypes:["application/octet-stream"],category:"geometry",tests:[new Uint8Array([102,103,98,3,102,103,98,1]).buffer],options:{flatgeobuf:{shape:"geojson-table"},gis:{reproject:!1}}},parse:async(t,e)=>wf(t,e),parseSync:wf,parseInBatchesFromStream:function(t,e){var n;const r=null===(n=e.flatgeobuf)||void 0===n?void 0:n.shape;switch(r){case"binary":return function(t){const e=bf(t,_f);return e}(t);case"geojson-table":return async function*(t,e){const{reproject:n=!1,_targetCrs:r="WGS84"}=e&&e.gis||{};let i;const o=vf(t,void 0,(t=>{i=t}));let s,a=!0;for await(const l of o){if(a){const t=i&&i.crs;n&&t&&(s=new Qu({from:t.wkt,to:r})),a=!1}n&&s?yield Ku([l],(t=>s.project(t))):yield l}}(t,e);default:throw new Error(r)}},binary:!0};var Sf,Cf,Pf=n(56704);!function(t){t[t.Byte=0]="Byte",t[t.UByte=1]="UByte",t[t.Bool=2]="Bool",t[t.Short=3]="Short",t[t.UShort=4]="UShort",t[t.Int=5]="Int",t[t.UInt=6]="UInt",t[t.Long=7]="Long",t[t.ULong=8]="ULong",t[t.Float=9]="Float",t[t.Double=10]="Double",t[t.String=11]="String",t[t.Json=12]="Json",t[t.DateTime=13]="DateTime",t[t.Binary=14]="Binary"}(Sf||(Sf={}));class Mf{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsColumn(t,e){return(e||new Mf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsColumn(t,e){return t.setPosition(t.position()+4),(e||new Mf).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}type(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Sf.Byte}title(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}width(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb_pos+t):-1}precision(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):-1}scale(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):-1}nullable(){const t=this.bb.__offset(this.bb_pos,18);return!t||!!this.bb.readInt8(this.bb_pos+t)}unique(){const t=this.bb.__offset(this.bb_pos,20);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}primaryKey(){const t=this.bb.__offset(this.bb_pos,22);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}metadata(t){const e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__string(this.bb_pos+e,t):null}static startColumn(t){t.startObject(11)}static addName(t,e){t.addFieldOffset(0,e,0)}static addType(t,e){t.addFieldInt8(1,e,Sf.Byte)}static addTitle(t,e){t.addFieldOffset(2,e,0)}static addDescription(t,e){t.addFieldOffset(3,e,0)}static addWidth(t,e){t.addFieldInt32(4,e,-1)}static addPrecision(t,e){t.addFieldInt32(5,e,-1)}static addScale(t,e){t.addFieldInt32(6,e,-1)}static addNullable(t,e){t.addFieldInt8(7,+e,1)}static addUnique(t,e){t.addFieldInt8(8,+e,0)}static addPrimaryKey(t,e){t.addFieldInt8(9,+e,0)}static addMetadata(t,e){t.addFieldOffset(10,e,0)}static endColumn(t){const e=t.endObject();return t.requiredField(e,4),e}static createColumn(t,e,n,r,i,o,s,a,l,c,u,h){return Mf.startColumn(t),Mf.addName(t,e),Mf.addType(t,n),Mf.addTitle(t,r),Mf.addDescription(t,i),Mf.addWidth(t,o),Mf.addPrecision(t,s),Mf.addScale(t,a),Mf.addNullable(t,l),Mf.addUnique(t,c),Mf.addPrimaryKey(t,u),Mf.addMetadata(t,h),Mf.endColumn(t)}}class Tf{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCrs(t,e){return(e||new Tf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCrs(t,e){return t.setPosition(t.position()+4),(e||new Tf).__init(t.readInt32(t.position())+t.position(),t)}org(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}code(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}name(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}wkt(t){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null}codeString(t){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}static startCrs(t){t.startObject(6)}static addOrg(t,e){t.addFieldOffset(0,e,0)}static addCode(t,e){t.addFieldInt32(1,e,0)}static addName(t,e){t.addFieldOffset(2,e,0)}static addDescription(t,e){t.addFieldOffset(3,e,0)}static addWkt(t,e){t.addFieldOffset(4,e,0)}static addCodeString(t,e){t.addFieldOffset(5,e,0)}static endCrs(t){return t.endObject()}static createCrs(t,e,n,r,i,o,s){return Tf.startCrs(t),Tf.addOrg(t,e),Tf.addCode(t,n),Tf.addName(t,r),Tf.addDescription(t,i),Tf.addWkt(t,o),Tf.addCodeString(t,s),Tf.endCrs(t)}}!function(t){t[t.Unknown=0]="Unknown",t[t.Point=1]="Point",t[t.LineString=2]="LineString",t[t.Polygon=3]="Polygon",t[t.MultiPoint=4]="MultiPoint",t[t.MultiLineString=5]="MultiLineString",t[t.MultiPolygon=6]="MultiPolygon",t[t.GeometryCollection=7]="GeometryCollection",t[t.CircularString=8]="CircularString",t[t.CompoundCurve=9]="CompoundCurve",t[t.CurvePolygon=10]="CurvePolygon",t[t.MultiCurve=11]="MultiCurve",t[t.MultiSurface=12]="MultiSurface",t[t.Curve=13]="Curve",t[t.Surface=14]="Surface",t[t.PolyhedralSurface=15]="PolyhedralSurface",t[t.TIN=16]="TIN",t[t.Triangle=17]="Triangle"}(Cf||(Cf={}));class Of{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsHeader(t,e){return(e||new Of).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsHeader(t,e){return t.setPosition(t.position()+4),(e||new Of).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}envelope(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}envelopeLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}envelopeArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}geometryType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Cf.Unknown}hasZ(){const t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}hasM(){const t=this.bb.__offset(this.bb_pos,12);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}hasT(){const t=this.bb.__offset(this.bb_pos,14);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}hasTm(){const t=this.bb.__offset(this.bb_pos,16);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}columns(t,e){const n=this.bb.__offset(this.bb_pos,18);return n?(e||new Mf).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}columnsLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}featuresCount(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint64(this.bb_pos+t):BigInt("0")}indexNodeSize(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readUint16(this.bb_pos+t):16}crs(t){const e=this.bb.__offset(this.bb_pos,24);return e?(t||new Tf).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}title(t){const e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){const e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__string(this.bb_pos+e,t):null}metadata(t){const e=this.bb.__offset(this.bb_pos,30);return e?this.bb.__string(this.bb_pos+e,t):null}static startHeader(t){t.startObject(14)}static addName(t,e){t.addFieldOffset(0,e,0)}static addEnvelope(t,e){t.addFieldOffset(1,e,0)}static createEnvelopeVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startEnvelopeVector(t,e){t.startVector(8,e,8)}static addGeometryType(t,e){t.addFieldInt8(2,e,Cf.Unknown)}static addHasZ(t,e){t.addFieldInt8(3,+e,0)}static addHasM(t,e){t.addFieldInt8(4,+e,0)}static addHasT(t,e){t.addFieldInt8(5,+e,0)}static addHasTm(t,e){t.addFieldInt8(6,+e,0)}static addColumns(t,e){t.addFieldOffset(7,e,0)}static createColumnsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startColumnsVector(t,e){t.startVector(4,e,4)}static addFeaturesCount(t,e){t.addFieldInt64(8,e,BigInt("0"))}static addIndexNodeSize(t,e){t.addFieldInt16(9,e,16)}static addCrs(t,e){t.addFieldOffset(10,e,0)}static addTitle(t,e){t.addFieldOffset(11,e,0)}static addDescription(t,e){t.addFieldOffset(12,e,0)}static addMetadata(t,e){t.addFieldOffset(13,e,0)}static endHeader(t){return t.endObject()}static finishHeaderBuffer(t,e){t.finish(e)}static finishSizePrefixedHeaderBuffer(t,e){t.finish(e,void 0,!0)}}class If{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsGeometry(t,e){return(e||new If).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsGeometry(t,e){return t.setPosition(t.position()+4),(e||new If).__init(t.readInt32(t.position())+t.position(),t)}ends(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*t):0}endsLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}endsArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}xy(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}xyLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}xyArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}z(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}zLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}zArray(){const t=this.bb.__offset(this.bb_pos,8);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}m(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}mLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}mArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}t(t){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}tLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}tArray(){const t=this.bb.__offset(this.bb_pos,12);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}tm(t){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*t):BigInt(0)}tmLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readUint8(this.bb_pos+t):Cf.Unknown}parts(t,e){const n=this.bb.__offset(this.bb_pos,18);return n?(e||new If).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}partsLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startGeometry(t){t.startObject(8)}static addEnds(t,e){t.addFieldOffset(0,e,0)}static createEndsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startEndsVector(t,e){t.startVector(4,e,4)}static addXy(t,e){t.addFieldOffset(1,e,0)}static createXyVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startXyVector(t,e){t.startVector(8,e,8)}static addZ(t,e){t.addFieldOffset(2,e,0)}static createZVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startZVector(t,e){t.startVector(8,e,8)}static addM(t,e){t.addFieldOffset(3,e,0)}static createMVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startMVector(t,e){t.startVector(8,e,8)}static addT(t,e){t.addFieldOffset(4,e,0)}static createTVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addFloat64(e[n]);return t.endVector()}static startTVector(t,e){t.startVector(8,e,8)}static addTm(t,e){t.addFieldOffset(5,e,0)}static createTmVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startTmVector(t,e){t.startVector(8,e,8)}static addType(t,e){t.addFieldInt8(6,e,Cf.Unknown)}static addParts(t,e){t.addFieldOffset(7,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static endGeometry(t){return t.endObject()}static createGeometry(t,e,n,r,i,o,s,a,l){return If.startGeometry(t),If.addEnds(t,e),If.addXy(t,n),If.addZ(t,r),If.addM(t,i),If.addT(t,o),If.addTm(t,s),If.addType(t,a),If.addParts(t,l),If.endGeometry(t)}}class Rf{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFeature(t,e){return(e||new Rf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFeature(t,e){return t.setPosition(t.position()+4),(e||new Rf).__init(t.readInt32(t.position())+t.position(),t)}geometry(t){const e=this.bb.__offset(this.bb_pos,4);return e?(t||new If).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}properties(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}propertiesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}propertiesArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}columns(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Mf).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}columnsLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFeature(t){t.startObject(3)}static addGeometry(t,e){t.addFieldOffset(0,e,0)}static addProperties(t,e){t.addFieldOffset(1,e,0)}static createPropertiesVector(t,e){t.startVector(1,e.length,1);for(let n=e.length-1;n>=0;n--)t.addInt8(e[n]);return t.endVector()}static startPropertiesVector(t,e){t.startVector(1,e,1)}static addColumns(t,e){t.addFieldOffset(2,e,0)}static createColumnsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startColumnsVector(t,e){t.startVector(4,e,4)}static endFeature(t){return t.endObject()}static finishFeatureBuffer(t,e){t.finish(e)}static finishSizePrefixedFeatureBuffer(t,e){t.finish(e,void 0,!0)}static createFeature(t,e,n,r){return Rf.startFeature(t),Rf.addGeometry(t,e),Rf.addProperties(t,n),Rf.addColumns(t,r),Rf.endFeature(t)}}function Lf(t){const e=Of.getRootAsHeader(t),n=e.featuresCount(),r=e.indexNodeSize(),i=[];for(let a=0;a<e.columnsLength();a++){const t=e.columns(a);if(!t)throw new Error("Column unexpectedly missing");if(!t.name())throw new Error("Column name unexpectedly missing");i.push({name:t.name(),type:t.type(),title:t.title(),description:t.description(),width:t.width(),precision:t.precision(),scale:t.scale(),nullable:t.nullable(),unique:t.unique(),primary_key:t.primaryKey()})}const o=e.crs(),s=o?{org:o.org(),code:o.code(),name:o.name(),description:o.description(),wkt:o.wkt(),code_string:o.codeString()}:null;return{geometryType:e.geometryType(),columns:i,envelope:null,featuresCount:Number(n),indexNodeSize:r,crs:s,title:e.title(),description:e.description(),metadata:e.metadata()}}function kf(t,e){const n=[];for(let r=0;r<t.length;r+=2){const i=[t[r],t[r+1]];e&&i.push(e[r>>1]),n.push(i)}return n}new TextEncoder;const Bf=new TextDecoder;function Nf(t,e){const n={};if(!e||0===e.length)return n;const r=t.propertiesArray();if(!r)return n;const i=new DataView(r.buffer,r.byteOffset),o=t.propertiesLength();let s=0;for(;s<o;){const t=i.getUint16(s,!0);s+=2;const o=e[t],a=o.name;switch(o.type){case Sf.Bool:n[a]=!!i.getUint8(s),s+=1;break;case Sf.Byte:n[a]=i.getInt8(s),s+=1;break;case Sf.UByte:n[a]=i.getUint8(s),s+=1;break;case Sf.Short:n[a]=i.getInt16(s,!0),s+=2;break;case Sf.UShort:n[a]=i.getUint16(s,!0),s+=2;break;case Sf.Int:n[a]=i.getInt32(s,!0),s+=4;break;case Sf.UInt:n[a]=i.getUint32(s,!0),s+=4;break;case Sf.Long:n[a]=Number(i.getBigInt64(s,!0)),s+=8;break;case Sf.ULong:n[a]=Number(i.getBigUint64(s,!0)),s+=8;break;case Sf.Float:n[a]=i.getFloat32(s,!0),s+=4;break;case Sf.Double:n[a]=i.getFloat64(s,!0),s+=8;break;case Sf.DateTime:case Sf.String:{const t=i.getUint32(s,!0);s+=4,n[a]=Bf.decode(r.subarray(s,s+t)),s+=t;break}case Sf.Json:{const t=i.getUint32(s,!0);s+=4;const e=Bf.decode(r.subarray(s,s+t));n[a]=JSON.parse(e),s+=t;break}default:throw new Error("Unknown type "+o.type)}}return n}class Df{constructor(){this._extraRequestThreshold=262144}extraRequestThreshold(){return this._extraRequestThreshold}setExtraRequestThreshold(t){if(t<0)throw new Error("extraRequestThreshold cannot be negative");this._extraRequestThreshold=t}}Df.global=new Df;const Ff=Df;var jf;!function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error"}(jf||(jf={}));class Uf{static debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log(jf.Debug,...e)}static info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log(jf.Info,...e)}static warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log(jf.Warn,...e)}static error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log(jf.Error,...e)}static log(t){if(!(this.logLevel>t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];switch(t){case jf.Debug:console.debug(...n);break;case jf.Info:console.info(...n);break;case jf.Warn:console.warn(...n);break;case jf.Error:console.error(...n)}}}}Uf.logLevel=jf.Warn;const zf=Uf,Gf=40;function Vf(t,e){e=Math.min(Math.max(+e,2),65535);let n=t,r=n;do{n=Math.ceil(n/e),r+=n}while(1!==n);return r*Gf}async function*Hf(t,e,n,r){class i{constructor(t,e){this._level=e,this.nodes=t}level(){return this._level}startNodeIdx(){return this.nodes[0]}endNodeIdx(){return this.nodes[1]}extendEndNodeIdx(t){console.assert(t>this.nodes[1]),this.nodes[1]=t}toString(){return"[NodeRange level: ".concat(this._level,", nodes: ").concat(this.nodes[0],"-").concat(this.nodes[1],"]")}}const{minX:o,minY:s,maxX:a,maxY:l}=n;zf.info("tree items: ".concat(t,", nodeSize: ").concat(e));const c=function(t,e){if(e<2)throw new Error("Node size must be at least 2");if(0===t)throw new Error("Number of items must be greater than 0");let n=t,r=n;const i=[n];do{n=Math.ceil(n/e),r+=n,i.push(n)}while(1!==n);const o=[];n=r;for(const a of i)o.push(n-a),n-=a;const s=[];for(let a=0;a<i.length;a++)s.push([o[a],o[a]+i[a]]);return s}(t,e),u=c[0][0],h=[(()=>{const t=c.length-1;return new i([0,1],t)})()];for(zf.debug("starting stream search with queue: ".concat(h,", numItems: ").concat(t,", nodeSize: ").concat(e,", levelBounds: ").concat(c));0!=h.length;){const n=h.shift();zf.debug("popped node: ".concat(n,", queueLength: ").concat(h.length));const f=n.startNodeIdx(),d=f>=u,p=(()=>{const[,t]=c[n.level()],r=Math.min(n.endNodeIdx()+e,t);return d&&r<t?r+1:r})(),A=p-f,g=await r(f*Gf,A*Gf),y=new DataView(g);for(let e=f;e<p;e++){const r=e-f,c=r*Gf;if(a<y.getFloat64(c+0,!0))continue;if(l<y.getFloat64(c+8,!0))continue;if(o>y.getFloat64(c+16,!0))continue;if(s>y.getFloat64(c+24,!0))continue;const p=y.getBigUint64(c+32,!0);if(d){const n=p,i=(()=>{if(e<t-1){const t=(r+1)*Gf;return y.getBigUint64(t+32,!0)-n}return null})(),o=e-u;yield[Number(n),o,Number(i)];continue}const A=p,g=Ff.global.extraRequestThreshold()/Gf,m=h[h.length-1];if(void 0!==m&&m.level()==n.level()-1&&A<m.endNodeIdx()+g){zf.debug('Merging "nodeRange" request into existing range: '.concat(m,", newEndNodeIdx: ").concat(m.endNodeIdx()," -> ").concat(A)),m.extendEndNodeIdx(Number(A));continue}const v=(()=>{const t=n.level()-1,e=[Number(A),Number(A)+1];return new i(e,t)})();void 0!==m&&m.level()==v.level()?zf.info("Same level, but too far away. Pushing new request for nodeIdx: ".concat(A," rather than merging with distant ").concat(m)):zf.info("Pushing new level for ".concat(v," onto queue with nearestNodeRange: ").concat(m," since there's not already a range for this level.")),h.push(v)}}}const Wf=new Uint8Array([102,103,98,3,102,103,98,0]),qf=4;class Xf{constructor(t,e,n,r,i){this.headerClient=t,this.header=e,this.headerLength=n,this.indexLength=r,this.nocache=i}static async open(t,e){const n=new Yf(t,e),r=(()=>{let t,e=0;for(t=0;t<3;t++){e+=16**t*Gf}return e})(),i=2024+r;zf.debug("fetching header. minReqLength: ".concat(i," (assumedHeaderLength: ").concat(2024,", assumedIndexLength: ").concat(r,")"));{const t=new Uint8Array(await n.getRange(0,8,i,"header"));if(!t.subarray(0,3).every(((t,e)=>Wf[e]===t)))throw zf.error("bytes: ".concat(t," != ").concat(Wf)),new Error("Not a FlatGeobuf file");zf.debug("magic bytes look good")}let o;{const t=await n.getRange(8,4,i,"header");o=new DataView(t).getUint32(0,!0);if(o>10485760||o<8)throw new Error("Invalid header size");zf.debug("headerLength: ".concat(o))}const s=await n.getRange(12,o,i,"header"),a=Lf(new ph(new Uint8Array(s))),l=Vf(a.featuresCount,a.indexNodeSize);return zf.debug("completed: opening http reader"),new Xf(n,a,o,l,e)}async*selectBbox(t){const e=this.lengthBeforeTree(),n=this.headerClient,r=async function(t,r){return n.getRange(e+t,r,0,"index")},i=[];let o=[];for await(const a of Hf(this.header.featuresCount,this.header.indexNodeSize,t,r)){const[t,,]=a;let[,,e]=a;if(e||(zf.info("final feature"),e=4),0==o.length){o.push([t,e]);continue}const n=o[o.length-1],r=t-(n[0]+n[1]);r>Ff.global.extraRequestThreshold()&&(zf.info("Pushing new feature batch, since gap ".concat(r," was too large")),i.push(o),o=[]),o.push([t,e])}this.headerClient.logUsage("header+index"),o.length>0&&i.push(o);const s=i.flatMap((t=>this.readFeatureBatch(t,this.nocache)));yield*Zh.merge(s)}lengthBeforeTree(){return Wf.length+qf+this.headerLength}lengthBeforeFeatures(){return this.lengthBeforeTree()+this.indexLength}buildFeatureClient(t){return new Yf(this.headerClient.httpClient,t)}async*readFeatureBatch(t,e){const[n]=t[0],[r,i]=t[t.length-1],o=r+i-n,s=this.buildFeatureClient(e);let a=o;for(const[l]of t)yield await this.readFeature(s,l,a),a=0;s.logUsage("feature")}async readFeature(t,e,n){const r=e+this.lengthBeforeFeatures();let i;{const e=await t.getRange(r,4,n,"feature length");i=new DataView(e).getUint32(0,!0)}const o=await t.getRange(r+4,i,n,"feature data"),s=new Uint8Array(o),a=new Uint8Array(i+qf);a.set(s,qf);const l=new ph(a);return l.setPosition(qf),Rf.getRootAsFeature(l)}}class Yf{constructor(t,e){if(this.bytesEverUsed=0,this.bytesEverFetched=0,this.buffer=new ArrayBuffer(0),this.head=0,"string"===typeof t)this.httpClient=new Qf(t,e);else{if(!(t instanceof Qf))throw new Error("Unknown source ");this.httpClient=t}}async getRange(t,e,n,r){this.bytesEverUsed+=e;const i=t-this.head,o=i+e;if(i>=0&&o<=this.buffer.byteLength)return this.buffer.slice(i,o);const s=Math.max(e,n);return this.bytesEverFetched+=s,zf.debug("requesting for new Range: ".concat(t,"-").concat(t+s-1)),this.buffer=await this.httpClient.getRange(t,s,r),this.head=t,this.buffer.slice(0,e)}logUsage(t){const e=t.split(" ")[0],n=this.bytesEverUsed,r=this.bytesEverFetched,i=(100*n/r).toFixed(2);zf.info("".concat(e," bytes used/requested: ").concat(n," / ").concat(r," = ").concat(i,"%"))}}class Qf{constructor(t,e){this.requestsEverMade=0,this.bytesEverRequested=0,this.url=t,this.nocache=e}async getRange(t,e,n){this.requestsEverMade+=1,this.bytesEverRequested+=e;const r="bytes=".concat(t,"-").concat(t+e-1);zf.info("request: #".concat(this.requestsEverMade,", purpose: ").concat(n,"), bytes: (this_request: ").concat(e,", ever: ").concat(this.bytesEverRequested,"), Range: ").concat(r));const i={Range:r};this.nocache&&(i["Cache-Control"]="no-cache, no-store");return(await fetch(this.url,{headers:i})).arrayBuffer()}}async function Kf(t,e,n){let r=new Uint8Array(await t(4,"feature length"));if(0===r.byteLength)return;let i=new ph(r);const o=i.readUint32(0);r=new Uint8Array(await t(o,"feature data"));const s=new Uint8Array(o+4);s.set(r,4),i=new ph(s),i.setPosition(qf);return n(Rf.getRootAsFeature(i),e)}function Jf(t,e,n){if(!n||0===n.length)return[kf(t,e)];let r=0;const i=Array.from(n).map((e=>t.slice(r,r=e<<1)));let o;return e&&(r=0,o=Array.from(n).map((t=>e.slice(r,r=t)))),i.map(((t,e)=>kf(t,o?o[e]:void 0)))}function Zf(t,e){let n=e;if(n===Cf.Unknown&&(n=t.type()),n===Cf.GeometryCollection){const e=[];for(let n=0;n<t.partsLength();n++){const r=t.parts(n),i=r.type();e.push(Zf(r,i))}return{type:Cf[n],geometries:e}}if(n===Cf.MultiPolygon){const e=[];for(let n=0;n<t.partsLength();n++)e.push(Zf(t.parts(n),Cf.Polygon));return{type:Cf[n],coordinates:e.map((t=>t.coordinates))}}const r=function(t,e){const n=t.xyArray(),r=t.zArray();switch(e){case Cf.Point:{const t=Array.from(n);return r&&t.push(r[0]),t}case Cf.MultiPoint:case Cf.LineString:return kf(n,r);case Cf.MultiLineString:case Cf.Polygon:return Jf(n,r,t.endsArray())}}(t,n);return{type:Cf[n],coordinates:r}}function $f(t,e){const n=e.columns;return{type:"Feature",geometry:Zf(t.geometry(),e.geometryType),properties:Nf(t,n)}}function td(t,e){const n=function(t,e,n){if(!t.subarray(0,3).every(((t,e)=>Wf[e]===t)))throw new Error("Not a FlatGeobuf file");const r=new ph(t),i=r.readUint32(Wf.length);r.setPosition(Wf.length+qf);const o=Lf(r);n&&n(o);let s=Wf.length+qf+i;const{indexNodeSize:a,featuresCount:l}=o;a>0&&(s+=Vf(l,a));const c=[];for(;s<r.capacity();){const t=r.readUint32(s);r.setPosition(s+qf);const n=Rf.getRootAsFeature(r);c.push(e(n,o)),s+=qf+t}return c}(t,$f,e);return{type:"FeatureCollection",features:n}}function ed(t,e){return async function*(t,e,n){const r=bh(t),i=async t=>await r.slice(t);let o=new Uint8Array(await i(8));if(!o.subarray(0,3).every(((t,e)=>Wf[e]===t)))throw new Error("Not a FlatGeobuf file");o=new Uint8Array(await i(4));let s=new ph(o);const a=s.readUint32(0);o=new Uint8Array(await i(a)),s=new ph(o);const l=Lf(s);n&&n(l);const{indexNodeSize:c,featuresCount:u}=l;if(c>0){const t=Vf(u,c);await i(t)}let h;for(;h=await Kf(i,l,e);)yield h}(t,$f,e)}function nd(t,e,n){return function(t,e,n,r){try{let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return async function*(){const o=await Xf.open(t,i);zf.debug("opened reader"),r&&r(o.header);for await(const t of o.selectBbox(e))yield n(t,o.header)}()}catch(i){return Promise.reject(i)}}(t,e,$f,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}!function(t,e,n){var r=[],i=rA(iA(t),.5),o=rA(iA(e),.5),s=Math.floor(n/2);for(let a=0;a<s;a++)r.push(oA(sA(iA(t),i,a/(s-1))));for(let a=0;a<s;a++)r.push(oA(sA(o,iA(e),a/(s-1))))}("#bdddff","#1A57FF",8);const rd={latitude:24.748492613357698,longitude:-107.39527779958091,zoom:15,transitionDuration:100,pitch:60,maxPitch:85,bearing:0,minZoom:12,maxZoom:22},id=(t,e)=>{if(!t)return[null,[]];const n=od[e]||{},r=n.ranges||[Math.min(...Object.values(t).filter((t=>t>0))),Math.max(...Object.values(t))],i=n.startColor||hd.ACCESIBILIDAD.light,o=n.endColor||hd.ACCESIBILIDAD.dark,s=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}(Gn(i,o),n.ranges?r.length-1:5);return[n.ranges?io().domain(r).range([i,...s]):ro().domain(r).range(s),s]},od={poblacion:{query:"pobtot",title:"Poblaci\xf3n Total",ranges:[0,100,200,300,400,800],type:"number"},viviendas_habitadas:{query:"vivpar_hab",title:"Viviendas Particulares Habitadas",ranges:[0,25,50,100,150,200],type:"number"},viviendas_deshabitadas:{query:"VIVPAR_DES * 1.0 / VIVPAR_HAB * 100",title:"Porcentaje de Viviendas Particulares Deshabitadas",ranges:[0,25,50,75,100],type:"percentage"},grado_escuela:{query:"graproes",title:"Grado Promedio de Escolaridad",ranges:[1,6,9,12,16,18],type:"number"},indice_bienestar:{query:"puntuaje_hogar_digno * 100",title:"\xcdndice de Bienestar",ranges:[0,25,50,75,100],type:"percentage"},viviendas_tinaco:{query:"vph_tinaco * 1.0 / NULLIF(vivpar_hab, 0) * 100",title:"Porcentaje de Viviendas con Tinaco",ranges:[0,25,50,75,100],type:"percentage"},viviendas_pc:{query:"vph_pc * 1.0 / NULLIF(vivpar_hab, 0) * 100",title:"Porcentaje de Viviendas con PC",ranges:[0,25,50,75,100],type:"percentage"},viviendas_auto:{query:"vph_autom * 1.0 / NULLIF(vivpar_hab, 0) * 100",title:"Porcentaje de Viviendas con Vehiculo Privado",ranges:[0,50,70,90,100],type:"percentage"},minutes:{query:"minutes",title:"Minutos",ranges:[0,5,15,30,45,60],type:"minutes",startColor:"darkblue",endColor:"#cbe8f7"}},sd=[{value:"asistencial_social",label:"Asistencia social",type:"health"},{value:"laboratorios_clinicos",label:"Laboratorios cl\xednicos",type:"health"},{value:"otros_consultorios",label:"Otros consultorios",type:"health"},{value:"consultorios_medicos",label:"Consultorios m\xe9dicos",type:"health"},{value:"hospital_general",label:"Hospital general",type:"health"},{value:"hospitales_psiquiatricos",label:"Hospitales psiqui\xe1tricos",type:"health"},{value:"hospitales_otras_especialidades",label:"Hospitales otras especialidades",type:"health"},{value:"farmacia",label:"Farmacia",type:"health"},{value:"clubs_deportivos_y_acondicionamiento_fisico",label:"Clubs deportivos y de acondicionamiento f\xedsico",type:"health"},{value:"cine",label:"Cine",type:"recreation"},{value:"otros_servicios_recreativos",label:"Otros Servicios recreativos",type:"recreation"},{value:"parques_recreativos",label:"Parques recreativos",type:"park"},{value:"museos",label:"Museos",type:"recreation"},{value:"biblioteca",label:"Biblioteca",type:"recreation"},{value:"guarderia",label:"Guarderia",type:"education"},{value:"educacion_preescolar",label:"Educaci\xf3n Preescolar",type:"education"},{value:"educacion_primaria",label:"Educaci\xf3n Primaria",type:"education"},{value:"educacion_secundaria",label:"Educaci\xf3n Secundaria",type:"education"},{value:"educacion_media_superior",label:"Educaci\xf3n Media Superior",type:"education"}],ad={1:"1ero Primaria",2:"2do Primaria",3:"3ero Primaria",4:"4to Primaria",5:"5to Primaria",6:"6to Primaria",7:"1ero Secundaria",8:"2do Secundaria",9:"3ero Secundaria",10:"1ero Preparatoria",11:"2do Preparatoria",12:"3ero Preparatoria",13:"1ero Universidad",14:"2do Universidad",15:"3ero Universidad",16:"4to Universidad",17:"Posgrado",18:"Posgrado"};let ld=function(t){return t[t.FULL=0]="FULL",t[t.POLIGON=1]="POLIGON",t[t.LENS=2]="LENS",t}({}),cd=function(t){return t[t.VIEW=0]="VIEW",t[t.EDIT=1]="EDIT",t[t.DELETE=2]="DELETE",t}({}),ud=function(t){return t[t.VISOR=0]="VISOR",t[t.ACCESIBILIDAD=1]="ACCESIBILIDAD",t[t.POTENCIAL=2]="POTENCIAL",t}({});const hd={VISOR:{primary:"rgb(107, 127, 20)",secondary:"rgb(163, 177, 108)",light:"rgba(200, 255, 200, 1)",dark:"rgba(0, 100, 0, 1)"},ACCESIBILIDAD:{light:"lightblue",dark:"darkblue"}},fd={education:"#cc9999",health:"#7c6eb1",recreation:"#eab642",park:"#7ea48d"};var dd=Symbol.for("immer-nothing"),pd=Symbol.for("immer-draftable"),Ad=Symbol.for("immer-state");function gd(t){throw new Error("[Immer] minified error nr: ".concat(t,". Full error at: https://bit.ly/3cXEKWf"))}var yd=Object.getPrototypeOf;function md(t){return!!t&&!!t[Ad]}function vd(t){var e;return!!t&&(_d(t)||Array.isArray(t)||!!t[pd]||!(null===(e=t.constructor)||void 0===e||!e[pd])||Cd(t)||Pd(t))}var bd=Object.prototype.constructor.toString();function _d(t){if(!t||"object"!==typeof t)return!1;const e=yd(t);if(null===e)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===bd}function wd(t,e){0===xd(t)?Reflect.ownKeys(t).forEach((n=>{e(n,t[n],t)})):t.forEach(((n,r)=>e(r,n,t)))}function xd(t){const e=t[Ad];return e?e.type_:Array.isArray(t)?1:Cd(t)?2:Pd(t)?3:0}function Ed(t,e){return 2===xd(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Sd(t,e,n){const r=xd(t);2===r?t.set(e,n):3===r?t.add(n):t[e]=n}function Cd(t){return t instanceof Map}function Pd(t){return t instanceof Set}function Md(t){return t.copy_||t.base_}function Td(t,e){if(Cd(t))return new Map(t);if(Pd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=_d(t);if(!0===e||"class_only"===e&&!n){const e=Object.getOwnPropertyDescriptors(t);delete e[Ad];let n=Reflect.ownKeys(e);for(let r=0;r<n.length;r++){const i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(yd(t),e)}{const e=yd(t);if(null!==e&&n)return{...t};const r=Object.create(e);return Object.assign(r,t)}}function Od(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Rd(t)||md(t)||!vd(t)||(xd(t)>1&&(t.set=t.add=t.clear=t.delete=Id),Object.freeze(t),e&&Object.entries(t).forEach((t=>{let[e,n]=t;return Od(n,!0)}))),t}function Id(){gd(2)}function Rd(t){return Object.isFrozen(t)}var Ld,kd={};function Bd(t){const e=kd[t];return e||gd(0),e}function Nd(){return Ld}function Dd(t,e){e&&(Bd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Fd(t){jd(t),t.drafts_.forEach(zd),t.drafts_=null}function jd(t){t===Ld&&(Ld=t.parent_)}function Ud(t){return Ld={drafts_:[],parent_:Ld,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zd(t){const e=t[Ad];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function Gd(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return void 0!==t&&t!==n?(n[Ad].modified_&&(Fd(e),gd(4)),vd(t)&&(t=Vd(e,t),e.parent_||Wd(e,t)),e.patches_&&Bd("Patches").generateReplacementPatches_(n[Ad].base_,t,e.patches_,e.inversePatches_)):t=Vd(e,n,[]),Fd(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==dd?t:void 0}function Vd(t,e,n){if(Rd(e))return e;const r=e[Ad];if(!r)return wd(e,((i,o)=>Hd(t,r,e,i,o,n))),e;if(r.scope_!==t)return e;if(!r.modified_)return Wd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const e=r.copy_;let i=e,o=!1;3===r.type_&&(i=new Set(e),e.clear(),o=!0),wd(i,((i,s)=>Hd(t,r,e,i,s,n,o))),Wd(t,e,!1),n&&t.patches_&&Bd("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Hd(t,e,n,r,i,o,s){if(md(i)){const s=Vd(t,i,o&&e&&3!==e.type_&&!Ed(e.assigned_,r)?o.concat(r):void 0);if(Sd(n,r,s),!md(s))return;t.canAutoFreeze_=!1}else s&&n.add(i);if(vd(i)&&!Rd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Vd(t,i),e&&e.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Wd(t,i)}}function Wd(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Od(e,n)}var qd={get(t,e){if(e===Ad)return t;const n=Md(t);if(!Ed(n,e))return function(t,e,n){var r;const i=Qd(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.draft_):void 0}(t,n,e);const r=n[e];return t.finalized_||!vd(r)?r:r===Yd(t.base_,e)?(Jd(t),t.copy_[e]=Zd(r,t)):r},has:(t,e)=>e in Md(t),ownKeys:t=>Reflect.ownKeys(Md(t)),set(t,e,n){const r=Qd(Md(t),e);if(null!==r&&void 0!==r&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const r=Yd(Md(t),e),s=null===r||void 0===r?void 0:r[Ad];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(((i=n)===(o=r)?0!==i||1/i===1/o:i!==i&&o!==o)&&(void 0!==n||Ed(t.base_,e)))return!0;Jd(t),Kd(t)}var i,o;return t.copy_[e]===n&&(void 0!==n||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty:(t,e)=>(void 0!==Yd(t.base_,e)||e in t.base_?(t.assigned_[e]=!1,Jd(t),Kd(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0),getOwnPropertyDescriptor(t,e){const n=Md(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.type_||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty(){gd(11)},getPrototypeOf:t=>yd(t.base_),setPrototypeOf(){gd(12)}},Xd={};function Yd(t,e){const n=t[Ad];return(n?Md(n):t)[e]}function Qd(t,e){if(!(e in t))return;let n=yd(t);for(;n;){const t=Object.getOwnPropertyDescriptor(n,e);if(t)return t;n=yd(n)}}function Kd(t){t.modified_||(t.modified_=!0,t.parent_&&Kd(t.parent_))}function Jd(t){t.copy_||(t.copy_=Td(t.base_,t.scope_.immer_.useStrictShallowCopy_))}wd(qd,((t,e)=>{Xd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),Xd.deleteProperty=function(t,e){return Xd.set.call(this,t,e,void 0)},Xd.set=function(t,e,n){return qd.set.call(this,t[0],e,n,t[0])};function Zd(t,e){const n=Cd(t)?Bd("MapSet").proxyMap_(t,e):Pd(t)?Bd("MapSet").proxySet_(t,e):function(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Nd(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=qd;n&&(i=[r],o=Xd);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}(t,e);return(e?e.scope_:Nd()).drafts_.push(n),n}function $d(t){return md(t)||gd(10),tp(t)}function tp(t){if(!vd(t)||Rd(t))return t;const e=t[Ad];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Td(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Td(t,!0);return wd(n,((t,e)=>{Sd(n,t,tp(e))})),e&&(e.finalized_=!1),n}var ep=new class{constructor(t){var e=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,n)=>{if("function"===typeof t&&"function"!==typeof e){const n=e;e=t;const r=this;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return r.produce(t,(t=>e.call(this,t,...o)))}}let r;if("function"!==typeof e&&gd(6),void 0!==n&&"function"!==typeof n&&gd(7),vd(t)){const i=Ud(this),o=Zd(t,void 0);let s=!0;try{r=e(o),s=!1}finally{s?Fd(i):jd(i)}return Dd(i,n),Gd(r,i)}if(!t||"object"!==typeof t){if(r=e(t),void 0===r&&(r=t),r===dd&&(r=void 0),this.autoFreeze_&&Od(r,!0),n){const e=[],i=[];Bd("Patches").generateReplacementPatches_(t,r,e,i),n(e,i)}return r}gd(1)},this.produceWithPatches=(t,n)=>{if("function"===typeof t)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.produceWithPatches(n,(e=>t(e,...i)))};let r,i;return[this.produce(t,n,((t,e)=>{r=t,i=e})),r,i]},"boolean"===typeof(null===t||void 0===t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"===typeof(null===t||void 0===t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){vd(t)||gd(8),md(t)&&(t=$d(t));const e=Ud(this),n=Zd(t,void 0);return n[Ad].isManual_=!0,jd(e),n}finishDraft(t,e){const n=t&&t[Ad];n&&n.isManual_||gd(9);const{scope_:r}=n;return Dd(r,e),Gd(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));const r=Bd("Patches").applyPatches_;return md(t)?r(t,e):this.produce(t,(t=>r(t,e)))}},np=ep.produce;ep.produceWithPatches.bind(ep),ep.setAutoFreeze.bind(ep),ep.setUseStrictShallowCopy.bind(ep),ep.applyPatches.bind(ep),ep.createDraft.bind(ep),ep.finishDraft.bind(ep);function rp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof t);if("function"!==typeof t)throw new TypeError(e)}var ip=t=>Array.isArray(t)?t:[t];function op(t){const e=Array.isArray(t[0])?t[0]:t;return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!t.every((t=>"function"===typeof t))){const n=t.map((t=>"function"===typeof t?"function ".concat(t.name||"unnamed","()"):typeof t)).join(", ");throw new TypeError("".concat(e,"[").concat(n,"]"))}}(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}Symbol(),Object.getPrototypeOf({});var sp="undefined"!==typeof WeakRef?WeakRef:class{constructor(t){this.value=t}deref(){return this.value}},ap=0,lp=1;function cp(){return{s:ap,v:void 0,o:null,p:null}}function up(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=cp();const{resultEqualityCheck:r}=e;let i,o=0;function s(){let e=n;const{length:s}=arguments;for(let t=0,n=s;t<n;t++){const n=arguments[t];if("function"===typeof n||"object"===typeof n&&null!==n){let t=e.o;null===t&&(e.o=t=new WeakMap);const r=t.get(n);void 0===r?(e=cp(),t.set(n,e)):e=r}else{let t=e.p;null===t&&(e.p=t=new Map);const r=t.get(n);void 0===r?(e=cp(),t.set(n,e)):e=r}}const a=e;let l;if(e.s===lp)l=e.v;else if(l=t.apply(null,arguments),o++,r){var c,u,h;const t=null!==(c=null===(u=i)||void 0===u||null===(h=u.deref)||void 0===h?void 0:h.call(u))&&void 0!==c?c:i;null!=t&&r(t,l)&&(l=t,0!==o&&o--);i="object"===typeof l&&null!==l||"function"===typeof l?new sp(l):l}return a.s=lp,a.v=l,l}return s.clearCache=()=>{n=cp(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function hp(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i="function"===typeof t?{memoize:t,memoizeOptions:n}:t,o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let r,o=0,s=0,a={},l=e.pop();"object"===typeof l&&(a=l,l=e.pop()),rp(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c={...i,...a},{memoize:u,memoizeOptions:h=[],argsMemoize:f=up,argsMemoizeOptions:d=[],devModeChecks:p={}}=c,A=ip(h),g=ip(d),y=op(e),m=u((function(){return o++,l.apply(null,arguments)}),...A);const v=f((function(){s++;const t=function(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}(y,arguments);return r=m.apply(null,t),r}),...g);return Object.assign(v,{resultFunc:l,memoizedResultFunc:m,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>r,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:u,argsMemoize:f})};return Object.assign(o,{withTypes:()=>o}),o}var fp=hp(up),dp=Object.assign((function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fp;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof t);if("object"!==typeof t)throw new TypeError(e)}(t,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof t));const n=Object.keys(t),r=e(n.map((e=>t[e])),(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(((t,e,r)=>(t[n[r]]=e,t)),{})}));return r}),{withTypes:()=>dp});function pp(t){return"Minified Redux error #".concat(t,"; visit https://redux.js.org/Errors?code=").concat(t," for the full message or use the non-minified dev environment for full errors. ")}var Ap=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),gp=()=>Math.random().toString(36).substring(7).split("").join("."),yp={INIT:"@@redux/INIT".concat(gp()),REPLACE:"@@redux/REPLACE".concat(gp()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(gp())};function mp(t){if("object"!==typeof t||null===t)return!1;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||null===Object.getPrototypeOf(t)}function vp(t,e,n){if("function"!==typeof t)throw new Error(pp(2));if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(pp(0));if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(pp(1));return n(vp)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach(((t,e)=>{s.set(e,t)})))}function u(){if(l)throw new Error(pp(3));return i}function h(t){if("function"!==typeof t)throw new Error(pp(4));if(l)throw new Error(pp(5));let e=!0;c();const n=a++;return s.set(n,t),function(){if(e){if(l)throw new Error(pp(6));e=!1,c(),s.delete(n),o=null}}}function f(t){if(!mp(t))throw new Error(pp(7));if("undefined"===typeof t.type)throw new Error(pp(8));if("string"!==typeof t.type)throw new Error(pp(17));if(l)throw new Error(pp(9));try{l=!0,i=r(i,t)}finally{l=!1}return(o=s).forEach((t=>{t()})),t}f({type:yp.INIT});return{dispatch:f,subscribe:h,getState:u,replaceReducer:function(t){if("function"!==typeof t)throw new Error(pp(10));r=t,f({type:yp.REPLACE})},[Ap]:function(){const t=h;return{subscribe(e){if("object"!==typeof e||null===e)throw new Error(pp(11));function n(){const t=e;t.next&&t.next(u())}n();return{unsubscribe:t(n)}},[Ap](){return this}}}}}function bp(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const r=e[s];0,"function"===typeof t[r]&&(n[r]=t[r])}const r=Object.keys(n);let i;try{!function(t){Object.keys(t).forEach((e=>{const n=t[e];if("undefined"===typeof n(void 0,{type:yp.INIT}))throw new Error(pp(12));if("undefined"===typeof n(void 0,{type:yp.PROBE_UNKNOWN_ACTION()}))throw new Error(pp(13))}))}(n)}catch(o){i=o}return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(i)throw i;let o=!1;const s={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],c=t[a],u=l(c,e);if("undefined"===typeof u){e&&e.type;throw new Error(pp(14))}s[a]=u,o=o||u!==c}return o=o||r.length!==Object.keys(t).length,o?s:t}}function _p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?t=>t:1===e.length?e[0]:e.reduce(((t,e)=>function(){return t(e(...arguments))}))}function wp(t){return e=>{let{dispatch:n,getState:r}=e;return e=>i=>"function"===typeof i?i(n,r,t):e(i)}}var xp=wp(),Ep=wp,Sp=(function(){const t=hp(...arguments),e=Object.assign((function(){const e=t(...arguments),n=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e(md(t)?$d(t):t,...r)};return Object.assign(n,e),n}),{withTypes:()=>e})}(up),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?_p:_p.apply(null,arguments)});"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Cp(t,e){function n(){if(e){let n=e(...arguments);if(!n)throw new Error(Zp(0));return{type:t,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:t,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(t),n.type=t,n.match=e=>function(t){return mp(t)&&"type"in t&&"string"===typeof t.type}(e)&&e.type===t,n}var Pp=class t extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,t.prototype)}static get[Symbol.species](){return t}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return super.concat.apply(this,e)}prepend(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new t(...n[0].concat(this)):new t(...n.concat(this))}};function Mp(t){return vd(t)?np(t,(()=>{})):t}function Tp(t,e,n){if(t.has(e)){let r=t.get(e);return n.update&&(r=n.update(r,e,t),t.set(e,r)),r}if(!n.insert)throw new Error(Zp(10));const r=n.insert(e,t);return t.set(e,r),r}var Op="RTK_autoBatch",Ip=t=>e=>{setTimeout(e,t)},Rp="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ip(10),Lp=t=>function(e){const{autoBatch:n=!0}=null!==e&&void 0!==e?e:{};let r=new Pp(t);return n&&r.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return e=>function(){const n=e(...arguments);let r=!0,i=!1,o=!1;const s=new Set,a="tick"===t.type?queueMicrotask:"raf"===t.type?Rp:"callback"===t.type?t.queueNotification:Ip(t.timeout),l=()=>{o=!1,i&&(i=!1,s.forEach((t=>t())))};return Object.assign({},n,{subscribe(t){const e=n.subscribe((()=>r&&t()));return s.add(t),()=>{e(),s.delete(t)}},dispatch(t){try{var e;return r=!(null!==t&&void 0!==t&&null!==(e=t.meta)&&void 0!==e&&e[Op]),i=!r,i&&(o||(o=!0,a(l))),n.dispatch(t)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function kp(t){const e={},n=[];let r;const i={addCase(t,n){const r="string"===typeof t?t:t.type;if(!r)throw new Error(Zp(28));if(r in e)throw new Error(Zp(29));return e[r]=n,i},addMatcher:(t,e)=>(n.push({matcher:t,reducer:e}),i),addDefaultCase:t=>(r=t,i)};return t(i),[e,n,r]}var Bp=function(){let t="",e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;e--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t};var Np=Symbol.for("rtk-slice-createasyncthunk");function Dp(t,e){return"".concat(t,"/").concat(e)}function Fp(){var t;let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===e||void 0===e||null===(t=e.asyncThunk)||void 0===t?void 0:t[Np];return function(t){const{name:e,reducerPath:r=e}=t;if(!e)throw new Error(Zp(11));const i=("function"===typeof t.reducers?t.reducers(function(){function t(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return t.withTypes=()=>t,{reducer:t=>Object.assign({[t.name](){return t(...arguments)}}[t.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(t,e)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}),asyncThunk:t}}()):t.reducers)||{},o=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(t,e){const n="string"===typeof t?t:t.type;if(!n)throw new Error(Zp(12));if(n in s.sliceCaseReducersByType)throw new Error(Zp(13));return s.sliceCaseReducersByType[n]=e,a},addMatcher:(t,e)=>(s.sliceMatchers.push({matcher:t,reducer:e}),a),exposeAction:(t,e)=>(s.actionCreators[t]=e,a),exposeCaseReducer:(t,e)=>(s.sliceCaseReducersByName[t]=e,a)};function l(){const[e={},n=[],r]="function"===typeof t.extraReducers?kp(t.extraReducers):[t.extraReducers],i={...e,...s.sliceCaseReducersByType};return function(t,e){let n,[r,i,o]=kp(e);if("function"===typeof t)n=()=>Mp(t());else{const e=Mp(t);n=()=>e}function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),e=arguments.length>1?arguments[1]:void 0,s=[r[e.type],...i.filter((t=>{let{matcher:n}=t;return n(e)})).map((t=>{let{reducer:e}=t;return e}))];return 0===s.filter((t=>!!t)).length&&(s=[o]),s.reduce(((t,n)=>{if(n){if(md(t)){const r=n(t,e);return void 0===r?t:r}if(vd(t))return np(t,(t=>n(t,e)));{const r=n(t,e);if(void 0===r){if(null===t)return t;throw new Error(Zp(9))}return r}}return t}),t)}return s.getInitialState=n,s}(t.initialState,(t=>{for(let e in i)t.addCase(e,i[e]);for(let e of s.sliceMatchers)t.addMatcher(e.matcher,e.reducer);for(let e of n)t.addMatcher(e.matcher,e.reducer);r&&t.addDefaultCase(r)}))}o.forEach((r=>{const o=i[r],s={reducerName:r,type:Dp(e,r),createNotation:"function"===typeof t.reducers};!function(t){return"asyncThunk"===t._reducerDefinitionType}(o)?function(t,e,n){let r,i,{type:o,reducerName:s,createNotation:a}=t;if("reducer"in e){if(a&&!function(t){return"reducerWithPrepare"===t._reducerDefinitionType}(e))throw new Error(Zp(17));r=e.reducer,i=e.prepare}else r=e;n.addCase(o,r).exposeCaseReducer(s,r).exposeAction(s,i?Cp(o,i):Cp(o))}(s,o,a):function(t,e,n,r){let{type:i,reducerName:o}=t;if(!r)throw new Error(Zp(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:h}=e,f=r(i,s,h);n.exposeAction(o,f),a&&n.addCase(f.fulfilled,a);l&&n.addCase(f.pending,l);c&&n.addCase(f.rejected,c);u&&n.addMatcher(f.settled,u);n.exposeCaseReducer(o,{fulfilled:a||zp,pending:l||zp,rejected:c||zp,settled:u||zp})}(s,o,a,n)}));const c=t=>t,u=new Map;let h;function f(t,e){return h||(h=l()),h(t,e)}function d(){return h||(h=l()),h.getInitialState()}function p(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(t){let r=t[e];return"undefined"===typeof r&&n&&(r=d()),r}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=Tp(u,n,{insert:()=>new WeakMap});return Tp(r,e,{insert:()=>{const r={};for(const[o,s]of Object.entries(null!==(i=t.selectors)&&void 0!==i?i:{})){var i;r[o]=jp(s,e,d,n)}return r}})}return{reducerPath:e,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const A={name:e,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:d,...p(r),injectInto(t){let{reducerPath:e,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=null!==e&&void 0!==e?e:r;return t.inject({reducerPath:i,reducer:f},n),{...A,...p(i,!0)}}};return A}}function jp(t,e,n,r){function i(i){let o=e(i);"undefined"===typeof o&&r&&(o=n());for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return t(o,...a)}return i.unwrapped=t,i}var Up=Fp();function zp(){}var Gp="listener",Vp="completed",Hp="cancelled",Wp=("task-".concat(Hp),"task-".concat(Vp),"".concat(Gp,"-").concat(Hp),"".concat(Gp,"-").concat(Vp),(t,e)=>{if("function"!==typeof t)throw new Error(Zp(32))});var{assign:qp}=Object,Xp="listenerMiddleware",Yp=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Cp(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Zp(21));return Wp(o),{predicate:i,type:e,effect:o}},Qp=Object.assign((t=>{const{type:e,predicate:n,effect:r}=Yp(t);return{id:Bp(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Zp(22))}}}),{withTypes:()=>Qp}),Kp=Object.assign(Cp("".concat(Xp,"/add")),{withTypes:()=>Kp}),Jp=(Cp("".concat(Xp,"/removeAll")),Object.assign(Cp("".concat(Xp,"/remove")),{withTypes:()=>Jp}));Symbol.for("rtk-state-proxy-original");function Zp(t){return"Minified Redux Toolkit error #".concat(t,"; visit https://redux-toolkit.js.org/Errors?code=").concat(t," for the full message or use the non-minified dev environment for full errors. ")}const $p=Up({name:"queryData",initialState:{queryData:[]},reducers:{setQueryData:(t,e)=>{t.queryData=e.payload}}}),{setQueryData:tA}=$p.actions,eA=$p.reducer;var nA=n(70579);function rA(t,e){var n=t.map((function(t){return Math.min(255,Math.round(t+255*e))}));return n}function iA(t){return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16)]}function oA(t){return"#"+t.map((t=>{const e=t.toString(16);return 1===e.length?"0"+e:e})).join("")}function sA(t,e,n){arguments.length<3&&(n=.5);for(var r=t.slice(),i=0;i<3;i++)r[i]=Math.round(r[i]+n*(e[i]-t[i]));return r}const aA=(t,e)=>{(0,r.useEffect)((()=>{let e=!0;const n=new AbortController,r=n.signal;return(async()=>{try{await t(r,e)}catch(n){console.log("Error fetching data",n)}})(),()=>{e=!1,n.abort()}}),e)},lA=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const[s,a]=(0,r.useState)(n);return(0,r.useEffect)((()=>{const n=new AbortController;return(async()=>{try{const n=await cA(t,e);a(n)}catch(n){console.error("Error fetching data",n)}})(),o&&n.abort(),()=>{n.abort()}}),[t,o,...i]),{data:s}},cA=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e)return await(0,Pf.H)(t,Ef,n);let r=await function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t instanceof Uint8Array?td(t,n):t instanceof ReadableStream?ed(t,n):nd(t,e,n,r)}(t,{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),i=[];for await(const o of r)i.push(o);return{features:i}};Math.PI;const uA=async(t,e)=>{let{coordinates:n,layer:r}=t;console.log("--POLYGON--",r);const i="".concat("http://reimagina-urbano-api.eastus.cloudapp.azure.com:8000","/polygon");try{const t=await fetch(i,{method:"POST",body:JSON.stringify({coordinates:n,layer:r}),headers:{"Content-Type":"application/json"},signal:e}),o=await t.arrayBuffer();return await(0,Pf.H)(o,Ef)}catch(o){console.error(o)}};var hA=n(77237),fA=r,dA=Symbol.for("react-redux-context"),pA="undefined"!==typeof globalThis?globalThis:{};function AA(){var t;if(!fA.createContext)return{};const e=null!==(t=pA[dA])&&void 0!==t?t:pA[dA]=new Map;let n=e.get(fA.createContext);return n||(n=fA.createContext(null),e.set(fA.createContext,n)),n}var gA=AA(),yA=()=>{throw new Error("uSES not initialized!")};function mA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gA;return function(){return fA.useContext(t)}}var vA=mA(),bA=yA,_A=(t,e)=>t===e;function wA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gA;const e=t===gA?vA:mA(t),n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=_A,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:o,subscription:s,getServerState:a,stabilityCheck:l,identityFunctionCheck:c}=e(),u=(fA.useRef(!0),fA.useCallback({[t.name]:e=>t(e)}[t.name],[t,l,i.stabilityCheck])),h=bA(s.addNestedSub,o.getState,a||o.getState,u,r);return fA.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var xA=wA();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function EA(t){t()}var SA={notify(){},get:()=>[]};function CA(t,e){let n,r=SA,i=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=e?e.addNestedSub(s):t.subscribe(s),r=function(){let t=null,e=null;return{clear(){t=null,e=null},notify(){EA((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){const e=[];let n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=SA)}const c={addNestedSub:function(t){a();const e=r.subscribe(t);let n=!1;return()=>{n||(n=!0,e(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var PA=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),MA="undefined"!==typeof navigator&&"ReactNative"===navigator.product,TA=PA||MA?fA.useLayoutEffect:fA.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var OA=function(t){let{store:e,context:n,children:r,serverState:i,stabilityCheck:o="once",identityFunctionCheck:s="once"}=t;const a=fA.useMemo((()=>{const t=CA(e);return{store:e,subscription:t,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:s}}),[e,i,o,s]),l=fA.useMemo((()=>e.getState()),[e]);TA((()=>{const{subscription:t}=a;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),l!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[a,l]);const c=n||gA;return fA.createElement(c.Provider,{value:a},r)};function IA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gA;const e=t===gA?vA:mA(t),n=()=>{const{store:t}=e();return t};return Object.assign(n,{withTypes:()=>n}),n}var RA=IA();function LA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gA;const e=t===gA?RA:IA(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var kA,BA=LA();kA=hA.useSyncExternalStoreWithSelector,bA=kA,(t=>{t})(r.useSyncExternalStore);var NA=n(53536);const DA=Up({name:"viewState",initialState:{zoom:15},reducers:{setViewState:(t,e)=>({...t,...e.payload})}}),{setViewState:FA}=DA.actions,jA=DA.reducer,UA=t=>{let{isSatellite:e}=t;const[n,i]=(0,r.useState)(rd),o=xA((t=>t.viewMode.isLoading)),{data:s}=lA("".concat("http://reimagina-urbano-api.eastus.cloudapp.azure.com:8000","/polygon/bounds")),{data:a}=lA("".concat("http://reimagina-urbano-api.eastus.cloudapp.azure.com:8000","/polygon/colonias")),{layers:l}=j_(),c=BA(),u=xA((t=>t.lensSettings.isDrag)),h=xA((t=>t.viewState));(0,r.useEffect)((()=>{i({...n,zoom:h.zoom})}),[h]),(0,r.useEffect)((()=>{c(FA({zoom:n.zoom}))}),[n.zoom]);const f=(0,r.useCallback)((0,NA.debounce)((t=>{let{viewState:e}=t;i(e)}),5),[]),d=new v.A({id:"poligono-layer",data:s,filled:!0,getFillColor:[0,0,0,0],getLineColor:[255,0,0,255],getLineWidth:10}),p=new v.A({id:"colonias-layer",data:a,filled:!0,getFillColor:[0,0,0,0],getLineColor:[0,0,10,255],getLineWidth:5});return(0,nA.jsxs)(nA.Fragment,{children:[o&&(0,nA.jsxs)("div",{className:"loading-container",children:[(0,nA.jsx)("div",{className:"spinner"}),(0,nA.jsx)("div",{className:"loading-text",children:"Loading..."})]}),(0,nA.jsx)(m,{initialViewState:rd,controller:{dragPan:!u},layers:[d,...l,p],viewState:{...n},onViewStateChange:f,children:(0,nA.jsx)(X,{mapStyle:e?"mapbox://styles/mapbox/satellite-v9":"mapbox://styles/lameouchi/clw841tdm00io01ox4vczgtkl",mapboxAccessToken:"pk.eyJ1IjoibGFtZW91Y2hpIiwiYSI6ImNsa3ZqdHZtMDBjbTQzcXBpNzRyc2ljNGsifQ.287002jl7xT9SBub-dbBbQ",attributionControl:!1})}),(0,nA.jsx)(U_,{})]})};var zA=n(17026);const GA=Up({name:"selectedLots",initialState:{selectedLots:[]},reducers:{setSelectedLots:(t,e)=>{t.selectedLots=e.payload}}}),{setSelectedLots:VA}=GA.actions,HA=GA.reducer;var WA=n(4319);function qA(t,e){return function(){return t.apply(e,arguments)}}const{toString:XA}=Object.prototype,{getPrototypeOf:YA}=Object,QA=(KA=Object.create(null),t=>{const e=XA.call(t);return KA[e]||(KA[e]=e.slice(8,-1).toLowerCase())});var KA;const JA=t=>(t=t.toLowerCase(),e=>QA(e)===t),ZA=t=>e=>typeof e===t,{isArray:$A}=Array,tg=ZA("undefined");const eg=JA("ArrayBuffer");const ng=ZA("string"),rg=ZA("function"),ig=ZA("number"),og=t=>null!==t&&"object"===typeof t,sg=t=>{if("object"!==QA(t))return!1;const e=YA(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ag=JA("Date"),lg=JA("File"),cg=JA("Blob"),ug=JA("FileList"),hg=JA("URLSearchParams"),[fg,dg,pg,Ag]=["ReadableStream","Request","Response","Headers"].map(JA);function gg(t,e){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),$A(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{const r=i?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let s;for(n=0;n<o;n++)s=r[n],e.call(null,t[s],s,t)}}function yg(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const mg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,vg=t=>!tg(t)&&t!==mg;const bg=(_g="undefined"!==typeof Uint8Array&&YA(Uint8Array),t=>_g&&t instanceof _g);var _g;const wg=JA("HTMLFormElement"),xg=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),Eg=JA("RegExp"),Sg=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};gg(n,((n,i)=>{let o;!1!==(o=e(n,i,t))&&(r[i]=o||n)})),Object.defineProperties(t,r)},Cg="abcdefghijklmnopqrstuvwxyz",Pg="0123456789",Mg={DIGIT:Pg,ALPHA:Cg,ALPHA_DIGIT:Cg+Cg.toUpperCase()+Pg};const Tg=JA("AsyncFunction"),Og={isArray:$A,isArrayBuffer:eg,isBuffer:function(t){return null!==t&&!tg(t)&&null!==t.constructor&&!tg(t.constructor)&&rg(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||rg(t.append)&&("formdata"===(e=QA(t))||"object"===e&&rg(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&eg(t.buffer),e},isString:ng,isNumber:ig,isBoolean:t=>!0===t||!1===t,isObject:og,isPlainObject:sg,isReadableStream:fg,isRequest:dg,isResponse:pg,isHeaders:Ag,isUndefined:tg,isDate:ag,isFile:lg,isBlob:cg,isRegExp:Eg,isFunction:rg,isStream:t=>og(t)&&rg(t.pipe),isURLSearchParams:hg,isTypedArray:bg,isFileList:ug,forEach:gg,merge:function t(){const{caseless:e}=vg(this)&&this||{},n={},r=(r,i)=>{const o=e&&yg(n,i)||i;sg(n[o])&&sg(r)?n[o]=t(n[o],r):sg(r)?n[o]=t({},r):$A(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&gg(arguments[i],r);return n},extend:function(t,e,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return gg(e,((e,r)=>{n&&rg(e)?t[r]=qA(e,n):t[r]=e}),{allOwnKeys:r}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],r&&!r(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==n&&YA(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:QA,kindOfTest:JA,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if($A(t))return t;let e=t.length;if(!ig(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:wg,hasOwnProperty:xg,hasOwnProp:xg,reduceDescriptors:Sg,freezeMethods:t=>{Sg(t,((e,n)=>{if(rg(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];rg(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return $A(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:yg,global:mg,isContextDefined:vg,ALPHABET:Mg,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mg.ALPHA_DIGIT,n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&rg(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(og(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const i=$A(t)?[]:{};return gg(t,((t,e)=>{const o=n(t,r+1);!tg(o)&&(i[e]=o)})),e[r]=void 0,i}}return t};return n(t,0)},isAsyncFn:Tg,isThenable:t=>t&&(og(t)||rg(t))&&rg(t.then)&&rg(t.catch)};function Ig(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Og.inherits(Ig,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Og.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Rg=Ig.prototype,Lg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{Lg[t]={value:t}})),Object.defineProperties(Ig,Lg),Object.defineProperty(Rg,"isAxiosError",{value:!0}),Ig.from=(t,e,n,r,i,o)=>{const s=Object.create(Rg);return Og.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),Ig.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const kg=Ig;function Bg(t){return Og.isPlainObject(t)||Og.isArray(t)}function Ng(t){return Og.endsWith(t,"[]")?t.slice(0,-2):t}function Dg(t,e,n){return t?t.concat(e).map((function(t,e){return t=Ng(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const Fg=Og.toFlatObject(Og,{},null,(function(t){return/^is[A-Z]/.test(t)}));const jg=function(t,e,n){if(!Og.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Og.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Og.isUndefined(e[t])}));const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Og.isSpecCompliantForm(e);if(!Og.isFunction(i))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(Og.isDate(t))return t.toISOString();if(!a&&Og.isBlob(t))throw new kg("Blob is not supported. Use a Buffer instead.");return Og.isArrayBuffer(t)||Og.isTypedArray(t)?a&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,i){let a=t;if(t&&!i&&"object"===typeof t)if(Og.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(Og.isArray(t)&&function(t){return Og.isArray(t)&&!t.some(Bg)}(t)||(Og.isFileList(t)||Og.endsWith(n,"[]"))&&(a=Og.toArray(t)))return n=Ng(n),a.forEach((function(t,r){!Og.isUndefined(t)&&null!==t&&e.append(!0===s?Dg([n],r,o):null===s?n:n+"[]",l(t))})),!1;return!!Bg(t)||(e.append(Dg(i,n,o),l(t)),!1)}const u=[],h=Object.assign(Fg,{defaultVisitor:c,convertValue:l,isVisitable:Bg});if(!Og.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!Og.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Og.forEach(n,(function(n,o){!0===(!(Og.isUndefined(n)||null===n)&&i.call(e,n,Og.isString(o)?o.trim():o,r,h))&&t(n,r?r.concat(o):[o])})),u.pop()}}(t),e};function Ug(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function zg(t,e){this._pairs=[],t&&jg(t,this,e)}const Gg=zg.prototype;Gg.append=function(t,e){this._pairs.push([t,e])},Gg.toString=function(t){const e=t?function(e){return t.call(this,e,Ug)}:Ug;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Vg=zg;function Hg(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Wg(t,e,n){if(!e)return t;const r=n&&n.encode||Hg,i=n&&n.serialize;let o;if(o=i?i(e,n):Og.isURLSearchParams(e)?e.toString():new Vg(e,n).toString(r),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}const qg=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Og.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Xg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yg={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Vg,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Qg="undefined"!==typeof window&&"undefined"!==typeof document,Kg=(Jg="undefined"!==typeof navigator&&navigator.product,Qg&&["ReactNative","NativeScript","NS"].indexOf(Jg)<0);var Jg;const Zg="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,$g=Qg&&window.location.href||"http://localhost",ty={...t,...Yg};const ey=function(t){function e(t,n,r,i){let o=t[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=t.length;if(o=!o&&Og.isArray(r)?r.length:o,a)return Og.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&Og.isObject(r[o])||(r[o]=[]);return e(t,n,r[o],i)&&Og.isArray(r[o])&&(r[o]=function(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}(r[o])),!s}if(Og.isFormData(t)&&Og.isFunction(t.entries)){const n={};return Og.forEachEntry(t,((t,r)=>{e(function(t){return Og.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null};const ny={transitional:Xg,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=Og.isObject(t);i&&Og.isHTMLForm(t)&&(t=new FormData(t));if(Og.isFormData(t))return r?JSON.stringify(ey(t)):t;if(Og.isArrayBuffer(t)||Og.isBuffer(t)||Og.isStream(t)||Og.isFile(t)||Og.isBlob(t)||Og.isReadableStream(t))return t;if(Og.isArrayBufferView(t))return t.buffer;if(Og.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return jg(t,new ty.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return ty.isNode&&Og.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=Og.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return jg(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),function(t,e,n){if(Og.isString(t))try{return(e||JSON.parse)(t),Og.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||ny.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(Og.isResponse(t)||Og.isReadableStream(t))return t;if(t&&Og.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(i){if(n){if("SyntaxError"===i.name)throw kg.from(i,kg.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ty.classes.FormData,Blob:ty.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Og.forEach(["delete","get","head","post","put","patch"],(t=>{ny.headers[t]={}}));const ry=ny,iy=Og.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oy=Symbol("internals");function sy(t){return t&&String(t).trim().toLowerCase()}function ay(t){return!1===t||null==t?t:Og.isArray(t)?t.map(ay):String(t)}function ly(t,e,n,r,i){return Og.isFunction(r)?r.call(this,e,n):(i&&(e=n),Og.isString(e)?Og.isString(r)?-1!==e.indexOf(r):Og.isRegExp(r)?r.test(e):void 0:void 0)}class cy{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=sy(e);if(!i)throw new Error("header name must be a non-empty string");const o=Og.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||e]=ay(t))}const o=(t,e)=>Og.forEach(t,((t,n)=>i(t,n,e)));if(Og.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(Og.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))o((t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&iy[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e);else if(Og.isHeaders(t))for(const[s,a]of t.entries())i(a,s,n);else null!=t&&i(e,t,n);return this}get(t,e){if(t=sy(t)){const n=Og.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(Og.isFunction(e))return e.call(this,t,n);if(Og.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=sy(t)){const n=Og.findKey(this,t);return!(!n||void 0===this[n]||e&&!ly(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=sy(t)){const i=Og.findKey(n,t);!i||e&&!ly(0,n[i],i,e)||(delete n[i],r=!0)}}return Og.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const i=e[n];t&&!ly(0,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return Og.forEach(this,((r,i)=>{const o=Og.findKey(n,i);if(o)return e[o]=ay(r),void delete e[i];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete e[i],e[s]=ay(r),n[s]=!0})),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return Og.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&Og.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((t=>{let[e,n]=t;return e+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((t=>e.set(t))),e}static accessor(t){const e=(this[oy]=this[oy]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=sy(t);e[r]||(!function(t,e){const n=Og.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}(n,t),e[r]=!0)}return Og.isArray(t)?t.forEach(r):r(t),this}}cy.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Og.reduceDescriptors(cy.prototype,((t,e)=>{let{value:n}=t,r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[r]=t}}})),Og.freezeMethods(cy);const uy=cy;function hy(t,e){const n=this||ry,r=e||n,i=uy.from(r.headers);let o=r.data;return Og.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function fy(t){return!(!t||!t.__CANCEL__)}function dy(t,e,n){kg.call(this,null==t?"canceled":t,kg.ERR_CANCELED,e,n),this.name="CanceledError"}Og.inherits(dy,kg,{__CANCEL__:!0});const py=dy;function Ay(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new kg("Request failed with status code "+n.status,[kg.ERR_BAD_REQUEST,kg.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}const gy=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,h=0;for(;u!==o;)h+=n[u++],u%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),l-i<e)return;const f=c&&l-c;return f?Math.round(1e3*h/f):void 0}};const yy=function(t,e){let n=0;const r=1e3/e;let i=null;return function(){const e=!0===this,o=Date.now();if(e||o-n>r)return i&&(clearTimeout(i),i=null),n=o,t.apply(null,arguments);i||(i=setTimeout((()=>(i=null,n=Date.now(),t.apply(null,arguments))),r-(o-n)))}},my=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=gy(50,250);return yy((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,l=i(a);r=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s};c[e?"download":"upload"]=!0,t(c)}),n)},vy=ty.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=Og.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0},by=ty.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];Og.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Og.isString(r)&&s.push("path="+r),Og.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function _y(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const wy=t=>t instanceof uy?{...t}:t;function xy(t,e){e=e||{};const n={};function r(t,e,n){return Og.isPlainObject(t)&&Og.isPlainObject(e)?Og.merge.call({caseless:n},t,e):Og.isPlainObject(e)?Og.merge({},e):Og.isArray(e)?e.slice():e}function i(t,e,n){return Og.isUndefined(e)?Og.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function o(t,e){if(!Og.isUndefined(e))return r(void 0,e)}function s(t,e){return Og.isUndefined(e)?Og.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function a(n,i,o){return o in e?r(n,i):o in t?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>i(wy(t),wy(e),!0)};return Og.forEach(Object.keys(Object.assign({},t,e)),(function(r){const o=l[r]||i,s=o(t[r],e[r],r);Og.isUndefined(s)&&o!==a||(n[r]=s)})),n}const Ey=t=>{const e=xy({},t);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=e;if(e.headers=a=uy.from(a),e.url=Wg(_y(e.baseURL,e.url),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Og.isFormData(r))if(ty.hasStandardBrowserEnv||ty.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[t,...e]=n?n.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(ty.hasStandardBrowserEnv&&(i&&Og.isFunction(i)&&(i=i(e)),i||!1!==i&&vy(e.url))){const t=o&&s&&by.read(s);t&&a.set(o,t)}return e},Sy="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){const r=Ey(t);let i=r.data;const o=uy.from(r.headers).normalize();let s,{responseType:a}=r;function l(){r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let c=new XMLHttpRequest;function u(){if(!c)return;const r=uy.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());Ay((function(t){e(t),l()}),(function(t){n(t),l()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:t,request:c}),c=null}c.open(r.method.toUpperCase(),r.url,!0),c.timeout=r.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(n(new kg("Request aborted",kg.ECONNABORTED,r,c)),c=null)},c.onerror=function(){n(new kg("Network Error",kg.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const e=r.transitional||Xg;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new kg(t,e.clarifyTimeoutError?kg.ETIMEDOUT:kg.ECONNABORTED,r,c)),c=null},void 0===i&&o.setContentType(null),"setRequestHeader"in c&&Og.forEach(o.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),Og.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),a&&"json"!==a&&(c.responseType=r.responseType),"function"===typeof r.onDownloadProgress&&c.addEventListener("progress",my(r.onDownloadProgress,!0)),"function"===typeof r.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",my(r.onUploadProgress)),(r.cancelToken||r.signal)&&(s=e=>{c&&(n(!e||e.type?new py(null,t,c):e),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const h=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(r.url);h&&-1===ty.protocols.indexOf(h)?n(new kg("Unsupported protocol "+h+":",kg.ERR_BAD_REQUEST,t)):c.send(i||null)}))},Cy=(t,e)=>{let n,r=new AbortController;const i=function(t){if(!n){n=!0,s();const e=t instanceof Error?t:this.reason;r.abort(e instanceof kg?e:new py(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{i(new kg("timeout ".concat(e," of ms exceeded"),kg.ETIMEDOUT))}),e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",i):t.unsubscribe(i))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},Py=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let r,i=0;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},My=(t,e,n,r,i)=>{const o=async function*(t,e,n){for await(const r of t)yield*Py(ArrayBuffer.isView(r)?r:await n(String(r)),e)}(t,e,i);let s=0;return new ReadableStream({type:"bytes",async pull(t){const{done:e,value:i}=await o.next();if(e)return t.close(),void r();let a=i.byteLength;n&&n(s+=a),t.enqueue(new Uint8Array(i))},cancel:t=>(r(t),o.return())},{highWaterMark:2})},Ty=(t,e)=>{const n=null!=t;return r=>setTimeout((()=>e({lengthComputable:n,total:t,loaded:r})))},Oy="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Iy=Oy&&"function"===typeof ReadableStream,Ry=Oy&&("function"===typeof TextEncoder?(Ly=new TextEncoder,t=>Ly.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var Ly;const ky=Iy&&(()=>{let t=!1;const e=new Request(ty.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),By=Iy&&!!(()=>{try{return Og.isReadableStream(new Response("").body)}catch(t){}})(),Ny={stream:By&&(t=>t.body)};var Dy;Oy&&(Dy=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Ny[t]&&(Ny[t]=Og.isFunction(Dy[t])?e=>e[t]():(e,n)=>{throw new kg("Response type '".concat(t,"' is not supported"),kg.ERR_NOT_SUPPORT,n)})})));const Fy=async(t,e)=>{const n=Og.toFiniteNumber(t.getContentLength());return null==n?(async t=>null==t?0:Og.isBlob(t)?t.size:Og.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:Og.isArrayBufferView(t)?t.byteLength:(Og.isURLSearchParams(t)&&(t+=""),Og.isString(t)?(await Ry(t)).byteLength:void 0))(e):n},jy=Oy&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=Ey(t);c=c?(c+"").toLowerCase():"text";let d,p,[A,g]=i||o||s?Cy([i,o],s):[];const y=()=>{!d&&setTimeout((()=>{A&&A.unsubscribe()})),d=!0};let m;try{if(l&&ky&&"get"!==n&&"head"!==n&&0!==(m=await Fy(u,r))){let t,n=new Request(e,{method:"POST",body:r,duplex:"half"});Og.isFormData(r)&&(t=n.headers.get("content-type"))&&u.setContentType(t),n.body&&(r=My(n.body,65536,Ty(m,my(l)),null,Ry))}Og.isString(h)||(h=h?"cors":"omit"),p=new Request(e,{...f,signal:A,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:h});let i=await fetch(p);const o=By&&("stream"===c||"response"===c);if(By&&(a||o)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=i[e]}));const e=Og.toFiniteNumber(i.headers.get("content-length"));i=new Response(My(i.body,65536,a&&Ty(e,my(a,!0)),o&&y,Ry),t)}c=c||"text";let s=await Ny[Og.findKey(Ny,c)||"text"](i,t);return!o&&y(),g&&g(),await new Promise(((e,n)=>{Ay(e,n,{data:s,headers:uy.from(i.headers),status:i.status,statusText:i.statusText,config:t,request:p})}))}catch(v){if(y(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new kg("Network Error",kg.ERR_NETWORK,t,p),{cause:v.cause||v});throw kg.from(v,v&&v.code,t,p)}}),Uy={http:null,xhr:Sy,fetch:jy};Og.forEach(Uy,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));const zy=t=>"- ".concat(t),Gy=t=>Og.isFunction(t)||null===t||!1===t,Vy=t=>{t=Og.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){let e;if(n=t[o],r=n,!Gy(n)&&(r=Uy[(e=String(n)).toLowerCase()],void 0===r))throw new kg("Unknown adapter '".concat(e,"'"));if(r)break;i[e||"#"+o]=r}if(!r){const t=Object.entries(i).map((t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=e?t.length>1?"since :\n"+t.map(zy).join("\n"):" "+zy(t[0]):"as no adapter specified";throw new kg("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Hy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new py(null,t)}function Wy(t){Hy(t),t.headers=uy.from(t.headers),t.data=hy.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Vy(t.adapter||ry.adapter)(t).then((function(e){return Hy(t),e.data=hy.call(t,t.transformResponse,e),e.headers=uy.from(e.headers),e}),(function(e){return fy(e)||(Hy(t),e&&e.response&&(e.response.data=hy.call(t,t.transformResponse,e.response),e.response.headers=uy.from(e.response.headers))),Promise.reject(e)}))}const qy="1.7.2",Xy={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Xy[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const Yy={};Xy.transitional=function(t,e,n){function r(t,e){return"[Axios v1.7.2] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,o)=>{if(!1===t)throw new kg(r(i," has been removed"+(e?" in "+e:"")),kg.ERR_DEPRECATED);return e&&!Yy[i]&&(Yy[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};const Qy={assertOptions:function(t,e,n){if("object"!==typeof t)throw new kg("options must be an object",kg.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const e=t[o],n=void 0===e||s(e,o,t);if(!0!==n)throw new kg("option "+o+" must be "+n,kg.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new kg("Unknown option "+o,kg.ERR_BAD_OPTION)}},validators:Xy},Ky=Qy.validators;class Jy{constructor(t){this.defaults=t,this.interceptors={request:new qg,response:new qg}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(r){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=xy(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;void 0!==n&&Qy.assertOptions(n,{silentJSONParsing:Ky.transitional(Ky.boolean),forcedJSONParsing:Ky.transitional(Ky.boolean),clarifyTimeoutError:Ky.transitional(Ky.boolean)},!1),null!=r&&(Og.isFunction(r)?e.paramsSerializer={serialize:r}:Qy.assertOptions(r,{encode:Ky.function,serialize:Ky.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&Og.merge(i.common,i[e.method]);i&&Og.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=uy.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,h=0;if(!a){const t=[Wy.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=s.length;let f=e;for(h=0;h<u;){const t=s[h++],e=s[h++];try{f=t(f)}catch(d){e.call(this,d);break}}try{c=Wy.call(this,f)}catch(d){return Promise.reject(d)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return Wg(_y((t=xy(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}Og.forEach(["delete","get","head","options"],(function(t){Jy.prototype[t]=function(e,n){return this.request(xy(n||{},{method:t,url:e,data:(n||{}).data}))}})),Og.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(xy(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Jy.prototype[t]=e(),Jy.prototype[t+"Form"]=e(!0)}));const Zy=Jy;class $y{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new py(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new $y((function(e){t=e}));return{token:e,cancel:t}}}const tm=$y;const em={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(em).forEach((t=>{let[e,n]=t;em[n]=e}));const nm=em;const rm=function t(e){const n=new Zy(e),r=qA(Zy.prototype.request,n);return Og.extend(r,Zy.prototype,n,{allOwnKeys:!0}),Og.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(xy(e,n))},r}(ry);rm.Axios=Zy,rm.CanceledError=py,rm.CancelToken=tm,rm.isCancel=fy,rm.VERSION=qy,rm.toFormData=jg,rm.AxiosError=kg,rm.Cancel=rm.CanceledError,rm.all=function(t){return Promise.all(t)},rm.spread=function(t){return function(e){return t.apply(null,e)}},rm.isAxiosError=function(t){return Og.isObject(t)&&!0===t.isAxiosError},rm.mergeConfig=xy,rm.AxiosHeaders=uy,rm.formToJSON=t=>ey(Og.isHTMLForm(t)?new FormData(t):t),rm.getAdapter=Vy,rm.HttpStatusCode=nm,rm.default=rm;const im=rm,om={health:[124,110,177,255],park:[126,164,141,255],recreation:[234,182,66,255],education:[204,153,153,255]},sm=t=>{let{coordinates:e,metric:n}=t;const[i,o]=(0,r.useState)([]),s="minutes"!==n;return aA((async(t,n)=>{if(s)return;const r=await uA({coordinates:e,layer:"landuse_amenity"},t);console.log(r),n&&o((null===r||void 0===r?void 0:r.features)||[])}),[e]),s?[]:[new v.A({id:"amenities",data:i,filled:!0,getFillColor:t=>{var e;const n=null===(e=sd.find((e=>e.label===t.properties.amenity)))||void 0===e?void 0:e.type;return console.log(n),n?om[n]:[200,200,200]},getLineWidth:0,pickable:!0})]};function am(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function lm(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!fm(t[0])||!fm(t[1]))throw new Error("coordinates must contain numbers");return am({type:"Point",coordinates:t},e,n)}function cm(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return am({type:"Polygon",coordinates:t},e,n)}function um(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return am({type:"LineString",coordinates:t},e,n)}function hm(t,e,n){return void 0===n&&(n={}),am({type:"MultiPoint",coordinates:t},e,n)}function fm(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function dm(t,e,n){if(null!==t)for(var r,i,o,s,a,l,c,u,h=0,f=0,d=t.type,p="FeatureCollection"===d,A="Feature"===d,g=p?t.features.length:1,y=0;y<g;y++){a=(u=!!(c=p?t.features[y].geometry:A?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<a;m++){var v=0,b=0;if(null!==(s=u?c.geometries[m]:c)){l=s.coordinates;var _=s.type;switch(h=!n||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":if(!1===e(l,f,y,v,b))return!1;f++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===e(l[r],f,y,v,b))return!1;f++,"MultiPoint"===_&&v++}"LineString"===_&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-h;i++){if(!1===e(l[r][i],f,y,v,b))return!1;f++}"MultiLineString"===_&&v++,"Polygon"===_&&b++}"Polygon"===_&&v++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(b=0,i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-h;o++){if(!1===e(l[r][i][o],f,y,v,b))return!1;f++}b++}v++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===dm(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function pm(t,e){var n,r,i,o,s,a,l,c,u,h,f=0,d="FeatureCollection"===t.type,p="Feature"===t.type,A=d?t.features.length:1;for(n=0;n<A;n++){for(a=d?t.features[n].geometry:p?t.geometry:t,c=d?t.features[n].properties:p?t.properties:{},u=d?t.features[n].bbox:p?t.bbox:void 0,h=d?t.features[n].id:p?t.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=l?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,c,u,h))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,c,u,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,c,u,h))return!1;f++}}function Am(t,e){pm(t,(function(t,n,r,i,o){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e(am(t,r,{bbox:i,id:o}),n,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++){var c=t.coordinates[l];if(!1===e(am({type:s,coordinates:c},r),n,l))return!1}}))}function gm(t){var e=[1/0,1/0,-1/0,-1/0];return dm(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}gm.default=gm;const ym=gm;n(42123);n(33863);function mm(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r,i=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(t),o="Feature"===(r=e).type?r.geometry:r,s=o.type,a=e.bbox,l=o.coordinates;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,a))return!1;"Polygon"===s&&(l=[l]);for(var c=!1,u=0;u<l.length&&!c;u++)if(vm(i,l[u][0],n.ignoreBoundary)){for(var h=!1,f=1;f<l[u].length&&!h;)vm(i,l[u][f],!n.ignoreBoundary)&&(h=!0),f++;h||(c=!0)}return c}function vm(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],l=e[o][0],c=e[o][1];if(t[1]*(s-l)+a*(l-t[0])+c*(t[0]-s)===0&&(s-t[0])*(l-t[0])<=0&&(a-t[1])*(c-t[1])<=0)return!n;a>t[1]!==c>t[1]&&t[0]<(l-s)*(t[1]-a)/(c-a)+s&&(r=!r)}return r}Object.prototype.hasOwnProperty;var bm=new ArrayBuffer(16);new Float64Array(bm),new Uint32Array(bm);n(80390);!function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(e=0;e<this.centers.length-1;e++){var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}t.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t,n=e*t;return[n,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])}}();const _m=function(t){return function(t,e){void 0===e&&(e={});var n=Number(t[0]),r=Number(t[1]),i=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[n,r];return cm([[s,[i,r],[i,o],[n,o],s]],e.properties,{bbox:t,id:e.id})}(ym(t))};var wm=6371008.8,xm={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:wm,metres:wm,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:3440.069546436285,radians:1,yards:6967335.223679999};function Em(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function Sm(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Om(t[0])||!Om(t[1]))throw new Error("coordinates must contain numbers");return Em({type:"Point",coordinates:t},e,n)}function Cm(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return Em({type:"Polygon",coordinates:t},e,n)}function Pm(t,e){void 0===e&&(e="kilometers");var n=xm[e];if(!n)throw new Error(e+" units is invalid");return t/n}function Mm(t){return 180*(t%(2*Math.PI))/Math.PI}function Tm(t){return t%360*Math.PI/180}function Om(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function Im(t,e,n,r){void 0===r&&(r={});var i=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(t),o=Tm(i[0]),s=Tm(i[1]),a=Tm(n),l=Pm(e,r.units),c=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(a));return Sm([Mm(o+Math.atan2(Math.sin(a)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(c))),Mm(c)],r.properties)}const Rm=function(t,e,n){void 0===n&&(n={});for(var r=n.steps||64,i=n.properties?n.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},o=[],s=0;s<r;s++)o.push(Im(t,e,-360*s/r,n).geometry.coordinates);return o.push(o[0]),Cm([o],i)};function Lm(t,e,n){if(null!==t)for(var r,i,o,s,a,l,c,u,h=0,f=0,d=t.type,p="FeatureCollection"===d,A="Feature"===d,g=p?t.features.length:1,y=0;y<g;y++){a=(u=!!(c=p?t.features[y].geometry:A?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<a;m++){var v=0,b=0;if(null!==(s=u?c.geometries[m]:c)){l=s.coordinates;var _=s.type;switch(h=!n||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":if(!1===e(l,f,y,v,b))return!1;f++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===e(l[r],f,y,v,b))return!1;f++,"MultiPoint"===_&&v++}"LineString"===_&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-h;i++){if(!1===e(l[r][i],f,y,v,b))return!1;f++}"MultiLineString"===_&&v++,"Polygon"===_&&b++}"Polygon"===_&&v++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(b=0,i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-h;o++){if(!1===e(l[r][i][o],f,y,v,b))return!1;f++}b++}v++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===Lm(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function km(t){var e=[1/0,1/0,-1/0,-1/0];return Lm(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}km.default=km;n(10973);n(5574);n(12061);var Bm=Math.PI/180,Nm=180/Math.PI,Dm=function(t,e){this.lon=t,this.lat=e,this.x=Bm*t,this.y=Bm*e};Dm.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Dm.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new Dm(e,t)};var Fm=function(){this.coords=[],this.length=0};Fm.prototype.move_to=function(t){this.length++,this.coords.push(t)};var jm=function(t){this.properties=t||{},this.geometries=[]};jm.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},jm.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var Um=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Dm(t.x,t.y),this.end=new Dm(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};Um.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=Nm*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[Nm*Math.atan2(i,r),s]},Um.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,s=this.interpolate(o);n.push(s)}for(var a=!1,l=0,c=e&&e.offset?e.offset:10,u=180-c,h=-180+c,f=360-c,d=1;d<n.length;++d){var p=n[d-1][0],A=n[d][0],g=Math.abs(A-p);g>f&&(A>u&&p<h||p>u&&A<h)?a=!0:g>l&&(l=g)}var y=[];if(a&&l<c){var m=[];y.push(m);for(var v=0;v<n.length;++v){var b=parseFloat(n[v][0]);if(v>0&&Math.abs(b-n[v-1][0])>f){var _=parseFloat(n[v-1][0]),w=parseFloat(n[v-1][1]),x=parseFloat(n[v][0]),E=parseFloat(n[v][1]);if(_>-180&&_<h&&180===x&&v+1<n.length&&n[v-1][0]>-180&&n[v-1][0]<h){m.push([-180,n[v][1]]),v++,m.push([n[v][0],n[v][1]]);continue}if(_>u&&_<180&&-180===x&&v+1<n.length&&n[v-1][0]>u&&n[v-1][0]<180){m.push([180,n[v][1]]),v++,m.push([n[v][0],n[v][1]]);continue}if(_<h&&x>u){var S=_;_=x,x=S;var C=w;w=E,E=C}if(_>u&&x<h&&(x+=360),_<=180&&x>=180&&_<x){var P=(180-_)/(x-_),M=P*E+(1-P)*w;m.push([n[v-1][0]>u?180:-180,M]),(m=[]).push([n[v-1][0]>u?-180:180,M]),y.push(m)}else m=[],y.push(m);m.push([b,n[v][1]])}else m.push([n[v][0],n[v][1]])}}else{var T=[];y.push(T);for(var O=0;O<n.length;++O)T.push([n[O][0],n[O][1]])}for(var I=new jm(this.properties),R=0;R<y.length;++R){var L=new Fm;I.geometries.push(L);for(var k=y[R],B=0;B<k.length;++B)L.move_to(k[B])}return I};n(36579);var zm=[],Gm=[],Vm=[],Hm=[],Wm=[],qm=[],Xm=[],Ym=[],Qm=[],Km=[],Jm=[],Zm=[],$m=[],tv=[],ev=[],nv=[],rv=[],iv=[],ov=[],sv=[],av=[],lv=[],cv=[],uv=[];Xm[85]=Km[85]=-1,Ym[85]=Jm[85]=0,Qm[85]=Zm[85]=1,ov[85]=lv[85]=1,sv[85]=cv[85]=0,av[85]=uv[85]=1,zm[85]=Hm[85]=0,Gm[85]=Wm[85]=-1,Vm[85]=ev[85]=0,nv[85]=$m[85]=0,rv[85]=tv[85]=1,qm[85]=iv[85]=1,lv[1]=lv[169]=0,cv[1]=cv[169]=-1,uv[1]=uv[169]=0,$m[1]=$m[169]=-1,tv[1]=tv[169]=0,ev[1]=ev[169]=0,Km[4]=Km[166]=0,Jm[4]=Jm[166]=-1,Zm[4]=Zm[166]=1,nv[4]=nv[166]=1,rv[4]=rv[166]=0,iv[4]=iv[166]=0,Xm[16]=Xm[154]=0,Ym[16]=Ym[154]=1,Qm[16]=Qm[154]=1,Hm[16]=Hm[154]=1,Wm[16]=Wm[154]=0,qm[16]=qm[154]=1,ov[64]=ov[106]=0,sv[64]=sv[106]=1,av[64]=av[106]=0,zm[64]=zm[106]=-1,Gm[64]=Gm[106]=0,Vm[64]=Vm[106]=1,ov[2]=ov[168]=0,sv[2]=sv[168]=-1,av[2]=av[168]=1,lv[2]=lv[168]=0,cv[2]=cv[168]=-1,uv[2]=uv[168]=0,$m[2]=$m[168]=-1,tv[2]=tv[168]=0,ev[2]=ev[168]=0,nv[2]=nv[168]=-1,rv[2]=rv[168]=0,iv[2]=iv[168]=1,Xm[8]=Xm[162]=0,Ym[8]=Ym[162]=-1,Qm[8]=Qm[162]=0,Km[8]=Km[162]=0,Jm[8]=Jm[162]=-1,Zm[8]=Zm[162]=1,$m[8]=$m[162]=1,tv[8]=tv[162]=0,ev[8]=ev[162]=1,nv[8]=nv[162]=1,rv[8]=rv[162]=0,iv[8]=iv[162]=0,Xm[32]=Xm[138]=0,Ym[32]=Ym[138]=1,Qm[32]=Qm[138]=1,Km[32]=Km[138]=0,Jm[32]=Jm[138]=1,Zm[32]=Zm[138]=0,zm[32]=zm[138]=1,Gm[32]=Gm[138]=0,Vm[32]=Vm[138]=0,Hm[32]=Hm[138]=1,Wm[32]=Wm[138]=0,qm[32]=qm[138]=1,lv[128]=lv[42]=0,cv[128]=cv[42]=1,uv[128]=uv[42]=1,ov[128]=ov[42]=0,sv[128]=sv[42]=1,av[128]=av[42]=0,zm[128]=zm[42]=-1,Gm[128]=Gm[42]=0,Vm[128]=Vm[42]=1,Hm[128]=Hm[42]=-1,Wm[128]=Wm[42]=0,qm[128]=qm[42]=0,Km[5]=Km[165]=-1,Jm[5]=Jm[165]=0,Zm[5]=Zm[165]=0,lv[5]=lv[165]=1,cv[5]=cv[165]=0,uv[5]=uv[165]=0,nv[20]=nv[150]=0,rv[20]=rv[150]=1,iv[20]=iv[150]=1,Hm[20]=Hm[150]=0,Wm[20]=Wm[150]=-1,qm[20]=qm[150]=1,Xm[80]=Xm[90]=-1,Ym[80]=Ym[90]=0,Qm[80]=Qm[90]=1,ov[80]=ov[90]=1,sv[80]=sv[90]=0,av[80]=av[90]=1,$m[65]=$m[105]=0,tv[65]=tv[105]=1,ev[65]=ev[105]=0,zm[65]=zm[105]=0,Gm[65]=Gm[105]=-1,Vm[65]=Vm[105]=0,Xm[160]=Xm[10]=-1,Ym[160]=Ym[10]=0,Qm[160]=Qm[10]=1,Km[160]=Km[10]=-1,Jm[160]=Jm[10]=0,Zm[160]=Zm[10]=0,lv[160]=lv[10]=1,cv[160]=cv[10]=0,uv[160]=uv[10]=0,ov[160]=ov[10]=1,sv[160]=sv[10]=0,av[160]=av[10]=1,nv[130]=nv[40]=0,rv[130]=rv[40]=1,iv[130]=iv[40]=1,$m[130]=$m[40]=0,tv[130]=tv[40]=1,ev[130]=ev[40]=0,zm[130]=zm[40]=0,Gm[130]=Gm[40]=-1,Vm[130]=Vm[40]=0,Hm[130]=Hm[40]=0,Wm[130]=Wm[40]=-1,qm[130]=qm[40]=1,Km[37]=Km[133]=0,Jm[37]=Jm[133]=1,Zm[37]=Zm[133]=1,lv[37]=lv[133]=0,cv[37]=cv[133]=1,uv[37]=uv[133]=0,zm[37]=zm[133]=-1,Gm[37]=Gm[133]=0,Vm[37]=Vm[133]=0,Hm[37]=Hm[133]=1,Wm[37]=Wm[133]=0,qm[37]=qm[133]=0,nv[148]=nv[22]=-1,rv[148]=rv[22]=0,iv[148]=iv[22]=0,lv[148]=lv[22]=0,cv[148]=cv[22]=-1,uv[148]=uv[22]=1,ov[148]=ov[22]=0,sv[148]=sv[22]=1,av[148]=av[22]=1,Hm[148]=Hm[22]=-1,Wm[148]=Wm[22]=0,qm[148]=qm[22]=1,Xm[82]=Xm[88]=0,Ym[82]=Ym[88]=-1,Qm[82]=Qm[88]=1,nv[82]=nv[88]=1,rv[82]=rv[88]=0,iv[82]=iv[88]=1,$m[82]=$m[88]=-1,tv[82]=tv[88]=0,ev[82]=ev[88]=1,ov[82]=ov[88]=0,sv[82]=sv[88]=-1,av[82]=av[88]=0,Xm[73]=Xm[97]=0,Ym[73]=Ym[97]=1,Qm[73]=Qm[97]=0,Km[73]=Km[97]=0,Jm[73]=Jm[97]=-1,Zm[73]=Zm[97]=0,$m[73]=$m[97]=1,tv[73]=tv[97]=0,ev[73]=ev[97]=0,zm[73]=zm[97]=1,Gm[73]=Gm[97]=0,Vm[73]=Vm[97]=1,Xm[145]=Xm[25]=0,Ym[145]=Ym[25]=-1,Qm[145]=Qm[25]=0,$m[145]=$m[25]=1,tv[145]=tv[25]=0,ev[145]=ev[25]=1,lv[145]=lv[25]=0,cv[145]=cv[25]=1,uv[145]=uv[25]=1,Hm[145]=Hm[25]=-1,Wm[145]=Wm[25]=0,qm[145]=qm[25]=0,Km[70]=Km[100]=0,Jm[70]=Jm[100]=1,Zm[70]=Zm[100]=0,nv[70]=nv[100]=-1,rv[70]=rv[100]=0,iv[70]=iv[100]=1,ov[70]=ov[100]=0,sv[70]=sv[100]=-1,av[70]=av[100]=1,zm[70]=zm[100]=1,Gm[70]=Gm[100]=0,Vm[70]=Vm[100]=0,Km[101]=Km[69]=0,Jm[101]=Jm[69]=1,Zm[101]=Zm[69]=0,zm[101]=zm[69]=1,Gm[101]=Gm[69]=0,Vm[101]=Vm[69]=0,lv[149]=lv[21]=0,cv[149]=cv[21]=1,uv[149]=uv[21]=1,Hm[149]=Hm[21]=-1,Wm[149]=Wm[21]=0,qm[149]=qm[21]=0,nv[86]=nv[84]=-1,rv[86]=rv[84]=0,iv[86]=iv[84]=1,ov[86]=ov[84]=0,sv[86]=sv[84]=-1,av[86]=av[84]=1,Xm[89]=Xm[81]=0,Ym[89]=Ym[81]=-1,Qm[89]=Qm[81]=0,$m[89]=$m[81]=1,tv[89]=tv[81]=0,ev[89]=ev[81]=1,Xm[96]=Xm[74]=0,Ym[96]=Ym[74]=1,Qm[96]=Qm[74]=0,Km[96]=Km[74]=-1,Jm[96]=Jm[74]=0,Zm[96]=Zm[74]=1,ov[96]=ov[74]=1,sv[96]=sv[74]=0,av[96]=av[74]=0,zm[96]=zm[74]=1,Gm[96]=Gm[74]=0,Vm[96]=Vm[74]=1,Xm[24]=Xm[146]=0,Ym[24]=Ym[146]=-1,Qm[24]=Qm[146]=1,nv[24]=nv[146]=1,rv[24]=rv[146]=0,iv[24]=iv[146]=1,$m[24]=$m[146]=0,tv[24]=tv[146]=1,ev[24]=ev[146]=1,Hm[24]=Hm[146]=0,Wm[24]=Wm[146]=-1,qm[24]=qm[146]=0,Km[6]=Km[164]=-1,Jm[6]=Jm[164]=0,Zm[6]=Zm[164]=1,nv[6]=nv[164]=-1,rv[6]=rv[164]=0,iv[6]=iv[164]=0,lv[6]=lv[164]=0,cv[6]=cv[164]=-1,uv[6]=uv[164]=1,ov[6]=ov[164]=1,sv[6]=sv[164]=0,av[6]=av[164]=0,$m[129]=$m[41]=0,tv[129]=tv[41]=1,ev[129]=ev[41]=1,lv[129]=lv[41]=0,cv[129]=cv[41]=1,uv[129]=uv[41]=0,zm[129]=zm[41]=-1,Gm[129]=Gm[41]=0,Vm[129]=Vm[41]=0,Hm[129]=Hm[41]=0,Wm[129]=Wm[41]=-1,qm[129]=qm[41]=0,nv[66]=nv[104]=0,rv[66]=rv[104]=1,iv[66]=iv[104]=0,$m[66]=$m[104]=-1,tv[66]=tv[104]=0,ev[66]=ev[104]=1,ov[66]=ov[104]=0,sv[66]=sv[104]=-1,av[66]=av[104]=0,zm[66]=zm[104]=0,Gm[66]=Gm[104]=-1,Vm[66]=Vm[104]=1,Xm[144]=Xm[26]=-1,Ym[144]=Ym[26]=0,Qm[144]=Qm[26]=0,lv[144]=lv[26]=1,cv[144]=cv[26]=0,uv[144]=uv[26]=1,ov[144]=ov[26]=0,sv[144]=sv[26]=1,av[144]=av[26]=1,Hm[144]=Hm[26]=-1,Wm[144]=Wm[26]=0,qm[144]=qm[26]=1,Km[36]=Km[134]=0,Jm[36]=Jm[134]=1,Zm[36]=Zm[134]=1,nv[36]=nv[134]=0,rv[36]=rv[134]=1,iv[36]=iv[134]=0,zm[36]=zm[134]=0,Gm[36]=Gm[134]=-1,Vm[36]=Vm[134]=1,Hm[36]=Hm[134]=1,Wm[36]=Wm[134]=0,qm[36]=qm[134]=0,Xm[9]=Xm[161]=-1,Ym[9]=Ym[161]=0,Qm[9]=Qm[161]=0,Km[9]=Km[161]=0,Jm[9]=Jm[161]=-1,Zm[9]=Zm[161]=0,$m[9]=$m[161]=1,tv[9]=tv[161]=0,ev[9]=ev[161]=0,lv[9]=lv[161]=1,cv[9]=cv[161]=0,uv[9]=uv[161]=1,Xm[136]=0,Ym[136]=1,Qm[136]=1,Km[136]=0,Jm[136]=1,Zm[136]=0,nv[136]=-1,rv[136]=0,iv[136]=1,$m[136]=-1,tv[136]=0,ev[136]=0,lv[136]=0,cv[136]=-1,uv[136]=0,ov[136]=0,sv[136]=-1,av[136]=1,zm[136]=1,Gm[136]=0,Vm[136]=0,Hm[136]=1,Wm[136]=0,qm[136]=1,Xm[34]=0,Ym[34]=-1,Qm[34]=0,Km[34]=0,Jm[34]=-1,Zm[34]=1,nv[34]=1,rv[34]=0,iv[34]=0,$m[34]=1,tv[34]=0,ev[34]=1,lv[34]=0,cv[34]=1,uv[34]=1,ov[34]=0,sv[34]=1,av[34]=0,zm[34]=-1,Gm[34]=0,Vm[34]=1,Hm[34]=-1,Wm[34]=0,qm[34]=0,Xm[35]=0,Ym[35]=1,Qm[35]=1,Km[35]=0,Jm[35]=-1,Zm[35]=1,nv[35]=1,rv[35]=0,iv[35]=0,$m[35]=-1,tv[35]=0,ev[35]=0,lv[35]=0,cv[35]=-1,uv[35]=0,ov[35]=0,sv[35]=1,av[35]=0,zm[35]=-1,Gm[35]=0,Vm[35]=1,Hm[35]=1,Wm[35]=0,qm[35]=1,Xm[153]=0,Ym[153]=1,Qm[153]=1,$m[153]=-1,tv[153]=0,ev[153]=0,lv[153]=0,cv[153]=-1,uv[153]=0,Hm[153]=1,Wm[153]=0,qm[153]=1,Km[102]=0,Jm[102]=-1,Zm[102]=1,nv[102]=1,rv[102]=0,iv[102]=0,ov[102]=0,sv[102]=1,av[102]=0,zm[102]=-1,Gm[102]=0,Vm[102]=1,Xm[155]=0,Ym[155]=-1,Qm[155]=0,$m[155]=1,tv[155]=0,ev[155]=1,lv[155]=0,cv[155]=1,uv[155]=1,Hm[155]=-1,Wm[155]=0,qm[155]=0,Km[103]=0,Jm[103]=1,Zm[103]=0,nv[103]=-1,rv[103]=0,iv[103]=1,ov[103]=0,sv[103]=-1,av[103]=1,zm[103]=1,Gm[103]=0,Vm[103]=0,Xm[152]=0,Ym[152]=1,Qm[152]=1,nv[152]=-1,rv[152]=0,iv[152]=1,$m[152]=-1,tv[152]=0,ev[152]=0,lv[152]=0,cv[152]=-1,uv[152]=0,ov[152]=0,sv[152]=-1,av[152]=1,Hm[152]=1,Wm[152]=0,qm[152]=1,Xm[156]=0,Ym[156]=-1,Qm[156]=1,nv[156]=1,rv[156]=0,iv[156]=1,$m[156]=-1,tv[156]=0,ev[156]=0,lv[156]=0,cv[156]=-1,uv[156]=0,ov[156]=0,sv[156]=1,av[156]=1,Hm[156]=-1,Wm[156]=0,qm[156]=1,Xm[137]=0,Ym[137]=1,Qm[137]=1,Km[137]=0,Jm[137]=1,Zm[137]=0,$m[137]=-1,tv[137]=0,ev[137]=0,lv[137]=0,cv[137]=-1,uv[137]=0,zm[137]=1,Gm[137]=0,Vm[137]=0,Hm[137]=1,Wm[137]=0,qm[137]=1,Xm[139]=0,Ym[139]=1,Qm[139]=1,Km[139]=0,Jm[139]=-1,Zm[139]=0,$m[139]=1,tv[139]=0,ev[139]=0,lv[139]=0,cv[139]=1,uv[139]=0,zm[139]=-1,Gm[139]=0,Vm[139]=0,Hm[139]=1,Wm[139]=0,qm[139]=1,Xm[98]=0,Ym[98]=-1,Qm[98]=0,Km[98]=0,Jm[98]=-1,Zm[98]=1,nv[98]=1,rv[98]=0,iv[98]=0,$m[98]=1,tv[98]=0,ev[98]=1,ov[98]=0,sv[98]=1,av[98]=0,zm[98]=-1,Gm[98]=0,Vm[98]=1,Xm[99]=0,Ym[99]=1,Qm[99]=0,Km[99]=0,Jm[99]=-1,Zm[99]=1,nv[99]=1,rv[99]=0,iv[99]=0,$m[99]=-1,tv[99]=0,ev[99]=1,ov[99]=0,sv[99]=-1,av[99]=0,zm[99]=1,Gm[99]=0,Vm[99]=1,Km[38]=0,Jm[38]=-1,Zm[38]=1,nv[38]=1,rv[38]=0,iv[38]=0,lv[38]=0,cv[38]=1,uv[38]=1,ov[38]=0,sv[38]=1,av[38]=0,zm[38]=-1,Gm[38]=0,Vm[38]=1,Hm[38]=-1,Wm[38]=0,qm[38]=0,Km[39]=0,Jm[39]=1,Zm[39]=1,nv[39]=-1,rv[39]=0,iv[39]=0,lv[39]=0,cv[39]=-1,uv[39]=1,ov[39]=0,sv[39]=1,av[39]=0,zm[39]=-1,Gm[39]=0,Vm[39]=1,Hm[39]=1,Wm[39]=0,qm[39]=0;var hv=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},fv=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},dv=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},pv=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Av=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},gv=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},yv=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},mv=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},vv=[],bv=[],_v=[],wv=[],xv=[],Ev=[],Sv=[],Cv=[];wv[1]=xv[1]=18,wv[169]=xv[169]=18,_v[4]=bv[4]=12,_v[166]=bv[166]=12,vv[16]=Cv[16]=4,vv[154]=Cv[154]=4,Ev[64]=Sv[64]=22,Ev[106]=Sv[106]=22,_v[2]=Ev[2]=17,wv[2]=xv[2]=18,_v[168]=Ev[168]=17,wv[168]=xv[168]=18,vv[8]=wv[8]=9,bv[8]=_v[8]=12,vv[162]=wv[162]=9,bv[162]=_v[162]=12,vv[32]=Cv[32]=4,bv[32]=Sv[32]=1,vv[138]=Cv[138]=4,bv[138]=Sv[138]=1,xv[128]=Cv[128]=21,Ev[128]=Sv[128]=22,xv[42]=Cv[42]=21,Ev[42]=Sv[42]=22,bv[5]=xv[5]=14,bv[165]=xv[165]=14,_v[20]=Cv[20]=6,_v[150]=Cv[150]=6,vv[80]=Ev[80]=11,vv[90]=Ev[90]=11,wv[65]=Sv[65]=3,wv[105]=Sv[105]=3,vv[160]=Ev[160]=11,bv[160]=xv[160]=14,vv[10]=Ev[10]=11,bv[10]=xv[10]=14,_v[130]=Cv[130]=6,wv[130]=Sv[130]=3,_v[40]=Cv[40]=6,wv[40]=Sv[40]=3,bv[101]=Sv[101]=1,bv[69]=Sv[69]=1,xv[149]=Cv[149]=21,xv[21]=Cv[21]=21,_v[86]=Ev[86]=17,_v[84]=Ev[84]=17,vv[89]=wv[89]=9,vv[81]=wv[81]=9,vv[96]=Sv[96]=0,bv[96]=Ev[96]=15,vv[74]=Sv[74]=0,bv[74]=Ev[74]=15,vv[24]=_v[24]=8,wv[24]=Cv[24]=7,vv[146]=_v[146]=8,wv[146]=Cv[146]=7,bv[6]=Ev[6]=15,_v[6]=xv[6]=16,bv[164]=Ev[164]=15,_v[164]=xv[164]=16,wv[129]=Cv[129]=7,xv[129]=Sv[129]=20,wv[41]=Cv[41]=7,xv[41]=Sv[41]=20,_v[66]=Sv[66]=2,wv[66]=Ev[66]=19,_v[104]=Sv[104]=2,wv[104]=Ev[104]=19,vv[144]=xv[144]=10,Ev[144]=Cv[144]=23,vv[26]=xv[26]=10,Ev[26]=Cv[26]=23,bv[36]=Cv[36]=5,_v[36]=Sv[36]=2,bv[134]=Cv[134]=5,_v[134]=Sv[134]=2,vv[9]=xv[9]=10,bv[9]=wv[9]=13,vv[161]=xv[161]=10,bv[161]=wv[161]=13,bv[37]=Cv[37]=5,xv[37]=Sv[37]=20,bv[133]=Cv[133]=5,xv[133]=Sv[133]=20,_v[148]=xv[148]=16,Ev[148]=Cv[148]=23,_v[22]=xv[22]=16,Ev[22]=Cv[22]=23,vv[82]=_v[82]=8,wv[82]=Ev[82]=19,vv[88]=_v[88]=8,wv[88]=Ev[88]=19,vv[73]=Sv[73]=0,bv[73]=wv[73]=13,vv[97]=Sv[97]=0,bv[97]=wv[97]=13,vv[145]=wv[145]=9,xv[145]=Cv[145]=21,vv[25]=wv[25]=9,xv[25]=Cv[25]=21,bv[70]=Sv[70]=1,_v[70]=Ev[70]=17,bv[100]=Sv[100]=1,_v[100]=Ev[100]=17,vv[34]=wv[34]=9,bv[34]=_v[34]=12,xv[34]=Cv[34]=21,Ev[34]=Sv[34]=22,vv[136]=Cv[136]=4,bv[136]=Sv[136]=1,_v[136]=Ev[136]=17,wv[136]=xv[136]=18,vv[35]=Cv[35]=4,bv[35]=_v[35]=12,wv[35]=xv[35]=18,Ev[35]=Sv[35]=22,vv[153]=Cv[153]=4,wv[153]=xv[153]=18,bv[102]=_v[102]=12,Ev[102]=Sv[102]=22,vv[155]=wv[155]=9,xv[155]=Cv[155]=23,bv[103]=Sv[103]=1,_v[103]=Ev[103]=17,vv[152]=Cv[152]=4,_v[152]=Ev[152]=17,wv[152]=xv[152]=18,vv[156]=_v[156]=8,wv[156]=xv[156]=18,Ev[156]=Cv[156]=23,vv[137]=Cv[137]=4,bv[137]=Sv[137]=1,wv[137]=xv[137]=18,vv[139]=Cv[139]=4,bv[139]=wv[139]=13,xv[139]=Sv[139]=20,vv[98]=wv[98]=9,bv[98]=_v[98]=12,Ev[98]=Sv[98]=22,vv[99]=Sv[99]=0,bv[99]=_v[99]=12,wv[99]=Ev[99]=19,bv[38]=_v[38]=12,xv[38]=Cv[38]=21,Ev[38]=Sv[38]=22,bv[39]=Cv[39]=5,_v[39]=xv[39]=16,Ev[39]=Sv[39]=22;var Pv=[];Pv[1]=Pv[169]=hv,Pv[4]=Pv[166]=fv,Pv[16]=Pv[154]=dv,Pv[64]=Pv[106]=pv,Pv[168]=Pv[2]=Av,Pv[162]=Pv[8]=gv,Pv[138]=Pv[32]=yv,Pv[42]=Pv[128]=mv,Pv[5]=Pv[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Pv[20]=Pv[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Pv[80]=Pv[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Pv[65]=Pv[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Pv[160]=Pv[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Pv[130]=Pv[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Pv[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Pv[101]=Pv[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Pv[149]=Pv[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Pv[86]=Pv[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Pv[89]=Pv[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Pv[96]=Pv[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Pv[24]=Pv[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Pv[6]=Pv[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Pv[129]=Pv[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Pv[66]=Pv[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Pv[144]=Pv[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Pv[36]=Pv[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Pv[9]=Pv[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Pv[37]=Pv[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Pv[148]=Pv[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Pv[82]=Pv[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Pv[73]=Pv[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Pv[145]=Pv[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Pv[70]=Pv[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Pv[34]=function(t){return[mv(t),gv(t)]},Pv[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Pv[136]=function(t){return[yv(t),Av(t)]},Pv[153]=function(t){return[dv(t),hv(t)]},Pv[102]=function(t){return[fv(t),pv(t)]},Pv[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Pv[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Pv[152]=function(t){return[dv(t),Av(t)]},Pv[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Pv[137]=function(t){return[yv(t),hv(t)]},Pv[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Pv[98]=function(t){return[gv(t),pv(t)]},Pv[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Pv[38]=function(t){return[fv(t),mv(t)]},Pv[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};function Mv(t,e,n){var r,i=e[0]-t[0],o=e[1]-t[1],s=n[0]-e[0],a=n[1]-e[1];return((r=i*a-s*o)>0)-(r<0)||+r}function Tv(t,e){return e.geometry.coordinates[0].every((function(e){return mm(lm(e),t)}))}var Ov=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]===0&&i.coordinates[0]-t.coordinates[0]===0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=Mv(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}();const Iv=Ov;const Rv=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return um([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return Mv(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}();var Lv=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=Mv(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},t.prototype.toMultiPoint=function(){return hm(this.edges.map((function(t){return t.from.coordinates})))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=cm([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=_m(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var n,r,i=t.getEnvelope();return e.forEach((function(e){var o=e.getEnvelope();if(r&&(n=r.getEnvelope()),!function(t,e){var n=t.geometry.coordinates[0].map((function(t){return t[0]})),r=t.geometry.coordinates[0].map((function(t){return t[1]})),i=e.geometry.coordinates[0].map((function(t){return t[0]})),o=e.geometry.coordinates[0].map((function(t){return t[1]}));return Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.min.apply(null,n)===Math.min.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)}(o,i)&&Tv(o,i)){for(var s=t.map((function(t){return t.from.coordinates})),a=void 0,l=function(t){e.some((function(e){return n=t,r=e.from.coordinates,n[0]===r[0]&&n[1]===r[1];var n,r}))||(a=t)},c=0,u=s;c<u.length;c++){l(u[c])}a&&e.inside(lm(a))&&(r&&!Tv(n,o)||(r=e))}})),r},t.prototype.inside=function(t){return mm(t,this.toPolygon())},t}();const kv=Lv;!function(){function t(){this.edges=[],this.nodes={}}t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var n=new t;return Am(e,(function(t){!function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}(t,"LineString","Graph::fromGeoJson"),function(t,e,n,r){var i=n;dm(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),r)}(t,(function(t,e){if(t){var r=n.getNode(t),i=n.getNode(e);n.addEdge(r,i)}return e}))})),n},t.prototype.getNode=function(t){var e=Iv.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new Iv(t)),n},t.prototype.addEdge=function(t,e){var n=new Rv(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},t.prototype._computeNextCWEdges=function(t){var e=this;"undefined"===typeof t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},t.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,l=void 0,c=void 0;s.label===e&&(l=s),a.label===e&&(c=a),l&&c&&(c&&(r=c),l&&(r&&(r.next=l,r=void 0),n||(n=l)))}r&&(r.next=n)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},t.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},t.prototype._findEdgeRing=function(t){var e=t,n=new kv;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()}}();n(85202);n(945);n(70109);function Bv(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}var Nv={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||Nv.heuristics.manhattan,o=r.closest||!1,s=new jv((function(t){return t.f})),a=e;for(e.h=i(e,n),s.push(e);s.size()>0;){var l=s.pop();if(l===n)return Bv(l);l.closed=!0;for(var c=t.neighbors(l),u=0,h=c.length;u<h;++u){var f=c[u];if(!f.closed&&!f.isWall()){var d=l.g+f.getCost(l),p=f.visited;(!p||d<f.g)&&(f.visited=!0,f.parent=l,f.h=f.h||i(f,n),f.g=d,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),p?s.rescoreElement(f):s.push(f))}}}return o?Bv(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function Dv(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Fv(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Fv(t,e,n){this.x=t,this.y=e,this.weight=n}function jv(t){this.content=[],this.scoreFunction=t}Dv.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Nv.cleanNode(this.nodes[t])},Dv.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Nv.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Dv.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Dv.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Dv.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Fv.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Fv.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Fv.prototype.isWall=function(){return 0===this.weight},jv.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e){var l=this.content[s];(i=this.scoreFunction(l))<r&&(a=s)}if(o<e){var c=this.content[o];this.scoreFunction(c)<(null===a?r:i)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}};function Uv(){this._=null}function zv(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Gv(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Vv(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Hv(t){for(;t.L;)t=t.L;return t}Uv.prototype={constructor:Uv,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Hv(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Gv(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vv(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Vv(this,n),n=(t=n).U),n.C=!1,r.C=!0,Gv(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Hv(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Gv(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Vv(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Gv(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Vv(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Gv(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Vv(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const Wv=Uv;function qv(t,e,n,r){var i=[null,null],o=gb.push(i)-1;return i.left=t,i.right=e,n&&Yv(i,t,e,n),r&&Yv(i,e,t,r),pb[t.index].halfedges.push(o),pb[e.index].halfedges.push(o),i}function Xv(t,e,n){var r=[e,n];return r.left=t,r}function Yv(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Qv(t,e,n,r,i){var o,s=t[0],a=t[1],l=s[0],c=s[1],u=0,h=1,f=a[0]-l,d=a[1]-c;if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=r-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}return!(u>0||h<1)||(u>0&&(t[0]=[l+u*f,c+u*d]),h<1&&(t[1]=[l+h*f,c+h*d]),!0)}}}}}function Kv(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,l=t[0],c=t.left,u=t.right,h=c[0],f=c[1],d=u[0],p=u[1],A=(h+d)/2,g=(f+p)/2;if(p===f){if(A<e||A>=r)return;if(h>d){if(l){if(l[1]>=i)return}else l=[A,n];o=[A,i]}else{if(l){if(l[1]<n)return}else l=[A,i];o=[A,n]}}else if(a=g-(s=(h-d)/(p-f))*A,s<-1||s>1)if(h>d){if(l){if(l[1]>=i)return}else l=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(l){if(l[1]<n)return}else l=[(i-a)/s,i];o=[(n-a)/s,n]}else if(f<p){if(l){if(l[0]>=r)return}else l=[e,s*e+a];o=[r,s*r+a]}else{if(l){if(l[0]<e)return}else l=[r,s*r+a];o=[e,s*e+a]}return t[0]=l,t[1]=o,!0}function Jv(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Zv(t,e){return e[+(e.left!==t.site)]}function $v(t,e){return e[+(e.left===t.site)]}var tb,eb=[];function nb(){zv(this),this.x=this.y=this.arc=this.site=this.cy=null}function rb(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],l=r[0]-s,c=r[1]-a,u=o[0]-s,h=o[1]-a,f=2*(l*h-c*u);if(!(f>=-mb)){var d=l*l+c*c,p=u*u+h*h,A=(h*d-c*p)/f,g=(l*p-u*d)/f,y=eb.pop()||new nb;y.arc=t,y.site=i,y.x=A+s,y.y=(y.cy=g+a)+Math.sqrt(A*A+g*g),t.circle=y;for(var m=null,v=Ab._;v;)if(y.y<v.y||y.y===v.y&&y.x<=v.x){if(!v.L){m=v.P;break}v=v.L}else{if(!v.R){m=v;break}v=v.R}Ab.insert(m,y),m||(tb=y)}}}}function ib(t){var e=t.circle;e&&(e.P||(tb=e.N),Ab.remove(e),eb.push(e),zv(e),t.circle=null)}var ob=[];function sb(){zv(this),this.edge=this.site=this.circle=null}function ab(t){var e=ob.pop()||new sb;return e.site=t,e}function lb(t){ib(t),db.remove(t),ob.push(t),zv(t)}function cb(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];lb(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<yb&&Math.abs(r-l.circle.cy)<yb;)o=l.P,a.unshift(l),lb(l),l=o;a.unshift(l),ib(l);for(var c=s;c.circle&&Math.abs(n-c.circle.x)<yb&&Math.abs(r-c.circle.cy)<yb;)s=c.N,a.push(c),lb(c),c=s;a.push(c),ib(c);var u,h=a.length;for(u=1;u<h;++u)c=a[u],l=a[u-1],Yv(c.edge,l.site,c.site,i);l=a[0],(c=a[h-1]).edge=qv(l.site,c.site,null,i),rb(l),rb(c)}function ub(t){for(var e,n,r,i,o=t[0],s=t[1],a=db._;a;)if((r=hb(a,s)-o)>yb)a=a.L;else{if(!((i=o-fb(a,s))>yb)){r>-yb?(e=a.P,n=a):i>-yb?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){pb[t.index]={site:t,halfedges:[]}}(t);var l=ab(t);if(db.insert(e,l),e||n){if(e===n)return ib(e),n=ab(e.site),db.insert(l,n),l.edge=n.edge=qv(e.site,l.site),rb(e),void rb(n);if(n){ib(e),ib(n);var c=e.site,u=c[0],h=c[1],f=t[0]-u,d=t[1]-h,p=n.site,A=p[0]-u,g=p[1]-h,y=2*(f*g-d*A),m=f*f+d*d,v=A*A+g*g,b=[(g*m-d*v)/y+u,(f*v-A*m)/y+h];Yv(n.edge,c,p,b),l.edge=qv(c,t,null,b),n.edge=qv(t,p,null,b),rb(e),rb(n)}else l.edge=qv(e.site,l.site)}}function hb(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],l=n[1],c=l-e;if(!c)return a;var u=a-r,h=1/o-1/c,f=u/c;return h?(-f+Math.sqrt(f*f-2*h*(u*u/(-2*c)-l+c/2+i-o/2)))/h+r:(r+a)/2}function fb(t,e){var n=t.N;if(n)return hb(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var db,pb,Ab,gb,yb=1e-6,mb=1e-12;function vb(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function bb(t,e){return e[1]-t[1]||e[0]-t[0]}function _b(t,e){var n,r,i,o=t.sort(bb).pop();for(gb=[],pb=new Array(t.length),db=new Wv,Ab=new Wv;;)if(i=tb,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(ub(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;cb(i.arc)}if(function(){for(var t,e,n,r,i=0,o=pb.length;i<o;++i)if((t=pb[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=Jv(t,gb[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=gb.length;o--;)Kv(i=gb[o],t,e,n,r)&&Qv(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>yb||Math.abs(i[0][1]-i[1][1])>yb)||delete gb[o]}(s,a,l,c),function(t,e,n,r){var i,o,s,a,l,c,u,h,f,d,p,A,g=pb.length,y=!0;for(i=0;i<g;++i)if(o=pb[i]){for(s=o.site,a=(l=o.halfedges).length;a--;)gb[l[a]]||l.splice(a,1);for(a=0,c=l.length;a<c;)p=(d=$v(o,gb[l[a]]))[0],A=d[1],h=(u=Zv(o,gb[l[++a%c]]))[0],f=u[1],(Math.abs(p-h)>yb||Math.abs(A-f)>yb)&&(l.splice(a,0,gb.push(Xv(s,d,Math.abs(p-t)<yb&&r-A>yb?[t,Math.abs(h-t)<yb?f:r]:Math.abs(A-r)<yb&&n-p>yb?[Math.abs(f-r)<yb?h:n,r]:Math.abs(p-n)<yb&&A-e>yb?[n,Math.abs(h-n)<yb?f:e]:Math.abs(A-e)<yb&&p-t>yb?[Math.abs(f-e)<yb?h:t,e]:null))-1),++c);c&&(y=!1)}if(y){var m,v,b,_=1/0;for(i=0,y=null;i<g;++i)(o=pb[i])&&(b=(m=(s=o.site)[0]-t)*m+(v=s[1]-e)*v)<_&&(_=b,y=o);if(y){var w=[t,e],x=[t,r],E=[n,r],S=[n,e];y.halfedges.push(gb.push(Xv(s=y.site,w,x))-1,gb.push(Xv(s,x,E))-1,gb.push(Xv(s,E,S))-1,gb.push(Xv(s,S,w))-1)}}for(i=0;i<g;++i)(o=pb[i])&&(o.halfedges.length||delete pb[i])}(s,a,l,c)}this.edges=gb,this.cells=pb,db=Ab=gb=pb=null}_b.prototype={constructor:_b,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Zv(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a=n.site,l=-1,c=e[i[o-1]],u=c.left===a?c.right:c.left;++l<o;)s=u,u=(c=e[i[l]]).left===a?c.right:c.left,s&&u&&r<s.index&&r<u.index&&vb(a,s,u)<0&&t.push([a.data,s.data,u.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var l=t-i.site[0],c=e-i.site[1],u=l*l+c*c;do{i=o.cells[r=s],s=null,i.halfedges.forEach((function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var l=t-a[0],c=e-a[1],h=l*l+c*c;h<u&&(u=h,s=a.index)}}))}while(null!==s);return o._found=r,null==n||u<=n*n?i.site:null}};n(86929);n(68874);function wb(){return new xb}function xb(){this.reset()}xb.prototype={constructor:xb,reset:function(){this.s=this.t=0},add:function(t){Sb(Eb,t,this.t),Sb(this,Eb.s,this.s),this.s?this.t+=Eb.t:this.s=Eb.t},valueOf:function(){return this.s}};var Eb=new xb;function Sb(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Cb=1e-6,Pb=Math.PI,Mb=Pb/2,Tb=Pb/4,Ob=2*Pb,Ib=Pb/180,Rb=Math.abs,Lb=Math.atan,kb=Math.atan2,Bb=Math.cos,Nb=(Math.ceil,Math.exp),Db=(Math.floor,Math.log),Fb=(Math.pow,Math.sin),jb=(Math.sign,Math.sqrt),Ub=Math.tan;function zb(t){return t>1?Mb:t<-1?-Mb:Math.asin(t)}function Gb(){}wb(),wb();function Vb(t){var e=t[0],n=t[1],r=Bb(n);return[r*Bb(e),r*Fb(e),Fb(n)]}function Hb(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Wb(t){var e=jb(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}wb();function qb(t,e){return[t>Pb?t-Ob:t<-Pb?t+Ob:t,e]}function Xb(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Yb(t,e,n,r,i){var o,s,a=[],l=[];if(t.forEach((function(t){if(!(t.length-1<=0)){var e,n,r=t[0],s=t[e];if(function(t,e){return Rb(t[0]-e[0])<Cb&&Rb(t[1]-e[1])<Cb}(r,s)){for(i.lineStart(),0;o<e;++o)i.point(t[o][0],r[1]);i.lineEnd()}else a.push(new Xb(r,t,null,!0)),l.push(n.o=new Xb(r,null,n,!1)),a.push(new Xb(s,t,null,!1)),l.push(n.o=new Xb(s,null,n,!0))}})),a.length){for(l.sort(e),Qb(a),Qb(l),l.length;o<s;++o)l[o].e=!n;for(var c,u,h=a[0];;){for(var f=h,d=!0;f.v;)if(f.n===h)return;f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(c.length;o<s;++o)i.point(c[o][0],u[1]);else r(f.x,f.n.x,1,i);f.n}else{if(d)for(f.p.z,c.length-1;o>=0;--o)i.point(c[o][0],u[1]);else r(f.x,f.p.x,-1,i);f.p}f.o.z,!d}while(!f.v);i.lineEnd()}}}function Qb(t){if(t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=t[r],n.p=i,n;i.n=t[0],n.p=i}}function Kb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}qb.invert=qb;var Jb=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Kb(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(Kb);Jb.right,Jb.left;var Zb=Array.prototype;Zb.slice,Zb.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var $b=wb();function t_(t,e){var n=e[0],r=e[1],i=[Fb(n),-Bb(n),0],o=0,s=0;$b.reset();for(var a=0,l=t.length;a<l;++a)if(t[a].length)for(var c,u,h=c[u-1],f=h[0],d=h[1]/2+Tb,p=Fb(d),A=Bb(d),g=0;g<u;y){var y=c[g],m=y[0],v=y[1]/2+Tb,b=Fb(v),_=Bb(v),w=m-f,x=w>=0?1:-1,E=x*w,S=E>Pb,C=p*b;if($b.add(kb(C*x*Fb(E),A*_+C*Bb(E))),S^f>=n^m>=n){var P=Hb(Vb(h),Vb(y));Wb(P);var M=Hb(i,P);Wb(M);var T=(S^w>=0?-1:1)*zb(M[2]);(r>T||r===T&&(P[0]||P[1]))&&(S^w>=0?1:-1)}}return(o<-Cb||o<Cb&&$b<-Cb)^1&s}wb();wb(),wb();wb();function e_(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function n_(t){return t.length>1}function r_(t,e){return(t.x[0]<0?t[1]-Mb-Cb:Mb-t[1])-(e.x[0]<0?e[1]-Mb-Cb:Mb-e[1])}e_(4.5);function i_(t){return function(e){var n=new o_;for(var r in t)n[r]=t[r];return n.stream=e,n}}function o_(){}o_.prototype={constructor:o_,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};Bb(30*Ib);i_({point:function(t,e){this.stream.point(t*Ib,e*Ib)}});function s_(t){return function(e,n){var r=Bb(e),i=Bb(n),o=t(r*i);return[o*i*Fb(e),o*Fb(n)]}}function a_(t){return function(e,n){var r=jb(e*e+n*n),i=t(r),o=Fb(i),s=Bb(i);return[kb(e*o,r*s),zb(r&&n*o/r)]}}var l_=s_((function(t){return jb(2/(1+t))}));l_.invert=a_((function(t){return 2*zb(t/2)}));var c_=s_((function(t){return(t=(e=t)>1?0:e<-1?Pb:Math.acos(e))&&t/Fb(t);var e}));function u_(t,e){return[t,Db(Ub((Mb+e)/2))]}function h_(t,e){return[t,e]}function f_(t,e){var n=Bb(e),r=Bb(t)*n;return[n*Fb(t)/r,Fb(e)/r]}function d_(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function p_(t,e){return[Bb(e)*Fb(t),Fb(e)]}function A_(t,e){var n=Bb(e),r=1+Bb(t)*n;return[n*Fb(t)/r,Fb(e)/r]}function g_(t,e){return[Db(Ub((Mb+e)/2)),-t]}c_.invert=a_((function(t){return t})),u_.invert=function(t,e){return[t,2*Lb(Nb(e))-Mb]},h_.invert=h_,f_.invert=a_(Lb),d_.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Rb(n)>Cb&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},p_.invert=a_(zb),A_.invert=a_((function(t){return 2*Lb(t)})),g_.invert=function(t,e){return[-e,2*Lb(Nb(t))-Mb]};const y_=Up({name:"lensSettings",initialState:{brushingRadius:400,coords:[-107.39367959923534,24.753450686162093],isDrag:!1},reducers:{setBrushingRadius:(t,e)=>{t.brushingRadius=e.payload},setCoords:(t,e)=>{t.coords=e.payload},setDrag:(t,e)=>{t.isDrag=e.payload}}}),{setBrushingRadius:m_,setCoords:v_,setDrag:b_}=y_.actions,__=y_.reducer,w_=t=>{let{coords:e}=t;const n=BA(),i=xA((t=>t.viewMode.viewMode)),o=xA((t=>t.viewState.zoom)),[s,a]=(0,r.useState)(400),[l,c]=(0,r.useState)([e.longitude,e.latitude]),[u,h]=(0,r.useState)(!1),[f,d]=(0,r.useState)();(0,r.useEffect)((()=>{const t=Rm(l,s,{units:"meters"});d(t)}),[l]);const p=(0,r.useCallback)((t=>{t&&t.coordinate?c([t.coordinate[0],t.coordinate[1]]):c([])}),[]),A=(0,r.useCallback)((0,NA.debounce)(p,100),[p]);if(i!=ld.LENS)return{layers:[],lensData:{}};const g=new v.A({id:"circle",data:f,filled:!0,getFillColor:[255,255,255,0],getLineColor:[0,120,0,255],getLineWidth:5,pickable:o<17,onDragStart:()=>{h(!0),n(b_(!0))},onDrag:(t,e)=>{t&&t.coordinate&&c([t.coordinate[0],t.coordinate[1]])},onDragEnd:(t,e)=>{h(!1),A(t);const r=Rm(l,s,{units:"meters"});d(r),n(b_(!1))}});return{layers:[g],lensData:f}},x_=t=>{let{coordinates:e,queryData:n,metric:i,viewMode:o}=t;const[s,a]=(0,r.useState)([]),l=(!e||0===e.length)&&o!==ld.FULL,c=xA((t=>t.viewMode.legendLimits));aA((async(t,n)=>{if(a([]),l)return;const r=await uA({coordinates:e,layer:o===ld.FULL?"blocks":"lots"},t);n&&a((null===r||void 0===r?void 0:r.features)||[])}),[e]),(0,r.useEffect)((()=>{a(s.filter((t=>!0)))}),[n,c]);const u=(0,r.useMemo)((()=>{const[t,e]=id(n,i);return e=>{if(!t)return[200,200,200];const r=n[e.properties.ID];if(null!=c&&(r<c.min||r>c.max))return[200,200,200];if(r>0){var i;const e=null===(i=_n(t(r)))||void 0===i?void 0:i.rgb();return e?[e.r,e.g,e.b]:[255,255,255]}return[200,200,200]}}),[n,c]);return l?[]:[new v.A({id:"lots",data:s,filled:!0,getFillColor:u,getLineWidth:0,pickable:!0})]},E_=t=>{let{coordinates:e,queryDataFloors:n,zoom:i}=t;const[o,s]=(0,r.useState)([]),a=i>=17;if(aA((async(t,n)=>{if(!a||!e||0===e.length)return;const r=await uA({coordinates:e,layer:"landuse_building"},t);n&&s(r)}),[e,n,a]),!a||!e||0===e.length)return[];return[new v.A({id:"buildings-floors-layer",data:o,filled:!0,getFillColor:[200,200,140,200],getLineWidth:0,pickable:!0,extruded:!0,getElevation:t=>function(t){var e;return 3*(null===(e=n[t])||void 0===e?void 0:e.num_floors)||0}(t.properties.ID)}),new v.A({id:"buildings-max-height-layer",data:o,filled:!0,getFillColor:[255,255,255,50],getLineWidth:0,pickable:!0,extruded:!0,wireframe:!0,getElevation:t=>function(t){var e;return 3*(null===(e=n[t])||void 0===e?void 0:e.max_height)||0}(t.properties.ID)})]};var S_=n(78550),C_=n(8029);const P_=Up({name:"accessibilityList",initialState:{accessibilityList:[],accessibilityPoints:[]},reducers:{setAccessibilityList:(t,e)=>{t.accessibilityList=e.payload},setAccessibilityPoints:(t,e)=>{t.accessibilityPoints=e.payload}}}),{setAccessibilityList:M_,setAccessibilityPoints:T_}=P_.actions,O_=P_.reducer,I_=t=>{let{metric:e,coordinates:n}=t;const i=BA(),[o,s]=r.useState([]),a="minutes"!==e||!n||0===n.length,[l,c]=r.useState(null),u=xA((t=>t.accessibilityList.accessibilityList));aA((async(t,e)=>{if(a)return;if(!n||0===n.length)return;const r=await uA({coordinates:n,layer:"accessibility_points"},t),o=(null===r||void 0===r?void 0:r.features)||[],l=u.map((t=>t.value)),c=o.filter((t=>{if(u.length){var e;const n=(null===(e=sd.find((e=>e.label===t.properties.amenity)))||void 0===e?void 0:e.value)||"health";return l.includes(n)}return!0})),h=c.map((t=>t.properties));e&&s(c),i(T_(h))}),[n,u]);return a?[]:[new S_.A({id:"icon-layer",data:o,getIcon:t=>{var e;return(null===(e=sd.find((e=>e.label===t.properties.amenity)))||void 0===e?void 0:e.type)||"health"},getPosition:t=>t.geometry.coordinates,getSize:40,iconAtlas:"images/amenities.png",iconMapping:{health:{x:0,y:0,width:512,height:512,mask:!1,anchorY:512},education:{x:512,y:0,width:512,height:512,mask:!1,anchorY:512},recreation:{x:1024,y:0,width:512,height:512,mask:!1,anchorY:512},park:{x:1536,y:0,width:512,height:512,mask:!1,anchorY:512}},zIndex:1e3,pickable:!0,onHover:t=>{let{x:e,y:n,object:r}=t;((t,e,n)=>{n?(console.log(n),c({object:n,x:t,y:e})):c(null)})(e,n,r)}}),l&&new C_.A({id:"text-layer",data:[l],getPosition:t=>t.object.geometry.coordinates,getText:t=>t.object.properties.amenity,getPixelOffset:[0,-50],getSize:16,getColor:[255,255,255],background:!0,backgroundColor:[0,0,0,150],backgroundPadding:[6,4],getTextAnchor:"middle",getAlignmentBaseline:"bottom",fontFamily:'"Arial", sans-serif',zIndex:1e3,characterSet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\xe9\xf3"})]},R_=Up({name:"viewMode",initialState:{viewMode:ld.FULL,poligonMode:cd.VIEW,activeTab:ud.VISOR,isLoading:!1,legendLimits:null},reducers:{setViewMode:(t,e)=>{t.viewMode=e.payload},setPoligonMode:(t,e)=>{t.poligonMode=e.payload},setActiveTab:(t,e)=>{t.activeTab=e.payload},setIsLoading:(t,e)=>{t.isLoading=e.payload},setLegendLimits:(t,e)=>{t.legendLimits=e.payload}}}),{setViewMode:L_,setPoligonMode:k_,setActiveTab:B_,setIsLoading:N_,setLegendLimits:D_}=R_.actions,F_=R_.reducer,j_=()=>{const t=BA(),e=xA((t=>t.viewMode.viewMode)),n=xA((t=>t.viewMode.isLoading)),i=xA((t=>t.accessibilityList.accessibilityList)),o=xA((t=>t.viewState.zoom)),s=xA((t=>t.queryMetric.queryMetric)),a=xA((t=>t.lensSettings.isDrag)),[l,c]=(0,r.useState)({}),[u,h]=(0,r.useState)({}),[f,d]=(0,r.useState)(void 0),{lensData:p,layers:A}=w_({coords:{latitude:rd.latitude,longitude:rd.longitude}}),{drawPoligonData:g,layers:y}=(()=>{const t=xA((t=>t.viewMode.viewMode)),e=xA((t=>t.viewMode.poligonMode)),n=BA(),[i,o]=(0,r.useState)({type:"FeatureCollection",features:[]});if(t!==ld.POLIGON)return{drawPoligonData:i,layers:[]};switch(e){case cd.EDIT:new zA.ModifyMode;break;case cd.DELETE:o({type:"FeatureCollection",features:[]}),n(k_(cd.VIEW))}return{drawPoligonData:i,layers:[new WA.Tp({id:"editable-layer",data:i,mode:(i.features.length,new zA.DrawPolygonMode),selectedFeatureIndexes:[0],onEdit:t=>{let{updatedData:e,editType:n,editContext:r}=t;e.features[0]&&o({type:"FeatureCollection",features:e.features})},pickable:!0,getTentativeFillColor:[255,255,255,50],getFillColor:[0,0,0,0],getTentativeLineColor:[0,0,255,200],getLineColor:[0,0,255,200]})]}})(),m=x_({coordinates:f,viewMode:e,queryData:l,metric:s}),v=E_({coordinates:f,queryDataFloors:u,zoom:o}),b=I_({coordinates:f,metric:s}),_=sm({coordinates:f,metric:s}),w=(0,r.useMemo)((()=>JSON.stringify(p)),[p]),x=(0,r.useMemo)((()=>JSON.stringify(g)),[g]);(0,r.useEffect)((()=>{d(null)}),[a,e]),(0,r.useEffect)((()=>{if(e===ld.FULL)f&&d(void 0);else if(e===ld.LENS)a||d(null===p||void 0===p?void 0:p.geometry.coordinates[0]);else if(e===ld.POLIGON){var t;d(null===g||void 0===g||null===(t=g.features[0])||void 0===t?void 0:t.geometry.coordinates[0])}}),[e,a,w,x]),aA((async(n,r)=>{var o;if((!s||!f)&&e!==ld.FULL)return;console.log("--QUERY--"),t(N_(!0));const a=await im.post("".concat("http://reimagina-urbano-api.eastus.cloudapp.azure.com:8000","/query"),{metric:(null===(o=od[s])||void 0===o?void 0:o.query)||s,accessibility_info:i.map((t=>({name:t.label,radius:3200,importance:1}))),coordinates:f,layer:e===ld.FULL?"blocks":"lots"},{signal:n});if(a&&a.data&&(t(N_(!1)),r)){const e={},n={},r=a.data.map((t=>t.ID));t(VA(r)),a.data.forEach((t=>{e[t.ID]=t.value,n[t.ID]={num_floors:t.num_floors,max_height:t.max_height}})),h(n),c(e),t(tA(a.data))}}),[s,f,i]);return{layers:[l&&!n&&m,...v,..._,...A,...y,...b]}},U_=()=>{var t;const e=BA(),n=xA((t=>t.queryData.queryData)),i=xA((t=>t.queryMetric.queryMetric)),[o,s]=id(n,i),[a,l]=(0,r.useState)(-1),c=(null===(t=od[i])||void 0===t?void 0:t.title)||i;return(0,r.useEffect)((()=>{l(-1),e(D_(null))}),[i]),Object.keys(n).length?(0,nA.jsxs)("div",{className:"legend",children:[(0,nA.jsx)("h4",{className:"legend__title",children:(0,nA.jsx)("b",{children:c})}),s.map(((t,n)=>(0,nA.jsxs)("div",{className:"legend__label ".concat(a==n?"legend__label--active":""),onClick:()=>{if(a==n)l(-1),e(D_(null));else{const r=o.invertExtent(t);l(n),e(D_({min:r[0],max:r[1]}))}console.log()},children:[(0,nA.jsx)("div",{className:"legend__icon",style:{background:t}}),(0,nA.jsx)("span",{children:o.invertExtent(t).map((t=>(t=>{var e;const n=null===(e=od[i])||void 0===e?void 0:e.type,r=Number(t).toLocaleString("en-US");return"percentage"===n?"".concat(r,"%"):"minutes"===n?"".concat(r," min"):"area"===n?"".concat(r," m\xb2"):r})(t.toFixed(0)))).join(" - ")})]},n)))]}):(0,nA.jsx)(nA.Fragment,{})};var z_=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")};function G_(t){const e=typeof t;return null!=t&&("object"===e||"function"===e)&&!Array.isArray(t)}var V_=t=>{const{condition:e,message:n}=t};function H_(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return W_(t)?t(...n):t}var W_=t=>"function"===typeof t,q_=t=>t?"":void 0,X_=t=>!!t||void 0;function Y_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.some((e=>(null==e||e(t),null==t?void 0:t.defaultPrevented)))}}function Q_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{!function(t,e){if(null!=t)if("function"!==typeof t)try{t.current=e}catch(n){throw new Error("Cannot assign value '".concat(e,"' to ref '").concat(t,"'"))}else t(e)}(e,t)}))}}function K_(t){const e=t.target,{tagName:n,isContentEditable:r}=e;return"INPUT"!==n&&"TEXTAREA"!==n&&!0!==r}function J_(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ref:e,isDisabled:n,isFocusable:i,clickOnEnter:o=!0,clickOnSpace:s=!0,onMouseDown:a,onMouseUp:l,onClick:c,onKeyDown:u,onKeyUp:h,tabIndex:f,onMouseOver:d,onMouseLeave:p,...A}=t,[g,y]=(0,r.useState)(!0),[m,v]=(0,r.useState)(!1),b=function(){const t=(0,r.useRef)(new Map),e=t.current,n=(0,r.useCallback)(((e,n,r,i)=>{t.current.set(r,{type:n,el:e,options:i}),e.addEventListener(n,r,i)}),[]),i=(0,r.useCallback)(((e,n,r,i)=>{e.removeEventListener(n,r,i),t.current.delete(r)}),[]);return(0,r.useEffect)((()=>()=>{e.forEach(((t,e)=>{i(t.el,t.type,e,t.options)}))}),[i,e]),{add:n,remove:i}}(),_=g?f:f||0,w=n&&!i,x=(0,r.useCallback)((t=>{if(n)return t.stopPropagation(),void t.preventDefault();t.currentTarget.focus(),null==c||c(t)}),[n,c]),E=(0,r.useCallback)((t=>{m&&K_(t)&&(t.preventDefault(),t.stopPropagation(),v(!1),b.remove(document,"keyup",E,!1))}),[m,b]),S=(0,r.useCallback)((t=>{if(null==u||u(t),n||t.defaultPrevented||t.metaKey)return;if(!K_(t.nativeEvent)||g)return;const e=o&&"Enter"===t.key;if(s&&" "===t.key&&(t.preventDefault(),v(!0)),e){t.preventDefault();t.currentTarget.click()}b.add(document,"keyup",E,!1)}),[n,g,u,o,s,b,E]),C=(0,r.useCallback)((t=>{if(null==h||h(t),n||t.defaultPrevented||t.metaKey)return;if(!K_(t.nativeEvent)||g)return;if(s&&" "===t.key){t.preventDefault(),v(!1);t.currentTarget.click()}}),[s,g,n,h]),P=(0,r.useCallback)((t=>{0===t.button&&(v(!1),b.remove(document,"mouseup",P,!1))}),[b]),M=(0,r.useCallback)((t=>{if(0!==t.button)return;if(n)return t.stopPropagation(),void t.preventDefault();g||v(!0);t.currentTarget.focus({preventScroll:!0}),b.add(document,"mouseup",P,!1),null==a||a(t)}),[n,g,a,b,P]),T=(0,r.useCallback)((t=>{0===t.button&&(g||v(!1),null==l||l(t))}),[l,g]),O=(0,r.useCallback)((t=>{n?t.preventDefault():null==d||d(t)}),[n,d]),I=(0,r.useCallback)((t=>{m&&(t.preventDefault(),v(!1)),null==p||p(t)}),[m,p]),R=Q_(e,(t=>{t&&"BUTTON"!==t.tagName&&y(!1)}));return g?{...A,ref:R,type:"button","aria-disabled":w?void 0:n,disabled:w,onClick:x,onMouseDown:a,onMouseUp:l,onKeyUp:h,onKeyDown:u,onMouseOver:d,onMouseLeave:p}:{...A,ref:R,role:"button","data-active":q_(m),"aria-disabled":n?"true":void 0,tabIndex:w?void 0:_,onClick:x,onMouseDown:M,onMouseUp:T,onKeyUp:C,onKeyDown:S,onMouseOver:O,onMouseLeave:I}}var Z_=Object.defineProperty,$_=(t,e,n)=>(((t,e,n)=>{e in t?Z_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!==typeof e?e+"":e,n),n);function tw(t){return t.sort(((t,e)=>{const n=t.compareDocumentPosition(e);if(n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(n&Node.DOCUMENT_POSITION_DISCONNECTED||n&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0}))}function ew(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function nw(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}var rw="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,iw=t=>t,ow=class{constructor(){var t=this;$_(this,"descendants",new Map),$_(this,"register",(t=>{var e;if(null!=t)return"object"==typeof(e=t)&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE?this.registerNode(t):e=>{this.registerNode(e,t)}})),$_(this,"unregister",(t=>{this.descendants.delete(t);const e=tw(Array.from(this.descendants.keys()));this.assignIndex(e)})),$_(this,"destroy",(()=>{this.descendants.clear()})),$_(this,"assignIndex",(t=>{this.descendants.forEach((e=>{const n=t.indexOf(e.node);e.index=n,e.node.dataset.index=e.index.toString()}))})),$_(this,"count",(()=>this.descendants.size)),$_(this,"enabledCount",(()=>this.enabledValues().length)),$_(this,"values",(()=>Array.from(this.descendants.values()).sort(((t,e)=>t.index-e.index)))),$_(this,"enabledValues",(()=>this.values().filter((t=>!t.disabled)))),$_(this,"item",(t=>{if(0!==this.count())return this.values()[t]})),$_(this,"enabledItem",(t=>{if(0!==this.enabledCount())return this.enabledValues()[t]})),$_(this,"first",(()=>this.item(0))),$_(this,"firstEnabled",(()=>this.enabledItem(0))),$_(this,"last",(()=>this.item(this.descendants.size-1))),$_(this,"lastEnabled",(()=>{const t=this.enabledValues().length-1;return this.enabledItem(t)})),$_(this,"indexOf",(t=>{var e,n;return t&&null!=(n=null==(e=this.descendants.get(t))?void 0:e.index)?n:-1})),$_(this,"enabledIndexOf",(t=>null==t?-1:this.enabledValues().findIndex((e=>e.node.isSameNode(t))))),$_(this,"next",(function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=ew(e,t.count(),n);return t.item(r)})),$_(this,"nextEnabled",(function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=t.item(e);if(!r)return;const i=ew(t.enabledIndexOf(r.node),t.enabledCount(),n);return t.enabledItem(i)})),$_(this,"prev",(function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=nw(e,t.count()-1,n);return t.item(r)})),$_(this,"prevEnabled",(function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=t.item(e);if(!r)return;const i=nw(t.enabledIndexOf(r.node),t.enabledCount()-1,n);return t.enabledItem(i)})),$_(this,"registerNode",((t,e)=>{if(!t||this.descendants.has(t))return;const n=tw(Array.from(this.descendants.keys()).concat(t));(null==e?void 0:e.disabled)&&(e.disabled=!!e.disabled);const r={node:t,index:-1,...e};this.descendants.set(t,r),this.assignIndex(n)}))}};function sw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{name:e,strict:n=!0,hookName:i="useContext",providerName:o="Provider",errorMessage:s,defaultValue:a}=t,l=(0,r.createContext)(a);return l.displayName=e,[l.Provider,function t(){var e;const a=(0,r.useContext)(l);if(!a&&n){const n=new Error(null!=s?s:(c=o,"".concat(i," returned `undefined`. Seems you forgot to wrap component within ").concat(c)));throw n.name="ContextError",null==(e=Error.captureStackTrace)||e.call(Error,n,t),n}var c;return a},l]}var[aw,lw]=sw({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function cw(){return[iw(aw),()=>iw(lw()),()=>function(){const t=(0,r.useRef)(new ow);return rw((()=>()=>t.current.destroy())),t.current}(),t=>function(t){const e=lw(),[n,i]=(0,r.useState)(-1),o=(0,r.useRef)(null);rw((()=>()=>{o.current&&e.unregister(o.current)}),[]),rw((()=>{if(!o.current)return;const t=Number(o.current.dataset.index);n==t||Number.isNaN(t)||i(t)}));const s=iw(t?e.register(t):e.register);return{descendants:e,index:n,enabledIndex:e.enabledIndexOf(o.current),register:Q_(s,o)}}(t)]}function uw(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,r.useRef)(t);return(0,r.useEffect)((()=>{n.current=t})),(0,r.useCallback)((function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return null==(t=n.current)?void 0:t.call(n,...r)}),e)}function hw(t){const{value:e,defaultValue:n,onChange:i,shouldUpdate:o=(t,e)=>t!==e}=t,s=uw(i),a=uw(o),[l,c]=(0,r.useState)(n),u=void 0!==e,h=u?e:l,f=uw((t=>{const e="function"===typeof t?t(h):t;a(h,e)&&(u||c(e),s(e))}),[u,s,h,a]);return[h,f]}function fw(t){return r.Children.toArray(t).filter((t=>(0,r.isValidElement)(t)))}var[dw,pw,Aw,gw]=cw();var[yw,mw]=sw({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});var[vw,bw]=sw({});function _w(t,e){return"".concat(t,"--tab-").concat(e)}function ww(t,e){return"".concat(t,"--tabpanel-").concat(e)}function xw(t){return(0,r.forwardRef)(t)}var Ew=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(r){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){var e;return null==(e=t.parentNode)?void 0:e.removeChild(t)})),this.tags=[],this.ctr=0},t}(),Sw=Math.abs,Cw=String.fromCharCode,Pw=Object.assign;function Mw(t){return t.trim()}function Tw(t,e,n){return t.replace(e,n)}function Ow(t,e){return t.indexOf(e)}function Iw(t,e){return 0|t.charCodeAt(e)}function Rw(t,e,n){return t.slice(e,n)}function Lw(t){return t.length}function kw(t){return t.length}function Bw(t,e){return e.push(t),t}var Nw=1,Dw=1,Fw=0,jw=0,Uw=0,zw="";function Gw(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Nw,column:Dw,length:s,return:""}}function Vw(t,e){return Pw(Gw("",null,null,"",null,null,0),t,{length:-t.length},e)}function Hw(){return Uw=jw>0?Iw(zw,--jw):0,Dw--,10===Uw&&(Dw=1,Nw--),Uw}function Ww(){return Uw=jw<Fw?Iw(zw,jw++):0,Dw++,10===Uw&&(Dw=1,Nw++),Uw}function qw(){return Iw(zw,jw)}function Xw(){return jw}function Yw(t,e){return Rw(zw,t,e)}function Qw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Kw(t){return Nw=Dw=1,Fw=Lw(zw=t),jw=0,[]}function Jw(t){return zw="",t}function Zw(t){return Mw(Yw(jw-1,ex(91===t?t+2:40===t?t+1:t)))}function $w(t){for(;(Uw=qw())&&Uw<33;)Ww();return Qw(t)>2||Qw(Uw)>3?"":" "}function tx(t,e){for(;--e&&Ww()&&!(Uw<48||Uw>102||Uw>57&&Uw<65||Uw>70&&Uw<97););return Yw(t,Xw()+(e<6&&32==qw()&&32==Ww()))}function ex(t){for(;Ww();)switch(Uw){case t:return jw;case 34:case 39:34!==t&&39!==t&&ex(Uw);break;case 40:41===t&&ex(t);break;case 92:Ww()}return jw}function nx(t,e){for(;Ww()&&t+Uw!==57&&(t+Uw!==84||47!==qw()););return"/*"+Yw(e,jw-1)+"*"+Cw(47===t?t:Ww())}function rx(t){for(;!Qw(qw());)Ww();return Yw(t,jw)}var ix="-ms-",ox="-moz-",sx="-webkit-",ax="comm",lx="rule",cx="decl",ux="@keyframes";function hx(t,e){for(var n="",r=kw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function fx(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case cx:return t.return=t.return||t.value;case ax:return"";case ux:return t.return=t.value+"{"+hx(t.children,r)+"}";case lx:t.value=t.props.join(",")}return Lw(n=hx(t.children,r))?t.return=t.value+"{"+n+"}":""}function dx(t){return Jw(px("",null,null,null,[""],t=Kw(t),0,[0],t))}function px(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,f=0,d=0,p=0,A=1,g=1,y=1,m=0,v="",b=i,_=o,w=r,x=v;g;)switch(p=m,m=Ww()){case 40:if(108!=p&&58==Iw(x,h-1)){-1!=Ow(x+=Tw(Zw(m),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=Zw(m);break;case 9:case 10:case 13:case 32:x+=$w(p);break;case 92:x+=tx(Xw()-1,7);continue;case 47:switch(qw()){case 42:case 47:Bw(gx(nx(Ww(),Xw()),e,n),l);break;default:x+="/"}break;case 123*A:a[c++]=Lw(x)*y;case 125*A:case 59:case 0:switch(m){case 0:case 125:g=0;case 59+u:-1==y&&(x=Tw(x,/\f/g,"")),d>0&&Lw(x)-h&&Bw(d>32?yx(x+";",r,n,h-1):yx(Tw(x," ","")+";",r,n,h-2),l);break;case 59:x+=";";default:if(Bw(w=Ax(x,e,n,c,u,i,a,v,b=[],_=[],h),o),123===m)if(0===u)px(x,e,w,w,b,o,h,a,_);else switch(99===f&&110===Iw(x,3)?100:f){case 100:case 108:case 109:case 115:px(t,w,w,r&&Bw(Ax(t,w,w,0,0,i,a,v,i,b=[],h),_),i,_,h,a,r?b:_);break;default:px(x,w,w,w,[""],_,0,a,_)}}c=u=d=0,A=y=1,v=x="",h=s;break;case 58:h=1+Lw(x),d=p;default:if(A<1)if(123==m)--A;else if(125==m&&0==A++&&125==Hw())continue;switch(x+=Cw(m),m*A){case 38:y=u>0?1:(x+="\f",-1);break;case 44:a[c++]=(Lw(x)-1)*y,y=1;break;case 64:45===qw()&&(x+=Zw(Ww())),f=qw(),u=h=Lw(v=x+=rx(Xw())),m++;break;case 45:45===p&&2==Lw(x)&&(A=0)}}return o}function Ax(t,e,n,r,i,o,s,a,l,c,u){for(var h=i-1,f=0===i?o:[""],d=kw(f),p=0,A=0,g=0;p<r;++p)for(var y=0,m=Rw(t,h+1,h=Sw(A=s[p])),v=t;y<d;++y)(v=Mw(A>0?f[y]+" "+m:Tw(m,/&\f/g,f[y])))&&(l[g++]=v);return Gw(t,e,n,0===i?lx:a,l,c,u)}function gx(t,e,n){return Gw(t,e,n,ax,Cw(Uw),Rw(t,2,-2),0)}function yx(t,e,n,r){return Gw(t,e,n,cx,Rw(t,0,r),Rw(t,r+1,-1),r)}var mx=function(t,e,n){for(var r=0,i=0;r=i,i=qw(),38===r&&12===i&&(e[n]=1),!Qw(i);)Ww();return Yw(t,jw)},vx=function(t,e){return Jw(function(t,e){var n=-1,r=44;do{switch(Qw(r)){case 0:38===r&&12===qw()&&(e[n]=1),t[n]+=mx(jw-1,e,n);break;case 2:t[n]+=Zw(r);break;case 4:if(44===r){t[++n]=58===qw()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=Cw(r)}}while(r=Ww());return t}(Kw(t),e))},bx=new WeakMap,_x=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||bx.get(n))&&!r){bx.set(t,!0);for(var i=[],o=vx(e,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)t.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},wx=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function xx(t,e){switch(function(t,e){return 45^Iw(t,0)?(((e<<2^Iw(t,0))<<2^Iw(t,1))<<2^Iw(t,2))<<2^Iw(t,3):0}(t,e)){case 5103:return sx+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return sx+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return sx+t+ox+t+ix+t+t;case 6828:case 4268:return sx+t+ix+t+t;case 6165:return sx+t+ix+"flex-"+t+t;case 5187:return sx+t+Tw(t,/(\w+).+(:[^]+)/,sx+"box-$1$2"+ix+"flex-$1$2")+t;case 5443:return sx+t+ix+"flex-item-"+Tw(t,/flex-|-self/,"")+t;case 4675:return sx+t+ix+"flex-line-pack"+Tw(t,/align-content|flex-|-self/,"")+t;case 5548:return sx+t+ix+Tw(t,"shrink","negative")+t;case 5292:return sx+t+ix+Tw(t,"basis","preferred-size")+t;case 6060:return sx+"box-"+Tw(t,"-grow","")+sx+t+ix+Tw(t,"grow","positive")+t;case 4554:return sx+Tw(t,/([^-])(transform)/g,"$1"+sx+"$2")+t;case 6187:return Tw(Tw(Tw(t,/(zoom-|grab)/,sx+"$1"),/(image-set)/,sx+"$1"),t,"")+t;case 5495:case 3959:return Tw(t,/(image-set\([^]*)/,sx+"$1$`$1");case 4968:return Tw(Tw(t,/(.+:)(flex-)?(.*)/,sx+"box-pack:$3"+ix+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+sx+t+t;case 4095:case 3583:case 4068:case 2532:return Tw(t,/(.+)-inline(.+)/,sx+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lw(t)-1-e>6)switch(Iw(t,e+1)){case 109:if(45!==Iw(t,e+4))break;case 102:return Tw(t,/(.+:)(.+)-([^]+)/,"$1"+sx+"$2-$3$1"+ox+(108==Iw(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Ow(t,"stretch")?xx(Tw(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==Iw(t,e+1))break;case 6444:switch(Iw(t,Lw(t)-3-(~Ow(t,"!important")&&10))){case 107:return Tw(t,":",":"+sx)+t;case 101:return Tw(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+sx+(45===Iw(t,14)?"inline-":"")+"box$3$1"+sx+"$2$3$1"+ix+"$2box$3")+t}break;case 5936:switch(Iw(t,e+11)){case 114:return sx+t+ix+Tw(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return sx+t+ix+Tw(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return sx+t+ix+Tw(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return sx+t+ix+t+t}return t}var Ex=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case cx:t.return=xx(t.value,t.length);break;case ux:return hx([Vw(t,{value:Tw(t.value,"@","@"+sx)})],r);case lx:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hx([Vw(t,{props:[Tw(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return hx([Vw(t,{props:[Tw(e,/:(plac\w+)/,":"+sx+"input-$1")]}),Vw(t,{props:[Tw(e,/:(plac\w+)/,":-moz-$1")]}),Vw(t,{props:[Tw(e,/:(plac\w+)/,ix+"input-$1")]})],r)}return""}))}}],Sx=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r,i,o=t.stylisPlugins||Ex,s={},a=[];r=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)s[e[n]]=!0;a.push(t)}));var l,c,u=[fx,(c=function(t){l.insert(t)},function(t){t.root||(t=t.return)&&c(t)})],h=function(t){var e=kw(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}([_x,wx].concat(o,u));i=function(t,e,n,r){l=n,function(t){hx(dx(t),h)}(t?t+"{"+e.styles+"}":e.styles),r&&(f.inserted[e.name]=!0)};var f={key:e,sheet:new Ew({key:e,container:r,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:i};return f.sheet.hydrate(a),f};function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(null,arguments)}var Px=function(t){var e=new WeakMap;return function(n){if(e.has(n))return e.get(n);var r=t(n);return e.set(n,r),r}};var Mx={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Tx(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var Ox=!1,Ix=/[A-Z]|^ms/g,Rx=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Lx=function(t){return 45===t.charCodeAt(1)},kx=function(t){return null!=t&&"boolean"!==typeof t},Bx=Tx((function(t){return Lx(t)?t:t.replace(Ix,"-$&").toLowerCase()})),Nx=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(Rx,(function(t,e,n){return jx={name:e,styles:n,next:jx},e}))}return 1===Mx[t]||Lx(t)||"number"!==typeof e||0===e?e:e+"px"},Dx="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Fx(t,e,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return jx={name:i.name,styles:i.styles,next:jx},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)jx={name:s.name,styles:s.styles,next:jx},s=s.next;return o.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Fx(t,e,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=e&&void 0!==e[a]?r+=o+"{"+e[a]+"}":kx(a)&&(r+=Bx(o)+":"+Nx(o,a)+";")}else{if("NO_COMPONENT_SELECTOR"===o&&Ox)throw new Error(Dx);if(!Array.isArray(s)||"string"!==typeof s[0]||null!=e&&void 0!==e[s[0]]){var l=Fx(t,e,s);switch(o){case"animation":case"animationName":r+=Bx(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)kx(s[c])&&(r+=Bx(o)+":"+Nx(o,s[c])+";")}}return r}(t,e,n);case"function":if(void 0!==t){var a=jx,l=n(t);return jx=a,Fx(t,e,l)}}var c=n;if(null==e)return c;var u=e[c];return void 0!==u?u:c}var jx,Ux=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function zx(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";jx=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=Fx(n,e,o)):i+=o[0];for(var s=1;s<t.length;s++){if(i+=Fx(n,e,t[s]),r)i+=o[s]}Ux.lastIndex=0;for(var a,l="";null!==(a=Ux.exec(i));)l+="-"+a[1];var c=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:jx}}var Gx=!!i.useInsertionEffect&&i.useInsertionEffect,Vx=Gx||function(t){return t()},Hx=Gx||r.useLayoutEffect,Wx=r.createContext("undefined"!==typeof HTMLElement?Sx({key:"css"}):null),qx=(Wx.Provider,function(t){return(0,r.forwardRef)((function(e,n){var i=(0,r.useContext)(Wx);return t(e,i,n)}))}),Xx=r.createContext({}),Yx=Px((function(t){return Px((function(e){return function(t,e){return"function"===typeof e?e(t):Cx({},t,e)}(t,e)}))})),Qx=function(t){var e=r.useContext(Xx);return t.theme!==e&&(e=Yx(e)(t.theme)),r.createElement(Xx.Provider,{value:e},t.children)};var Kx=(0,r.createContext)({});function Jx(){const t=(0,r.useContext)(Kx);if(void 0===t)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function Zx(){return{...Jx(),theme:function(){const t=(0,r.useContext)(Xx);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}()}}Kx.displayName="ColorModeContext";var $x=n(39611),tE=t=>"string"===typeof t?t.replace(/!(important)?$/,"").trim():t,eE=(t,e)=>n=>{const r=String(e),i=(t=>/!(important)?$/.test(t))(r),o=tE(r),s=t?"".concat(t,".").concat(o):o;let a=G_(n.__cssMap)&&s in n.__cssMap?n.__cssMap[s].varRef:e;return a=tE(a),i?"".concat(a," !important"):a};function nE(t){const{scale:e,transform:n,compose:r}=t;return(t,i)=>{var o;const s=eE(e,t)(i);let a=null!=(o=null==n?void 0:n(s,i))?o:s;return r&&(a=r(a,i)),a}}var rE=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>e.reduce(((t,e)=>e(t)),t)};function iE(t,e){return n=>{const r={property:n,scale:t};return r.transform=nE({scale:t,transform:e}),r}}var oE=t=>{let{rtl:e,ltr:n}=t;return t=>"rtl"===t.direction?e:n};var sE=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var aE={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},lE={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var cE={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},uE={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},hE=new Set(Object.values(uE)),fE=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),dE=t=>t.trim();var pE=t=>"string"===typeof t&&t.includes("(")&&t.includes(")");var AE=t=>e=>"".concat(t,"(").concat(e,")"),gE={filter:t=>"auto"!==t?t:aE,backdropFilter:t=>"auto"!==t?t:lE,ring:t=>function(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(gE.px(t)),bgClip:t=>"text"===t?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t},transform:t=>"auto"===t?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...sE].join(" "):"auto-gpu"===t?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...sE].join(" "):t,vh:t=>"$100vh"===t?"var(--chakra-vh)":t,px(t){if(null==t)return t;const{unitless:e}=(t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}})(t);return e||"number"===typeof t?"".concat(t,"px"):t},fraction:t=>"number"!==typeof t||t>1?t:"".concat(100*t,"%"),float:(t,e)=>"rtl"===e.direction?{left:"right",right:"left"}[t]:t,degree(t){if(function(t){return/^var\(--.+\)$/.test(t)}(t)||null==t)return t;const e="string"===typeof t&&!t.endsWith("deg");return"number"===typeof t||e?"".concat(t,"deg"):t},gradient:(t,e)=>function(t,e){if(null==t||fE.has(t))return t;if(!pE(t)&&!fE.has(t))return"url('".concat(t,"')");const n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),r=null==n?void 0:n[1],i=null==n?void 0:n[2];if(!r||!i)return t;const o=r.includes("-gradient")?r:"".concat(r,"-gradient"),[s,...a]=i.split(",").map(dE).filter(Boolean);if(0===(null==a?void 0:a.length))return t;const l=s in uE?uE[s]:s;a.unshift(l);const c=a.map((t=>{if(hE.has(t))return t;const n=t.indexOf(" "),[r,i]=-1!==n?[t.substr(0,n),t.substr(n+1)]:[t],o=pE(i)?i:i&&i.split(" "),s="colors.".concat(r),a=s in e.__cssMap?e.__cssMap[s].varRef:r;return o?[a,...Array.isArray(o)?o:[o]].join(" "):a}));return"".concat(o,"(").concat(c.join(", "),")")}(t,null!=e?e:{}),blur:AE("blur"),opacity:AE("opacity"),brightness:AE("brightness"),contrast:AE("contrast"),dropShadow:AE("drop-shadow"),grayscale:AE("grayscale"),hueRotate:t=>AE("hue-rotate")(gE.degree(t)),invert:AE("invert"),saturate:AE("saturate"),sepia:AE("sepia"),bgImage(t){if(null==t)return t;return pE(t)||fE.has(t)?t:"url(".concat(t,")")},outline(t){const e="0"===String(t)||"none"===String(t);return null!==t&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=null!=(e=cE[t])?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},yE={borderWidths:iE("borderWidths"),borderStyles:iE("borderStyles"),colors:iE("colors"),borders:iE("borders"),gradients:iE("gradients",gE.gradient),radii:iE("radii",gE.px),space:iE("space",rE(gE.vh,gE.px)),spaceT:iE("space",rE(gE.vh,gE.px)),degreeT:t=>({property:t,transform:gE.degree}),prop:(t,e,n)=>({property:t,scale:e,...e&&{transform:nE({scale:e,transform:n})}}),propT:(t,e)=>({property:t,transform:e}),sizes:iE("sizes",rE(gE.vh,gE.px)),sizesT:iE("sizes",rE(gE.vh,gE.fraction)),shadows:iE("shadows"),logical:function(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:oE(e),transform:n?nE({scale:n,compose:r}):r}},blur:iE("blur",gE.blur)},mE={background:yE.colors("background"),backgroundColor:yE.colors("backgroundColor"),backgroundImage:yE.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:gE.bgClip},bgSize:yE.prop("backgroundSize"),bgPosition:yE.prop("backgroundPosition"),bg:yE.colors("background"),bgColor:yE.colors("backgroundColor"),bgPos:yE.prop("backgroundPosition"),bgRepeat:yE.prop("backgroundRepeat"),bgAttachment:yE.prop("backgroundAttachment"),bgGradient:yE.gradients("backgroundImage"),bgClip:{transform:gE.bgClip}};Object.assign(mE,{bgImage:mE.backgroundImage,bgImg:mE.backgroundImage});var vE={border:yE.borders("border"),borderWidth:yE.borderWidths("borderWidth"),borderStyle:yE.borderStyles("borderStyle"),borderColor:yE.colors("borderColor"),borderRadius:yE.radii("borderRadius"),borderTop:yE.borders("borderTop"),borderBlockStart:yE.borders("borderBlockStart"),borderTopLeftRadius:yE.radii("borderTopLeftRadius"),borderStartStartRadius:yE.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:yE.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:yE.radii("borderTopRightRadius"),borderStartEndRadius:yE.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:yE.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:yE.borders("borderRight"),borderInlineEnd:yE.borders("borderInlineEnd"),borderBottom:yE.borders("borderBottom"),borderBlockEnd:yE.borders("borderBlockEnd"),borderBottomLeftRadius:yE.radii("borderBottomLeftRadius"),borderBottomRightRadius:yE.radii("borderBottomRightRadius"),borderLeft:yE.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:yE.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:yE.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:yE.borders(["borderLeft","borderRight"]),borderInline:yE.borders("borderInline"),borderY:yE.borders(["borderTop","borderBottom"]),borderBlock:yE.borders("borderBlock"),borderTopWidth:yE.borderWidths("borderTopWidth"),borderBlockStartWidth:yE.borderWidths("borderBlockStartWidth"),borderTopColor:yE.colors("borderTopColor"),borderBlockStartColor:yE.colors("borderBlockStartColor"),borderTopStyle:yE.borderStyles("borderTopStyle"),borderBlockStartStyle:yE.borderStyles("borderBlockStartStyle"),borderBottomWidth:yE.borderWidths("borderBottomWidth"),borderBlockEndWidth:yE.borderWidths("borderBlockEndWidth"),borderBottomColor:yE.colors("borderBottomColor"),borderBlockEndColor:yE.colors("borderBlockEndColor"),borderBottomStyle:yE.borderStyles("borderBottomStyle"),borderBlockEndStyle:yE.borderStyles("borderBlockEndStyle"),borderLeftWidth:yE.borderWidths("borderLeftWidth"),borderInlineStartWidth:yE.borderWidths("borderInlineStartWidth"),borderLeftColor:yE.colors("borderLeftColor"),borderInlineStartColor:yE.colors("borderInlineStartColor"),borderLeftStyle:yE.borderStyles("borderLeftStyle"),borderInlineStartStyle:yE.borderStyles("borderInlineStartStyle"),borderRightWidth:yE.borderWidths("borderRightWidth"),borderInlineEndWidth:yE.borderWidths("borderInlineEndWidth"),borderRightColor:yE.colors("borderRightColor"),borderInlineEndColor:yE.colors("borderInlineEndColor"),borderRightStyle:yE.borderStyles("borderRightStyle"),borderInlineEndStyle:yE.borderStyles("borderInlineEndStyle"),borderTopRadius:yE.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:yE.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:yE.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:yE.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(vE,{rounded:vE.borderRadius,roundedTop:vE.borderTopRadius,roundedTopLeft:vE.borderTopLeftRadius,roundedTopRight:vE.borderTopRightRadius,roundedTopStart:vE.borderStartStartRadius,roundedTopEnd:vE.borderStartEndRadius,roundedBottom:vE.borderBottomRadius,roundedBottomLeft:vE.borderBottomLeftRadius,roundedBottomRight:vE.borderBottomRightRadius,roundedBottomStart:vE.borderEndStartRadius,roundedBottomEnd:vE.borderEndEndRadius,roundedLeft:vE.borderLeftRadius,roundedRight:vE.borderRightRadius,roundedStart:vE.borderInlineStartRadius,roundedEnd:vE.borderInlineEndRadius,borderStart:vE.borderInlineStart,borderEnd:vE.borderInlineEnd,borderTopStartRadius:vE.borderStartStartRadius,borderTopEndRadius:vE.borderStartEndRadius,borderBottomStartRadius:vE.borderEndStartRadius,borderBottomEndRadius:vE.borderEndEndRadius,borderStartRadius:vE.borderInlineStartRadius,borderEndRadius:vE.borderInlineEndRadius,borderStartWidth:vE.borderInlineStartWidth,borderEndWidth:vE.borderInlineEndWidth,borderStartColor:vE.borderInlineStartColor,borderEndColor:vE.borderInlineEndColor,borderStartStyle:vE.borderInlineStartStyle,borderEndStyle:vE.borderInlineEndStyle});var bE={color:yE.colors("color"),textColor:yE.colors("color"),fill:yE.colors("fill"),stroke:yE.colors("stroke")},_E={boxShadow:yE.shadows("boxShadow"),mixBlendMode:!0,blendMode:yE.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:yE.prop("backgroundBlendMode"),opacity:!0};Object.assign(_E,{shadow:_E.boxShadow});var wE={filter:{transform:gE.filter},blur:yE.blur("--chakra-blur"),brightness:yE.propT("--chakra-brightness",gE.brightness),contrast:yE.propT("--chakra-contrast",gE.contrast),hueRotate:yE.propT("--chakra-hue-rotate",gE.hueRotate),invert:yE.propT("--chakra-invert",gE.invert),saturate:yE.propT("--chakra-saturate",gE.saturate),dropShadow:yE.propT("--chakra-drop-shadow",gE.dropShadow),backdropFilter:{transform:gE.backdropFilter},backdropBlur:yE.blur("--chakra-backdrop-blur"),backdropBrightness:yE.propT("--chakra-backdrop-brightness",gE.brightness),backdropContrast:yE.propT("--chakra-backdrop-contrast",gE.contrast),backdropHueRotate:yE.propT("--chakra-backdrop-hue-rotate",gE.hueRotate),backdropInvert:yE.propT("--chakra-backdrop-invert",gE.invert),backdropSaturate:yE.propT("--chakra-backdrop-saturate",gE.saturate)},xE={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:gE.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:yE.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:yE.space("gap"),rowGap:yE.space("rowGap"),columnGap:yE.space("columnGap")};Object.assign(xE,{flexDir:xE.flexDirection});var EE={gridGap:yE.space("gridGap"),gridColumnGap:yE.space("gridColumnGap"),gridRowGap:yE.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},SE={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:gE.outline},outlineOffset:!0,outlineColor:yE.colors("outlineColor")},CE={width:yE.sizesT("width"),inlineSize:yE.sizesT("inlineSize"),height:yE.sizes("height"),blockSize:yE.sizes("blockSize"),boxSize:yE.sizes(["width","height"]),minWidth:yE.sizes("minWidth"),minInlineSize:yE.sizes("minInlineSize"),minHeight:yE.sizes("minHeight"),minBlockSize:yE.sizes("minBlockSize"),maxWidth:yE.sizes("maxWidth"),maxInlineSize:yE.sizes("maxInlineSize"),maxHeight:yE.sizes("maxHeight"),maxBlockSize:yE.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;const o=null!=(i=null==(r=null==(n=e.__breakpoints)?void 0:n.get(t))?void 0:r.minW)?i:t,s="@media screen and (min-width: ".concat(o,")");return{[s]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;const o=null!=(i=null==(r=null==(n=e.__breakpoints)?void 0:n.get(t))?void 0:r._minW)?i:t,s="@media screen and (max-width: ".concat(o,")");return{[s]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:yE.propT("float",gE.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(CE,{w:CE.width,h:CE.height,minW:CE.minWidth,maxW:CE.maxWidth,minH:CE.minHeight,maxH:CE.maxHeight,overscroll:CE.overscrollBehavior,overscrollX:CE.overscrollBehaviorX,overscrollY:CE.overscrollBehaviorY});var PE={listStyleType:!0,listStylePosition:!0,listStylePos:yE.prop("listStylePosition"),listStyleImage:!0,listStyleImg:yE.prop("listStyleImage")};var ME=(t=>{const e=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return t(n,r,i);e.has(n)||e.set(n,new Map);const s=e.get(n);if(s.has(r))return s.get(r);const a=t(n,r,i,o);return s.set(r,a),a}})((function(t,e,n,r){const i="string"===typeof e?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return void 0===t?n:t})),TE={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},OE={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},IE=(t,e,n)=>{const r={},i=ME(t,e,{});for(const o in i){o in n&&null!=n[o]||(r[o]=i[o])}return r},RE={srOnly:{transform:t=>!0===t?TE:"focusable"===t?OE:{}},layerStyle:{processResult:!0,transform:(t,e,n)=>IE(e,"layerStyles.".concat(t),n)},textStyle:{processResult:!0,transform:(t,e,n)=>IE(e,"textStyles.".concat(t),n)},apply:{processResult:!0,transform:(t,e,n)=>IE(e,t,n)}},LE={position:!0,pos:yE.prop("position"),zIndex:yE.prop("zIndex","zIndices"),inset:yE.spaceT("inset"),insetX:yE.spaceT(["left","right"]),insetInline:yE.spaceT("insetInline"),insetY:yE.spaceT(["top","bottom"]),insetBlock:yE.spaceT("insetBlock"),top:yE.spaceT("top"),insetBlockStart:yE.spaceT("insetBlockStart"),bottom:yE.spaceT("bottom"),insetBlockEnd:yE.spaceT("insetBlockEnd"),left:yE.spaceT("left"),insetInlineStart:yE.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:yE.spaceT("right"),insetInlineEnd:yE.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(LE,{insetStart:LE.insetInlineStart,insetEnd:LE.insetInlineEnd});var kE={ring:{transform:gE.ring},ringColor:yE.colors("--chakra-ring-color"),ringOffset:yE.prop("--chakra-ring-offset-width"),ringOffsetColor:yE.colors("--chakra-ring-offset-color"),ringInset:yE.prop("--chakra-ring-inset")},BE={margin:yE.spaceT("margin"),marginTop:yE.spaceT("marginTop"),marginBlockStart:yE.spaceT("marginBlockStart"),marginRight:yE.spaceT("marginRight"),marginInlineEnd:yE.spaceT("marginInlineEnd"),marginBottom:yE.spaceT("marginBottom"),marginBlockEnd:yE.spaceT("marginBlockEnd"),marginLeft:yE.spaceT("marginLeft"),marginInlineStart:yE.spaceT("marginInlineStart"),marginX:yE.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:yE.spaceT("marginInline"),marginY:yE.spaceT(["marginTop","marginBottom"]),marginBlock:yE.spaceT("marginBlock"),padding:yE.space("padding"),paddingTop:yE.space("paddingTop"),paddingBlockStart:yE.space("paddingBlockStart"),paddingRight:yE.space("paddingRight"),paddingBottom:yE.space("paddingBottom"),paddingBlockEnd:yE.space("paddingBlockEnd"),paddingLeft:yE.space("paddingLeft"),paddingInlineStart:yE.space("paddingInlineStart"),paddingInlineEnd:yE.space("paddingInlineEnd"),paddingX:yE.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:yE.space("paddingInline"),paddingY:yE.space(["paddingTop","paddingBottom"]),paddingBlock:yE.space("paddingBlock")};Object.assign(BE,{m:BE.margin,mt:BE.marginTop,mr:BE.marginRight,me:BE.marginInlineEnd,marginEnd:BE.marginInlineEnd,mb:BE.marginBottom,ml:BE.marginLeft,ms:BE.marginInlineStart,marginStart:BE.marginInlineStart,mx:BE.marginX,my:BE.marginY,p:BE.padding,pt:BE.paddingTop,py:BE.paddingY,px:BE.paddingX,pb:BE.paddingBottom,pl:BE.paddingLeft,ps:BE.paddingInlineStart,paddingStart:BE.paddingInlineStart,pr:BE.paddingRight,pe:BE.paddingInlineEnd,paddingEnd:BE.paddingInlineEnd});var NE={textDecorationColor:yE.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:yE.shadows("textShadow")},DE={clipPath:!0,transform:yE.propT("transform",gE.transform),transformOrigin:!0,translateX:yE.spaceT("--chakra-translate-x"),translateY:yE.spaceT("--chakra-translate-y"),skewX:yE.degreeT("--chakra-skew-x"),skewY:yE.degreeT("--chakra-skew-y"),scaleX:yE.prop("--chakra-scale-x"),scaleY:yE.prop("--chakra-scale-y"),scale:yE.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:yE.degreeT("--chakra-rotate")},FE={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:yE.prop("transitionDuration","transition.duration"),transitionProperty:yE.prop("transitionProperty","transition.property"),transitionTimingFunction:yE.prop("transitionTimingFunction","transition.easing")},jE={fontFamily:yE.prop("fontFamily","fonts"),fontSize:yE.prop("fontSize","fontSizes",gE.px),fontWeight:yE.prop("fontWeight","fontWeights"),lineHeight:yE.prop("lineHeight","lineHeights"),letterSpacing:yE.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(!0===t)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},UE={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:yE.spaceT("scrollMargin"),scrollMarginTop:yE.spaceT("scrollMarginTop"),scrollMarginBottom:yE.spaceT("scrollMarginBottom"),scrollMarginLeft:yE.spaceT("scrollMarginLeft"),scrollMarginRight:yE.spaceT("scrollMarginRight"),scrollMarginX:yE.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:yE.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:yE.spaceT("scrollPadding"),scrollPaddingTop:yE.spaceT("scrollPaddingTop"),scrollPaddingBottom:yE.spaceT("scrollPaddingBottom"),scrollPaddingLeft:yE.spaceT("scrollPaddingLeft"),scrollPaddingRight:yE.spaceT("scrollPaddingRight"),scrollPaddingX:yE.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:yE.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function zE(t){return G_(t)&&t.reference?t.reference:String(t)}var GE=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(zE).join(" ".concat(t," ")).replace(/calc/g,"")},VE=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(GE("+",...e),")")},HE=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(GE("-",...e),")")},WE=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(GE("*",...e),")")},qE=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(GE("/",...e),")")},XE=t=>{const e=zE(t);return null==e||Number.isNaN(parseFloat(e))?WE(e,-1):String(e).startsWith("-")?String(e).slice(1):"-".concat(e)},YE=Object.assign((t=>({add:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return YE(VE(t,...n))},subtract:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return YE(HE(t,...n))},multiply:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return YE(WE(t,...n))},divide:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return YE(qE(t,...n))},negate:()=>YE(XE(t)),toString:()=>t.toString()})),{add:VE,subtract:HE,multiply:WE,divide:qE,negate:XE});function QE(t){const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(/\s+/g,e)}(t.toString());return function(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(t){if(t.includes("\\."))return t;const e=!Number.isInteger(parseFloat(t.toString()));return e?t.replace(".","\\."):t}(e))}function KE(t,e){return"var(".concat(t).concat(e?", ".concat(e):"",")")}function JE(t){return QE("--".concat(function(t){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t].filter(Boolean).join("-")}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")))}function ZE(t,e,n){const r=JE(t,n);return{variable:r,reference:KE(r,e)}}function $E(t){const e=null==t?0:t.length;return e?t[e-1]:void 0}function tS(t){if(null==t)return t;const{unitless:e}=function(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}(t);return e||"number"===typeof t?"".concat(t,"px"):t}var eS=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,nS=t=>Object.fromEntries(Object.entries(t).sort(eS));function rS(t){const e=nS(t);return Object.assign(Object.values(e),e)}function iS(t){var e;if(!t)return t;t=null!=(e=tS(t))?e:t;return"number"===typeof t?"".concat(t+-.02):t.replace(/(\d+\.?\d*)/u,(t=>"".concat(parseFloat(t)+-.02)))}function oS(t,e){const n=["@media screen"];return t&&n.push("and","(min-width: ".concat(tS(t),")")),e&&n.push("and","(max-width: ".concat(tS(e),")")),n.join(" ")}function sS(t){var e;if(!t)return null;t.base=null!=(e=t.base)?e:"0px";const n=rS(t),r=Object.entries(t).sort(eS).map(((t,e,n)=>{let[r,i]=t;var o;let[,s]=null!=(o=n[e+1])?o:[];return s=parseFloat(s)>0?iS(s):void 0,{_minW:iS(i),breakpoint:r,minW:i,maxW:s,maxWQuery:oS(null,s),minWQuery:oS(i),minMaxQuery:oS(i,s)}})),i=function(t){const e=Object.keys(nS(t));return new Set(e)}(t),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(t){const e=Object.keys(t);return e.length>0&&e.every((t=>i.has(t)))},asObject:nS(t),asArray:rS(t),details:r,get:t=>r.find((e=>e.breakpoint===t)),media:[null,...n.map((t=>oS(t))).slice(1)],toArrayValue(t){if(!G_(t))throw new Error("toArrayValue: value must be an object");const e=o.map((e=>{var n;return null!=(n=t[e])?n:null}));for(;null===$E(e);)e.pop();return e},toObjectValue(t){if(!Array.isArray(t))throw new Error("toObjectValue: value must be an array");return t.reduce(((t,e,n)=>{const r=o[n];return null!=r&&null!=e&&(t[r]=e),t}),{})}}}var aS=(t,e)=>"".concat(t,":hover ").concat(e,", ").concat(t,"[data-hover] ").concat(e),lS=(t,e)=>"".concat(t,":focus ").concat(e,", ").concat(t,"[data-focus] ").concat(e),cS=(t,e)=>"".concat(t,":focus-visible ").concat(e),uS=(t,e)=>"".concat(t,":focus-within ").concat(e),hS=(t,e)=>"".concat(t,":active ").concat(e,", ").concat(t,"[data-active] ").concat(e),fS=(t,e)=>"".concat(t,":disabled ").concat(e,", ").concat(t,"[data-disabled] ").concat(e),dS=(t,e)=>"".concat(t,":invalid ").concat(e,", ").concat(t,"[data-invalid] ").concat(e),pS=(t,e)=>"".concat(t,":checked ").concat(e,", ").concat(t,"[data-checked] ").concat(e),AS=(t,e)=>"".concat(t,":placeholder-shown ").concat(e),gS=t=>mS((e=>t(e,"&")),"[role=group]","[data-group]",".group"),yS=t=>mS((e=>t(e,"~ &")),"[data-peer]",".peer"),mS=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(t).join(", ")},vS={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:gS(aS),_peerHover:yS(aS),_groupFocus:gS(lS),_peerFocus:yS(lS),_groupFocusVisible:gS(cS),_peerFocusVisible:yS(cS),_groupActive:gS(hS),_peerActive:yS(hS),_groupDisabled:gS(fS),_peerDisabled:yS(fS),_groupInvalid:gS(dS),_peerInvalid:yS(dS),_groupChecked:gS(pS),_peerChecked:yS(pS),_groupFocusWithin:gS(uS),_peerFocusWithin:yS(uS),_peerPlaceholderShown:yS(AS),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},bS=Object.keys(vS);function _S(t,e){return ZE(String(t).replace(/\./g,"-"),void 0,e)}function wS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{stop:r,getKey:i}=n;return function t(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var s;if(function(t){return"object"===typeof t&&null!=t&&!Array.isArray(t)}(n)||Array.isArray(n)){const a={};for(const[l,c]of Object.entries(n)){const u=null!=(s=null==i?void 0:i(l))?s:l,h=[...o,u];if(null==r?void 0:r(n,h))return e(n,o);a[u]=t(c,h)}return a}return e(n,o)}(t)}var xS=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];var ES=t=>bS.includes(t)||"default"===t;function SS(t){var e;const n=function(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}(t),r=function(t){return function(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}(t,xS)}(n),i=function(t){return t.semanticTokens}(n),o=function(t){let{tokens:e,semanticTokens:n}=t;const r={};return wS(e,((t,e)=>{null!=t&&(r[e.join(".")]={isSemantic:!1,value:t})})),wS(n,((t,e)=>{null!=t&&(r[e.join(".")]={isSemantic:!0,value:t})}),{stop:t=>Object.keys(t).every(ES)}),r}({tokens:r,semanticTokens:i}),s=null==(e=n.config)?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=function(t,e){let n={};const r={};for(const[i,o]of Object.entries(t)){const{isSemantic:s,value:a}=o,{variable:l,reference:c}=_S(i,null==e?void 0:e.cssVarPrefix);if(!s){if(i.startsWith("space")){const t=i.split("."),[e,...n]=t,o="".concat(e,".-").concat(n.join(".")),s=YE.negate(a),u=YE.negate(c);r[o]={value:s,var:l,varRef:u}}n[l]=a,r[i]={value:a,var:l,varRef:c};continue}const u=n=>{const r=[String(i).split(".")[0],n].join(".");if(!t[r])return n;const{reference:o}=_S(r,null==e?void 0:e.cssVarPrefix);return o},h=G_(a)?a:{default:a};n=$x(n,Object.entries(h).reduce(((t,e)=>{let[n,r]=e;var i,o;if(!r)return t;const s=u("".concat(r));return"default"===n?(t[l]=s,t):(t[null!=(o=null==(i=vS)?void 0:i[n])?o:n]={[l]:s},t)}),{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}(o,{cssVarPrefix:s});return Object.assign(n,{__cssVars:{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0",...l},__cssMap:a,__breakpoints:sS(n.breakpoints)}),n}var CS=$x({},mE,vE,bE,xE,CE,wE,kE,SE,EE,RE,LE,_E,BE,UE,jE,NE,DE,PE,FE),PS=Object.assign({},BE,CE,xE,EE,LE),MS=(Object.keys(PS),[...Object.keys(CS),...bS]),TS={...CS,...vS},OS=t=>t in TS;var IS=(t,e)=>t.startsWith("--")&&"string"===typeof e&&!function(t){return/^var\(--.+\)$/.test(t)}(e),RS=(t,e)=>{var n,r;if(null==e)return e;const i=e=>{var n,r;return null==(r=null==(n=t.__cssMap)?void 0:n[e])?void 0:r.varRef},o=t=>{var e;return null!=(e=i(t))?e:t},[s,a]=function(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const o=t[i];"("===o?(r=!0,n+=o):")"===o?(r=!1,n+=o):","!==o||r?n+=o:(e.push(n),n="")}return n=n.trim(),n&&e.push(n),e}(e);return e=null!=(r=null!=(n=i(s))?n:o(a))?r:o(e)};function LS(t){const{configs:e={},pseudos:n={},theme:r}=t,i=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var s,a,l;const c=H_(t,r),u=(t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,o={};for(const s in t){let a=H_(t[s],e);if(null==a)continue;if(a=G_(a)&&n(a)?r(a):a,!Array.isArray(a)){o[s]=a;continue}const l=a.slice(0,i.length).length;for(let t=0;t<l;t+=1){const e=null==i?void 0:i[t];e?(o[e]=o[e]||{},null!=a[t]&&(o[e][s]=a[t])):o[s]=a[t]}}return o})(c)(r);let h={};for(let f in u){let t=H_(u[f],r);f in n&&(f=n[f]),IS(f,t)&&(t=RS(r,t));let d=e[f];if(!0===d&&(d={property:f}),G_(t)){h[f]=null!=(s=h[f])?s:{},h[f]=$x({},h[f],i(t,!0));continue}let p=null!=(l=null==(a=null==d?void 0:d.transform)?void 0:a.call(d,t,r,c))?l:t;p=(null==d?void 0:d.processResult)?i(p,!0):p;const A=H_(null==d?void 0:d.property,r);if(!o&&(null==d?void 0:d.static)){const t=H_(d.static,r);h=$x({},h,t)}if(A&&Array.isArray(A))for(const e of A)h[e]=p;else A?"&"===A&&G_(p)?h=$x({},h,p):h[A]=p:G_(p)?h=$x({},h,p):h[f]=p}return h};return i}var kS=t=>e=>LS({theme:e,pseudos:vS,configs:CS})(t);function BS(t){return{definePartsStyle:t=>t,defineMultiStyleConfig:e=>({parts:t,...e})}}function NS(t,e){for(let n=e+1;n<t.length;n++)if(null!=t[n])return n;return-1}function DS(t){const e=t.__breakpoints;return function(t,n,r,i){var o,s;if(!e)return;const a={},l=function(t,e){return Array.isArray(t)?t:G_(t)?e(t):null!=t?[t]:void 0}(r,e.toArrayValue);if(!l)return a;const c=l.length,u=1===c,h=!!t.parts;for(let f=0;f<c;f++){const r=e.details[f],c=e.details[NS(l,f)],d=oS(r.minW,null==c?void 0:c._minW),p=H_(null==(o=t[n])?void 0:o[l[f]],i);p&&(h?null==(s=t.parts)||s.forEach((t=>{$x(a,{[t]:u?p[t]:{[d]:p[t]}})})):h?a[d]=p:u?$x(a,p):a[d]=p)}return a}}function FS(t){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}(t,["styleConfig","size","variant","colorScheme"])}var jS=(t=>{const e=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return t(n,r,i);e.has(n)||e.set(n,new Map);const s=e.get(n);if(s.has(r))return s.get(r);const a=t(n,r,i,o);return s.set(r,a),a}})((function(t,e,n,r){const i="string"===typeof e?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return void 0===t?n:t}));function US(t,e){const n={};return Object.keys(t).forEach((r=>{const i=t[r];e(i,r,t)&&(n[r]=i)})),n}var zS=t=>US(t,(t=>null!==t&&void 0!==t)),GS=n(66366);function VS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{styleConfig:i,...o}=e,{theme:s,colorMode:a}=Zx(),l=t?jS(s,"components.".concat(t)):void 0,c=i||l,u=$x({theme:s,colorMode:a},null!=(n=null==c?void 0:c.defaultProps)?n:{},zS(function(t,e){const n={};return Object.keys(t).forEach((r=>{e.includes(r)||(n[r]=t[r])})),n}(o,["children"]))),h=(0,r.useRef)({});if(c){const t=function(t){return e=>{var n;const{variant:r,size:i,theme:o}=e,s=DS(o);return $x({},H_(null!=(n=t.baseStyle)?n:{},e),s(t,"sizes",i,e),s(t,"variants",r,e))}}(c),e=t(u);GS(h.current,e)||(h.current=e)}return h.current}function HS(t){return VS(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function WS(t){return VS(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var qS=new Set([...MS,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),XS=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function YS(t){return XS.has(t)||!qS.has(t)}function QS(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(t){return"function"===typeof t}(t)?t(...n):t}var KS=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var JS,ZS=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},$S=function(t,e,n){ZS(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}},tC=Tx((function(t){return KS.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),eC=function(t){return"theme"!==t},nC=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?tC:eC},rC=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!==typeof r&&n&&(r=t.__emotion_forwardProp),r},iC=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return ZS(e,n,r),Vx((function(){return $S(e,n,r)})),null},oC=function t(e,n){var i,o,s=e.__emotion_real===e,a=s&&e.__emotion_base||e;void 0!==n&&(i=n.label,o=n.target);var l=rC(e,n,s),c=l||nC(a),u=!c("as");return function(){var h=arguments,f=s&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==i&&f.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)f.push.apply(f,h);else{f.push(h[0][0]);for(var d=h.length,p=1;p<d;p++)f.push(h[p],h[0][p])}var A=qx((function(t,e,n){var i=u&&t.as||a,s="",h=[],d=t;if(null==t.theme){for(var p in d={},t)d[p]=t[p];d.theme=r.useContext(Xx)}"string"===typeof t.className?s=function(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}(e.registered,h,t.className):null!=t.className&&(s=t.className+" ");var A=zx(f.concat(h),e.registered,d);s+=e.key+"-"+A.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===l?nC(i):c,y={};for(var m in t)u&&"as"===m||g(m)&&(y[m]=t[m]);return y.className=s,n&&(y.ref=n),r.createElement(r.Fragment,null,r.createElement(iC,{cache:e,serialized:A,isStringTag:"string"===typeof i}),r.createElement(i,y))}));return A.displayName=void 0!==i?i:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=a,A.__emotion_styles=f,A.__emotion_forwardProp=l,Object.defineProperty(A,"toString",{value:function(){return"."+o}}),A.withComponent=function(e,r){return t(e,Cx({},n,r,{shouldForwardProp:rC(A,r,!0)})).apply(void 0,f)},A}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){oC[t]=oC(t)}));var sC=null!=(JS=oC.default)?JS:oC,aC=t=>{let{baseStyle:e}=t;return t=>{const{theme:n,css:r,__css:i,sx:o,...s}=t,a=US(s,((t,e)=>OS(e))),l=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const e={...t};for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)if(null!=o)for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(t in e&&delete e[t],e[t]=o[t]);return e}({},i,QS(e,t),zS(a),o),c=kS(l)(t.theme);return r?[c,r]:c}};function lC(t,e){const{baseStyle:n,...i}=null!=e?e:{};i.shouldForwardProp||(i.shouldForwardProp=YS);const o=aC({baseStyle:n}),s=sC(t,i)(o);return r.forwardRef((function(t,e){const{colorMode:n,forced:i}=Jx();return r.createElement(s,{ref:e,"data-theme":i?n:void 0,...t})}))}var cC=function(){const t=new Map;return new Proxy(lC,{apply:(t,e,n)=>lC(...n),get:(e,n)=>(t.has(n)||t.set(n,lC(n)),t.get(n))})}(),[uC,hC]=sw({name:"TabsStylesContext",errorMessage:"useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tabs />\" "}),fC=xw((function(t,e){const n=WS("Tabs",t),{children:i,className:o,...s}=FS(t),{htmlProps:a,descendants:l,...c}=function(t){var e;const{defaultIndex:n,onChange:i,index:o,isManual:s,isLazy:a,lazyBehavior:l="unmount",orientation:c="horizontal",direction:u="ltr",...h}=t,[f,d]=(0,r.useState)(null!=n?n:0),[p,A]=hw({defaultValue:null!=n?n:0,value:o,onChange:i});(0,r.useEffect)((()=>{null!=o&&d(o)}),[o]);const g=Aw(),y=(0,r.useId)(),m=null!=(e=t.id)?e:y;return{id:"tabs-".concat(m),selectedIndex:p,focusedIndex:f,setSelectedIndex:A,setFocusedIndex:d,isManual:s,isLazy:a,lazyBehavior:l,orientation:c,descendants:g,direction:u,htmlProps:h}}(s),u=(0,r.useMemo)((()=>c),[c]),{isFitted:h,...f}=a,d={position:"relative",...n.root};return(0,nA.jsx)(dw,{value:l,children:(0,nA.jsx)(yw,{value:u,children:(0,nA.jsx)(uC,{value:n,children:(0,nA.jsx)(cC.div,{className:z_("chakra-tabs",o),ref:e,...f,__css:d,children:i})})})})}));fC.displayName="Tabs";var dC=xw((function(t,e){const n=function(t){const{focusedIndex:e,orientation:n,direction:i}=mw(),o=pw(),s=(0,r.useCallback)((t=>{const r=()=>{var t;const n=o.nextEnabled(e);n&&(null==(t=n.node)||t.focus())},s=()=>{var t;const n=o.prevEnabled(e);n&&(null==(t=n.node)||t.focus())},a="horizontal"===n,l="vertical"===n,c=t.key,u="ltr"===i?"ArrowLeft":"ArrowRight",h="ltr"===i?"ArrowRight":"ArrowLeft",f={[u]:()=>a&&s(),[h]:()=>a&&r(),ArrowDown:()=>l&&r(),ArrowUp:()=>l&&s(),Home:()=>{var t;const e=o.firstEnabled();e&&(null==(t=e.node)||t.focus())},End:()=>{var t;const e=o.lastEnabled();e&&(null==(t=e.node)||t.focus())}},d=f[c];d&&(t.preventDefault(),d(t))}),[o,e,n,i]);return{...t,role:"tablist","aria-orientation":n,onKeyDown:Y_(t.onKeyDown,s)}}({...t,ref:e}),i={display:"flex",...hC().tablist};return(0,nA.jsx)(cC.div,{...n,className:z_("chakra-tabs__tablist",t.className),__css:i})}));dC.displayName="TabList";var pC=xw((function(t,e){const n=hC(),r=function(t){const{isDisabled:e=!1,isFocusable:n=!1,...r}=t,{setSelectedIndex:i,isManual:o,id:s,setFocusedIndex:a,selectedIndex:l}=mw(),{index:c,register:u}=gw({disabled:e&&!n}),h=c===l;return{...J_({...r,ref:Q_(u,t.ref),isDisabled:e,isFocusable:n,onClick:Y_(t.onClick,(()=>{i(c)}))}),id:_w(s,c),role:"tab",tabIndex:h?0:-1,type:"button","aria-selected":h,"aria-controls":ww(s,c),onFocus:e?void 0:Y_(t.onFocus,(()=>{a(c),!o&&(!e||!n)&&i(c)}))}}({...t,ref:e}),i={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...n.tab};return(0,nA.jsx)(cC.button,{...r,className:z_("chakra-tabs__tab",t.className),__css:i})}));pC.displayName="Tab";var AC=xw((function(t,e){const n=function(t){const e=mw(),{id:n,selectedIndex:i}=e,o=fw(t.children).map(((t,e)=>(0,r.createElement)(vw,{key:e,value:{isSelected:e===i,id:ww(n,e),tabId:_w(n,e),selectedIndex:i}},t)));return{...t,children:o}}(t),i=hC();return(0,nA.jsx)(cC.div,{...n,width:"100%",ref:e,className:z_("chakra-tabs__tab-panels",t.className),__css:i.tabpanels})}));AC.displayName="TabPanels";var gC=xw((function(t,e){const n=function(t){const{children:e,...n}=t,{isLazy:i,lazyBehavior:o}=mw(),{isSelected:s,id:a,tabId:l}=bw(),c=(0,r.useRef)(!1);s&&(c.current=!0);const u=function(t){const{wasSelected:e,enabled:n,isSelected:r,mode:i="unmount"}=t;return!n||!!r||!("keepMounted"!==i||!e)}({wasSelected:c.current,isSelected:s,enabled:i,mode:o});return{tabIndex:0,...n,children:u?e:null,role:"tabpanel","aria-labelledby":l,hidden:!s,id:a}}({...t,ref:e}),i=hC();return(0,nA.jsx)(cC.div,{outline:"0",...n,className:z_("chakra-tabs__tab-panel",t.className),__css:i.tabpanel})}));gC.displayName="TabPanel";var yC=cC("div");yC.displayName="Box";var mC=xw((function(t,e){const{size:n,centerContent:r=!0,...i}=t,o=r?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,nA.jsx)(yC,{ref:e,boxSize:n,__css:{...o,flexShrink:0,flexGrow:0},...i})}));mC.displayName="Square";var vC=xw((function(t,e){const{size:n,...r}=t;return(0,nA.jsx)(mC,{size:n,ref:e,borderRadius:"9999px",...r})}));vC.displayName="Circle";var bC=xw((function(t,e){const n=HS("Text",t),{className:r,align:i,decoration:o,casing:s,...a}=FS(t),l=function(t){const e=Object.assign({},t);for(let n in e)void 0===e[n]&&delete e[n];return e}({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return(0,nA.jsx)(cC.p,{ref:e,className:z_("chakra-text",t.className),...l,...a,__css:n})}));bC.displayName="Text";var _C=t=>(0,nA.jsx)(cC.circle,{cx:50,cy:50,r:42,fill:"transparent",...t});_C.displayName="Circle";n(80219);var wC=qx((function(t,e){var n=zx([t.styles],void 0,r.useContext(Xx)),i=r.useRef();return Hx((function(){var t=e.key+"-global",r=new e.sheet.constructor({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,s=document.querySelector('style[data-emotion="'+t+" "+n.name+'"]');return e.sheet.tags.length&&(r.before=e.sheet.tags[0]),null!==s&&(o=!0,s.setAttribute("data-emotion",t),r.hydrate([s])),i.current=[r,o],function(){r.flush()}}),[e]),Hx((function(){var t=i.current,r=t[0];if(t[1])t[1]=!1;else{if(void 0!==n.next&&$S(e,n.next,!0),r.tags.length){var o=r.tags[r.tags.length-1].nextElementSibling;r.before=o,r.flush()}e.insert("",n,r,!1)}}),[e,n.name]),null}));function xC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return zx(e)}var EC=function(){var t=xC.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var SC=EC({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),CC=EC({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});EC({"0%":{left:"-40%"},"100%":{left:"100%"}}),EC({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});var PC=t=>{const{size:e,isIndeterminate:n,...r}=t;return(0,nA.jsx)(cC.svg,{viewBox:"0 0 100 100",__css:{width:e,height:e,animation:n?"".concat(CC," 2s linear infinite"):void 0},...r})};PC.displayName="Shape";var MC=xw(((t,e)=>{var n;const{size:r="48px",max:i=100,min:o=0,valueText:s,getValueText:a,value:l,capIsRound:c,children:u,thickness:h="10px",color:f="#0078d4",trackColor:d="#edebe9",isIndeterminate:p,...A}=t,g=function(t){const{value:e=0,min:n,max:r,valueText:i,getValueText:o,isIndeterminate:s,role:a="progressbar"}=t,l=function(t,e,n){return 100*(t-e)/(n-e)}(e,n,r);return{bind:{"data-indeterminate":s?"":void 0,"aria-valuemax":r,"aria-valuemin":n,"aria-valuenow":s?void 0:e,"aria-valuetext":(()=>{if(null!=e)return"function"===typeof o?o(e,l):i})(),role:a},percent:l,value:e}}({min:o,max:i,value:l,valueText:s,getValueText:a,isIndeterminate:p}),y=p?void 0:2.64*(null!=(n=g.percent)?n:0),m=null==y?void 0:"".concat(y," ").concat(264-y),v=p?{css:{animation:"".concat(SC," 1.5s linear infinite")}}:{strokeDashoffset:66,strokeDasharray:m,transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s",transitionTimingFunction:"ease"},b={display:"inline-block",position:"relative",verticalAlign:"middle",fontSize:r};return(0,nA.jsxs)(cC.div,{ref:e,className:"chakra-progress",...g.bind,...A,__css:b,children:[(0,nA.jsxs)(PC,{size:r,isIndeterminate:p,children:[(0,nA.jsx)(_C,{stroke:d,strokeWidth:h,className:"chakra-progress__track"}),(0,nA.jsx)(_C,{stroke:f,strokeWidth:h,className:"chakra-progress__indicator",strokeLinecap:c?"round":void 0,opacity:0!==g.value||p?void 0:0,...v})]}),u]})}));MC.displayName="CircularProgress";var TC=cC("div",{baseStyle:{fontSize:"0.24em",top:"50%",left:"50%",width:"100%",textAlign:"center",position:"absolute",transform:"translate(-50%, -50%)"}});TC.displayName="CircularProgressLabel";var[OC,IC]=sw({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[RC,LC]=sw({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[kC,BC,NC,DC]=cw();function FC(t){const{onChange:e,defaultIndex:n,index:i,allowMultiple:o,allowToggle:s,...a}=t;!function(t){const e=t.index||t.defaultIndex,n=null!=e&&!Array.isArray(e)&&t.allowMultiple;V_({condition:!!n,message:"If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ".concat(typeof e,",")})}(t),function(t){V_({condition:!(!t.allowMultiple||!t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}(t);const l=NC(),[c,u]=(0,r.useState)(-1);(0,r.useEffect)((()=>()=>{u(-1)}),[]);const[h,f]=hw({value:i,defaultValue:()=>o?null!=n?n:[]:null!=n?n:-1,onChange:e});return{index:h,setIndex:f,htmlProps:a,getAccordionItemProps:t=>{let e=!1;null!==t&&(e=Array.isArray(h)?h.includes(t):h===t);return{isOpen:e,onChange:e=>{if(null!==t)if(o&&Array.isArray(h)){const n=e?h.concat(t):h.filter((e=>e!==t));f(n)}else e?f(t):s&&f(-1)}}},focusedIndex:c,setFocusedIndex:u,descendants:l}}var[jC,UC]=sw({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function zC(t){const{isDisabled:e,isFocusable:n,id:i,...o}=t,{getAccordionItemProps:s,setFocusedIndex:a}=UC(),l=(0,r.useRef)(null),c=(0,r.useId)(),u=null!=i?i:c,h="accordion-button-".concat(u),f="accordion-panel-".concat(u);!function(t){V_({condition:!(!t.isFocusable||t.isDisabled),message:"Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.\n    "})}(t);const{register:d,index:p,descendants:A}=DC({disabled:e&&!n}),{isOpen:g,onChange:y}=s(-1===p?null:p);!function(t){V_({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}({isOpen:g,isDisabled:e});const m=(0,r.useCallback)((()=>{null==y||y(!g),a(p)}),[p,a,g,y]),v=(0,r.useCallback)((t=>{const e={ArrowDown:()=>{const t=A.nextEnabled(p);null==t||t.node.focus()},ArrowUp:()=>{const t=A.prevEnabled(p);null==t||t.node.focus()},Home:()=>{const t=A.firstEnabled();null==t||t.node.focus()},End:()=>{const t=A.lastEnabled();null==t||t.node.focus()}},n=e[t.key];n&&(t.preventDefault(),n(t))}),[A,p]),b=(0,r.useCallback)((()=>{a(p)}),[a,p]),_=(0,r.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,type:"button",ref:Q_(d,l,n),id:h,disabled:!!e,"aria-expanded":!!g,"aria-controls":f,onClick:Y_(t.onClick,m),onFocus:Y_(t.onFocus,b),onKeyDown:Y_(t.onKeyDown,v)}}),[h,e,g,m,b,v,f,d]),w=(0,r.useCallback)((function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,role:"region",id:f,"aria-labelledby":h,hidden:!g}}),[h,g,f]);return{isOpen:g,isDisabled:e,isFocusable:n,onOpen:()=>{null==y||y(!0)},onClose:()=>{null==y||y(!1)},getButtonProps:_,getPanelProps:w,htmlProps:o}}var GC=xw((function(t,e){let{children:n,reduceMotion:i,...o}=t;const s=WS("Accordion",o),a=FS(o),{htmlProps:l,descendants:c,...u}=FC(a),h=(0,r.useMemo)((()=>({...u,reduceMotion:!!i})),[u,i]);return(0,nA.jsx)(kC,{value:c,children:(0,nA.jsx)(jC,{value:h,children:(0,nA.jsx)(OC,{value:s,children:(0,nA.jsx)(cC.div,{ref:e,...l,className:z_("chakra-accordion",o.className),__css:s.root,children:n})})})})}));GC.displayName="Accordion";var VC=xw((function(t,e){const{children:n,className:i}=t,{htmlProps:o,...s}=zC(t),a={...IC().container,overflowAnchor:"none"},l=(0,r.useMemo)((()=>s),[s]);return(0,nA.jsx)(RC,{value:l,children:(0,nA.jsx)(cC.div,{ref:e,...o,className:z_("chakra-accordion__item",i),__css:a,children:"function"===typeof n?n({isExpanded:!!s.isOpen,isDisabled:!!s.isDisabled}):n})})}));VC.displayName="AccordionItem";var HC=xw((function(t,e){const{getButtonProps:n}=LC(),r=n(t,e),i={display:"flex",alignItems:"center",width:"100%",outline:0,...IC().button};return(0,nA.jsx)(cC.button,{...r,className:z_("chakra-accordion__button",t.className),__css:i})}));HC.displayName="AccordionButton";var WC={path:(0,nA.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,nA.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,nA.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,nA.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},qC=xw(((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:o=!1,children:s,className:a,__css:l,...c}=t,u={ref:e,focusable:o,className:z_("chakra-icon",a),__css:{w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...HS("Icon",t)}},h=null!=r?r:WC.viewBox;if(n&&"string"!==typeof n)return(0,nA.jsx)(cC.svg,{as:n,...u,...c});const f=null!=s?s:WC.path;return(0,nA.jsx)(cC.svg,{verticalAlign:"middle",viewBox:h,...u,...c,children:f})}));qC.displayName="Icon";function XC(t){const{isOpen:e,isDisabled:n}=LC(),{reduceMotion:r}=UC(),i=z_("chakra-accordion__icon",t.className),o={opacity:n?.4:1,transform:e?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...IC().icon};return(0,nA.jsx)(qC,{viewBox:"0 0 24 24","aria-hidden":!0,className:i,__css:o,...t,children:(0,nA.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}XC.displayName="AccordionIcon";var YC={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]};var QC=(t,e)=>({...t,delay:"number"===typeof e?e:null==e?void 0:e.enter}),KC=(t,e)=>({...t,delay:"number"===typeof e?e:null==e?void 0:e.exit});const JC="undefined"!==typeof window,ZC=JC?r.useLayoutEffect:r.useEffect;function $C(){const t=(0,r.useRef)(!1);return ZC((()=>(t.current=!0,()=>{t.current=!1})),[]),t}const tP=t=>t,eP=!1,nP=!1;const rP=["read","resolveKeyframes","update","preRender","render","postRender"];function iP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=rP.reduce(((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(e){o.has(e)&&(l.schedule(e),t()),e(s)}const l={schedule:function(t){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?e:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(t),i.has(t)||i.add(t),t},cancel:t=>{n.delete(t),o.delete(t)},process:t=>{s=t,r?i=!0:(r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(t)))}};return l}(o),t)),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:f}=s,d=()=>{const o=nP?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(d))},p=rP.reduce(((e,o)=>{const a=s[o];return e[o]=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||t(d)),a.schedule(e,o,s)},e}),{});return{schedule:p,cancel:t=>{for(let e=0;e<rP.length;e++)s[rP[e]].cancel(t)},state:i,steps:s}}const{schedule:oP,cancel:sP,state:aP,steps:lP}=iP("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:tP,!0);const cP=(0,r.createContext)(null);function uP(t){const e=(0,r.useRef)(null);return null===e.current&&(e.current=t()),e.current}const hP=(0,r.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class fP extends r.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function dP(t){let{children:e,isPresent:n}=t;const i=(0,r.useId)(),o=(0,r.useRef)(null),s=(0,r.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,r.useContext)(hP);return(0,r.useInsertionEffect)((()=>{const{width:t,height:e,top:r,left:l}=s.current;if(n||!o.current||!t||!e)return;o.current.dataset.motionPopId=i;const c=document.createElement("style");return a&&(c.nonce=a),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(e,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}}),[n]),(0,nA.jsx)(fP,{isPresent:n,childRef:o,sizeRef:s,children:r.cloneElement(e,{ref:o})})}const pP=t=>{let{children:e,initial:n,isPresent:i,onExitComplete:o,custom:s,presenceAffectsLayout:a,mode:l}=t;const c=uP(AP),u=(0,r.useId)(),h=(0,r.useMemo)((()=>({id:u,initial:n,isPresent:i,custom:s,onExitComplete:t=>{c.set(t,!0);for(const e of c.values())if(!e)return;o&&o()},register:t=>(c.set(t,!1),()=>c.delete(t))})),a?[Math.random()]:[i]);return(0,r.useMemo)((()=>{c.forEach(((t,e)=>c.set(e,!1)))}),[i]),r.useEffect((()=>{!i&&!c.size&&o&&o()}),[i]),"popLayout"===l&&(e=(0,nA.jsx)(dP,{isPresent:i,children:e})),(0,nA.jsx)(cP.Provider,{value:h,children:e})};function AP(){return new Map}const gP=(0,r.createContext)({});let yP=tP,mP=tP;const vP=t=>t.key||"";const bP=t=>{let{children:e,custom:n,initial:i=!0,onExitComplete:o,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:l="sync"}=t;mP(!s,"Replace exitBeforeEnter with mode='wait'");const c=(0,r.useContext)(gP).forceRender||function(){const t=$C(),[e,n]=(0,r.useState)(0),i=(0,r.useCallback)((()=>{t.current&&n(e+1)}),[e]);return[(0,r.useCallback)((()=>oP.postRender(i)),[i]),e]}()[0],u=$C(),h=function(t){const e=[];return r.Children.forEach(t,(t=>{(0,r.isValidElement)(t)&&e.push(t)})),e}(e);let f=h;const d=(0,r.useRef)(new Map).current,p=(0,r.useRef)(f),A=(0,r.useRef)(new Map).current,g=(0,r.useRef)(!0);var y;if(ZC((()=>{g.current=!1,function(t,e){t.forEach((t=>{const n=vP(t);e.set(n,t)}))}(h,A),p.current=f})),y=()=>{g.current=!0,A.clear(),d.clear()},(0,r.useEffect)((()=>()=>y()),[]),g.current)return(0,nA.jsx)(nA.Fragment,{children:f.map((t=>(0,nA.jsx)(pP,{isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:a,mode:l,children:t},vP(t))))});f=[...f];const m=p.current.map(vP),v=h.map(vP),b=m.length;for(let r=0;r<b;r++){const t=m[r];-1!==v.indexOf(t)||d.has(t)||d.set(t,void 0)}return"wait"===l&&d.size&&(f=[]),d.forEach(((t,e)=>{if(-1!==v.indexOf(e))return;const r=A.get(e);if(!r)return;const i=m.indexOf(e);let s=t;if(!s){const t=()=>{d.delete(e);const t=Array.from(A.keys()).filter((t=>!v.includes(t)));if(t.forEach((t=>A.delete(t))),p.current=h.filter((n=>{const r=vP(n);return r===e||t.includes(r)})),!d.size){if(!1===u.current)return;c(),o&&o()}};s=(0,nA.jsx)(pP,{isPresent:!1,onExitComplete:t,custom:n,presenceAffectsLayout:a,mode:l,children:r},vP(r)),d.set(e,s)}f.splice(i,0,s)})),f=f.map((t=>{const e=t.key;return d.has(e)?t:(0,nA.jsx)(pP,{isPresent:!0,presenceAffectsLayout:a,mode:l,children:t},vP(t))})),(0,nA.jsx)(nA.Fragment,{children:d.size?f:f.map((t=>(0,r.cloneElement)(t)))})},_P=(0,r.createContext)({}),wP=(0,r.createContext)({strict:!1}),xP=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EP="data-"+xP("framerAppearId"),{schedule:SP,cancel:CP}=iP(queueMicrotask,!1);function PP(t){return t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}const MP=(0,r.createContext)({});let TP=!1;function OP(t,e,n,i,o){const{visualElement:s}=(0,r.useContext)(_P),a=(0,r.useContext)(wP),l=(0,r.useContext)(cP),c=(0,r.useContext)(hP).reducedMotion,u=(0,r.useRef)();i=i||a.renderer,!u.current&&i&&(u.current=i(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const h=u.current,f=(0,r.useContext)(MP);!h||h.projection||!o||"html"!==h.type&&"svg"!==h.type||function(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:RP(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(s)||a&&PP(a),visualElement:t,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(u.current,n,o,f),(0,r.useInsertionEffect)((()=>{h&&h.update(n,l)}));const d=(0,r.useRef)(Boolean(n[EP]&&!window.HandoffComplete));return ZC((()=>{h&&(h.updateFeatures(),SP.render(h.render),d.current&&h.animationState&&h.animationState.animateChanges())})),(0,r.useEffect)((()=>{h&&(!d.current&&h.animationState&&h.animationState.animateChanges(),d.current&&(d.current=!1,TP||(TP=!0,queueMicrotask(IP))))})),h}function IP(){window.HandoffComplete=!0}function RP(t){if(t)return!1!==t.options.allowProjection?t.projection:RP(t.parent)}function LP(t,e,n){return(0,r.useCallback)((r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&("function"===typeof n?n(r):PP(n)&&(n.current=r))}),[e])}function kP(t){return"string"===typeof t||Array.isArray(t)}function BP(t){return null!==t&&"object"===typeof t&&"function"===typeof t.start}const NP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],DP=["initial",...NP];function FP(t){return BP(t.animate)||DP.some((e=>kP(t[e])))}function jP(t){return Boolean(FP(t)||t.variants)}function UP(t){const{initial:e,animate:n}=function(t,e){if(FP(t)){const{initial:e,animate:n}=t;return{initial:!1===e||kP(e)?e:void 0,animate:kP(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,r.useContext)(_P));return(0,r.useMemo)((()=>({initial:e,animate:n})),[zP(e),zP(n)])}function zP(t){return Array.isArray(t)?t.join(" "):t}const GP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},VP={};for(const n in GP)VP[n]={isEnabled:t=>GP[n].some((e=>!!t[e]))};const HP=Symbol.for("motionComponentSymbol");function WP(t){let{preloadedFeatures:e,createVisualElement:n,useRender:i,useVisualState:o,Component:s}=t;e&&function(t){for(const e in t)VP[e]={...VP[e],...t[e]}}(e);const a=(0,r.forwardRef)((function(t,e){let a;const l={...(0,r.useContext)(hP),...t,layoutId:qP(t)},{isStatic:c}=l,u=UP(t),h=o(t,c);if(!c&&JC){!function(){(0,r.useContext)(wP).strict;0}();const t=function(t){const{drag:e,layout:n}=VP;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:(null===e||void 0===e?void 0:e.isEnabled(t))||(null===n||void 0===n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=t.MeasureLayout,u.visualElement=OP(s,h,l,n,t.ProjectionNode)}return(0,nA.jsxs)(_P.Provider,{value:u,children:[a&&u.visualElement?(0,nA.jsx)(a,{visualElement:u.visualElement,...l}):null,i(s,t,LP(h,u.visualElement,e),h,c,u.visualElement)]})}));return a[HP]=s,a}function qP(t){let{layoutId:e}=t;const n=(0,r.useContext)(gP).id;return n&&void 0!==e?n+"-"+e:e}function XP(t){function e(e){return WP(t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const YP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QP(t){return"string"===typeof t&&!t.includes("-")&&!!(YP.indexOf(t)>-1||/[A-Z]/u.test(t))}const KP={};const JP=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ZP=new Set(JP);function $P(t,e){let{layout:n,layoutId:r}=e;return ZP.has(t)||t.startsWith("origin")||(n||void 0!==r)&&(!!KP[t]||"opacity"===t)}const tM=t=>Boolean(t&&t.getVelocity),eM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nM=JP.length;const rM=t=>e=>"string"===typeof e&&e.startsWith(t),iM=rM("--"),oM=rM("var(--"),sM=t=>!!oM(t)&&aM.test(t.split("/*")[0].trim()),aM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lM=(t,e)=>e&&"number"===typeof t?e.transform(t):t,cM=(t,e,n)=>n>e?e:n<t?t:n,uM={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},hM={...uM,transform:t=>cM(0,1,t)},fM={...uM,default:1},dM=t=>Math.round(1e5*t)/1e5,pM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,AM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,gM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function yM(t){return"string"===typeof t}const mM=t=>({test:e=>yM(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>"".concat(e).concat(t)}),vM=mM("deg"),bM=mM("%"),_M=mM("px"),wM=mM("vh"),xM=mM("vw"),EM={...bM,parse:t=>bM.parse(t)/100,transform:t=>bM.transform(100*t)},SM={...uM,transform:Math.round},CM={borderWidth:_M,borderTopWidth:_M,borderRightWidth:_M,borderBottomWidth:_M,borderLeftWidth:_M,borderRadius:_M,radius:_M,borderTopLeftRadius:_M,borderTopRightRadius:_M,borderBottomRightRadius:_M,borderBottomLeftRadius:_M,width:_M,maxWidth:_M,height:_M,maxHeight:_M,size:_M,top:_M,right:_M,bottom:_M,left:_M,padding:_M,paddingTop:_M,paddingRight:_M,paddingBottom:_M,paddingLeft:_M,margin:_M,marginTop:_M,marginRight:_M,marginBottom:_M,marginLeft:_M,rotate:vM,rotateX:vM,rotateY:vM,rotateZ:vM,scale:fM,scaleX:fM,scaleY:fM,scaleZ:fM,skew:vM,skewX:vM,skewY:vM,distance:_M,translateX:_M,translateY:_M,translateZ:_M,x:_M,y:_M,z:_M,perspective:_M,transformPerspective:_M,opacity:hM,originX:EM,originY:EM,originZ:_M,zIndex:SM,backgroundPositionX:_M,backgroundPositionY:_M,fillOpacity:hM,strokeOpacity:hM,numOctaves:SM};function PM(t,e,n){const{style:r,vars:i,transform:o,transformOrigin:s}=t;let a=!1,l=!1,c=!0;for(const u in e){const t=e[u];if(iM(u)){i[u]=t;continue}const n=CM[u],h=lM(t,n);if(ZP.has(u)){if(a=!0,o[u]=h,!c)continue;t!==(n.default||0)&&(c=!1)}else u.startsWith("origin")?(l=!0,s[u]=h):r[u]=h}if(e.transform||(a||n?r.transform=function(t,e,n){let r="";for(let i=0;i<nM;i++){const e=JP[i];if(void 0!==t[e]){const n=eM[e]||e;r+="".concat(n,"(").concat(t[e],") ")}}return r=r.trim(),n?r=n(t,e?"":r):e&&(r="none"),r}(t.transform,c,n):r.transform&&(r.transform="none")),l){const{originX:t="50%",originY:e="50%",originZ:n=0}=s;r.transformOrigin="".concat(t," ").concat(e," ").concat(n)}}const MM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TM(t,e,n){for(const r in e)tM(e[r])||$P(r,n)||(t[r]=e[r])}function OM(t,e){const n={};return TM(n,t.style||{},t),Object.assign(n,function(t,e){let{transformTemplate:n}=t;return(0,r.useMemo)((()=>{const t=MM();return PM(t,e,n),Object.assign({},t.vars,t.style)}),[e])}(t,e)),n}function IM(t,e){const n={},r=OM(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const RM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function LM(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||RM.has(t)}let kM=t=>!LM(t);try{(BM=require("@emotion/is-prop-valid").default)&&(kM=t=>t.startsWith("on")?!LM(t):BM(t))}catch(JS){}var BM;function NM(t,e,n){return"string"===typeof t?t:_M.transform(e+n*t)}const DM={offset:"stroke-dashoffset",array:"stroke-dasharray"},FM={offset:"strokeDashoffset",array:"strokeDasharray"};function jM(t,e,n,r){let{attrX:i,attrY:o,attrScale:s,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...f}=e;if(PM(t,f,r),n)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:A}=t;d.transform&&(A&&(p.transform=d.transform),delete d.transform),A&&(void 0!==a||void 0!==l||p.transform)&&(p.transformOrigin=function(t,e,n){const r=NM(e,t.x,t.width),i=NM(n,t.y,t.height);return"".concat(r," ").concat(i)}(A,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==i&&(d.x=i),void 0!==o&&(d.y=o),void 0!==s&&(d.scale=s),void 0!==c&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.pathLength=1;const o=i?DM:FM;t[o.offset]=_M.transform(-r);const s=_M.transform(e),a=_M.transform(n);t[o.array]="".concat(s," ").concat(a)}(d,c,u,h,!1)}const UM=()=>({...MM(),attrs:{}}),zM=t=>"string"===typeof t&&"svg"===t.toLowerCase();function GM(t,e,n,i){const o=(0,r.useMemo)((()=>{const n=UM();return jM(n,e,zM(i),t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};TM(e,t.style,t),o.style={...e,...o.style}}return o}function VM(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e,n,i,o,s)=>{let{latestValues:a}=o;const l=(QP(e)?GM:IM)(n,a,s,e),c=function(t,e,n){const r={};for(const i in t)"values"===i&&"object"===typeof t.values||(kM(i)||!0===n&&LM(i)||!e&&!LM(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"===typeof e,t),u=e!==r.Fragment?{...c,...l,ref:i}:{},{children:h}=n,f=(0,r.useMemo)((()=>tM(h)?h.get():h),[h]);return(0,r.createElement)(e,{...u,children:f})}}function HM(t,e,n,r){let{style:i,vars:o}=e;Object.assign(t.style,i,r&&r.getProjectionStyles(n));for(const s in o)t.style.setProperty(s,o[s])}const WM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qM(t,e,n,r){HM(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(WM.has(i)?i:xP(i),e.attrs[i])}function XM(t,e,n){var r;const{style:i}=t,o={};for(const s in i)(tM(i[s])||e.style&&tM(e.style[s])||$P(s,t)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(s))||void 0===r?void 0:r.liveStyle))&&(o[s]=i[s]);return n&&i&&"string"===typeof i.willChange&&(n.applyWillChange=!1),o}function YM(t,e,n){const r=XM(t,e,n);for(const i in t)if(tM(t[i])||tM(e[i])){r[-1!==JP.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]}return r}function QM(t){const e=[{},{}];return null===t||void 0===t||t.values.forEach(((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()})),e}function KM(t,e,n,r){if("function"===typeof e){const[i,o]=QM(r);e=e(void 0!==n?n:t.custom,i,o)}if("string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e){const[i,o]=QM(r);e=e(void 0!==n?n:t.custom,i,o)}return e}const JM=t=>Array.isArray(t),ZM=t=>Boolean(t&&"object"===typeof t&&t.mix&&t.toValue),$M=t=>JM(t)?t[t.length-1]||0:t;function tT(t){const e=tM(t)?t.get():t;return ZM(e)?e.toValue():e}const eT=new Set(["opacity","clipPath","filter","transform"]);function nT(t){return ZP.has(t)?"transform":eT.has(t)?xP(t):void 0}function rT(t,e){-1===t.indexOf(e)&&t.push(e)}function iT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oT=t=>(e,n)=>{const i=(0,r.useContext)(_P),o=(0,r.useContext)(cP),s=()=>function(t,e,n,r,i){let{applyWillChange:o=!1,scrapeMotionValuesFromProps:s,createRenderState:a,onMount:l}=t;const c={latestValues:lT(e,n,r,!i&&o,s),renderState:a()};return l&&(c.mount=t=>l(e,t,c)),c}(t,e,i,o,n);return n?s():uP(s)};function sT(t,e){const n=nT(e);n&&rT(t,n)}function aT(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const e=KM(t,r[i]);if(e){const{transitionEnd:t,transition:r,...i}=e;n(i,t)}}}function lT(t,e,n,r,i){var o;const s={},a=[],l=r&&void 0===(null===(o=t.style)||void 0===o?void 0:o.willChange),c=i(t,{});for(const g in c)s[g]=tT(c[g]);let{initial:u,animate:h}=t;const f=FP(t),d=jP(t);e&&d&&!f&&!1!==t.inherit&&(void 0===u&&(u=e.initial),void 0===h&&(h=e.animate));let p=!!n&&!1===n.initial;p=p||!1===u;const A=p?h:u;return A&&"boolean"!==typeof A&&!BP(A)&&aT(t,A,((t,e)=>{for(const n in t){let e=t[n];if(Array.isArray(e)){e=e[p?e.length-1:0]}null!==e&&(s[n]=e)}for(const n in e)s[n]=e[n]})),l&&(h&&!1!==u&&!BP(h)&&aT(t,h,(t=>{for(const e in t)sT(a,e)})),a.length&&(s.willChange=a.join(","))),s}const cT={useVisualState:oT({scrapeMotionValuesFromProps:YM,createRenderState:UM,onMount:(t,e,n)=>{let{renderState:r,latestValues:i}=n;oP.read((()=>{try{r.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){r.dimensions={x:0,y:0,width:0,height:0}}})),oP.render((()=>{jM(r,i,zM(e.tagName),t.transformTemplate),qM(e,r)}))}})},uT={useVisualState:oT({applyWillChange:!0,scrapeMotionValuesFromProps:XM,createRenderState:MM})};function hT(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const fT=t=>"mouse"===t.pointerType?"number"!==typeof t.button||t.button<=0:!1!==t.isPrimary;function dT(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:t["".concat(e,"X")],y:t["".concat(e,"Y")]}}}const pT=t=>e=>fT(e)&&t(e,dT(e));function AT(t,e,n,r){return hT(t,e,pT(n),r)}const gT=(t,e)=>n=>e(t(n)),yT=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(gT)};function mT(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const vT=mT("dragHorizontal"),bT=mT("dragVertical");function _T(t){let e=!1;if("y"===t)e=bT();else if("x"===t)e=vT();else{const t=vT(),n=bT();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function wT(){const t=_T(!0);return!t||(t(),!1)}class xT{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ET(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd";return AT(t.current,n,((n,i)=>{if("touch"===n.pointerType||wT())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e);const s=o[r];s&&oP.postRender((()=>s(n,i)))}),{passive:!t.getProps()[r]})}const ST=(t,e)=>!!e&&(t===e||ST(t,e.parentElement));function CT(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,dT(n))}const PT=new WeakMap,MT=new WeakMap,TT=t=>{const e=PT.get(t.target);e&&e(t)},OT=t=>{t.forEach(TT)};function IT(t,e,n){const r=function(t){let{root:e,...n}=t;const r=e||document;MT.has(r)||MT.set(r,{});const i=MT.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(OT,{root:e,...n})),i[o]}(e);return PT.set(t,n),r.observe(t),()=>{PT.delete(t),r.unobserve(t)}}const RT={some:0,all:1};const LT={inView:{Feature:class extends xT{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:RT[r]};return IT(this.node.current,o,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=e?n:r;o&&o(t)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node,n=["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends xT{constructor(){super(...arguments),this.removeStartListeners=tP,this.removeEndListeners=tP,this.removeAccessibleListeners=tP,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=AT(window,"pointerup",((t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps(),o=i||ST(this.node.current,t.target)?n:r;o&&oP.update((()=>o(t,e)))}),{passive:!(n.onTap||n.onPointerUp)}),i=AT(window,"pointercancel",((t,e)=>this.cancelPress(t,e)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=yT(r,i),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=hT(this.node.current,"keydown",(t=>{if("Enter"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=hT(this.node.current,"keyup",(t=>{"Enter"===t.key&&this.checkPressEnd()&&CT("up",((t,e)=>{const{onTap:n}=this.node.getProps();n&&oP.postRender((()=>n(t,e)))}))})),CT("down",((t,e)=>{this.startPress(t,e)}))})),e=hT(this.node.current,"blur",(()=>{this.isPressing&&CT("cancel",((t,e)=>this.cancelPress(t,e)))}));this.removeAccessibleListeners=yT(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&oP.postRender((()=>n(t,e)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wT()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&oP.postRender((()=>n(t,e)))}mount(){const t=this.node.getProps(),e=AT(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=hT(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yT(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends xT{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yT(hT(this.node.current,"focus",(()=>this.onFocus())),hT(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends xT{mount(){this.unmount=yT(ET(this.node,!0),ET(this.node,!1))}unmount(){}}}};function kT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function BT(t,e,n){const r=t.getProps();return KM(r,e,void 0!==n?n:r.custom,t)}const NT=t=>1e3*t,DT=t=>t/1e3,FT={type:"spring",stiffness:500,damping:25,restSpeed:10},jT={type:"keyframes",duration:.8},UT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zT=(t,e)=>{let{keyframes:n}=e;return n.length>2?jT:ZP.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:FT:UT};function GT(t,e){return t[e]||t.default||t}const VT=!1,HT=t=>null!==t;function WT(t,e,n){let{repeat:r,repeatType:i="loop"}=e;const o=t.filter(HT),s=r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}let qT;function XT(){qT=void 0}const YT={now:()=>(void 0===qT&&YT.set(aP.isProcessing||nP?aP.timestamp:performance.now()),qT),set:t=>{qT=t,queueMicrotask(XT)}},QT=t=>/^0[^.\s]+$/u.test(t);function KT(t){return"number"===typeof t?0===t:null===t||("none"===t||"0"===t||QT(t))}const JT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ZT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $T(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;mP(n<=4,'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.'));const[r,i]=function(t){const e=ZT.exec(t);if(!e)return[,];const[,n,r,i]=e;return["--".concat(null!==n&&void 0!==n?n:r),i]}(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const t=o.trim();return JT(t)?parseFloat(t):t}return sM(i)?$T(i,e,n+1):i}const tO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),eO=t=>t===uM||t===_M,nO=(t,e)=>parseFloat(t.split(", ")[e]),rO=(t,e)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return nO(o[1],e);{const e=i.match(/^matrix\((.+)\)$/u);return e?nO(e[1],t):0}},iO=new Set(["x","y","z"]),oO=JP.filter((t=>!iO.has(t)));const sO={width:(t,e)=>{let{x:n}=t,{paddingLeft:r="0",paddingRight:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(t,e)=>{let{y:n}=t,{paddingTop:r="0",paddingBottom:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:r}=e;return parseFloat(r)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:r}=e;return parseFloat(r)+(n.max-n.min)},x:rO(4,13),y:rO(5,14)};sO.translateX=sO.x,sO.translateY=sO.y;const aO=t=>e=>e.test(t),lO=[uM,_M,bM,vM,xM,wM,{test:t=>"auto"===t,parse:t=>t}],cO=t=>lO.find(aO(t)),uO=new Set;let hO=!1,fO=!1;function dO(){if(fO){const t=Array.from(uO).filter((t=>t.needsMeasurement)),e=new Set(t.map((t=>t.element))),n=new Map;e.forEach((t=>{const e=function(t){const e=[];return oO.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e}(t);e.length&&(n.set(t,e),t.render())})),t.forEach((t=>t.measureInitialState())),e.forEach((t=>{t.render();const e=n.get(t);e&&e.forEach((e=>{let[n,r]=e;var i;null===(i=t.getValue(n))||void 0===i||i.set(r)}))})),t.forEach((t=>t.measureEndState())),t.forEach((t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)}))}fO=!1,hO=!1,uO.forEach((t=>t.complete())),uO.clear()}function pO(){uO.forEach((t=>{t.readKeyframes(),t.needsMeasurement&&(fO=!0)}))}class AO{constructor(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(uO.add(this),hO||(hO=!0,oP.read(pO),oP.resolveKeyframes(dO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let i=0;i<t.length;i++)if(null===t[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),o=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){const r=n.readValue(e,o);void 0!==r&&null!==r&&(t[0]=r)}void 0===t[0]&&(t[0]=o),r&&void 0===i&&r.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),uO.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,uO.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gO=(t,e)=>n=>Boolean(yM(n)&&gM.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),yO=(t,e,n)=>r=>{if(!yM(r))return r;const[i,o,s,a]=r.match(pM);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},mO={...uM,transform:t=>Math.round((t=>cM(0,255,t))(t))},vO={test:gO("rgb","red"),parse:yO("red","green","blue"),transform:t=>{let{red:e,green:n,blue:r,alpha:i=1}=t;return"rgba("+mO.transform(e)+", "+mO.transform(n)+", "+mO.transform(r)+", "+dM(hM.transform(i))+")"}};const bO={test:gO("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:vO.transform},_O={test:gO("hsl","hue"),parse:yO("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:r,alpha:i=1}=t;return"hsla("+Math.round(e)+", "+bM.transform(dM(n))+", "+bM.transform(dM(r))+", "+dM(hM.transform(i))+")"}},wO={test:t=>vO.test(t)||bO.test(t)||_O.test(t),parse:t=>vO.test(t)?vO.parse(t):_O.test(t)?_O.parse(t):bO.parse(t),transform:t=>yM(t)?t:t.hasOwnProperty("red")?vO.transform(t):_O.transform(t)};const xO="number",EO="color",SO="var",CO="var(",PO="${}",MO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function TO(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=e.replace(MO,(t=>(wO.test(t)?(r.color.push(o),i.push(EO),n.push(wO.parse(t))):t.startsWith(CO)?(r.var.push(o),i.push(SO),n.push(t)):(r.number.push(o),i.push(xO),n.push(parseFloat(t))),++o,PO))).split(PO);return{values:n,split:s,indexes:r,types:i}}function OO(t){return TO(t).values}function IO(t){const{split:e,types:n}=TO(t),r=e.length;return t=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],void 0!==t[o]){const e=n[o];i+=e===xO?dM(t[o]):e===EO?wO.transform(t[o]):t[o]}return i}}const RO=t=>"number"===typeof t?0:t;const LO={test:function(t){var e,n;return isNaN(t)&&yM(t)&&((null===(e=t.match(pM))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(AM))||void 0===n?void 0:n.length)||0)>0},parse:OO,createTransformer:IO,getAnimatableNone:function(t){const e=OO(t);return IO(t)(e.map(RO))}},kO=new Set(["brightness","contrast","saturate","opacity"]);function BO(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(pM)||[];if(!r)return t;const i=n.replace(r,"");let o=kO.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const NO=/\b([a-z-]*)\(.*?\)/gu,DO={...LO,getAnimatableNone:t=>{const e=t.match(NO);return e?e.map(BO).join(" "):t}},FO={...CM,color:wO,backgroundColor:wO,outlineColor:wO,fill:wO,stroke:wO,borderColor:wO,borderTopColor:wO,borderRightColor:wO,borderBottomColor:wO,borderLeftColor:wO,filter:DO,WebkitFilter:DO},jO=t=>FO[t];function UO(t,e){let n=jO(t);return n!==DO&&(n=LO),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zO=new Set(["auto","none","0"]);class GO extends AO{constructor(t,e,n,r){super(t,e,n,r,null===r||void 0===r?void 0:r.owner,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e.current)return;super.readKeyframes();for(let a=0;a<t.length;a++){let n=t[a];if("string"===typeof n&&(n=n.trim(),sM(n))){const r=$T(n,e.current);void 0!==r&&(t[a]=r),a===t.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!tO.has(n)||2!==t.length)return;const[r,i]=t,o=cO(r),s=cO(i);if(o!==s)if(eO(o)&&eO(s))for(let a=0;a<t.length;a++){const e=t[a];"string"===typeof e&&(t[a]=parseFloat(e))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)KT(t[r])&&n.push(r);n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;){const e=t[i];"string"===typeof e&&!zO.has(e)&&TO(e).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=UO(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sO[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=sO[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function VO(t){let e;return()=>(void 0===e&&(e=t()),e)}const HO=(t,e)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!LO.test(t)&&"0"!==t||t.startsWith("url(")));class WO{constructor(t){let{autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}=t;this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}get resolved(){return this._resolved||this.hasAttemptedResolve||(pO(),dO()),this._resolved}onKeyframesResolved(t,e){this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:s,onUpdate:a,isGenerator:l}=this.options;if(!l&&!function(t,e,n,r){const i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;const o=t[t.length-1],s=HO(i,e),a=HO(o,e);return yP(s===a,"You are trying to animate ".concat(e,' from "').concat(i,'" to "').concat(o,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(o," via the `style` property.")),!(!s||!a)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||"spring"===n&&r)}(t,n,r,i)){if(VT||!o)return null===a||void 0===a||a(WT(t,this.options,e)),null===s||void 0===s||s(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(t,e);!1!==c&&(this._resolved={keyframes:t,finalKeyframe:e,...c},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((t=>{this.resolveFinishedPromise=t}))}}function qO(t,e){return e?t*(1e3/e):0}const XO=5;function YO(t,e,n){const r=Math.max(e-XO,0);return qO(n-t(r),e-r)}const QO=.001,KO=.01,JO=10,ZO=.05,$O=1;function tI(t){let e,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:s=1}=t;yP(r<=NT(JO),"Spring duration must be 10 seconds or less");let a=1-i;a=cM(ZO,$O,a),r=cM(KO,JO,DT(r)),a<1?(e=t=>{const e=t*a,n=e*r,i=e-o,s=nI(t,a),l=Math.exp(-n);return QO-i/s*l},n=t=>{const n=t*a*r,i=n*o+o,s=Math.pow(a,2)*Math.pow(t,2)*r,l=Math.exp(-n),c=nI(Math.pow(t,2),a);return(-e(t)+QO>0?-1:1)*((i-s)*l)/c}):(e=t=>Math.exp(-t*r)*((t-o)*r+1)-QO,n=t=>Math.exp(-t*r)*(r*r*(o-t)));const l=function(t,e,n){let r=n;for(let i=1;i<eI;i++)r-=t(r)/e(r);return r}(e,n,5/r);if(r=NT(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const t=Math.pow(l,2)*s;return{stiffness:t,damping:2*a*Math.sqrt(s*t),duration:r}}}const eI=12;function nI(t,e){return t*Math.sqrt(1-e*e)}const rI=["duration","bounce"],iI=["stiffness","damping","mass"];function oI(t,e){return e.some((e=>void 0!==t[e]))}function sI(t){let{keyframes:e,restDelta:n,restSpeed:r,...i}=t;const o=e[0],s=e[e.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:d}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!oI(t,iI)&&oI(t,rI)){const n=tI(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}({...i,velocity:-DT(i.velocity||0)}),p=f||0,A=c/(2*Math.sqrt(l*u)),g=s-o,y=DT(Math.sqrt(l/u)),m=Math.abs(g)<5;let v;if(r||(r=m?.01:2),n||(n=m?.005:.5),A<1){const t=nI(y,A);v=e=>{const n=Math.exp(-A*y*e);return s-n*((p+A*y*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}}else if(1===A)v=t=>s-Math.exp(-y*t)*(g+(p+y*g)*t);else{const t=y*Math.sqrt(A*A-1);v=e=>{const n=Math.exp(-A*y*e),r=Math.min(t*e,300);return s-n*((p+A*y*g)*Math.sinh(r)+t*g*Math.cosh(r))/t}}return{calculatedDuration:d&&h||null,next:t=>{const e=v(t);if(d)a.done=t>=h;else{let i=p;0!==t&&(i=A<1?YO(v,t,e):0);const o=Math.abs(i)<=r,l=Math.abs(s-e)<=n;a.done=o&&l}return a.value=a.done?s:e,a}}}function aI(t){let{keyframes:e,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=t;const f=e[0],d={done:!1,value:f},p=t=>void 0===l?c:void 0===c||Math.abs(l-t)<Math.abs(c-t)?l:c;let A=r*n;const g=f+A,y=void 0===a?g:a(g);y!==g&&(A=y-f);const m=t=>-A*Math.exp(-t/i),v=t=>y+m(t),b=t=>{const e=m(t),n=v(t);d.done=Math.abs(e)<=u,d.value=d.done?y:n};let _,w;const x=t=>{var e;(e=d.value,void 0!==l&&e<l||void 0!==c&&e>c)&&(_=t,w=sI({keyframes:[d.value,p(d.value)],velocity:YO(v,t,d.value),damping:o,stiffness:s,restDelta:u,restSpeed:h}))};return x(0),{calculatedDuration:null,next:t=>{let e=!1;return w||void 0!==_||(e=!0,b(t),x(t)),void 0!==_&&t>=_?w.next(t-_):(!e&&b(t),d)}}}const lI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cI=1e-7,uI=12;function hI(t,e,n,r){if(t===e&&n===r)return tP;const i=e=>function(t,e,n,r,i){let o,s,a=0;do{s=e+(n-e)/2,o=lI(s,r,i)-t,o>0?n=s:e=s}while(Math.abs(o)>cI&&++a<uI);return s}(e,0,1,t,n);return t=>0===t||1===t?t:lI(i(t),e,r)}const fI=hI(.42,0,1,1),dI=hI(0,0,.58,1),pI=hI(.42,0,.58,1),AI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gI=t=>e=>1-t(1-e),yI=t=>1-Math.sin(Math.acos(t)),mI=gI(yI),vI=AI(yI),bI=hI(.33,1.53,.69,.99),_I=gI(bI),wI=AI(_I),xI={linear:tP,easeIn:fI,easeInOut:pI,easeOut:dI,circIn:yI,circInOut:vI,circOut:mI,backIn:_I,backInOut:wI,backOut:bI,anticipate:t=>(t*=2)<1?.5*_I(t):.5*(2-Math.pow(2,-10*(t-1)))},EI=t=>{if(Array.isArray(t)){mP(4===t.length,"Cubic bezier arrays must contain four numerical values.");const[e,n,r,i]=t;return hI(e,n,r,i)}return"string"===typeof t?(mP(void 0!==xI[t],"Invalid easing type '".concat(t,"'")),xI[t]):t},SI=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},CI=(t,e,n)=>t+(e-t)*n;function PI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MI(t,e){return n=>n>0?e:t}const TI=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},OI=[bO,vO,_O];function II(t){const e=(n=t,OI.find((t=>t.test(n))));var n;if(yP(Boolean(e),"'".concat(t,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(e))return!1;let r=e.parse(t);return e===_O&&(r=function(t){let{hue:e,saturation:n,lightness:r,alpha:i}=t;e/=360,n/=100,r/=100;let o=0,s=0,a=0;if(n){const t=r<.5?r*(1+n):r+n-r*n,i=2*r-t;o=PI(i,t,e+1/3),s=PI(i,t,e),a=PI(i,t,e-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(r)),r}const RI=(t,e)=>{const n=II(t),r=II(e);if(!n||!r)return MI(t,e);const i={...n};return t=>(i.red=TI(n.red,r.red,t),i.green=TI(n.green,r.green,t),i.blue=TI(n.blue,r.blue,t),i.alpha=CI(n.alpha,r.alpha,t),vO.transform(i))},LI=new Set(["none","hidden"]);function kI(t,e){return n=>CI(t,e,n)}function BI(t){return"number"===typeof t?kI:"string"===typeof t?sM(t)?MI:wO.test(t)?RI:FI:Array.isArray(t)?NI:"object"===typeof t?wO.test(t)?RI:DI:MI}function NI(t,e){const n=[...t],r=n.length,i=t.map(((t,n)=>BI(t)(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function DI(t,e){const n={...t,...e},r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=BI(t[i])(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const FI=(t,e)=>{const n=LO.createTransformer(e),r=TO(t),i=TO(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?LI.has(t)&&!i.values.length||LI.has(e)&&!r.values.length?function(t,e){return LI.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):yT(NI(function(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],a=t.indexes[s][i[s]],l=null!==(n=t.values[a])&&void 0!==n?n:0;r[o]=l,i[s]++}return r}(r,i),i.values),n):(yP(!0,"Complex values '".concat(t,"' and '").concat(e,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),MI(t,e))};function jI(t,e,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof n)return CI(t,e,n);return BI(t)(t,e)}function UI(t,e){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t.length;if(mP(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];if(2===o&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=function(t,e,n){const r=[],i=n||jI,o=t.length-1;for(let s=0;s<o;s++){let n=i(t[s],t[s+1]);if(e){const t=Array.isArray(e)?e[s]||tP:e;n=yT(t,n)}r.push(n)}return r}(e,r,i),a=s.length,l=e=>{let n=0;if(a>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=SI(t[n],t[n+1],e);return s[n](r)};return n?e=>l(cM(t[0],t[o-1],e)):l}function zI(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=SI(0,e,r);t.push(CI(n,1,i))}}(e,t.length-1),e}function GI(t,e){return t.map((()=>e||pI)).splice(0,t.length-1)}function VI(t){let{duration:e=300,keyframes:n,times:r,ease:i="easeInOut"}=t;const o=(t=>Array.isArray(t)&&"number"!==typeof t[0])(i)?i.map(EI):EI(i),s={done:!1,value:n[0]},a=function(t,e){return t.map((t=>t*e))}(r&&r.length===n.length?r:zI(n),e),l=UI(a,n,{ease:Array.isArray(o)?o:GI(n,o)});return{calculatedDuration:e,next:t=>(s.value=l(t),s.done=t>=e,s)}}const HI=t=>{const e=e=>{let{timestamp:n}=e;return t(n)};return{start:()=>oP.update(e,!0),stop:()=>sP(e),now:()=>aP.isProcessing?aP.timestamp:YT.now()}},WI={decay:aI,inertia:aI,tween:VI,keyframes:VI,spring:sI},qI=t=>t/100;class XI extends WO{constructor(t){let{KeyframeResolver:e=AO,...n}=t;super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()};const{name:r,motionValue:i,keyframes:o}=this.options,s=(t,e)=>this.onKeyframesResolved(t,e);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(o,s,r,i):this.resolver=new e(o,s,r,i),this.resolver.scheduleResolve()}initPlayback(t){const{type:e="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,s=WI[e]||VI;let a,l;s!==VI&&"number"!==typeof t[0]&&(a=yT(qI,jI(t[0],t[1])),t=[0,100]);const c=s({...this.options,keyframes:t});"mirror"===i&&(l=s({...this.options,keyframes:[...t].reverse(),velocity:-o})),null===c.calculatedDuration&&(c.calculatedDuration=function(t){let e=0,n=t.next(e);for(;!n.done&&e<2e4;)e+=50,n=t.next(e);return e>=2e4?1/0:e}(c));const{calculatedDuration:u}=c,h=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:h,repeat:f,repeatType:d,repeatDelay:p,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let m=this.currentTime,v=i;if(f){const t=Math.min(this.currentTime,c)/u;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,f+1);Boolean(e%2)&&("reverse"===d?(n=1-n,p&&(n-=p/u)):"mirror"===d&&(v=o)),m=cM(0,1,n)*u}const b=y?{done:!1,value:a[0]}:v.next(m);s&&(b.value=s(b.value));let{done:_}=b;y||null===l||(_=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&_);return w&&void 0!==r&&(b.value=WT(a,this.options,r)),A&&A(b.value),w&&this.finish(),b}get duration(){const{resolved:t}=this;return t?DT(t.calculatedDuration):0}get time(){return DT(this.currentTime)}set time(t){t=NT(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=DT(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:t=HI,onPlay:e}=this.options;this.driver||(this.driver=t((t=>this.tick(t)))),e&&e();const n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime&&"finished"!==this.state||(this.startTime=n),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;this._resolved?(this.state="paused",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const YI=t=>Array.isArray(t)&&"number"===typeof t[0];function QI(t){return Boolean(!t||"string"===typeof t&&t in JI||YI(t)||Array.isArray(t)&&t.every(QI))}const KI=t=>{let[e,n,r,i]=t;return"cubic-bezier(".concat(e,", ").concat(n,", ").concat(r,", ").concat(i,")")},JI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:KI([0,.65,.55,1]),circOut:KI([.55,0,1,.45]),backIn:KI([.31,.01,.66,-.59]),backOut:KI([.33,1.53,.69,.99])};function ZI(t){return $I(t)||JI.easeOut}function $I(t){return t?YI(t)?KI(t):Array.isArray(t)?t.map(ZI):JI[t]:void 0}const tR=VO((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class eR extends WO{constructor(t){super(t);const{name:e,motionValue:n,keyframes:r}=this.options;this.resolver=new GO(r,((t,e)=>this.onKeyframesResolved(t,e)),e,n),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l}=this.options;if(!(null===(n=a.owner)||void 0===n?void 0:n.current))return!1;if("spring"===(c=this.options).type||!QI(c.ease)){const{onComplete:e,onUpdate:n,motionValue:a,...l}=this.options,c=function(t,e){const n=new XI({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(t,l);1===(t=c.keyframes).length&&(t[1]=t[0]),r=c.duration,i=c.times,o=c.ease,s="keyframes"}var c;const u=function(t,e,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[e]:n};l&&(c.offset=l);const u=$I(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:o});return u.startTime=YT.now(),this.pendingTimeline?(u.timeline=this.pendingTimeline,this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;a.set(WT(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return DT(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return DT(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=NT(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}attachTimeline(t){if(this._resolved){const{resolved:e}=this;if(!e)return tP;const{animation:n}=e;n.timeline=t,n.onfinish=null}else this.pendingTimeline=t;return tP}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:r,type:i,ease:o,times:s}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){const{motionValue:t,onUpdate:e,onComplete:a,...l}=this.options,c=new XI({...l,keyframes:n,duration:r,type:i,ease:o,times:s,isGenerator:!0}),u=NT(this.time);t.setWithVelocity(c.sample(u-10).value,c.sample(u).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;return tR()&&n&&eT.has(n)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==o&&"inertia"!==s}}const nR=VO((()=>void 0!==window.ScrollTimeline));class rR{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t){const e=this.animations.map((e=>{if(!nR()||!e.attachTimeline)return e.pause(),function(t,e){let n;const r=()=>{const{currentTime:r}=e,i=(null===r?0:r.value)/100;n!==i&&t(i),n=i};return oP.update(r,!0),()=>sP(r)}((t=>{e.time=e.duration*t}),t);e.attachTimeline(t)}));return()=>{e.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const iR=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return a=>{const l=GT(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u-=NT(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:t=>{e.set(t),l.onUpdate&&l.onUpdate(t)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),s&&s()},onStop:s,name:t,motionValue:e,element:o?void 0:i};(function(t){let{when:e,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...h}=t;return!!Object.keys(h).length})(l)||(h={...h,...zT(t,h)}),h.duration&&(h.duration=NT(h.duration)),h.repeatDelay&&(h.repeatDelay=NT(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let f=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(h.duration=0,0===h.delay&&(f=!0)),(VT||eP)&&(f=!0,h.duration=0,h.delay=0),f&&!o&&void 0!==e.get()){const t=WT(h.keyframes,l);if(void 0!==t)return oP.update((()=>{h.onUpdate(t),h.onComplete()})),new rR([])}return!o&&eR.supports(h)?new eR(h):new XI(h)}};class oR{constructor(){this.subscriptions=[]}add(t){return rT(this.subscriptions,t),()=>iT(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sR={current:void 0};class aR{constructor(t){var e=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.3.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=YT.now();e.updatedAt!==r&&e.setPrevFrameValue(),e.prev=e.current,e.setCurrent(t),e.current!==e.prev&&e.events.change&&e.events.change.notify(e.current),n&&e.events.renderRequest&&e.events.renderRequest.notify(e.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=YT.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(t=>!isNaN(parseFloat(t)))(this.current))}setPrevFrameValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new oR);const n=this.events[t].add(e);return"change"===t?()=>{n(),oP.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return sR.current&&sR.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=YT.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return qO(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lR(t,e){return new aR(t,e)}function cR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lR(n))}function uR(t){return t.getProps()[EP]}class hR extends aR{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(t){const e=nT(t);if(!e)return;const n=this.counts.get(e)||0;this.counts.set(e,n+1),0===n&&(this.output.push(e),this.update());let r=!1;return()=>{if(r)return;r=!0;const t=this.counts.get(e)-1;this.counts.set(e,t),0===t&&(iT(this.output,e),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function fR(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");return r||(null===(n=t.props.style)||void 0===n?void 0:n.willChange)||(r=new hR("auto"),t.addValue("willChange",r)),function(t){return Boolean(tM(t)&&t.add)}(r)?r.add(e):void 0}function dR(t,e){let{protectedKeys:n,needsAnimating:r}=t;const i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}function pR(t,e){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const e=t.getValue(h,null!==(o=t.latestValues[h])&&void 0!==o?o:null),r=l[h];if(void 0===r||u&&dR(u,h))continue;const i={delay:n,elapsed:0,...GT(s||{},h)};let a=!1;if(window.HandoffAppearAnimations){const n=uR(t);if(n){const t=window.HandoffAppearAnimations(n,h,e,oP);null!==t&&(i.elapsed=t,a=!0)}}e.start(iR(h,e,r,t.shouldReduceMotion&&ZP.has(h)?{type:!1}:i,t,a,fR(t,h)));const f=e.animation;f&&c.push(f)}return a&&Promise.all(c).then((()=>{oP.update((()=>{a&&function(t,e){const n=BT(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o)cR(t,s,$M(o[s]))}(t,a)}))})),c}function AR(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=BT(t,e,"exit"===n.type?null===(r=t.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(pR(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const s=[],a=(t.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(t.variantChildren).sort(gR).forEach(((t,r)=>{t.notify("AnimationStart",e),s.push(AR(t,e,{...o,delay:n+l(r)}).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(s)}(t,e,i+r,s,a,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[t,e]="beforeChildren"===l?[s,a]:[a,s];return t().then((()=>e()))}return Promise.all([s(),a(n.delay)])}function gR(t,e){return t.sortNodePosition(e)}const yR=[...NP].reverse(),mR=NP.length;function vR(t){return e=>Promise.all(e.map((e=>{let{animation:n,options:r}=e;return function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map((e=>AR(t,e,r)));n=Promise.all(i)}else if("string"===typeof e)n=AR(t,e,r);else{const i="function"===typeof e?BT(t,e,r.custom):e;n=Promise.all(pR(t,i,r))}return n.then((()=>{oP.postRender((()=>{t.notify("AnimationComplete",e)}))}))}(t,n,r)})))}function bR(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!kT(e,t)}function _R(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wR(){return{animate:_R(!0),whileInView:_R(),whileHover:_R(),whileTap:_R(),whileDrag:_R(),whileFocus:_R(),exit:_R()}}let xR=0;const ER={animation:{Feature:class extends xT{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=vR(t),n=wR(),r=!0;const i=e=>(n,r)=>{var i;const o=BT(t,r,"exit"===e?null===(i=t.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:t,transitionEnd:e,...r}=o;n={...n,...r,...e}}return n};function o(o){const s=t.getProps(),a=t.getVariantContext(!0)||{},l=[],c=new Set;let u={},h=1/0;for(let e=0;e<mR;e++){const f=yR[e],d=n[f],p=void 0!==s[f]?s[f]:a[f],A=kP(p),g=f===o?d.isActive:null;!1===g&&(h=e);let y=p===a[f]&&p!==s[f]&&A;if(y&&r&&t.manuallyAnimateOnMount&&(y=!1),d.protectedKeys={...u},!d.isActive&&null===g||!p&&!d.prevProp||BP(p)||"boolean"===typeof p)continue;let m=bR(d.prevProp,p)||f===o&&d.isActive&&!y&&A||e>h&&A,v=!1;const b=Array.isArray(p)?p:[p];let _=b.reduce(i(f),{});!1===g&&(_={});const{prevResolvedValues:w={}}=d,x={...w,..._},E=e=>{m=!0,c.has(e)&&(v=!0,c.delete(e)),d.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in x){const e=_[t],n=w[t];if(u.hasOwnProperty(t))continue;let r=!1;r=JM(e)&&JM(n)?!kT(e,n):e!==n,r?void 0!==e&&null!==e?E(t):c.add(t):void 0!==e&&c.has(t)?E(t):d.protectedKeys[t]=!0}d.prevProp=p,d.prevResolvedValues=_,d.isActive&&(u={...u,..._}),r&&t.blockInitialAnimation&&(m=!1),!m||y&&!v||l.push(...b.map((t=>({animation:t,options:{type:f}}))))}if(c.size){const e={};c.forEach((n=>{const r=t.getBaseTarget(n),i=t.getValue(n);i&&(i.liveStyle=!0),e[n]=null!==r&&void 0!==r?r:null})),l.push({animation:e})}let f=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||t.manuallyAnimateOnMount||(f=!1),r=!1,f?e(l):Promise.resolve()}return{animateChanges:o,setActive:function(e,r){var i;if(n[e].isActive===r)return Promise.resolve();null===(i=t.variantChildren)||void 0===i||i.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const s=o(e);for(const t in n)n[t].protectedKeys={};return s},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=wR(),r=!0}}}(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();BP(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}},exit:{Feature:class extends xT{constructor(){super(...arguments),this.id=xR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}},SR=(t,e)=>Math.abs(t-e);class CR{constructor(t,e){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=TR(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=SR(t.x,e.x),r=SR(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:r}=t,{timestamp:i}=aP;this.history.push({...r,timestamp:i});const{onStart:o,onMove:s}=this.handlers;e||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=PR(e,this.transformPagePoint),oP.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=TR("pointercancel"===t.type?this.lastMoveEventInfo:PR(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,o),r&&r(t,o)},!fT(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;const o=PR(dT(t),this.transformPagePoint),{point:s}=o,{timestamp:a}=aP;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=e;l&&l(t,TR(o,this.history)),this.removeListeners=yT(AT(this.contextWindow,"pointermove",this.handlePointerMove),AT(this.contextWindow,"pointerup",this.handlePointerUp),AT(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sP(this.updatePoint)}}function PR(t,e){return e?{point:e(t.point)}:t}function MR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function TR(t,e){let{point:n}=t;return{point:n,delta:MR(n,IR(e)),offset:MR(n,OR(e)),velocity:RR(e,.1)}}function OR(t){return t[0]}function IR(t){return t[t.length-1]}function RR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=IR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>NT(e)));)n--;if(!r)return{x:0,y:0};const o=DT(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const LR=.9999,kR=1.0001,BR=-.01,NR=.01;function DR(t){return t.max-t.min}function FR(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=r,t.originPoint=CI(e.min,e.max,t.origin),t.scale=DR(n)/DR(e),t.translate=CI(n.min,n.max,t.origin)-t.originPoint,(t.scale>=LR&&t.scale<=kR||isNaN(t.scale))&&(t.scale=1),(t.translate>=BR&&t.translate<=NR||isNaN(t.translate))&&(t.translate=0)}function jR(t,e,n,r){FR(t.x,e.x,n.x,r?r.originX:void 0),FR(t.y,e.y,n.y,r?r.originY:void 0)}function UR(t,e,n){t.min=n.min+e.min,t.max=t.min+DR(e)}function zR(t,e,n){t.min=e.min-n.min,t.max=t.min+DR(e)}function GR(t,e,n){zR(t.x,e.x,n.x),zR(t.y,e.y,n.y)}function VR(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function HR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const WR=.35;function qR(t,e,n){return{min:XR(t,e),max:XR(t,n)}}function XR(t,e){return"number"===typeof t?t:t[e]||0}const YR=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),QR=()=>({x:{min:0,max:0},y:{min:0,max:0}});function KR(t){return[t("x"),t("y")]}function JR(t){let{top:e,left:n,right:r,bottom:i}=t;return{x:{min:n,max:r},y:{min:e,max:i}}}function ZR(t){return void 0===t||1===t}function $R(t){let{scale:e,scaleX:n,scaleY:r}=t;return!ZR(e)||!ZR(n)||!ZR(r)}function tL(t){return $R(t)||eL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eL(t){return nL(t.x)||nL(t.y)}function nL(t){return t&&"0%"!==t}function rL(t,e,n){return n+e*(t-n)}function iL(t,e,n,r,i){return void 0!==i&&(t=rL(t,i,r)),rL(t,n,r)+e}function oL(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;t.min=iL(t.min,e,n,r,i),t.max=iL(t.max,e,n,r,i)}function sL(t,e){let{x:n,y:r}=e;oL(t.x,n.translate,n.scale,n.originPoint),oL(t.y,r.translate,r.scale,r.originPoint)}const aL=.999999999999,lL=1.0000000000001;function cL(t,e){t.min=t.min+e,t.max=t.max+e}function uL(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;oL(t,e,n,CI(t.min,t.max,i),r)}function hL(t,e){uL(t.x,e.x,e.scaleX,e.scale,e.originX),uL(t.y,e.y,e.scaleY,e.scale,e.originY)}function fL(t,e){return JR(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const dL=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null},pL=new WeakMap;class AL{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=QR(),this.visualElement=t}start(t){let{snapToCursor:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new CR(t,{onSessionStart:t=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(dT(t,"page").point)},onStart:(t,e)=>{var n;const{drag:r,dragPropagation:i,onDragStart:o}=this.getProps();if(r&&!i&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=_T(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),KR((t=>{let e=this.getAxisMotionValue(t).get()||0;if(bM.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[t];if(r){e=DR(r)*(parseFloat(e)/100)}}}this.originPoint[t]=e})),o&&oP.postRender((()=>o(t,e))),null===(n=this.removeWillChange)||void 0===n||n.call(this),this.removeWillChange=fR(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.render(),o&&o(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>KR((t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:dL(this.visualElement)})}stop(t,e){var n;null===(n=this.removeWillChange)||void 0===n||n.call(this);const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=e;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&oP.postRender((()=>o(t,e)))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!gL(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,e,n){let{min:r,max:i}=e;return void 0!==r&&t<r?t=n?CI(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?CI(i,t,n.max):Math.min(t,i)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,i=this.constraints;e&&PP(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!r)&&function(t,e){let{top:n,left:r,bottom:i,right:o}=e;return{x:VR(t.x,r,o),y:VR(t.y,n,i)}}(r.layoutBox,e),this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WR;return!1===t?t=0:!0===t&&(t=WR),{x:qR(t,"left","right"),y:qR(t,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&KR((t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(r.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!PP(t))return!1;const n=t.current;mP(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(t,e,n){const r=fL(t,n),{scroll:i}=e;return i&&(cL(r.x,i.offset.x),cL(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(t,e){return{x:HR(t.x,e.x),y:HR(t.y,e.y)}}(r.layout.layoutBox,i);if(e){const t=e(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(o));this.hasMutatedConstraints=!!t,t&&(o=JR(t))}return o}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=KR((s=>{if(!gL(s,e,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?t[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,h)}));return Promise.all(l).then(s)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return n.start(iR(t,n,0,e,this.visualElement,!1,fR(this.visualElement,t)))}stopAnimation(){KR((t=>this.getAxisMotionValue(t).stop()))}pauseAnimation(){KR((t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()}))}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){const e="_drag".concat(t.toUpperCase()),n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){KR((e=>{const{drag:n}=this.getProps();if(!gL(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[e];i.set(t[e]-CI(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!PP(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};KR((t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();r[t]=function(t,e){let n=.5;const r=DR(t),i=DR(e);return i>r?n=SI(e.min,e.max-r,t.min):r>i&&(n=SI(t.min,t.max-i,e.min)),cM(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),KR((e=>{if(!gL(e,t,null))return;const n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(CI(i,o,r[e]))}))}addListeners(){if(!this.visualElement.current)return;pL.set(this.visualElement,this);const t=AT(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();PP(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),oP.read(e);const i=hT(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(KR((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),t(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=WR,dragMomentum:s=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function gL(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const yL=t=>(e,n)=>{t&&oP.postRender((()=>t(e,n)))};function mL(){return null===(t=(0,r.useContext)(cP))||t.isPresent;var t}const vL={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _L={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!_M.test(t))return t;t=parseFloat(t)}const n=bL(t,e.target.x),r=bL(t,e.target.y);return"".concat(n,"% ").concat(r,"%")}},wL={correct:(t,e)=>{let{treeScale:n,projectionDelta:r}=e;const i=t,o=LO.parse(t);if(o.length>5)return i;const s=LO.createTransformer(t),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=CI(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}};class xL extends r.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;var o;o=SL,Object.assign(KP,o),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),vL.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||oP.postRender((()=>{const t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),SP.postRender((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function EL(t){const[e,n]=function(){const t=(0,r.useContext)(cP);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,o=(0,r.useId)();(0,r.useEffect)((()=>i(o)),[]);const s=(0,r.useCallback)((()=>n&&n(o)),[o,n]);return!e&&n?[!1,s]:[!0]}(),i=(0,r.useContext)(gP);return(0,nA.jsx)(xL,{...t,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(MP),isPresent:e,safeToRemove:n})}const SL={borderRadius:{..._L,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_L,borderTopRightRadius:_L,borderBottomLeftRadius:_L,borderBottomRightRadius:_L,boxShadow:wL},CL=["TopLeft","TopRight","BottomLeft","BottomRight"],PL=CL.length,ML=t=>"string"===typeof t?parseFloat(t):t,TL=t=>"number"===typeof t||_M.test(t);function OL(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const IL=LL(0,.5,mI),RL=LL(.5,.95,tP);function LL(t,e,n){return r=>r<t?0:r>e?1:n(SI(t,e,r))}function kL(t,e){t.min=e.min,t.max=e.max}function BL(t,e){kL(t.x,e.x),kL(t.y,e.y)}function NL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function DL(t,e,n,r,i){return t=rL(t-=e,1/n,r),void 0!==i&&(t=rL(t,1/i,r)),t}function FL(t,e,n,r,i){let[o,s,a]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;bM.test(e)&&(e=parseFloat(e),e=CI(s.min,s.max,e/100)-s.min);if("number"!==typeof e)return;let a=CI(o.min,o.max,r);t===o&&(a-=e),t.min=DL(t.min,e,n,a,i),t.max=DL(t.max,e,n,a,i)}(t,e[o],e[s],e[a],e.scale,r,i)}const jL=["x","scaleX","originX"],UL=["y","scaleY","originY"];function zL(t,e,n,r){FL(t.x,e,jL,n?n.x:void 0,r?r.x:void 0),FL(t.y,e,UL,n?n.y:void 0,r?r.y:void 0)}function GL(t){return 0===t.translate&&1===t.scale}function VL(t){return GL(t.x)&&GL(t.y)}function HL(t,e){return t.min===e.min&&t.max===e.max}function WL(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qL(t,e){return WL(t.x,e.x)&&WL(t.y,e.y)}function XL(t){return DR(t.x)/DR(t.y)}function YL(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QL{constructor(){this.members=[]}add(t){rT(this.members,t),t.scheduleRender()}remove(t){if(iT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let r=e;r>=0;r--){const t=this.members[r];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const KL=(t,e)=>t.depth-e.depth;class JL{constructor(){this.children=[],this.isDirty=!1}add(t){rT(this.children,t),this.isDirty=!0}remove(t){iT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KL),this.isDirty=!1,this.children.forEach(t)}}const ZL={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},$L="undefined"!==typeof window&&void 0!==window.MotionDebug,tk=["","X","Y","Z"],ek={visibility:"hidden"};let nk=0;function rk(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ik(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return!!e&&(!!uR(e)||!(!t.parent||t.parent.hasCheckedOptimisedAppear)&&ik(t.parent))}function ok(t){let{attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=t;return class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=nk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$L&&(ZL.totalNodes=ZL.resolvedTargetDeltas=ZL.recalculatedProjection=0),this.nodes.forEach(lk),this.nodes.forEach(Ak),this.nodes.forEach(gk),this.nodes.forEach(ck),$L&&window.MotionDebug.record(ZL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new JL)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new oR),this.eventHandlers.get(t).add(e)}notifyListeners(t){const e=this.eventHandlers.get(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&e.notify(...r)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:i,layout:o,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){const n=YT.now(),r=i=>{let{timestamp:o}=i;const s=o-n;s>=e&&(sP(r),t(s-e))};return oP.read(r,!0),()=>sP(r)}(r,250),vL.hasAnimatedSinceResize&&(vL.hasAnimatedSinceResize=!1,this.nodes.forEach(pk))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||o)&&this.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=t;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||s.getDefaultTransition()||wk,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!qL(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...GT(o,"layout"),onPlay:a,onComplete:l};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else n||pk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sP(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yk),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.HandoffCancelAllAnimations&&ik(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const t=this.path[i];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(hk);this.isUpdating||this.nodes.forEach(fk),this.isUpdating=!1,this.nodes.forEach(dk),this.nodes.forEach(sk),this.nodes.forEach(ak),this.clearAllSnapshots();const t=YT.now();aP.delta=cM(0,1e3/60,t-aP.timestamp),aP.timestamp=t,aP.isProcessing=!0,lP.update.process(aP),lP.preRender.process(aP),lP.render.process(aP),aP.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,SP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uk),this.sharedNodes.forEach(mk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oP.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oP.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=QR(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){const e=i(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!o)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!VL(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;t&&(e||tL(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),Sk((r=n).x),Sk(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var t;const{visualElement:e}=this.options;if(!e)return QR();const n=e.measureViewportBox();if(!((null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)||this.path.some(Pk))){const{scroll:t}=this.root;t&&(cL(n.x,t.offset.x),cL(n.y,t.offset.y))}return n}removeElementScroll(t){var e;const n=QR();if(BL(n,t),null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)return n;for(let r=0;r<this.path.length;r++){const e=this.path[r],{scroll:i,options:o}=e;e!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&BL(n,t),cL(n.x,i.offset.x),cL(n.y,i.offset.y))}return n}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=QR();BL(n,t);for(let r=0;r<this.path.length;r++){const t=this.path[r];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&hL(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),tL(t.latestValues)&&hL(n,t.latestValues)}return tL(this.latestValues)&&hL(n,this.latestValues),n}removeTransform(t){const e=QR();BL(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!tL(t.latestValues))continue;$R(t.latestValues)&&t.updateSnapshot();const r=QR();BL(r,t.measurePageBox()),zL(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,r)}return tL(this.latestValues)&&zL(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==aP.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=aP.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=QR(),this.relativeTargetOrigin=QR(),GR(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),BL(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target=QR(),this.targetWithTransforms=QR()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,UR(s.x,a.x,l.x),UR(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):BL(this.target,this.layout.layoutBox),sL(this.target,this.targetDelta)):BL(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=QR(),this.relativeTargetOrigin=QR(),GR(this.relativeTargetOrigin,this.target,t.target),BL(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$L&&ZL.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!$R(this.parent.latestValues)&&!eL(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===aP.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;BL(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,s;e.x=e.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&hL(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,sL(t,s)),r&&tL(o.latestValues)&&hL(t,o.latestValues))}e.x<lL&&e.x>aL&&(e.x=1),e.y<lL&&e.y>aL&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms=QR());const{target:l}=e;l?(this.projectionDelta&&this.prevProjectionDelta?(NL(this.prevProjectionDelta.x,this.projectionDelta.x),NL(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),jR(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&YL(this.projectionDelta.x,this.prevProjectionDelta.x)&&YL(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),$L&&ZL.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e;if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=YR(),this.projectionDelta=YR(),this.projectionDeltaWithTransform=YR()}setAnimationOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=YR();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const s=QR(),a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(_k));let h;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;vk(o.x,t.x,n),vk(o.y,t.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(GR(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(t,e,n,r){bk(t.x,e.x,n.x,r),bk(t.y,e.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),h&&function(t,e){return HL(t.x,e.x)&&HL(t.y,e.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h=QR()),BL(h,this.relativeTarget)),a&&(this.animationValues=i,function(t,e,n,r,i,o){i?(t.opacity=CI(0,void 0!==n.opacity?n.opacity:1,IL(r)),t.opacityExit=CI(void 0!==e.opacity?e.opacity:1,0,RL(r))):o&&(t.opacity=CI(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<PL;s++){const i="border".concat(CL[s],"Radius");let o=OL(e,i),a=OL(n,i);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||TL(o)===TL(a)?(t[i]=Math.max(CI(ML(o),ML(a),r),0),(bM.test(a)||bM.test(o))&&(t[i]+="%")):t[i]=a)}(e.rotate||n.rotate)&&(t.rotate=CI(e.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sP(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oP.update((()=>{vL.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){const r=tM(t)?t:lR(t);return r.start(iR("",r,e,n)),r.animation}(0,1e3,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&Ck(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||QR();const e=DR(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=DR(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}BL(e,n),hL(e,i),jR(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new QL);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const r={};n.z&&rk("z",t,r,this.animationValues);for(let i=0;i<tk.length;i++)rk("rotate".concat(tk[i]),t,r,this.animationValues),rk("skew".concat(tk[i]),t,r,this.animationValues);t.render();for(const i in r)t.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ek;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=tT(null===t||void 0===t?void 0:t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=tT(null===t||void 0===t?void 0:t.pointerEvents)||""),this.hasProjected&&!tL(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(null===n||void 0===n?void 0:n.z)||0;if((i||o||s)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, ").concat(s,"px) ")),1===e.x&&1===e.y||(r+="scale(".concat(1/e.x,", ").concat(1/e.y,") ")),n){const{transformPerspective:t,rotate:e,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;t&&(r="perspective(".concat(t,"px) ").concat(r)),e&&(r+="rotate(".concat(e,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=t.x.scale*e.x,l=t.y.scale*e.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in KP){if(void 0===s[c])continue;const{correct:t,applyTo:e}=KP[c],n="none"===r.transform?s[c]:t(s[c],o);if(e){const t=e.length;for(let i=0;i<t;i++)r[e[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?tT(null===t||void 0===t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(hk),this.root.sharedNodes.clear()}}}function sk(t){t.updateLayout()}function ak(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?KR((t=>{const r=o?n.measuredBox[t]:n.layoutBox[t],i=DR(r);r.min=e[t].min,r.max=r.min+i})):Ck(i,n.layoutBox,e)&&KR((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=DR(e[r]);i.max=i.min+s,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+s)}));const s=YR();jR(s,e,n.layoutBox);const a=YR();o?jR(a,t.applyTransform(r,!0),n.measuredBox):jR(a,e,n.layoutBox);const l=!VL(s);let c=!1;if(!t.resumeFrom){const r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s=QR();GR(s,n.layoutBox,i.layoutBox);const a=QR();GR(a,e,o.layoutBox),qL(s,a)||(c=!0),r.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=s,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function lk(t){$L&&ZL.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ck(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uk(t){t.clearSnapshot()}function hk(t){t.clearMeasurements()}function fk(t){t.isLayoutDirty=!1}function dk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ak(t){t.resolveTargetDelta()}function gk(t){t.calcProjection()}function yk(t){t.resetSkewAndRotation()}function mk(t){t.removeLeadSnapshot()}function vk(t,e,n){t.translate=CI(e.translate,0,n),t.scale=CI(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bk(t,e,n,r){t.min=CI(e.min,n.min,r),t.max=CI(e.max,n.max,r)}function _k(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const wk={duration:.45,ease:[.4,0,.1,1]},xk=t=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ek=xk("applewebkit/")&&!xk("chrome/")?Math.round:tP;function Sk(t){t.min=Ek(t.min),t.max=Ek(t.max)}function Ck(t,e,n){return"position"===t||"preserve-aspect"===t&&!function(t,e,n){return Math.abs(t-e)<=n}(XL(e),XL(n),.2)}function Pk(t){var e;return t!==t.root&&(null===(e=t.scroll)||void 0===e?void 0:e.wasRoot)}const Mk=ok({attachResizeListener:(t,e)=>hT(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tk={current:void 0},Ok=ok({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tk.current){const t=new Mk({});t.mount(window),t.setOptions({layoutScroll:!0}),Tk.current=t}return Tk.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Ik={pan:{Feature:class extends xT{constructor(){super(...arguments),this.removePointerDownListener=tP}onPointerDown(t){this.session=new CR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:yL(t),onStart:yL(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&oP.postRender((()=>r(t,e)))}}}mount(){this.removePointerDownListener=AT(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends xT{constructor(t){super(t),this.removeGroupControls=tP,this.removeListeners=tP,this.controls=new AL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tP}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Ok,MeasureLayout:EL}},Rk={current:null},Lk={current:!1};const kk=new WeakMap,Bk=[...lO,wO,LO],Nk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Dk=DP.length;class Fk{scrapeMotionValuesFromProps(t,e,n){return{}}constructor(t){let{parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s}=t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.applyWillChange=!1,this.resolveKeyframes=(t,e,n,r)=>new this.KeyframeResolver(t,e,n,r,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=AO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,oP.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=FP(n),this.isVariantNode=jP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const t=h[f];void 0!==l[f]&&tM(t)&&t.set(l[f],!1)}}mount(t){this.current=t,kk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),Lk.current||function(){if(Lk.current=!0,JC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rk.current=t.matches;t.addListener(e),e()}else Rk.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Rk.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kk.delete(this.current),this.projection&&this.projection.unmount(),sP(this.notifyUpdate),sP(this.render),this.valueSubscriptions.forEach((t=>t())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){const n=ZP.has(t),r=e.on("change",(e=>{this.latestValues[t]=e,this.props.onUpdate&&oP.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,(()=>{r(),i(),e.owner&&e.stop()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in VP){const e=VP[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):QR()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<Nk.length;n++){const e=Nk[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const r=t["on"+e];r&&(this.propEventSubscriptions[e]=this.on(e,r))}this.prevMotionValues=function(t,e,n){for(const r in e){const i=e[r],o=n[r];if(tM(i))t.addValue(r,i);else if(tM(o))t.addValue(r,lR(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const e=t.getValue(r);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{const e=t.getStaticValue(r);t.addValue(r,lR(void 0!==e?e:i,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}const t={};for(let e=0;e<Dk;e++){const n=DP[e],r=this.props[n];(kP(r)||!1===r)&&(t[n]=r)}return t}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=lR(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(JT(r)||QT(r))?r=parseFloat(r):(i=r,!Bk.find(aO(i))&&LO.test(e)&&(r=UO(t,e))),this.setBaseTarget(t,tM(r)?r.get():r)),tM(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=KM(this.props,n,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);i&&(r=i[t])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||tM(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new oR),this.events[t].add(e)}notify(t){if(this.events[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events[t].notify(...n)}}}class jk extends Fk{constructor(){super(...arguments),this.KeyframeResolver=GO}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:r}=e;delete n[t],delete r[t]}}class Uk extends jk{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=HM}readValueFromInstance(t,e){if(ZP.has(e)){const t=jO(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),i=(iM(e)?r.getPropertyValue(e):r[e])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return fL(t,n)}build(t,e,n){PM(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return XM(t,e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tM(t)&&(this.childSubscription=t.on("change",(t=>{this.current&&(this.current.textContent="".concat(t))})))}}class zk extends jk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=QR}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ZP.has(e)){const t=jO(e);return t&&t.default||0}return e=WM.has(e)?e:xP(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return YM(t,e,n)}build(t,e,n){jM(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){qM(t,e,0,r)}mount(t){this.isSVGTag=zM(t.tagName),super.mount(t)}}const Gk=(t,e)=>QP(t)?new zk(e):new Uk(e,{allowProjection:t!==r.Fragment}),Vk={...ER,...LT,...Ik,...{layout:{ProjectionNode:Ok,MeasureLayout:EL}}},Hk=XP(((t,e)=>function(t,e,n,r){let{forwardMotionProps:i=!1}=e;return{...QP(t)?cT:uT,preloadedFeatures:n,useRender:VM(i),createVisualElement:r,Component:t}}(t,e,Vk,Gk)));var Wk=t=>null!=t&&parseInt(t.toString(),10)>0,qk={exit:{height:{duration:.2,ease:YC.ease},opacity:{duration:.3,ease:YC.ease}},enter:{height:{duration:.3,ease:YC.ease},opacity:{duration:.4,ease:YC.ease}}},Xk={exit:t=>{let{animateOpacity:e,startingHeight:n,transition:r,transitionEnd:i,delay:o}=t;var s;return{...e&&{opacity:Wk(n)?1:0},height:n,transitionEnd:null==i?void 0:i.exit,transition:null!=(s=null==r?void 0:r.exit)?s:KC(qk.exit,o)}},enter:t=>{let{animateOpacity:e,endingHeight:n,transition:r,transitionEnd:i,delay:o}=t;var s;return{...e&&{opacity:1},height:n,transitionEnd:null==i?void 0:i.enter,transition:null!=(s=null==r?void 0:r.enter)?s:QC(qk.enter,o)}}},Yk=(0,r.forwardRef)(((t,e)=>{const{in:n,unmountOnExit:i,animateOpacity:o=!0,startingHeight:s=0,endingHeight:a="auto",style:l,className:c,transition:u,transitionEnd:h,...f}=t,[d,p]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const t=setTimeout((()=>{p(!0)}));return()=>clearTimeout(t)}),[]),V_({condition:Number(s)>0&&!!i,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const A=parseFloat(s.toString())>0,g={startingHeight:s,endingHeight:a,animateOpacity:o,transition:d?u:{enter:{duration:0}},transitionEnd:{enter:null==h?void 0:h.enter,exit:i?null==h?void 0:h.exit:{...null==h?void 0:h.exit,display:A?"block":"none"}}},y=!i||n,m=n||i?"enter":"exit";return(0,nA.jsx)(bP,{initial:!1,custom:g,children:y&&(0,nA.jsx)(Hk.div,{ref:e,...f,className:z_("chakra-collapse",c),style:{overflow:"hidden",display:"block",...l},custom:g,variants:Xk,initial:!!i&&"exit",animate:m,exit:"exit"})})}));Yk.displayName="Collapse";var Qk=xw((function(t,e){const{className:n,motionProps:r,...i}=t,{reduceMotion:o}=UC(),{getPanelProps:s,isOpen:a}=LC(),l=s(i,e),c=z_("chakra-accordion__panel",n),u=IC();o||delete l.hidden;const h=(0,nA.jsx)(cC.div,{...l,__css:u.panel,className:c});return o?h:(0,nA.jsx)(Yk,{in:a,...r,children:h})}));Qk.displayName="AccordionPanel";var Kk=t=>(0,nA.jsx)(cC.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});Kk.displayName="StackItem";Object.freeze(["base","sm","md","lg","xl","2xl"]);var Jk=xw(((t,e)=>{const{isInline:n,direction:i,align:o,justify:s,spacing:a="0.5rem",wrap:l,children:c,divider:u,className:h,shouldWrapChildren:f,...d}=t,p=n?"row":null!=i?i:"column",A=(0,r.useMemo)((()=>function(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":(i=n,o=t=>r[t],Array.isArray(i)?i.map((t=>null===t?null:o(t))):G_(i)?Object.keys(i).reduce(((t,e)=>(t[e]=o(i[e]),t)),{}):null!=i?o(i):null)};var i,o}({spacing:a,direction:p})),[a,p]),g=!!u,y=!f&&!g,m=(0,r.useMemo)((()=>{const t=fw(c);return y?t:t.map(((e,n)=>{const i="undefined"!==typeof e.key?e.key:n,o=n+1===t.length,s=f?(0,nA.jsx)(Kk,{children:e},i):e;if(!g)return s;const a=(0,r.cloneElement)(u,{__css:A}),l=o?null:a;return(0,nA.jsxs)(r.Fragment,{children:[s,l]},i)}))}),[u,A,g,y,f,c]),v=z_("chakra-stack",h);return(0,nA.jsx)(cC.div,{ref:e,display:"flex",alignItems:o,justifyContent:s,flexDirection:p,flexWrap:l,gap:g?void 0:a,className:v,...d,children:m})}));Jk.displayName="Stack";var Zk=xw(((t,e)=>(0,nA.jsx)(Jk,{align:"center",...t,direction:"column",ref:e})));Zk.displayName="VStack";const $k=Up({name:"queryMetric",initialState:{queryMetric:"poblacion"},reducers:{setQueryMetric:(t,e)=>{t.queryMetric=e.payload}}}),{setQueryMetric:tB}=$k.actions,eB=$k.reducer;function nB(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}const rB=function(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nB(t))&&(r&&(r+=" "),r+=e);return r};var iB=n(79889),oB=n.n(iB),sB=n(2086),aB=n(90620),lB=n.n(aB),cB=n(35268),uB=n.n(cB),hB=n(33097),fB=n.n(hB),dB=n(79160),pB=n.n(dB),AB=function(t){return 0===t?0:t>0?1:-1},gB=function(t){return lB()(t)&&t.indexOf("%")===t.length-1},yB=function(t){return pB()(t)&&!uB()(t)},mB=function(t){return yB(t)||lB()(t)},vB=0,bB=function(t){var e=++vB;return"".concat(t||"").concat(e)},_B=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!yB(t)&&!lB()(t))return r;if(gB(t)){var o=t.indexOf("%");n=e*parseFloat(t.slice(0,o))/100}else n=+t;return uB()(n)&&(n=r),i&&n>e&&(n=e),n},wB=function(t){if(!t)return null;var e=Object.keys(t);return e&&e.length?t[e[0]]:null},xB=function(t,e){return yB(t)&&yB(e)?function(n){return t+n*(e-t)}:function(){return e}};function EB(t,e,n){return t&&t.length?t.find((function(t){return t&&("function"===typeof e?e(t):fB()(t,e))===n})):null}var SB=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},CB=n(79686),PB=n.n(CB),MB=n(11629),TB=n.n(MB),OB=n(46686),IB=n.n(OB);function RB(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function LB(t){return LB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LB(t)}var kB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BB=["points","pathLength"],NB={svg:["viewBox","children"],polygon:BB,polyline:BB},DB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],FB=function(t,e){if(!t||"function"===typeof t||"boolean"===typeof t)return null;var n=t;if((0,r.isValidElement)(t)&&(n=t.props),!IB()(n))return null;var i={};return Object.keys(n).forEach((function(t){DB.includes(t)&&(i[t]=e||function(e){return n[t](n,e)})})),i},jB=function(t,e,n){if(!IB()(t)||"object"!==LB(t))return null;var r=null;return Object.keys(t).forEach((function(i){var o=t[i];DB.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(t,e,n){return function(r){return t(e,n,r),null}}(o,e,n))})),r},UB=["children"],zB=["children"];function GB(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var VB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},HB=function(t){return"string"===typeof t?t:t?t.displayName||t.name||"Component":""},WB=null,qB=null,XB=function t(e){if(e===WB&&Array.isArray(qB))return qB;var n=[];return r.Children.forEach(e,(function(e){PB()(e)||((0,sB.isFragment)(e)?n=n.concat(t(e.props.children)):n.push(e))})),qB=n,WB=e,n};function YB(t,e){var n=[],r=[];return r=Array.isArray(e)?e.map((function(t){return HB(t)})):[HB(e)],XB(t).forEach((function(t){var e=fB()(t,"type.displayName")||fB()(t,"type.name");-1!==r.indexOf(e)&&n.push(t)})),n}function QB(t,e){var n=YB(t,e);return n&&n[0]}var KB=function(t){if(!t||!t.props)return!1;var e=t.props,n=e.width,r=e.height;return!(!yB(n)||n<=0||!yB(r)||r<=0)},JB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ZB=function(t){return t&&t.type&&lB()(t.type)&&JB.indexOf(t.type)>=0},$B=function(t,e,n){if(!t||"function"===typeof t||"boolean"===typeof t)return null;var i=t;if((0,r.isValidElement)(t)&&(i=t.props),!IB()(i))return null;var o={};return Object.keys(i).forEach((function(t){var r;(function(t,e,n,r){var i,o=null!==(i=null===NB||void 0===NB?void 0:NB[r])&&void 0!==i?i:[];return!TB()(t)&&(r&&o.includes(e)||kB.includes(e))||n&&DB.includes(e)})(null===(r=i)||void 0===r?void 0:r[t],t,e,n)&&(o[t]=i[t])})),o},tN=function t(e,n){if(e===n)return!0;var i=r.Children.count(e);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return eN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var o=0;o<i;o++){var s=e[o],a=n[o];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!eN(s,a))return!1}return!0},eN=function(t,e){if(PB()(t)&&PB()(e))return!0;if(!PB()(t)&&!PB()(e)){var n=t.props||{},r=n.children,i=GB(n,UB),o=e.props||{},s=o.children,a=GB(o,zB);return r&&s?RB(i,a)&&tN(r,s):!r&&!s&&RB(i,a)}return!1},nN=function(t,e){var n=[],r={};return XB(t).forEach((function(t,i){if(ZB(t))n.push(t);else if(t){var o=HB(t.type),s=e[o]||{},a=s.handler,l=s.once;if(a&&(!l||!r[o])){var c=a(t,o,i);n.push(c),r[o]=!0}}})),n},rN=function(t,e){return XB(e).indexOf(t)};function iN(t){return iN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iN(t)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oN(Object(n),!0).forEach((function(e){aN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function aN(t,e,n){return e=function(t){var e=function(t,e){if("object"!=iN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=iN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==iN(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lN(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return cN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uN=(0,r.forwardRef)((function(t,e){var n=t.aspect,i=t.initialDimension,o=void 0===i?{width:-1,height:-1}:i,s=t.width,a=void 0===s?"100%":s,l=t.height,c=void 0===l?"100%":l,u=t.minWidth,h=void 0===u?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,A=t.debounce,g=void 0===A?0:A,y=t.id,m=t.className,v=t.onResize,b=t.style,_=void 0===b?{}:b,w=(0,r.useRef)(null),x=(0,r.useRef)();x.current=v,(0,r.useImperativeHandle)(e,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var E=lN((0,r.useState)({containerWidth:o.width,containerHeight:o.height}),2),S=E[0],C=E[1],P=(0,r.useCallback)((function(t,e){C((function(n){var r=Math.round(t),i=Math.round(e);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,r.useEffect)((function(){var t=function(t){var e,n=t[0].contentRect,r=n.width,i=n.height;P(r,i),null===(e=x.current)||void 0===e||e.call(x,r,i)};g>0&&(t=oB()(t,g,{trailing:!0,leading:!1}));var e=new ResizeObserver(t),n=w.current.getBoundingClientRect(),r=n.width,i=n.height;return P(r,i),e.observe(w.current),function(){e.disconnect()}}),[P,g]);var M=(0,r.useMemo)((function(){var t=S.containerWidth,e=S.containerHeight;if(t<0||e<0)return null;SB(gB(a)||gB(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,c),SB(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=gB(a)?t:a,o=gB(c)?e:c;n&&n>0&&(i?o=i/n:o&&(i=o*n),d&&o>d&&(o=d)),SB(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,a,c,h,f,n);var s=!Array.isArray(p)&&(0,sB.isElement)(p)&&HB(p.type).endsWith("Chart");return r.Children.map(p,(function(t){return(0,sB.isElement)(t)?(0,r.cloneElement)(t,sN({width:i,height:o},s?{style:sN({height:"100%",width:"100%",maxHeight:o,maxWidth:i},t.props.style)}:{})):t}))}),[n,p,c,d,f,h,S,a]);return r.createElement("div",{id:y?"".concat(y):void 0,className:rB("recharts-responsive-container",m),style:sN(sN({},_),{},{width:a,height:c,minWidth:h,minHeight:f,maxHeight:d}),ref:w},M)})),hN=n(96604),fN=n.n(hN),dN=n(87424),pN=n.n(dN),AN=!0,gN="Invariant failed";function yN(t,e){if(!t){if(AN)throw new Error(gN);var n="function"===typeof e?e():e,r=n?"".concat(gN,": ").concat(n):gN;throw new Error(r)}}var mN=["children","width","height","viewBox","className","style","title","desc"];function vN(){return vN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vN.apply(this,arguments)}function bN(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _N(t){var e=t.children,n=t.width,i=t.height,o=t.viewBox,s=t.className,a=t.style,l=t.title,c=t.desc,u=bN(t,mN),h=o||{width:n,height:i,x:0,y:0},f=rB("recharts-surface",s);return r.createElement("svg",vN({},$B(u,!0,"svg"),{className:f,width:n,height:i,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),r.createElement("title",null,l),r.createElement("desc",null,c),e)}var wN=["children","className"];function xN(){return xN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xN.apply(this,arguments)}function EN(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var SN=r.forwardRef((function(t,e){var n=t.children,i=t.className,o=EN(t,wN),s=rB("recharts-layer",i);return r.createElement("g",xN({className:s},$B(o,!0),{ref:e}),n)}));function CN(t){return CN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CN(t)}function PN(){return PN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PN.apply(this,arguments)}function MN(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return TN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ON(Object(n),!0).forEach((function(e){RN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function RN(t,e,n){return e=function(t){var e=function(t,e){if("object"!=CN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=CN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==CN(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LN(t){return Array.isArray(t)&&mB(t[0])&&mB(t[1])?t.join(" ~ "):t}var kN=function(t){var e=t.separator,n=void 0===e?" : ":e,i=t.contentStyle,o=void 0===i?{}:i,s=t.itemStyle,a=void 0===s?{}:s,l=t.labelStyle,c=void 0===l?{}:l,u=t.payload,h=t.formatter,f=t.itemSorter,d=t.wrapperClassName,p=t.labelClassName,A=t.label,g=t.labelFormatter,y=t.accessibilityLayer,m=void 0!==y&&y,v=IN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=IN({margin:0},c),_=!PB()(A),w=_?A:"",x=rB("recharts-default-tooltip",d),E=rB("recharts-tooltip-label",p);_&&g&&void 0!==u&&null!==u&&(w=g(A,u));var S=m?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",PN({className:x,style:v},S),r.createElement("p",{className:E,style:b},r.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var t=(f?pN()(u,f):u).map((function(t,e){if("none"===t.type)return null;var i=IN({display:"block",paddingTop:4,paddingBottom:4,color:t.color||"#000"},a),o=t.formatter||h||LN,s=t.value,l=t.name,c=s,f=l;if(o&&null!=c&&null!=f){var d=o(s,l,t,e,u);if(Array.isArray(d)){var p=MN(d,2);c=p[0],f=p[1]}else c=d}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(e),style:i},mB(f)?r.createElement("span",{className:"recharts-tooltip-item-name"},f):null,mB(f)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},c),r.createElement("span",{className:"recharts-tooltip-item-unit"},t.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},t)}return null}())};function BN(t){return BN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BN(t)}function NN(t,e,n){return e=function(t){var e=function(t,e){if("object"!=BN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=BN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==BN(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DN="recharts-tooltip-wrapper",FN={visibility:"hidden"};function jN(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return rB(DN,NN(NN(NN(NN({},"".concat(DN,"-right"),yB(n)&&e&&yB(e.x)&&n>=e.x),"".concat(DN,"-left"),yB(n)&&e&&yB(e.x)&&n<e.x),"".concat(DN,"-bottom"),yB(r)&&e&&yB(e.y)&&r>=e.y),"".concat(DN,"-top"),yB(r)&&e&&yB(e.y)&&r<e.y))}function UN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&yB(o[r]))return o[r];var u=n[r]-a-i,h=n[r]+i;return e[r]?s[r]?u:h:s[r]?u<l[r]?Math.max(h,l[r]):Math.max(u,l[r]):h+a>l[r]+c?Math.max(u,l[r]):Math.max(h,l[r])}function zN(t){return zN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zN(t)}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function VN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GN(Object(n),!0).forEach((function(e){KN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function HN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JN(r.key),r)}}function WN(t,e,n){return e=XN(e),function(t,e){if(e&&("object"===zN(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return YN(t)}(t,qN()?Reflect.construct(e,n||[],XN(t).constructor):e.apply(t,n))}function qN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qN=function(){return!!t})()}function XN(t){return XN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},XN(t)}function YN(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QN(t,e){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},QN(t,e)}function KN(t,e,n){return(e=JN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JN(t){var e=function(t,e){if("object"!=zN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zN(e)?e:String(e)}var ZN=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return KN(YN(t=WN(this,e,[].concat(r))),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),KN(YN(t),"handleKeyDown",(function(e){var n,r,i,o;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=t.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),t}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QN(t,e)}(e,t),n=e,i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();(Math.abs(t.width-this.state.lastBoundingBox.width)>1||Math.abs(t.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:t.width,height:t.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var t,e;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(t=this.props.coordinate)||void 0===t?void 0:t.x)===this.state.dismissedAtCoordinate.x&&(null===(e=this.props.coordinate)||void 0===e?void 0:e.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var t=this,e=this.props,n=e.active,i=e.allowEscapeViewBox,o=e.animationDuration,s=e.animationEasing,a=e.children,l=e.coordinate,c=e.hasPayload,u=e.isAnimationActive,h=e.offset,f=e.position,d=e.reverseDirection,p=e.useTranslate3d,A=e.viewBox,g=e.wrapperStyle,y=function(t){var e,n,r=t.allowEscapeViewBox,i=t.coordinate,o=t.offsetTopLeft,s=t.position,a=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,u=t.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(t){var e=t.translateX,n=t.translateY;return{transform:t.useTranslate3d?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}({translateX:e=UN({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:s,reverseDirection:a,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=UN({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:s,reverseDirection:a,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):FN,cssClasses:jN({translateX:e,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:h,position:f,reverseDirection:d,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:A}),m=y.cssClasses,v=y.cssProperties,b=VN(VN({transition:u&&n?"transform ".concat(o,"ms ").concat(s):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:m,style:b,ref:function(e){t.wrapperNode=e}},a)}}],i&&HN(n.prototype,i),o&&HN(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent),$N={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(t){return $N[t]},set:function(t,e){if("string"===typeof t)$N[t]=e;else{var n=Object.keys(t);n&&n.length&&n.forEach((function(e){$N[e]=t[e]}))}}},tD=n(20977),eD=n.n(tD);function nD(t,e,n){return!0===e?eD()(t,n):TB()(e)?eD()(t,e):t}function rD(t){return rD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rD(t)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oD(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iD(Object(n),!0).forEach((function(e){hD(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fD(r.key),r)}}function aD(t,e,n){return e=cD(e),function(t,e){if(e&&("object"===rD(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lD()?Reflect.construct(e,n||[],cD(t).constructor):e.apply(t,n))}function lD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lD=function(){return!!t})()}function cD(t){return cD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cD(t)}function uD(t,e){return uD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uD(t,e)}function hD(t,e,n){return(e=fD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fD(t){var e=function(t,e){if("object"!=rD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rD(e)?e:String(e)}function dD(t){return t.dataKey}var pD=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),aD(this,e,arguments)}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uD(t,e)}(e,t),n=e,i=[{key:"render",value:function(){var t=this,e=this.props,n=e.active,i=e.allowEscapeViewBox,o=e.animationDuration,s=e.animationEasing,a=e.content,l=e.coordinate,c=e.filterNull,u=e.isAnimationActive,h=e.offset,f=e.payload,d=e.payloadUniqBy,p=e.position,A=e.reverseDirection,g=e.useTranslate3d,y=e.viewBox,m=e.wrapperStyle,v=null!==f&&void 0!==f?f:[];c&&v.length&&(v=nD(f.filter((function(e){return null!=e.value&&(!0!==e.hide||t.props.includeHidden)})),d,dD));var b=v.length>0;return r.createElement(ZN,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:u,active:n,coordinate:l,hasPayload:b,offset:h,position:p,reverseDirection:A,useTranslate3d:g,viewBox:y,wrapperStyle:m},function(t,e){return r.isValidElement(t)?r.cloneElement(t,e):"function"===typeof t?r.createElement(t,e):r.createElement(kN,e)}(a,oD(oD({},this.props),{},{payload:v})))}}],i&&sD(n.prototype,i),o&&sD(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent);hD(pD,"displayName","Tooltip"),hD(pD,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$N.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var AD=n(643),gD=n.n(AD);Math.abs,Math.atan2;const yD=Math.cos,mD=(Math.max,Math.min,Math.sin),vD=Math.sqrt,bD=Math.PI,_D=2*bD;const wD={draw(t,e){const n=vD(e/bD);t.moveTo(n,0),t.arc(0,0,n,0,_D)}},xD={draw(t,e){const n=vD(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ED=vD(1/3),SD=2*ED,CD={draw(t,e){const n=vD(e/SD),r=n*ED;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},PD={draw(t,e){const n=vD(e),r=-n/2;t.rect(r,r,n,n)}},MD=mD(bD/10)/mD(7*bD/10),TD=mD(_D/10)*MD,OD=-yD(_D/10)*MD,ID={draw(t,e){const n=vD(.8908130915292852*e),r=TD*n,i=OD*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const e=_D*o/5,s=yD(e),a=mD(e);t.lineTo(a*n,-s*n),t.lineTo(s*r-a*i,a*r+s*i)}t.closePath()}},RD=vD(3),LD={draw(t,e){const n=-vD(e/(3*RD));t.moveTo(0,2*n),t.lineTo(-RD*n,-n),t.lineTo(RD*n,-n),t.closePath()}},kD=-.5,BD=vD(3)/2,ND=1/vD(12),DD=3*(ND/2+1),FD={draw(t,e){const n=vD(e/DD),r=n/2,i=n*ND,o=r,s=n*ND+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(kD*r-BD*i,BD*r+kD*i),t.lineTo(kD*o-BD*s,BD*o+kD*s),t.lineTo(kD*a-BD*l,BD*a+kD*l),t.lineTo(kD*r+BD*i,kD*i-BD*r),t.lineTo(kD*o+BD*s,kD*s-BD*o),t.lineTo(kD*a+BD*l,kD*l-BD*a),t.closePath()}};function jD(t){return function(){return t}}function UD(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var zD,GD,VD,HD,WD,qD,XD,YD,QD,KD,JD,ZD,$D,tF;const eF=Math.PI,nF=2*eF,rF=1e-6,iF=nF-rF;function oF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class sF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?oF:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return oF;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append(zD||(zD=UD(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(GD||(GD=UD(["Z"]))))}lineTo(t,e){this._append(VD||(VD=UD(["L",",",""])),this._x1=+t,this._y1=+e)}quadraticCurveTo(t,e,n,r){this._append(HD||(HD=UD(["Q",",",",",",",""])),+t,+e,this._x1=+n,this._y1=+r)}bezierCurveTo(t,e,n,r,i,o){this._append(WD||(WD=UD(["C",",",",",",",",",",",""])),+t,+e,+n,+r,this._x1=+i,this._y1=+o)}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,s=this._y1,a=n-t,l=r-e,c=o-t,u=s-e,h=c*c+u*u;if(null===this._x1)this._append(qD||(qD=UD(["M",",",""])),this._x1=t,this._y1=e);else if(h>rF)if(Math.abs(u*a-l*c)>rF&&i){let f=n-o,d=r-s,p=a*a+l*l,A=f*f+d*d,g=Math.sqrt(p),y=Math.sqrt(h),m=i*Math.tan((eF-Math.acos((p+h-A)/(2*g*y)))/2),v=m/y,b=m/g;Math.abs(v-1)>rF&&this._append(YD||(YD=UD(["L",",",""])),t+v*c,e+v*u),this._append(QD||(QD=UD(["A",",",",0,0,",",",",",""])),i,i,+(u*f>c*d),this._x1=t+b*a,this._y1=e+b*l)}else this._append(XD||(XD=UD(["L",",",""])),this._x1=t,this._y1=e);else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let s=n*Math.cos(r),a=n*Math.sin(r),l=t+s,c=e+a,u=1^o,h=o?r-i:i-r;null===this._x1?this._append(KD||(KD=UD(["M",",",""])),l,c):(Math.abs(this._x1-l)>rF||Math.abs(this._y1-c)>rF)&&this._append(JD||(JD=UD(["L",",",""])),l,c),n&&(h<0&&(h=h%nF+nF),h>iF?this._append(ZD||(ZD=UD(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,t-s,e-a,n,n,u,this._x1=l,this._y1=c):h>rF&&this._append($D||($D=UD(["A",",",",0,",",",",",",",""])),n,n,+(h>=eF),u,this._x1=t+n*Math.cos(i),this._y1=e+n*Math.sin(i)))}rect(t,e,n,r){this._append(tF||(tF=UD(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,n=+n,+r,-n)}toString(){return this._}}function aF(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError("invalid digits: ".concat(n));e=t}return t},()=>new sF(e)}sF.prototype;vD(3),vD(3);function lF(t){return lF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lF(t)}var cF=["type","size","sizeType"];function uF(){return uF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uF.apply(this,arguments)}function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hF(Object(n),!0).forEach((function(e){dF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dF(t,e,n){return e=function(t){var e=function(t,e){if("object"!=lF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lF(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pF(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var AF={symbolCircle:wD,symbolCross:xD,symbolDiamond:CD,symbolSquare:PD,symbolStar:ID,symbolTriangle:LD,symbolWye:FD},gF=Math.PI/180,yF=function(t){var e=t.type,n=void 0===e?"circle":e,i=t.size,o=void 0===i?64:i,s=t.sizeType,a=void 0===s?"area":s,l=fF(fF({},pF(t,cF)),{},{type:n,size:o,sizeType:a}),c=l.className,u=l.cx,h=l.cy,f=$B(l,!0);return u===+u&&h===+h&&o===+o?r.createElement("path",uF({},f,{className:rB("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(h,")"),d:function(){var t=function(t){var e="symbol".concat(gD()(t));return AF[e]||wD}(n),e=function(t,e){let n=null,r=aF(i);function i(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"===typeof t?t:jD(t||wD),e="function"===typeof e?e:jD(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"===typeof e?e:jD(e),i):t},i.size=function(t){return arguments.length?(e="function"===typeof t?t:jD(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}().type(t).size(function(t,e,n){if("area"===e)return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return.5*t*t/Math.sqrt(3);case"square":return t*t;case"star":var r=18*gF;return 1.25*t*t*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}}(o,a,n));return e()}()})):null};function mF(t){return mF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mF(t)}function vF(){return vF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vF.apply(this,arguments)}function bF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PF(r.key),r)}}function wF(t,e,n){return e=EF(e),function(t,e){if(e&&("object"===mF(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xF()?Reflect.construct(e,n||[],EF(t).constructor):e.apply(t,n))}function xF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xF=function(){return!!t})()}function EF(t){return EF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},EF(t)}function SF(t,e){return SF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},SF(t,e)}function CF(t,e,n){return(e=PF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PF(t){var e=function(t,e){if("object"!=mF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mF(e)?e:String(e)}yF.registerSymbol=function(t,e){AF["symbol".concat(gD()(t))]=e};var MF=32,TF=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),wF(this,e,arguments)}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SF(t,e)}(e,t),n=e,i=[{key:"renderIcon",value:function(t){var e=this.props.inactiveColor,n=16,i=MF/6,o=MF/3,s=t.inactive?e:t.color;if("plainline"===t.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:n,x2:MF,y2:n,className:"recharts-legend-icon"});if("line"===t.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(MF,"M").concat(2*o,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===t.type)return r.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(MF,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(t.legendIcon)){var a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bF(Object(n),!0).forEach((function(e){CF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return delete a.legendIcon,r.cloneElement(t.legendIcon,a)}return r.createElement(yF,{fill:s,cx:n,cy:n,size:MF,sizeType:"diameter",type:t.type})}},{key:"renderItems",value:function(){var t=this,e=this.props,n=e.payload,i=e.iconSize,o=e.layout,s=e.formatter,a=e.inactiveColor,l={x:0,y:0,width:MF,height:MF},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(e,n){var o=e.formatter||s,h=rB(CF(CF({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",e.inactive));if("none"===e.type)return null;var f=TB()(e.value)?null:e.value;SB(!TB()(e.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var d=e.inactive?a:e.color;return r.createElement("li",vF({className:h,style:c,key:"legend-item-".concat(n)},jB(t.props,e,n)),r.createElement(_N,{width:i,height:i,viewBox:l,style:u},t.renderIcon(e)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},o?o(f,e,n):f))}))}},{key:"render",value:function(){var t=this.props,e=t.payload,n=t.layout,i=t.align;if(!e||!e.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],i&&_F(n.prototype,i),o&&_F(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent);function OF(t){return OF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OF(t)}CF(TF,"displayName","Legend"),CF(TF,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var IF=["ref"];function RF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?RF(Object(n),!0).forEach((function(e){UF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zF(r.key),r)}}function BF(t,e,n){return e=DF(e),function(t,e){if(e&&("object"===OF(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return FF(t)}(t,NF()?Reflect.construct(e,n||[],DF(t).constructor):e.apply(t,n))}function NF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(NF=function(){return!!t})()}function DF(t){return DF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DF(t)}function FF(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jF(t,e){return jF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jF(t,e)}function UF(t,e,n){return(e=zF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zF(t){var e=function(t,e){if("object"!=OF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OF(e)?e:String(e)}function GF(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VF(t){return t.value}var HF=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return UF(FF(t=BF(this,e,[].concat(r))),"lastBoundingBox",{width:-1,height:-1}),t}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jF(t,e)}(e,t),n=e,i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();return t.height=this.wrapperNode.offsetHeight,t.width=this.wrapperNode.offsetWidth,t}return null}},{key:"updateBBox",value:function(){var t=this.props.onBBoxUpdate,e=this.getBBox();e?(Math.abs(e.width-this.lastBoundingBox.width)>1||Math.abs(e.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=e.width,this.lastBoundingBox.height=e.height,t&&t(e)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,t&&t(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?LF({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(t){var e,n,r=this.props,i=r.layout,o=r.align,s=r.verticalAlign,a=r.margin,l=r.chartWidth,c=r.chartHeight;return t&&(void 0!==t.left&&null!==t.left||void 0!==t.right&&null!==t.right)||(e="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:a&&a.right||0}:{left:a&&a.left||0}),t&&(void 0!==t.top&&null!==t.top||void 0!==t.bottom&&null!==t.bottom)||(n="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),LF(LF({},e),n)}},{key:"render",value:function(){var t=this,e=this.props,n=e.content,i=e.width,o=e.height,s=e.wrapperStyle,a=e.payloadUniqBy,l=e.payload,c=LF(LF({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(s)),s);return r.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(e){t.wrapperNode=e}},function(t,e){if(r.isValidElement(t))return r.cloneElement(t,e);if("function"===typeof t)return r.createElement(t,e);e.ref;var n=GF(e,IF);return r.createElement(TF,n)}(n,LF(LF({},this.props),{},{payload:nD(l,a,VF)})))}}],o=[{key:"getWithHeight",value:function(t,e){var n=t.props.layout;return"vertical"===n&&yB(t.props.height)?{height:t.props.height}:"horizontal"===n?{width:t.props.width||e}:null}}],i&&kF(n.prototype,i),o&&kF(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent);function WF(){return WF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WF.apply(this,arguments)}UF(HF,"displayName","Legend"),UF(HF,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qF=function(t){var e=t.cx,n=t.cy,i=t.r,o=t.className,s=rB("recharts-dot",o);return e===+e&&n===+n&&i===+i?r.createElement("circle",WF({},$B(t,!1),FB(t),{className:s,cx:e,cy:n,r:i})):null},XF=n(65173),YF=n.n(XF),QF=Object.getOwnPropertyNames,KF=Object.getOwnPropertySymbols,JF=Object.prototype.hasOwnProperty;function ZF(t,e){return function(n,r,i){return t(n,r,i)&&e(n,r,i)}}function $F(t){return function(e,n,r){if(!e||!n||"object"!==typeof e||"object"!==typeof n)return t(e,n,r);var i=r.cache,o=i.get(e),s=i.get(n);if(o&&s)return o===n&&s===e;i.set(e,n),i.set(n,e);var a=t(e,n,r);return i.delete(e),i.delete(n),a}}function tj(t){return QF(t).concat(KF(t))}var ej=Object.hasOwn||function(t,e){return JF.call(t,e)};function nj(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var rj="_owner",ij=Object.getOwnPropertyDescriptor,oj=Object.keys;function sj(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function aj(t,e){return nj(t.getTime(),e.getTime())}function lj(t,e,n){if(t.size!==e.size)return!1;for(var r,i,o={},s=t.entries(),a=0;(r=s.next())&&!r.done;){for(var l=e.entries(),c=!1,u=0;(i=l.next())&&!i.done;){var h=r.value,f=h[0],d=h[1],p=i.value,A=p[0],g=p[1];c||o[u]||!(c=n.equals(f,A,a,u,t,e,n)&&n.equals(d,g,f,A,t,e,n))||(o[u]=!0),u++}if(!c)return!1;a++}return!0}function cj(t,e,n){var r,i=oj(t),o=i.length;if(oj(e).length!==o)return!1;for(;o-- >0;){if((r=i[o])===rj&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof)return!1;if(!ej(e,r)||!n.equals(t[r],e[r],r,r,t,e,n))return!1}return!0}function uj(t,e,n){var r,i,o,s=tj(t),a=s.length;if(tj(e).length!==a)return!1;for(;a-- >0;){if((r=s[a])===rj&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof)return!1;if(!ej(e,r))return!1;if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;if(i=ij(t,r),o=ij(e,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function hj(t,e){return nj(t.valueOf(),e.valueOf())}function fj(t,e){return t.source===e.source&&t.flags===e.flags}function dj(t,e,n){if(t.size!==e.size)return!1;for(var r,i,o={},s=t.values();(r=s.next())&&!r.done;){for(var a=e.values(),l=!1,c=0;(i=a.next())&&!i.done;)l||o[c]||!(l=n.equals(r.value,i.value,r.value,i.value,t,e,n))||(o[c]=!0),c++;if(!l)return!1}return!0}function pj(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Aj="[object Arguments]",gj="[object Boolean]",yj="[object Date]",mj="[object Map]",vj="[object Number]",bj="[object Object]",_j="[object RegExp]",wj="[object Set]",xj="[object String]",Ej=Array.isArray,Sj="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Cj=Object.assign,Pj=Object.prototype.toString.call.bind(Object.prototype.toString);var Mj=Tj();Tj({strict:!0}),Tj({circular:!0}),Tj({circular:!0,strict:!0}),Tj({createInternalComparator:function(){return nj}}),Tj({strict:!0,createInternalComparator:function(){return nj}}),Tj({circular:!0,createInternalComparator:function(){return nj}}),Tj({circular:!0,createInternalComparator:function(){return nj},strict:!0});function Tj(t){void 0===t&&(t={});var e,n=t.circular,r=void 0!==n&&n,i=t.createInternalComparator,o=t.createState,s=t.strict,a=void 0!==s&&s,l=function(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?uj:sj,areDatesEqual:aj,areMapsEqual:r?ZF(lj,uj):lj,areObjectsEqual:r?uj:cj,arePrimitiveWrappersEqual:hj,areRegExpsEqual:fj,areSetsEqual:r?ZF(dj,uj):dj,areTypedArraysEqual:r?uj:pj};if(n&&(i=Cj({},i,n(i))),e){var o=$F(i.areArraysEqual),s=$F(i.areMapsEqual),a=$F(i.areObjectsEqual),l=$F(i.areSetsEqual);i=Cj({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}(t),c=function(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,a=t.areSetsEqual,l=t.areTypedArraysEqual;return function(t,c,u){if(t===c)return!0;if(null==t||null==c||"object"!==typeof t||"object"!==typeof c)return t!==t&&c!==c;var h=t.constructor;if(h!==c.constructor)return!1;if(h===Object)return i(t,c,u);if(Ej(t))return e(t,c,u);if(null!=Sj&&Sj(t))return l(t,c,u);if(h===Date)return n(t,c,u);if(h===RegExp)return s(t,c,u);if(h===Map)return r(t,c,u);if(h===Set)return a(t,c,u);var f=Pj(t);return f===yj?n(t,c,u):f===_j?s(t,c,u):f===mj?r(t,c,u):f===wj?a(t,c,u):f===bj?"function"!==typeof t.then&&"function"!==typeof c.then&&i(t,c,u):f===Aj?i(t,c,u):(f===gj||f===vj||f===xj)&&o(t,c,u)}}(l),u=i?i(c):(e=c,function(t,n,r,i,o,s,a){return e(t,n,a)});return function(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(t,s){var a=r(),l=a.cache,c=void 0===l?e?new WeakMap:void 0:l,u=a.meta;return n(t,s,{cache:c,equals:i,meta:u,strict:o})};if(e)return function(t,e){return n(t,e,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(t,e){return n(t,e,s)}}({circular:r,comparator:c,createState:o,equals:u,strict:a})}function Oj(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>e?(t(i),n=-1):function(t){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(t)}(r)}))}function Ij(t){return Ij="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ij(t)}function Rj(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Lj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lj(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kj(){var t=function(){return null},e=!1,n=function n(r){if(!e){if(Array.isArray(r)){if(!r.length)return;var i=Rj(r),o=i[0],s=i.slice(1);return"number"===typeof o?void Oj(n.bind(null,s),o):(n(o),void Oj(n.bind(null,s)))}"object"===Ij(r)&&t(r),"function"===typeof r&&r()}};return{stop:function(){e=!0},start:function(t){e=!1,n(t)},subscribe:function(e){return t=e,function(){t=function(){return null}}}}}function Bj(t){return Bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bj(t)}function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nj(Object(n),!0).forEach((function(e){Fj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fj(t,e,n){return e=function(t){var e=function(t,e){if("object"!==Bj(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Bj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bj(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jj=function(t){return t},Uj=function(t,e){return Object.keys(e).reduce((function(n,r){return Dj(Dj({},n),{},Fj({},r,t(r,e[r])))}),{})},zj=function(t,e,n){return t.map((function(t){return"".concat((r=t,r.replace(/([A-Z])/g,(function(t){return"-".concat(t.toLowerCase())})))," ").concat(e,"ms ").concat(n);var r})).join(",")};function Gj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||Hj(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vj(t){return function(t){if(Array.isArray(t))return Wj(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Hj(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hj(t,e){if(t){if("string"===typeof t)return Wj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wj(t,e):void 0}}function Wj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qj=1e-4,Xj=function(t,e){return[0,3*t,3*e-6*t,3*t-3*e+1]},Yj=function(t,e){return t.map((function(t,n){return t*Math.pow(e,n)})).reduce((function(t,e){return t+e}))},Qj=function(t,e){return function(n){var r=Xj(t,e);return Yj(r,n)}},Kj=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],s=e[3];if(1===e.length)switch(e[0]){case"linear":r=0,i=0,o=1,s=1;break;case"ease":r=.25,i=.1,o=.25,s=1;break;case"ease-in":r=.42,i=0,o=1,s=1;break;case"ease-out":r=.42,i=0,o=.58,s=1;break;case"ease-in-out":r=0,i=0,o=.58,s=1;break;default:var a=e[0].split("(");if("cubic-bezier"===a[0]&&4===a[1].split(")")[0].split(",").length){var l=Gj(a[1].split(")")[0].split(",").map((function(t){return parseFloat(t)})),4);r=l[0],i=l[1],o=l[2],s=l[3]}}[r,o,i,s].every((function(t){return"number"===typeof t&&t>=0&&t<=1}));var c,u,h=Qj(r,o),f=Qj(i,s),d=(c=r,u=o,function(t){var e=Xj(c,u),n=[].concat(Vj(e.map((function(t,e){return t*e})).slice(1)),[0]);return Yj(n,t)}),p=function(t){return t>1?1:t<0?0:t},A=function(t){for(var e=t>1?1:t,n=e,r=0;r<8;++r){var i=h(n)-e,o=d(n);if(Math.abs(i-e)<qj||o<qj)return f(n);n=p(n-i/o)}return f(n)};return A.isStepper=!1,A},Jj=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kj(r);case"spring":return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stiff,n=void 0===e?100:e,r=t.damping,i=void 0===r?8:r,o=t.dt,s=void 0===o?17:o,a=function(t,e,r){var o=r+(-(t-e)*n-r*i)*s/1e3,a=r*s/1e3+t;return Math.abs(a-e)<qj&&Math.abs(o)<qj?[e,0]:[a,o]};return a.isStepper=!0,a.dt=s,a}();default:if("cubic-bezier"===r.split("(")[0])return Kj(r)}return"function"===typeof r?r:null};function Zj(t){return Zj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zj(t)}function $j(t){return function(t){if(Array.isArray(t))return oU(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||iU(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tU(Object(n),!0).forEach((function(e){nU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nU(t,e,n){return e=function(t){var e=function(t,e){if("object"!==Zj(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Zj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Zj(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||iU(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iU(t,e){if(t){if("string"===typeof t)return oU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oU(t,e):void 0}}function oU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sU=function(t,e,n){return t+(e-t)*n},aU=function(t){return t.from!==t.to},lU=function t(e,n,r){var i=Uj((function(t,n){if(aU(n)){var r=rU(e(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return eU(eU({},n),{},{from:i,velocity:o})}return n}),n);return r<1?Uj((function(t,e){return aU(e)?eU(eU({},e),{},{velocity:sU(e.velocity,i[t].velocity,r),from:sU(e.from,i[t].from,r)}):e}),n):t(e,i,r-1)};const cU=function(t,e,n,r,i){var o,s,a,l,c=(o=t,s=e,[Object.keys(o),Object.keys(s)].reduce((function(t,e){return t.filter((function(t){return e.includes(t)}))}))),u=c.reduce((function(n,r){return eU(eU({},n),{},nU({},r,[t[r],e[r]]))}),{}),h=c.reduce((function(n,r){return eU(eU({},n),{},nU({},r,{from:t[r],velocity:0,to:e[r]}))}),{}),f=-1,d=function(){return null};return d=n.isStepper?function(r){a||(a=r);var o=(r-a)/n.dt;h=lU(n,h,o),i(eU(eU(eU({},t),e),Uj((function(t,e){return e.from}),h))),a=r,Object.values(h).filter(aU).length&&(f=requestAnimationFrame(d))}:function(o){l||(l=o);var s=(o-l)/r,a=Uj((function(t,e){return sU.apply(void 0,$j(e).concat([n(s)]))}),u);if(i(eU(eU(eU({},t),e),a)),s<1)f=requestAnimationFrame(d);else{var c=Uj((function(t,e){return sU.apply(void 0,$j(e).concat([n(1)]))}),u);i(eU(eU(eU({},t),e),c))}},function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(f)}}};function uU(t){return uU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uU(t)}var hU=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fU(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dU(t){return function(t){if(Array.isArray(t))return pU(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return pU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pU(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?AU(Object(n),!0).forEach((function(e){yU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yU(t,e,n){return(e=vU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vU(r.key),r)}}function vU(t){var e=function(t,e){if("object"!==uU(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==uU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===uU(e)?e:String(e)}function bU(t,e){return bU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bU(t,e)}function _U(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=EU(t);if(e){var i=EU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wU(this,n)}}function wU(t,e){if(e&&("object"===uU(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xU(t)}function xU(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EU(t){return EU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},EU(t)}var SU=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bU(t,e)}(s,t);var e,n,i,o=_U(s);function s(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var r=(n=o.call(this,t,e)).props,i=r.isActive,a=r.attributeName,l=r.from,c=r.to,u=r.steps,h=r.children,f=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(xU(n)),n.changeStyle=n.changeStyle.bind(xU(n)),!i||f<=0)return n.state={style:{}},"function"===typeof h&&(n.state={style:c}),wU(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof h)return n.state={style:l},wU(n);n.state={style:a?yU({},a,l):l}}else n.state={style:{}};return n}return e=s,n=[{key:"componentDidMount",value:function(){var t=this.props,e=t.isActive,n=t.canBegin;this.mounted=!0,e&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.isActive,r=e.canBegin,i=e.attributeName,o=e.shouldReAnimate,s=e.to,a=e.from,l=this.state.style;if(r)if(n){if(!(Mj(t.to,s)&&t.canBegin&&t.isActive)){var c=!t.canBegin||!t.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?a:t.to;if(this.state&&l){var h={style:i?yU({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(h)}this.runAnimation(gU(gU({},this.props),{},{from:u,begin:0}))}}else{var f={style:i?yU({},i,s):s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}},{key:"handleStyleChange",value:function(t){this.changeStyle(t)}},{key:"changeStyle",value:function(t){this.mounted&&this.setState({style:t})}},{key:"runJSAnimation",value:function(t){var e=this,n=t.from,r=t.to,i=t.duration,o=t.easing,s=t.begin,a=t.onAnimationEnd,l=t.onAnimationStart,c=cU(n,r,Jj(o),i,this.changeStyle);this.manager.start([l,s,function(){e.stopJSAnimation=c()},i,a])}},{key:"runStepAnimation",value:function(t){var e=this,n=t.steps,r=t.begin,i=t.onAnimationStart,o=n[0],s=o.style,a=o.duration,l=void 0===a?0:a;return this.manager.start([i].concat(dU(n.reduce((function(t,r,i){if(0===i)return t;var o=r.duration,s=r.easing,a=void 0===s?"ease":s,l=r.style,c=r.properties,u=r.onAnimationEnd,h=i>0?n[i-1]:r,f=c||Object.keys(l);if("function"===typeof a||"spring"===a)return[].concat(dU(t),[e.runJSAnimation.bind(e,{from:h.style,to:l,duration:o,easing:a}),o]);var d=zj(f,o,a),p=gU(gU(gU({},h.style),l),{},{transition:d});return[].concat(dU(t),[p,o,u]).filter(jj)}),[s,Math.max(l,r)])),[t.onAnimationEnd]))}},{key:"runAnimation",value:function(t){this.manager||(this.manager=kj());var e=t.begin,n=t.duration,r=t.attributeName,i=t.to,o=t.easing,s=t.onAnimationStart,a=t.onAnimationEnd,l=t.steps,c=t.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(t);else{var h=r?yU({},r,i):i,f=zj(Object.keys(h),n,o);u.start([s,e,gU(gU({},h),{},{transition:f}),n,a])}else this.runJSAnimation(t)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.begin,t.duration),i=(t.attributeName,t.easing,t.isActive),o=(t.steps,t.from,t.to,t.canBegin,t.onAnimationEnd,t.shouldReAnimate,t.onAnimationReStart,fU(t,hU)),s=r.Children.count(e),a=this.state.style;if("function"===typeof e)return e(a);if(!i||0===s||n<=0)return e;var l=function(t){var e=t.props,n=e.style,i=void 0===n?{}:n,s=e.className;return(0,r.cloneElement)(t,gU(gU({},o),{},{style:gU(gU({},i),a),className:s}))};return 1===s?l(r.Children.only(e)):r.createElement("div",null,r.Children.map(e,(function(t){return l(t)})))}}],n&&mU(e.prototype,n),i&&mU(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.PureComponent);SU.displayName="Animate",SU.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},SU.propTypes={from:YF().oneOfType([YF().object,YF().string]),to:YF().oneOfType([YF().object,YF().string]),attributeName:YF().string,duration:YF().number,begin:YF().number,easing:YF().oneOfType([YF().string,YF().func]),steps:YF().arrayOf(YF().shape({duration:YF().number.isRequired,style:YF().object.isRequired,easing:YF().oneOfType([YF().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),YF().func]),properties:YF().arrayOf("string"),onAnimationEnd:YF().func})),children:YF().oneOfType([YF().node,YF().func]),isActive:YF().bool,canBegin:YF().bool,onAnimationEnd:YF().func,shouldReAnimate:YF().bool,onAnimationStart:YF().func,onAnimationReStart:YF().func};const CU=SU;function PU(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function MU(t,e){return MU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},MU(t,e)}function TU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,MU(t,e)}const OU=r.createContext(null);function IU(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function RU(t,e,n){return null!=n[e]?n[e]:t.props[e]}function LU(t,e,n){var i=IU(t.children),o=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var s in t)s in e?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in e){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(e,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,r.isValidElement)(a)){var l=s in e,c=s in i,u=e[s],h=(0,r.isValidElement)(u)&&!u.props.in;!c||l&&!h?c||!l||h?c&&l&&(0,r.isValidElement)(u)&&(o[s]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:RU(a,"exit",t),enter:RU(a,"enter",t)})):o[s]=(0,r.cloneElement)(a,{in:!1}):o[s]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:RU(a,"exit",t),enter:RU(a,"enter",t)})}})),o}var kU=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},BU=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}TU(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,i,o=e.children,s=e.handleExited;return{children:e.firstRender?(n=t,i=s,IU(n.children,(function(t){return(0,r.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:RU(t,"appear",n),enter:RU(t,"enter",n),exit:RU(t,"exit",n)})}))):LU(t,o,s),firstRender:!1}},n.handleExited=function(t,e){var n=IU(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=Cx({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,i=PU(t,["component","childFactory"]),o=this.state.contextValue,s=kU(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===e?r.createElement(OU.Provider,{value:o},s):r.createElement(OU.Provider,{value:o},r.createElement(e,i,s))},e}(r.Component);BU.propTypes={},BU.defaultProps={component:"div",childFactory:function(t){return t}};const NU=BU,DU=!1;var FU="unmounted",jU="exited",UU="entering",zU="entered",GU="exiting",VU=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=jU,r.appearStatus=UU):i=zU:i=e.unmountOnExit||e.mountOnEnter?FU:jU,r.state={status:i},r.nextCallback=null,r}TU(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===FU?{status:jU}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==UU&&n!==zU&&(e=UU):n!==UU&&n!==zU||(e=GU)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===UU){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:z.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===jU&&this.setState({status:FU})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[z.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!t&&!n||DU?this.safeSetState({status:zU},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:UU},(function(){e.props.onEntering(o,s),e.onTransitionEnd(l,(function(){e.safeSetState({status:zU},(function(){e.props.onEntered(o,s)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:z.findDOMNode(this);e&&!DU?(this.props.onExit(r),this.safeSetState({status:GU},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:jU},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:jU},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:z.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===FU)return null;var e=this.props,n=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,PU(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(OU.Provider,{value:null},"function"===typeof n?n(t,i):r.cloneElement(r.Children.only(n),i))},e}(r.Component);function HU(){}VU.contextType=OU,VU.propTypes={},VU.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:HU,onEntering:HU,onEntered:HU,onExit:HU,onExiting:HU,onExited:HU},VU.UNMOUNTED=FU,VU.EXITED=jU,VU.ENTERING=UU,VU.ENTERED=zU,VU.EXITING=GU;const WU=VU;var qU=["children","appearOptions","enterOptions","leaveOptions"];function XU(t){return XU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XU(t)}function YU(){return YU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YU.apply(this,arguments)}function QU(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function JU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?KU(Object(n),!0).forEach((function(e){rz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ZU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iz(r.key),r)}}function $U(t,e){return $U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$U(t,e)}function tz(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nz(t);if(e){var i=nz(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===XU(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ez(t)}(this,n)}}function ez(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nz(t){return nz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nz(t)}function rz(t,e,n){return(e=iz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iz(t){var e=function(t,e){if("object"!==XU(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==XU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===XU(e)?e:String(e)}var oz=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.steps,n=t.duration;return e&&e.length?e.reduce((function(t,e){return t+(Number.isFinite(e.duration)&&e.duration>0?e.duration:0)}),0):Number.isFinite(n)?n:0},sz=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$U(t,e)}(s,t);var e,n,i,o=tz(s);function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),rz(ez(t=o.call(this)),"handleEnter",(function(e,n){var r=t.props,i=r.appearOptions,o=r.enterOptions;t.handleStyleActive(n?i:o)})),rz(ez(t),"handleExit",(function(){var e=t.props.leaveOptions;t.handleStyleActive(e)})),t.state={isActive:!1},t}return e=s,n=[{key:"handleStyleActive",value:function(t){if(t){var e=t.onAnimationEnd?function(){t.onAnimationEnd()}:null;this.setState(JU(JU({},t),{},{onAnimationEnd:e,isActive:!0}))}}},{key:"parseTimeout",value:function(){var t=this.props,e=t.appearOptions,n=t.enterOptions,r=t.leaveOptions;return oz(e)+oz(n)+oz(r)}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,i=(e.appearOptions,e.enterOptions,e.leaveOptions,QU(e,qU));return r.createElement(WU,YU({},i,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return r.createElement(CU,t.state,r.Children.only(n))}))}}],n&&ZU(e.prototype,n),i&&ZU(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.Component);sz.propTypes={appearOptions:YF().object,enterOptions:YF().object,leaveOptions:YF().object,children:YF().element};const az=sz;function lz(t){var e=t.component,n=t.children,i=t.appear,o=t.enter,s=t.leave;return r.createElement(NU,{component:e},r.Children.map(n,(function(t,e){return r.createElement(az,{appearOptions:i,enterOptions:o,leaveOptions:s,key:"child-".concat(e)},t)})))}lz.propTypes={appear:YF().object,enter:YF().object,leave:YF().object,children:YF().oneOfType([YF().array,YF().element]),component:YF().any},lz.defaultProps={component:"span"};const cz=CU;function uz(t){return uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uz(t)}function hz(){return hz=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hz.apply(this,arguments)}function fz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return dz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dz(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Az(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pz(Object(n),!0).forEach((function(e){gz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gz(t,e,n){return e=function(t){var e=function(t,e){if("object"!=uz(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uz(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yz=function(t,e,n,r,i){var o,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],h=0;h<4;h++)u[h]=i[h]>s?s:i[h];o="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(t+l*u[0],",").concat(e)),o+="L ".concat(t+n-l*u[1],",").concat(e),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(t+n,",").concat(e+a*u[1])),o+="L ".concat(t+n,",").concat(e+r-a*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(t+n-l*u[2],",").concat(e+r)),o+="L ".concat(t+l*u[3],",").concat(e+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(t,",").concat(e+r-a*u[3])),o+="Z"}else if(s>0&&i===+i&&i>0){var f=Math.min(s,i);o="M ".concat(t,",").concat(e+a*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(t+l*f,",").concat(e,"\n            L ").concat(t+n-l*f,",").concat(e,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(t+n,",").concat(e+a*f,"\n            L ").concat(t+n,",").concat(e+r-a*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(t+n-l*f,",").concat(e+r,"\n            L ").concat(t+l*f,",").concat(e+r,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(t,",").concat(e+r-a*f," Z")}else o="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},mz=function(t,e){if(!t||!e)return!1;var n=t.x,r=t.y,i=e.x,o=e.y,s=e.width,a=e.height;if(Math.abs(s)>0&&Math.abs(a)>0){var l=Math.min(i,i+s),c=Math.max(i,i+s),u=Math.min(o,o+a),h=Math.max(o,o+a);return n>=l&&n<=c&&r>=u&&r<=h}return!1},vz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bz=function(t){var e=Az(Az({},vz),t),n=(0,r.useRef)(),i=fz((0,r.useState)(-1),2),o=i[0],s=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var t=n.current.getTotalLength();t&&s(t)}catch(e){}}),[]);var a=e.x,l=e.y,c=e.width,u=e.height,h=e.radius,f=e.className,d=e.animationEasing,p=e.animationDuration,A=e.animationBegin,g=e.isAnimationActive,y=e.isUpdateAnimationActive;if(a!==+a||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var m=rB("recharts-rectangle",f);return y?r.createElement(cz,{canBegin:o>0,from:{width:c,height:u,x:a,y:l},to:{width:c,height:u,x:a,y:l},duration:p,animationEasing:d,isActive:y},(function(t){var i=t.width,s=t.height,a=t.x,l=t.y;return r.createElement(cz,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:p,isActive:g,easing:d},r.createElement("path",hz({},$B(e,!0),{className:m,d:yz(a,l,i,s,h),ref:n})))})):r.createElement("path",hz({},$B(e,!0),{className:m,d:yz(a,l,c,u,h)}))};function _z(t){return _z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_z(t)}function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xz(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wz(Object(n),!0).forEach((function(e){Ez(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ez(t,e,n){return e=function(t){var e=function(t,e){if("object"!=_z(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_z(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sz={widthCache:{},cacheCount:0},Cz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Pz="recharts_measurement_span";var Mz=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===t||null===t||$N.isSsr)return{width:0,height:0};var n=function(t){var e=xz({},t);return Object.keys(e).forEach((function(t){e[t]||delete e[t]})),e}(e),r=JSON.stringify({text:t,copyStyle:n});if(Sz.widthCache[r])return Sz.widthCache[r];try{var i=document.getElementById(Pz);i||((i=document.createElement("span")).setAttribute("id",Pz),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=xz(xz({},Cz),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),a={width:s.width,height:s.height};return Sz.widthCache[r]=a,++Sz.cacheCount>2e3&&(Sz.cacheCount=0,Sz.widthCache={}),a}catch(l){return{width:0,height:0}}};function Tz(t){return Tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tz(t)}function Oz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Iz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iz(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lz(r.key),r)}}function Lz(t){var e=function(t,e){if("object"!=Tz(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tz(e)?e:String(e)}var kz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},jz=Object.keys(Fz),Uz="NaN";var zz=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),""===n||Nz.test(n)||(this.num=NaN,this.unit=""),jz.includes(n)&&(this.num=function(t,e){return t*Fz[e]}(e,n),this.unit="px")}var e,n,r;return e=t,r=[{key:"parse",value:function(e){var n,r=Oz(null!==(n=Dz.exec(e))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new t(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(e){return this.unit!==e.unit?new t(NaN,""):new t(this.num+e.num,this.unit)}},{key:"subtract",value:function(e){return this.unit!==e.unit?new t(NaN,""):new t(this.num-e.num,this.unit)}},{key:"multiply",value:function(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new t(NaN,""):new t(this.num*e.num,this.unit||e.unit)}},{key:"divide",value:function(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new t(NaN,""):new t(this.num/e.num,this.unit||e.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Rz(e.prototype,n),r&&Rz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Gz(t){if(t.includes(Uz))return Uz;for(var e=t;e.includes("*")||e.includes("/");){var n,r=Oz(null!==(n=kz.exec(e))&&void 0!==n?n:[],4),i=r[1],o=r[2],s=r[3],a=zz.parse(null!==i&&void 0!==i?i:""),l=zz.parse(null!==s&&void 0!==s?s:""),c="*"===o?a.multiply(l):a.divide(l);if(c.isNaN())return Uz;e=e.replace(kz,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,h=Oz(null!==(u=Bz.exec(e))&&void 0!==u?u:[],4),f=h[1],d=h[2],p=h[3],A=zz.parse(null!==f&&void 0!==f?f:""),g=zz.parse(null!==p&&void 0!==p?p:""),y="+"===d?A.add(g):A.subtract(g);if(y.isNaN())return Uz;e=e.replace(Bz,y.toString())}return e}var Vz=/\(([^()]*)\)/;function Hz(t){var e=t.replace(/\s+/g,"");return e=function(t){for(var e=t;e.includes("(");){var n=Oz(Vz.exec(e),2)[1];e=e.replace(Vz,Gz(n))}return e}(e),e=Gz(e)}function Wz(t){var e=function(t){try{return Hz(t)}catch(e){return Uz}}(t.slice(5,-1));return e===Uz?"":e}var qz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xz=["dx","dy","angle","className","breakAll"];function Yz(){return Yz=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yz.apply(this,arguments)}function Qz(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Jz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jz(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zz=/[ \f\n\r\t\v\u2028\u2029]+/,$z=function(t){var e=t.children,n=t.breakAll,r=t.style;try{var i=[];return PB()(e)||(i=n?e.toString().split(""):e.toString().split(Zz)),{wordsWithComputedWidth:i.map((function(t){return{word:t,width:Mz(t,r).width}})),spaceWidth:n?0:Mz("\xa0",r).width}}catch(o){return null}},tG=function(t){return[{words:PB()(t)?[]:t.toString().split(Zz)}]},eG=function(t){var e=t.width,n=t.scaleToFit,r=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((e||n)&&!$N.isSsr){var a=$z({breakAll:o,children:r,style:i});return a?function(t,e,n,r,i){var o=t.maxLines,s=t.children,a=t.style,l=t.breakAll,c=yB(o),u=s,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,e){var o=e.word,s=e.width,a=t[t.length-1];if(a&&(null==r||i||a.width+s+n<Number(r)))a.words.push(o),a.width+=s+n;else{var l={words:[o],width:s};t.push(l)}return t}),[])},f=h(e);if(!c)return f;for(var d,p=function(t){var e=u.slice(0,t),n=$z({breakAll:l,style:a,children:e+"\u2026"}).wordsWithComputedWidth,i=h(n),s=i.length>o||function(t){return t.reduce((function(t,e){return t.width>e.width?t:e}))}(i).width>Number(r);return[s,i]},A=0,g=u.length-1,y=0;A<=g&&y<=u.length-1;){var m=Math.floor((A+g)/2),v=Kz(p(m-1),2),b=v[0],_=v[1],w=Kz(p(m),1)[0];if(b||w||(A=m+1),b&&w&&(g=m-1),!b&&w){d=_;break}y++}return d||f}({breakAll:o,children:r,maxLines:s,style:i},a.wordsWithComputedWidth,a.spaceWidth,e,n):tG(r)}return tG(r)},nG="#808080",rG=function(t){var e=t.x,n=void 0===e?0:e,i=t.y,o=void 0===i?0:i,s=t.lineHeight,a=void 0===s?"1em":s,l=t.capHeight,c=void 0===l?"0.71em":l,u=t.scaleToFit,h=void 0!==u&&u,f=t.textAnchor,d=void 0===f?"start":f,p=t.verticalAnchor,A=void 0===p?"end":p,g=t.fill,y=void 0===g?nG:g,m=Qz(t,qz),v=(0,r.useMemo)((function(){return eG({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:h,style:m.style,width:m.width})}),[m.breakAll,m.children,m.maxLines,h,m.style,m.width]),b=m.dx,_=m.dy,w=m.angle,x=m.className,E=m.breakAll,S=Qz(m,Xz);if(!mB(n)||!mB(o))return null;var C,P=n+(yB(b)?b:0),M=o+(yB(_)?_:0);switch(A){case"start":C=Wz("calc(".concat(c,")"));break;case"middle":C=Wz("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:C=Wz("calc(".concat(v.length-1," * -").concat(a,")"))}var T=[];if(h){var O=v[0].width,I=m.width;T.push("scale(".concat((yB(I)?I/O:1)/O,")"))}return w&&T.push("rotate(".concat(w,", ").concat(P,", ").concat(M,")")),T.length&&(S.transform=T.join(" ")),r.createElement("text",Yz({},$B(S,!0),{x:P,y:M,className:rB("recharts-text",x),textAnchor:d,fill:y.includes("url")?nG:y}),v.map((function(t,e){var n=t.words.join(E?"":" ");return r.createElement("tspan",{x:P,dy:0===e?C:a,key:n},n)})))};function iG(t,e){if((i=t.length)>1)for(var n,r,i,o=1,s=t[e[0]],a=s.length;o<i;++o)for(r=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function oG(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function sG(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function aG(t,e){return t[e]}function lG(t){const e=[];return e.key=t,e}var cG=n(50539),uG=n.n(cG),hG=n(76745),fG=n.n(hG),dG=n(63538),pG=n.n(dG),AG=n(19853),gG=n.n(AG),yG=n(98210),mG=n.n(yG);function vG(t){return function(t){if(Array.isArray(t))return bG(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return bG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bG(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _G=function(t){return t},wG={"@@functional/placeholder":!0},xG=function(t){return t===wG},EG=function(t){return function e(){return 0===arguments.length||1===arguments.length&&xG(arguments.length<=0?void 0:arguments[0])?e:t.apply(void 0,arguments)}},SG=function t(e,n){return 1===e?n:EG((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter((function(t){return t!==wG})).length;return s>=e?n.apply(void 0,i):t(e-s,EG((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=i.map((function(t){return xG(t)?e.shift():t}));return n.apply(void 0,vG(o).concat(e))})))}))},CG=function(t){return SG(t.length,t)},PG=function(t,e){for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},MG=CG((function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map((function(t){return e[t]})).map(t)})),TG=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)return _G;var r=e.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(t,e){return e(t)}),i.apply(void 0,arguments))}},OG=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},IG=function(t){var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((function(t,n){return t===e[n]}))?n:(e=i,n=t.apply(void 0,i))}};var RG=CG((function(t,e,n){var r=+t;return r+n*(+e-r)})),LG=CG((function(t,e,n){var r=e-+t;return(n-t)/(r=r||1/0)})),kG=CG((function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))}));const BG={rangeStep:function(t,e,n){for(var r=new(mG())(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(t){return 0===t?1:Math.floor(new(mG())(t).abs().log(10).toNumber())+1},interpolateNumber:RG,uninterpolateNumber:LG,uninterpolateTruncation:kG};function NG(t){return function(t){if(Array.isArray(t))return jG(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||FG(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||FG(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FG(t,e){if(t){if("string"===typeof t)return jG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jG(t,e):void 0}}function jG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UG(t){var e=DG(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function zG(t,e,n){if(t.lte(0))return new(mG())(0);var r=BG.getDigitCount(t.toNumber()),i=new(mG())(10).pow(r),o=t.div(i),s=1!==r?.05:.1,a=new(mG())(Math.ceil(o.div(s).toNumber())).add(n).mul(s).mul(i);return e?a:new(mG())(Math.ceil(a))}function GG(t,e,n){var r=1,i=new(mG())(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new(mG())(10).pow(BG.getDigitCount(t)-1),i=new(mG())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(mG())(Math.floor(t)))}else 0===t?i=new(mG())(Math.floor((e-1)/2)):n||(i=new(mG())(Math.floor(t)));var s=Math.floor((e-1)/2);return TG(MG((function(t){return i.add(new(mG())(t-s).mul(r)).toNumber()})),PG)(0,e)}function VG(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new(mG())(0),tickMin:new(mG())(0),tickMax:new(mG())(0)};var o,s=zG(new(mG())(e).sub(t).div(n-1),r,i);o=t<=0&&e>=0?new(mG())(0):(o=new(mG())(t).add(e).div(2)).sub(new(mG())(o).mod(s));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new(mG())(e).sub(o).div(s).toNumber()),c=a+l+1;return c>n?VG(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:s,tickMin:o.sub(new(mG())(a).mul(s)),tickMax:o.add(new(mG())(l).mul(s))})}var HG=IG((function(t){var e=DG(t,2),n=e[0],r=e[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(i,2),a=DG(UG([n,r]),2),l=a[0],c=a[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(NG(PG(0,i-1).map((function(){return 1/0})))):[].concat(NG(PG(0,i-1).map((function(){return-1/0}))),[c]);return n>r?OG(u):u}if(l===c)return GG(l,i,o);var h=VG(l,c,s,o),f=h.step,d=h.tickMin,p=h.tickMax,A=BG.rangeStep(d,p.add(new(mG())(.1).mul(f)),f);return n>r?OG(A):A})),WG=(IG((function(t){var e=DG(t,2),n=e[0],r=e[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(i,2),a=DG(UG([n,r]),2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return GG(l,i,o);var u=zG(new(mG())(c).sub(l).div(s-1),o,0),h=TG(MG((function(t){return new(mG())(l).add(new(mG())(t).mul(u)).toNumber()})),PG)(0,s).filter((function(t){return t>=l&&t<=c}));return n>r?OG(h):h})),IG((function(t,e){var n=DG(t,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=DG(UG([r,i]),2),a=s[0],l=s[1];if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(e,2),u=zG(new(mG())(l).sub(a).div(c-1),o,0),h=[].concat(NG(BG.rangeStep(new(mG())(a),new(mG())(l).sub(new(mG())(.99).mul(u)),u)),[l]);return r>i?OG(h):h}))),qG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function XG(){return XG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XG.apply(this,arguments)}function YG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return QG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QG(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KG(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JG(t){var e=t.offset,n=t.layout,i=t.width,o=t.dataKey,s=t.data,a=t.dataPointFormatter,l=t.xAxis,c=t.yAxis,u=KG(t,qG),h=$B(u,!1);"x"===t.direction&&"number"!==l.type&&yN(!1);var f=s.map((function(t){var s=a(t,o),u=s.x,f=s.y,d=s.value,p=s.errorVal;if(!p)return null;var A,g,y=[];if(Array.isArray(p)){var m=YG(p,2);A=m[0],g=m[1]}else A=g=p;if("vertical"===n){var v=l.scale,b=f+e,_=b+i,w=b-i,x=v(d-A),E=v(d+g);y.push({x1:E,y1:_,x2:E,y2:w}),y.push({x1:x,y1:b,x2:E,y2:b}),y.push({x1:x,y1:_,x2:x,y2:w})}else if("horizontal"===n){var S=c.scale,C=u+e,P=C-i,M=C+i,T=S(d-A),O=S(d+g);y.push({x1:P,y1:O,x2:M,y2:O}),y.push({x1:C,y1:T,x2:C,y2:O}),y.push({x1:P,y1:T,x2:M,y2:T})}return r.createElement(SN,XG({className:"recharts-errorBar",key:"bar-".concat(y.map((function(t){return"".concat(t.x1,"-").concat(t.x2,"-").concat(t.y1,"-").concat(t.y2)})))},h),y.map((function(t){return r.createElement("line",XG({},t,{key:"line-".concat(t.x1,"-").concat(t.x2,"-").concat(t.y1,"-").concat(t.y2)}))})))}));return r.createElement(SN,{className:"recharts-errorBars"},f)}function ZG(t){return ZG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZG(t)}function $G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$G(Object(n),!0).forEach((function(e){eV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eV(t,e,n){return e=function(t){var e=function(t,e){if("object"!=ZG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ZG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ZG(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}JG.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},JG.displayName="ErrorBar";var nV=function(t){var e,n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=QB(n,HF);return s?(e=s.props&&s.props.payload?s.props&&s.props.payload:"children"===o?(r||[]).reduce((function(t,e){var n=e.item,r=e.props,i=r.sectors||r.data||[];return t.concat(i.map((function(t){return{type:s.props.iconType||n.props.legendType,value:t.name,color:t.fill,payload:t}})))}),[]):(r||[]).map((function(t){var e=t.item,n=e.props,r=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:r,type:s.props.iconType||o||"square",color:hV(e),value:i||r,payload:e.props}})),tV(tV(tV({},s.props),HF.getWithHeight(s,i)),{},{payload:e,item:s})):null};function rV(t){return rV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rV(t)}function iV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iV(Object(n),!0).forEach((function(e){sV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sV(t,e,n){return e=function(t){var e=function(t,e){if("object"!=rV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rV(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aV(t){return function(t){if(Array.isArray(t))return lV(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return lV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lV(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cV(t,e,n){return PB()(t)||PB()(e)?n:mB(e)?fB()(t,e,n):TB()(e)?e(t):n}function uV(t,e,n,r){var i=pG()(t,(function(t){return cV(t,e)}));if("number"===n){var o=i.filter((function(t){return yB(t)||parseFloat(t)}));return o.length?[fG()(o),uG()(o)]:[1/0,-1/0]}return(r?i.filter((function(t){return!PB()(t)})):i).map((function(t){return mB(t)||t instanceof Date?t:""}))}var hV=function(t){var e,n=t.type.displayName,r=t.props,i=r.stroke,o=r.fill;switch(n){case"Line":e=i;break;case"Area":case"Radar":e=i&&"none"!==i?i:o;break;default:e=o}return e},fV=function(t,e,n,r,i){var o=YB(e.props.children,JG).filter((function(t){return function(t,e,n){return!!PB()(e)||("horizontal"===t?"yAxis"===e:"vertical"===t||"x"===n?"xAxis"===e:"y"!==n||"yAxis"===e)}(r,i,t.props.direction)}));if(o&&o.length){var s=o.map((function(t){return t.props.dataKey}));return t.reduce((function(t,e){var r=cV(e,n);if(PB()(r))return t;var i=Array.isArray(r)?[fG()(r),uG()(r)]:[r,r],o=s.reduce((function(t,n){var r=cV(e,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),s=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,t[0]),Math.max(s,t[1])]}),[1/0,-1/0]);return[Math.min(o[0],t[0]),Math.max(o[1],t[1])]}),[1/0,-1/0])}return null},dV=function(t,e,n,r,i){var o=e.map((function(e){var o=e.props.dataKey;return"number"===n&&o&&fV(t,e,o,r)||uV(t,o,n,i)}));if("number"===n)return o.reduce((function(t,e){return[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}),[1/0,-1/0]);var s={};return o.reduce((function(t,e){for(var n=0,r=e.length;n<r;n++)s[e[n]]||(s[e[n]]=!0,t.push(e[n]));return t}),[])},pV=function(t,e){return"horizontal"===t&&"xAxis"===e||"vertical"===t&&"yAxis"===e||"centric"===t&&"angleAxis"===e||"radial"===t&&"radiusAxis"===e},AV=function(t,e,n,r){if(r)return t.map((function(t){return t.coordinate}));var i,o,s=t.map((function(t){return t.coordinate===e&&(i=!0),t.coordinate===n&&(o=!0),t.coordinate}));return i||s.push(e),o||s.push(n),s},gV=function(t,e,n){if(!t)return null;var r=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,a="scaleBand"===t.realScaleType?r.bandwidth()/2:2,l=(e||n)&&"category"===o&&r.bandwidth?r.bandwidth()/a:0;return l="angleAxis"===t.axisType&&(null===s||void 0===s?void 0:s.length)>=2?2*AB(s[0]-s[1])*l:l,e&&(t.ticks||t.niceTicks)?(t.ticks||t.niceTicks).map((function(t){var e=i?i.indexOf(t):t;return{coordinate:r(e)+l,value:t,offset:l}})).filter((function(t){return!uB()(t.coordinate)})):t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map((function(t,e){return{coordinate:r(t)+l,value:t,index:e,offset:l}})):r.ticks&&!n?r.ticks(t.tickCount).map((function(t){return{coordinate:r(t)+l,value:t,offset:l}})):r.domain().map((function(t,e){return{coordinate:r(t)+l,value:i?i[t]:t,index:e,offset:l}}))},yV=new WeakMap,mV=function(t,e){if("function"!==typeof e)return t;yV.has(t)||yV.set(t,new WeakMap);var n=yV.get(t);if(n.has(e))return n.get(e);var r=function(){t.apply(void 0,arguments),e.apply(void 0,arguments)};return n.set(e,r),r},vV=1e-4,bV={sign:function(t){var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var a=uB()(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1])}},expand:function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,s=t[0].length;o<s;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}iG(t,e)}},none:iG,silhouette:function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var s=0,a=0;s<n;++s)a+=t[s][r][1]||0;i[r][1]+=i[r][0]=-a/2}iG(t,e)}},wiggle:function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,s=1;s<r;++s){for(var a=0,l=0,c=0;a<i;++a){for(var u=t[e[a]],h=u[s][1]||0,f=(h-(u[s-1][1]||0))/2,d=0;d<a;++d){var p=t[e[d]];f+=(p[s][1]||0)-(p[s-1][1]||0)}l+=h,c+=f*h}n[s-1][1]+=n[s-1][0]=o,l&&(o-=c/l)}n[s-1][1]+=n[s-1][0]=o,iG(t,e)}},positive:function(t){var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=uB()(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}}},_V=function(t,e,n){var r=e.map((function(t){return t.props.dataKey})),i=bV[n],o=function(){var t=jD([]),e=sG,n=iG,r=aG;function i(i){var o,s,a=Array.from(t.apply(this,arguments),lG),l=a.length,c=-1;for(const t of i)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(t,a[o].key,c,i)]).data=t;for(o=0,s=oG(e(a));o<l;++o)a[s[o]].index=o;return n(a,s),a}return i.keys=function(e){return arguments.length?(t="function"===typeof e?e:jD(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:jD(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?sG:"function"===typeof t?t:jD(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?iG:t,i):n},i}().keys(r).value((function(t,e){return+cV(t,e,0)})).order(sG).offset(i);return o(t)};var wV=function(t){var e=t.axis,n=t.ticks,r=t.offset,i=t.bandSize,o=t.entry,s=t.index;if("category"===e.type)return n[s]?n[s].coordinate+r:null;var a=cV(o,e.dataKey,e.domain[s]);return PB()(a)?null:e.scale(a)-i/2+r},xV=function(t,e,n){return Object.keys(t).reduce((function(r,i){var o=t[i].stackedData.reduce((function(t,r){var i=function(t){return t.reduce((function(t,e){return[fG()(e.concat([t[0]]).filter(yB)),uG()(e.concat([t[1]]).filter(yB))]}),[1/0,-1/0])}(r.slice(e,n+1));return[Math.min(t[0],i[0]),Math.max(t[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(t){return t===1/0||t===-1/0?0:t}))},EV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CV=function(t,e,n){if(TB()(t))return t(e,n);if(!Array.isArray(t))return e;var r=[];if(yB(t[0]))r[0]=n?t[0]:Math.min(t[0],e[0]);else if(EV.test(t[0])){var i=+EV.exec(t[0])[1];r[0]=e[0]-i}else TB()(t[0])?r[0]=t[0](e[0]):r[0]=e[0];if(yB(t[1]))r[1]=n?t[1]:Math.max(t[1],e[1]);else if(SV.test(t[1])){var o=+SV.exec(t[1])[1];r[1]=e[1]+o}else TB()(t[1])?r[1]=t[1](e[1]):r[1]=e[1];return r},PV=function(t,e,n){if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=pN()(e,(function(t){return t.coordinate})),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],c=i[s-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},MV=function(t,e,n){return t&&t.length?gG()(t,fB()(n,"type.defaultProps.domain"))?e:t:e},TV=function(t,e){var n=t.props,r=n.dataKey,i=n.name,o=n.unit,s=n.formatter,a=n.tooltipType,l=n.chartType,c=n.hide;return oV(oV({},$B(t,!1)),{},{dataKey:r,unit:o,formatter:s,name:i||r,color:hV(t),value:cV(e,r),type:a,payload:e,chartType:l,hide:c})};function OV(t){return OV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OV(t)}function IV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function RV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IV(Object(n),!0).forEach((function(e){LV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function LV(t,e,n){return e=function(t){var e=function(t,e){if("object"!=OV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OV(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kV=["Webkit","Moz","O","ms"];function BV(t){return BV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BV(t)}function NV(){return NV=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NV.apply(this,arguments)}function DV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?DV(Object(n),!0).forEach((function(e){WV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qV(r.key),r)}}function UV(t,e,n){return e=GV(e),function(t,e){if(e&&("object"===BV(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return VV(t)}(t,zV()?Reflect.construct(e,n||[],GV(t).constructor):e.apply(t,n))}function zV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zV=function(){return!!t})()}function GV(t){return GV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},GV(t)}function VV(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(t,e){return HV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},HV(t,e)}function WV(t,e,n){return(e=qV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qV(t){var e=function(t,e){if("object"!=BV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=BV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==BV(e)?e:String(e)}var XV=function(t){return t.changedTouches&&!!t.changedTouches.length},YV=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),WV(VV(n=UV(this,e,[t])),"handleDrag",(function(t){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(t):n.state.isSlideMoving&&n.handleSlideDrag(t)})),WV(VV(n),"handleTouchMove",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&n.handleDrag(t.changedTouches[0])})),WV(VV(n),"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var t=n.props,e=t.endIndex,r=t.onDragEnd,i=t.startIndex;null===r||void 0===r||r({endIndex:e,startIndex:i})})),n.detachDragEndListener()})),WV(VV(n),"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),WV(VV(n),"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),WV(VV(n),"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),WV(VV(n),"handleSlideDragStart",(function(t){var e=XV(t)?t.changedTouches[0]:t;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:e.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(VV(n),"startX"),endX:n.handleTravellerDragStart.bind(VV(n),"endX")},n.state={},n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HV(t,e)}(e,t),n=e,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,o=this.props,s=o.gap,a=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(i,l),h=e.getIndexInRange(i,c);return{startIndex:u-u%s,endIndex:h===a?a:h-h%s}}},{key:"getTextOfTick",value:function(t){var e=this.props,n=e.data,r=e.tickFormatter,i=e.dataKey,o=cV(n[t],i,t);return TB()(r)?r(o,t):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(t){var e=this.state,n=e.slideMoveStartX,r=e.startX,i=e.endX,o=this.props,s=o.x,a=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,h=o.onChange,f=t.pageX-n;f>0?f=Math.min(f,s+a-l-i,s+a-l-r):f<0&&(f=Math.max(f,s-r,s-i));var d=this.getIndex({startX:r+f,endX:i+f});d.startIndex===c&&d.endIndex===u||!h||h(d),this.setState({startX:r+f,endX:i+f,slideMoveStartX:t.pageX})}},{key:"handleTravellerDragStart",value:function(t,e){var n=XV(e)?e.changedTouches[0]:e;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:t,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(t){var e=this.state,n=e.brushMoveStartX,r=e.movingTravellerId,i=e.endX,o=e.startX,s=this.state[r],a=this.props,l=a.x,c=a.width,u=a.travellerWidth,h=a.onChange,f=a.gap,d=a.data,p={startX:this.state.startX,endX:this.state.endX},A=t.pageX-n;A>0?A=Math.min(A,l+c-u-s):A<0&&(A=Math.max(A,l-s)),p[r]=s+A;var g=this.getIndex(p),y=g.startIndex,m=g.endIndex;this.setState(WV(WV({},r,s+A),"brushMoveStartX",t.pageX),(function(){h&&function(){var t=d.length-1;return"startX"===r&&(i>o?y%f===0:m%f===0)||i<o&&m===t||"endX"===r&&(i>o?m%f===0:y%f===0)||i>o&&m===t}()&&h(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(t,e){var n=this,r=this.state,i=r.scaleValues,o=r.startX,s=r.endX,a=this.state[e],l=i.indexOf(a);if(-1!==l){var c=l+t;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===e&&u>=s||"endX"===e&&u<=o||this.setState(WV({},e,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var t=this.props,e=t.x,n=t.y,i=t.width,o=t.height,s=t.fill,a=t.stroke;return r.createElement("rect",{stroke:a,fill:s,x:e,y:n,width:i,height:o})}},{key:"renderPanorama",value:function(){var t=this.props,e=t.x,n=t.y,i=t.width,o=t.height,s=t.data,a=t.children,l=t.padding,c=r.Children.only(a);return c?r.cloneElement(c,{x:e,y:n,width:i,height:o,margin:l,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(t,n){var i,o,s=this,a=this.props,l=a.y,c=a.travellerWidth,u=a.height,h=a.traveller,f=a.ariaLabel,d=a.data,p=a.startIndex,A=a.endIndex,g=Math.max(t,this.props.x),y=FV(FV({},$B(this.props,!1)),{},{x:g,y:l,width:c,height:u}),m=f||"Min value: ".concat(null===(i=d[p])||void 0===i?void 0:i.name,", Max value: ").concat(null===(o=d[A])||void 0===o?void 0:o.name);return r.createElement(SN,{tabIndex:0,role:"slider","aria-label":m,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(t){["ArrowLeft","ArrowRight"].includes(t.key)&&(t.preventDefault(),t.stopPropagation(),s.handleTravellerMoveKeyboard("ArrowRight"===t.key?1:-1,n))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(t,e){var n=this.props,i=n.y,o=n.height,s=n.stroke,a=n.travellerWidth,l=Math.min(t,e)+a,c=Math.max(Math.abs(e-t)-a,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:l,y:i,width:c,height:o})}},{key:"renderText",value:function(){var t=this.props,e=t.startIndex,n=t.endIndex,i=t.y,o=t.height,s=t.travellerWidth,a=t.stroke,l=this.state,c=l.startX,u=l.endX,h={pointerEvents:"none",fill:a};return r.createElement(SN,{className:"recharts-brush-texts"},r.createElement(rG,NV({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+o/2},h),this.getTextOfTick(e)),r.createElement(rG,NV({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+s+5,y:i+o/2},h),this.getTextOfTick(n)))}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.className,i=t.children,o=t.x,s=t.y,a=t.width,l=t.height,c=t.alwaysShowText,u=this.state,h=u.startX,f=u.endX,d=u.isTextActive,p=u.isSlideMoving,A=u.isTravellerMoving,g=u.isTravellerFocused;if(!e||!e.length||!yB(o)||!yB(s)||!yB(a)||!yB(l)||a<=0||l<=0)return null;var y=rB("recharts-brush",n),m=1===r.Children.count(i),v=function(t,e){if(!t)return null;var n=t.replace(/(\w)/,(function(t){return t.toUpperCase()})),r=kV.reduce((function(t,r){return RV(RV({},t),{},LV({},r+n,e))}),{});return r[t]=e,r}("userSelect","none");return r.createElement(SN,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),m&&this.renderPanorama(),this.renderSlide(h,f),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(f,"endX"),(d||p||A||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(t){var e=t.x,n=t.y,i=t.width,o=t.height,s=t.stroke,a=Math.floor(n+o/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:e,y:n,width:i,height:o,fill:s,stroke:"none"}),r.createElement("line",{x1:e+1,y1:a,x2:e+i-1,y2:a,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:e+1,y1:a+2,x2:e+i-1,y2:a+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return r.isValidElement(t)?r.cloneElement(t,n):TB()(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(t,e){var n=t.data,r=t.width,i=t.x,o=t.travellerWidth,s=t.updateId,a=t.startIndex,l=t.endIndex;if(n!==e.prevData||s!==e.prevUpdateId)return FV({prevData:n,prevTravellerWidth:o,prevUpdateId:s,prevX:i,prevWidth:r},n&&n.length?function(t){var e=t.data,n=t.startIndex,r=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!e||!e.length)return{};var a=e.length,l=Ir().domain(fN()(0,a)).range([i,i+o-s]),c=l.domain().map((function(t){return l(t)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:a,endIndex:l}):{scale:null,scaleValues:null});if(e.scale&&(r!==e.prevWidth||i!==e.prevX||o!==e.prevTravellerWidth)){e.scale.range([i,i+r-o]);var c=e.scale.domain().map((function(t){return e.scale(t)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:s,prevX:i,prevWidth:r,startX:e.scale(t.startIndex),endX:e.scale(t.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(t,e){for(var n=0,r=t.length-1;r-n>1;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i}return e>=t[r]?r:n}}],i&&jV(n.prototype,i),o&&jV(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent);function QV(t){return QV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QV(t)}function KV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function JV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?KV(Object(n),!0).forEach((function(e){ZV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ZV(t,e,n){return e=function(t){var e=function(t,e){if("object"!=QV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==QV(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}WV(YV,"displayName","Brush"),WV(YV,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $V=Math.PI/180,tH=function(t){return 180*t/Math.PI},eH=function(t,e,n,r){return{x:t+Math.cos(-$V*r)*n,y:e+Math.sin(-$V*r)*n}},nH=function(t,e){var n=t.x,r=t.y,i=e.cx,o=e.cy,s=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:tH(l),angleInRadian:l}},rH=function(t,e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return t+360*Math.min(i,o)},iH=function(t,e){var n=t.x,r=t.y,i=nH({x:n,y:r},e),o=i.radius,s=i.angle,a=e.innerRadius,l=e.outerRadius;if(o<a||o>l)return!1;if(0===o)return!0;var c,u=function(t){var e=t.startAngle,n=t.endAngle,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-360*o,endAngle:n-360*o}}(e),h=u.startAngle,f=u.endAngle,d=s;if(h<=f){for(;d>f;)d-=360;for(;d<h;)d+=360;c=d>=h&&d<=f}else{for(;d>h;)d-=360;for(;d<f;)d+=360;c=d>=f&&d<=h}return c?JV(JV({},e),{},{radius:o,angle:rH(d,e)}):null};function oH(t){return oH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oH(t)}var sH=["offset"];function aH(t){return function(t){if(Array.isArray(t))return lH(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return lH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lH(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cH(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uH(Object(n),!0).forEach((function(e){fH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fH(t,e,n){return e=function(t){var e=function(t,e){if("object"!=oH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oH(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dH(){return dH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dH.apply(this,arguments)}var pH=function(t){var e=t.value,n=t.formatter,r=PB()(t.children)?e:t.children;return TB()(n)?n(r):r},AH=function(t,e,n){var i,o,s=t.position,a=t.viewBox,l=t.offset,c=t.className,u=a,h=u.cx,f=u.cy,d=u.innerRadius,p=u.outerRadius,A=u.startAngle,g=u.endAngle,y=u.clockWise,m=(d+p)/2,v=function(t,e){return AB(e-t)*Math.min(Math.abs(e-t),360)}(A,g),b=v>=0?1:-1;"insideStart"===s?(i=A+b*l,o=y):"insideEnd"===s?(i=g-b*l,o=!y):"end"===s&&(i=g+b*l,o=y),o=v<=0?o:!o;var _=eH(h,f,m,i),w=eH(h,f,m,i+359*(o?1:-1)),x="M".concat(_.x,",").concat(_.y,"\n    A").concat(m,",").concat(m,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),E=PB()(t.id)?bB("recharts-radial-line-"):t.id;return r.createElement("text",dH({},n,{dominantBaseline:"central",className:rB("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:E,d:x})),r.createElement("textPath",{xlinkHref:"#".concat(E)},e))},gH=function(t){var e=t.viewBox,n=t.offset,r=t.position,i=e,o=i.cx,s=i.cy,a=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=eH(o,s,l+n,c),h=u.x;return{x:h,y:u.y,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var f=eH(o,s,(a+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}},yH=function(t){var e=t.viewBox,n=t.parentViewBox,r=t.offset,i=t.position,o=e,s=o.x,a=o.y,l=o.width,c=o.height,u=c>=0?1:-1,h=u*r,f=u>0?"end":"start",d=u>0?"start":"end",p=l>=0?1:-1,A=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return hH(hH({},{x:s+l/2,y:a-u*r,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(a-n.y,0),width:l}:{});if("bottom"===i)return hH(hH({},{x:s+l/2,y:a+c+h,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(n.y+n.height-(a+c),0),width:l}:{});if("left"===i){var m={x:s-A,y:a+c/2,textAnchor:g,verticalAnchor:"middle"};return hH(hH({},m),n?{width:Math.max(m.x-n.x,0),height:c}:{})}if("right"===i){var v={x:s+l+A,y:a+c/2,textAnchor:y,verticalAnchor:"middle"};return hH(hH({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===i?hH({x:s+A,y:a+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===i?hH({x:s+l-A,y:a+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===i?hH({x:s+l/2,y:a+h,textAnchor:"middle",verticalAnchor:d},b):"insideBottom"===i?hH({x:s+l/2,y:a+c-h,textAnchor:"middle",verticalAnchor:f},b):"insideTopLeft"===i?hH({x:s+A,y:a+h,textAnchor:y,verticalAnchor:d},b):"insideTopRight"===i?hH({x:s+l-A,y:a+h,textAnchor:g,verticalAnchor:d},b):"insideBottomLeft"===i?hH({x:s+A,y:a+c-h,textAnchor:y,verticalAnchor:f},b):"insideBottomRight"===i?hH({x:s+l-A,y:a+c-h,textAnchor:g,verticalAnchor:f},b):IB()(i)&&(yB(i.x)||gB(i.x))&&(yB(i.y)||gB(i.y))?hH({x:s+_B(i.x,l),y:a+_B(i.y,c),textAnchor:"end",verticalAnchor:"end"},b):hH({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)},mH=function(t){return"cx"in t&&yB(t.cx)};function vH(t){var e,n=t.offset,i=hH({offset:void 0===n?5:n},cH(t,sH)),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,u=i.className,h=void 0===u?"":u,f=i.textBreakAll;if(!o||PB()(a)&&PB()(l)&&!(0,r.isValidElement)(c)&&!TB()(c))return null;if((0,r.isValidElement)(c))return(0,r.cloneElement)(c,i);if(TB()(c)){if(e=(0,r.createElement)(c,i),(0,r.isValidElement)(e))return e}else e=pH(i);var d=mH(o),p=$B(i,!0);if(d&&("insideStart"===s||"insideEnd"===s||"end"===s))return AH(i,e,p);var A=d?gH(i):yH(i);return r.createElement(rG,dH({className:rB("recharts-label",h)},p,A,{breakAll:f}),e)}vH.displayName="Label";var bH=function(t){var e=t.cx,n=t.cy,r=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,a=t.radius,l=t.innerRadius,c=t.outerRadius,u=t.x,h=t.y,f=t.top,d=t.left,p=t.width,A=t.height,g=t.clockWise,y=t.labelViewBox;if(y)return y;if(yB(p)&&yB(A)){if(yB(u)&&yB(h))return{x:u,y:h,width:p,height:A};if(yB(f)&&yB(d))return{x:f,y:d,width:p,height:A}}return yB(u)&&yB(h)?{x:u,y:h,width:0,height:0}:yB(e)&&yB(n)?{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||a||s||0,clockWise:g}:t.viewBox?t.viewBox:{}};vH.parseViewBox=bH,vH.renderCallByParent=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=bH(t),s=YB(i,vH).map((function(t,n){return(0,r.cloneElement)(t,{viewBox:e||o,key:"label-".concat(n)})}));if(!n)return s;var a=function(t,e){return t?!0===t?r.createElement(vH,{key:"label-implicit",viewBox:e}):mB(t)?r.createElement(vH,{key:"label-implicit",viewBox:e,value:t}):(0,r.isValidElement)(t)?t.type===vH?(0,r.cloneElement)(t,{key:"label-implicit",viewBox:e}):r.createElement(vH,{key:"label-implicit",content:t,viewBox:e}):TB()(t)?r.createElement(vH,{key:"label-implicit",content:t,viewBox:e}):IB()(t)?r.createElement(vH,dH({viewBox:e},t,{key:"label-implicit"})):null:null}(t.label,e||o);return[a].concat(aH(s))};var _H=function(t,e){var n=t.alwaysShow,r=t.ifOverflow;return n&&(r="extendDomain"),r===e},wH=n(91733),xH=n.n(wH),EH=n(17002),SH=n.n(EH),CH=function(t){return null};CH.displayName="Cell";var PH=n(74065),MH=n.n(PH);function TH(t){return TH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TH(t)}var OH=["valueAccessor"],IH=["data","dataKey","clockWise","id","textBreakAll"];function RH(t){return function(t){if(Array.isArray(t))return LH(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return LH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LH(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kH(){return kH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kH.apply(this,arguments)}function BH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function NH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BH(Object(n),!0).forEach((function(e){DH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function DH(t,e,n){return e=function(t){var e=function(t,e){if("object"!=TH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=TH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==TH(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FH(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var jH=function(t){return Array.isArray(t.value)?MH()(t.value):t.value};function UH(t){var e=t.valueAccessor,n=void 0===e?jH:e,i=FH(t,OH),o=i.data,s=i.dataKey,a=i.clockWise,l=i.id,c=i.textBreakAll,u=FH(i,IH);return o&&o.length?r.createElement(SN,{className:"recharts-label-list"},o.map((function(t,e){var i=PB()(s)?n(t,e):cV(t&&t.payload,s),o=PB()(l)?{}:{id:"".concat(l,"-").concat(e)};return r.createElement(vH,kH({},$B(t,!0),u,o,{parentViewBox:t.parentViewBox,value:i,textBreakAll:c,viewBox:vH.parseViewBox(PB()(a)?t:NH(NH({},t),{},{clockWise:a})),key:"label-".concat(e),index:e}))}))):null}UH.displayName="LabelList",UH.renderCallByParent=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.children&&n&&!t.label)return null;var i=YB(t.children,UH).map((function(t,n){return(0,r.cloneElement)(t,{data:e,key:"labelList-".concat(n)})}));if(!n)return i;var o=function(t,e){return t?!0===t?r.createElement(UH,{key:"labelList-implicit",data:e}):r.isValidElement(t)||TB()(t)?r.createElement(UH,{key:"labelList-implicit",data:e,content:t}):IB()(t)?r.createElement(UH,kH({data:e},t,{key:"labelList-implicit"})):null:null}(t.label,e);return[o].concat(RH(i))};var zH=n(12322),GH=n.n(zH),VH=n(96361),HH=n.n(VH);function WH(t){return WH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WH(t)}function qH(){return qH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qH.apply(this,arguments)}function XH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return YH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function KH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?QH(Object(n),!0).forEach((function(e){JH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function JH(t,e,n){return e=function(t){var e=function(t,e){if("object"!=WH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=WH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==WH(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ZH=function(t,e,n,r,i){var o,s=n-r;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-s/2,",").concat(e+i),o+="L ".concat(t+n-s/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z")},$H={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tW=function(t){var e=KH(KH({},$H),t),n=(0,r.useRef)(),i=XH((0,r.useState)(-1),2),o=i[0],s=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var t=n.current.getTotalLength();t&&s(t)}catch(e){}}),[]);var a=e.x,l=e.y,c=e.upperWidth,u=e.lowerWidth,h=e.height,f=e.className,d=e.animationEasing,p=e.animationDuration,A=e.animationBegin,g=e.isUpdateAnimationActive;if(a!==+a||l!==+l||c!==+c||u!==+u||h!==+h||0===c&&0===u||0===h)return null;var y=rB("recharts-trapezoid",f);return g?r.createElement(cz,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:a,y:l},to:{upperWidth:c,lowerWidth:u,height:h,x:a,y:l},duration:p,animationEasing:d,isActive:g},(function(t){var i=t.upperWidth,s=t.lowerWidth,a=t.height,l=t.x,c=t.y;return r.createElement(cz,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:p,easing:d},r.createElement("path",qH({},$B(e,!0),{className:y,d:ZH(l,c,i,s,a),ref:n})))})):r.createElement("g",null,r.createElement("path",qH({},$B(e,!0),{className:y,d:ZH(a,l,c,u,h)})))};function eW(t){return eW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eW(t)}function nW(){return nW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nW.apply(this,arguments)}function rW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function iW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rW(Object(n),!0).forEach((function(e){oW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oW(t,e,n){return e=function(t){var e=function(t,e){if("object"!=eW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eW(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sW=function(t){var e=t.cx,n=t.cy,r=t.radius,i=t.angle,o=t.sign,s=t.isExternal,a=t.cornerRadius,l=t.cornerIsExternal,c=a*(s?1:-1)+r,u=Math.asin(a/c)/$V,h=l?i:i+o*u,f=l?i-o*u:i;return{center:eH(e,n,c,h),circleTangency:eH(e,n,r,h),lineTangency:eH(e,n,c*Math.cos(u*$V),f),theta:u}},aW=function(t){var e=t.cx,n=t.cy,r=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=function(t,e){return AB(e-t)*Math.min(Math.abs(e-t),359.999)}(o,t.endAngle),a=o+s,l=eH(e,n,i,o),c=eH(e,n,i,a),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(o>a),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var h=eH(e,n,r,o),f=eH(e,n,r,a);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(o<=a),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(e,",").concat(n," Z");return u},lW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cW=function(t){var e=iW(iW({},lW),t),n=e.cx,i=e.cy,o=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,f=e.className;if(s<o||u===h)return null;var d,p=rB("recharts-sector",f),A=s-o,g=_B(a,A,0,!0);return d=g>0&&Math.abs(u-h)<360?function(t){var e=t.cx,n=t.cy,r=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,a=t.cornerIsExternal,l=t.startAngle,c=t.endAngle,u=AB(c-l),h=sW({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:a}),f=h.circleTangency,d=h.lineTangency,p=h.theta,A=sW({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:a}),g=A.circleTangency,y=A.lineTangency,m=A.theta,v=a?Math.abs(l-c):Math.abs(l-c)-p-m;if(v<0)return s?"M ".concat(d.x,",").concat(d.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):aW({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(d.x,",").concat(d.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var _=sW({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),w=_.circleTangency,x=_.lineTangency,E=_.theta,S=sW({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),C=S.circleTangency,P=S.lineTangency,M=S.theta,T=a?Math.abs(l-c):Math.abs(l-c)-E-M;if(T<0&&0===o)return"".concat(b,"L").concat(e,",").concat(n,"Z");b+="L".concat(P.x,",").concat(P.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else b+="L".concat(e,",").concat(n,"Z");return b}({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,A/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):aW({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:h}),r.createElement("path",nW({},$B(e,!0),{className:p,d:d,role:"img"}))},uW=["option","shapeType","propTransformer","activeClassName","isActive"];function hW(t){return hW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hW(t)}function fW(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dW(Object(n),!0).forEach((function(e){AW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function AW(t,e,n){return e=function(t){var e=function(t,e){if("object"!=hW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hW(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gW(t,e){return pW(pW({},e),t)}function yW(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return r.createElement(bz,n);case"trapezoid":return r.createElement(tW,n);case"sector":return r.createElement(cW,n);case"symbols":if(function(t){return"symbols"===t}(e))return r.createElement(yF,n);break;default:return null}}function mW(t){var e,n=t.option,i=t.shapeType,o=t.propTransformer,s=void 0===o?gW:o,a=t.activeClassName,l=void 0===a?"recharts-active-shape":a,c=t.isActive,u=fW(t,uW);if((0,r.isValidElement)(n))e=(0,r.cloneElement)(n,pW(pW({},u),function(t){return(0,r.isValidElement)(t)?t.props:t}(n)));else if(TB()(n))e=n(u);else if(GH()(n)&&!HH()(n)){var h=s(n,u);e=r.createElement(yW,{shapeType:i,elementProps:h})}else{var f=u;e=r.createElement(yW,{shapeType:i,elementProps:f})}return c?r.createElement(SN,{className:l},e):e}function vW(t,e){return null!=e&&"trapezoids"in t.props}function bW(t,e){return null!=e&&"sectors"in t.props}function _W(t,e){return null!=e&&"points"in t.props}function wW(t,e){var n,r,i=t.x===(null===e||void 0===e||null===(n=e.labelViewBox)||void 0===n?void 0:n.x)||t.x===e.x,o=t.y===(null===e||void 0===e||null===(r=e.labelViewBox)||void 0===r?void 0:r.y)||t.y===e.y;return i&&o}function xW(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function EW(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function SW(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=function(t,e){var n;return vW(t,e)?n="trapezoids":bW(t,e)?n="sectors":_W(t,e)&&(n="points"),n}(n,e),o=function(t,e){var n,r;return vW(t,e)?null===(n=e.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:bW(t,e)?null===(r=e.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:_W(t,e)?e.payload:{}}(n,e),s=r.filter((function(t,r){var s=gG()(o,t),a=n.props[i].filter((function(t){var r=function(t,e){var n;return vW(t,e)?n=wW:bW(t,e)?n=xW:_W(t,e)&&(n=EW),n}(n,e);return r(t,e)})),l=n.props[i].indexOf(a[a.length-1]);return s&&r===l}));return r.indexOf(s[s.length-1])}var CW=["x","y"];function PW(t){return PW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PW(t)}function MW(){return MW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MW.apply(this,arguments)}function TW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function OW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?TW(Object(n),!0).forEach((function(e){IW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function IW(t,e,n){return e=function(t){var e=function(t,e){if("object"!=PW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=PW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PW(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LW(t,e){var n=t.x,r=t.y,i=RW(t,CW),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),h="".concat(e.width||i.width),f=parseInt(h,10);return OW(OW(OW(OW(OW({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function kW(t){return r.createElement(mW,MW({shapeType:"rectangle",propTransformer:LW,activeClassName:"recharts-active-bar"},t))}var BW,NW=["value","background"];function DW(t){return DW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DW(t)}function FW(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jW(){return jW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jW.apply(this,arguments)}function UW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?UW(Object(n),!0).forEach((function(e){YW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function GW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QW(r.key),r)}}function VW(t,e,n){return e=WW(e),function(t,e){if(e&&("object"===DW(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qW(t)}(t,HW()?Reflect.construct(e,n||[],WW(t).constructor):e.apply(t,n))}function HW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(HW=function(){return!!t})()}function WW(t){return WW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},WW(t)}function qW(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XW(t,e){return XW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},XW(t,e)}function YW(t,e,n){return(e=QW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QW(t){var e=function(t,e){if("object"!=DW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=DW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==DW(e)?e:String(e)}var KW=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return YW(qW(t=VW(this,e,[].concat(r))),"state",{isAnimationFinished:!1}),YW(qW(t),"id",bB("recharts-bar-")),YW(qW(t),"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()})),YW(qW(t),"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()})),t}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XW(t,e)}(e,t),n=e,i=[{key:"renderRectanglesStatically",value:function(t){var e=this,n=this.props,i=n.shape,o=n.dataKey,s=n.activeIndex,a=n.activeBar,l=$B(this.props,!1);return t&&t.map((function(t,n){var c=n===s,u=c?a:i,h=zW(zW(zW({},l),t),{},{isActive:c,option:u,index:n,dataKey:o,onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd});return r.createElement(SN,jW({className:"recharts-bar-rectangle"},jB(e.props,t,n),{key:"rectangle-".concat(null===t||void 0===t?void 0:t.x,"-").concat(null===t||void 0===t?void 0:t.y,"-").concat(null===t||void 0===t?void 0:t.value)}),r.createElement(kW,h))}))}},{key:"renderRectanglesWithAnimation",value:function(){var t=this,e=this.props,n=e.data,i=e.layout,o=e.isAnimationActive,s=e.animationBegin,a=e.animationDuration,l=e.animationEasing,c=e.animationId,u=this.state.prevData;return r.createElement(cz,{begin:s,duration:a,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(e){var o=e.t,s=n.map((function(t,e){var n=u&&u[e];if(n){var r=xB(n.x,t.x),s=xB(n.y,t.y),a=xB(n.width,t.width),l=xB(n.height,t.height);return zW(zW({},t),{},{x:r(o),y:s(o),width:a(o),height:l(o)})}if("horizontal"===i){var c=xB(0,t.height)(o);return zW(zW({},t),{},{y:t.y+t.height-c,height:c})}var h=xB(0,t.width)(o);return zW(zW({},t),{},{width:h})}));return r.createElement(SN,null,t.renderRectanglesStatically(s))}))}},{key:"renderRectangles",value:function(){var t=this.props,e=t.data,n=t.isAnimationActive,r=this.state.prevData;return!(n&&e&&e.length)||r&&gG()(r,e)?this.renderRectanglesStatically(e):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var t=this,e=this.props,n=e.data,i=e.dataKey,o=e.activeIndex,s=$B(this.props.background,!1);return n.map((function(e,n){e.value;var a=e.background,l=FW(e,NW);if(!a)return null;var c=zW(zW(zW(zW(zW({},l),{},{fill:"#eee"},a),s),jB(t.props,e,n)),{},{onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd,dataKey:i,index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return r.createElement(kW,jW({option:t.props.background,isActive:n===o},c))}))}},{key:"renderErrorBar",value:function(t,e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.data,o=n.xAxis,s=n.yAxis,a=n.layout,l=YB(n.children,JG);if(!l)return null;var c="vertical"===a?i[0].height/2:i[0].width/2,u=function(t,e){var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:cV(t,e)}},h={clipPath:t?"url(#clipPath-".concat(e,")"):null};return r.createElement(SN,h,l.map((function(t){return r.cloneElement(t,{key:"error-bar-".concat(e,"-").concat(t.props.dataKey),data:i,xAxis:o,yAxis:s,layout:a,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var t=this.props,e=t.hide,n=t.data,i=t.className,o=t.xAxis,s=t.yAxis,a=t.left,l=t.top,c=t.width,u=t.height,h=t.isAnimationActive,f=t.background,d=t.id;if(e||!n||!n.length)return null;var p=this.state.isAnimationFinished,A=rB("recharts-bar",i),g=o&&o.allowDataOverflow,y=s&&s.allowDataOverflow,m=g||y,v=PB()(d)?this.id:d;return r.createElement(SN,{className:A},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(v)},r.createElement("rect",{x:g?a:a-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,r.createElement(SN,{className:"recharts-bar-rectangles",clipPath:m?"url(#clipPath-".concat(v,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(m,v),(!h||p)&&UH.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(t,e){return t.animationId!==e.prevAnimationId?{prevAnimationId:t.animationId,curData:t.data,prevData:e.curData}:t.data!==e.curData?{curData:t.data}:null}}],i&&GW(n.prototype,i),o&&GW(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent);function JW(t){return JW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JW(t)}function ZW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nq(r.key),r)}}function $W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$W(Object(n),!0).forEach((function(e){eq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eq(t,e,n){return(e=nq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nq(t){var e=function(t,e){if("object"!=JW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=JW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==JW(e)?e:String(e)}BW=KW,YW(KW,"displayName","Bar"),YW(KW,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$N.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),YW(KW,"getComposedData",(function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,d=function(t,e){if(!t)return null;for(var n=0,r=t.length;n<r;n++)if(t[n].item===e)return t[n].position;return null}(r,n);if(!d)return null;var p=e.layout,A=n.props,g=A.dataKey,y=A.children,m=A.minPointSize,v="horizontal"===p?s:o,b=c?v.scale.domain():null,_=function(t){var e=t.numericAxis,n=e.scale.domain();if("number"===e.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:v}),w=YB(y,CH),x=h.map((function(t,e){var r,h,f,A,y,v;c?r=function(t,e){if(!e||2!==e.length||!yB(e[0])||!yB(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!yB(t[0])||t[0]<n)&&(i[0]=n),(!yB(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+e],b):(r=cV(t,g),Array.isArray(r)||(r=[_,r]));var x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof t)return t;var i="number"===typeof n;return i?t(n,r):(i||yN(!1),e)}}(m,BW.defaultProps.minPointSize)(r[1],e);if("horizontal"===p){var E,S=[s.scale(r[0]),s.scale(r[1])],C=S[0],P=S[1];h=wV({axis:o,ticks:a,bandSize:i,offset:d.offset,entry:t,index:e}),f=null!==(E=null!==P&&void 0!==P?P:C)&&void 0!==E?E:void 0,A=d.size;var M=C-P;if(y=Number.isNaN(M)?0:M,v={x:h,y:s.y,width:A,height:s.height},Math.abs(x)>0&&Math.abs(y)<Math.abs(x)){var T=AB(y||x)*(Math.abs(x)-Math.abs(y));f-=T,y+=T}}else{var O=[o.scale(r[0]),o.scale(r[1])],I=O[0],R=O[1];if(h=I,f=wV({axis:s,ticks:l,bandSize:i,offset:d.offset,entry:t,index:e}),A=R-I,y=d.size,v={x:o.x,y:f,width:o.width,height:y},Math.abs(x)>0&&Math.abs(A)<Math.abs(x))A+=AB(A||x)*(Math.abs(x)-Math.abs(A))}return zW(zW(zW({},t),{},{x:h,y:f,width:A,height:y,value:c?r:r[1],payload:t,background:v},w&&w[e]&&w[e].props),{},{tooltipPayload:[TV(n,t)],tooltipPosition:{x:h+A/2,y:f+y/2}})}));return zW({data:x,layout:p},f)}));var rq=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},iq=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scale=e}var e,n,r;return e=t,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bandAware,r=e.position;if(void 0!==t){if(r)switch(r){case"start":default:return this.scale(t);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}},{key:"isInRange",value:function(t){var e=this.range(),n=e[0],r=e[e.length-1];return n<=r?t>=n&&t<=r:t>=r&&t<=n}}],r=[{key:"create",value:function(e){return new t(e)}}],n&&ZW(e.prototype,n),r&&ZW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();eq(iq,"EPS",1e-4);var oq=function(t){var e=Object.keys(t).reduce((function(e,n){return tq(tq({},e),{},eq({},n,iq.create(t[n])))}),{});return tq(tq({},e),{},{apply:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return xH()(t,(function(t,n){return e[n].apply(t,{bandAware:r,position:i})}))},isInRange:function(t){return SH()(t,(function(t,n){return e[n].isInRange(t)}))}})};var sq=function(t){var e=t.width,n=t.height,r=function(t){return(t%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/e),s=i>o&&i<Math.PI-o?n/Math.sin(i):e/Math.cos(i);return Math.abs(s)};function aq(t){return aq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aq(t)}function lq(){return lq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lq.apply(this,arguments)}function cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cq(Object(n),!0).forEach((function(e){hq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hq(t,e,n){return e=function(t){var e=function(t,e){if("object"!=aq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aq(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fq(t){var e=t.x,n=t.y,i=t.r,o=t.alwaysShow,s=t.clipPathId,a=mB(e),l=mB(n);if(SB(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!a||!l)return null;var c=function(t){var e=t.x,n=t.y,r=t.xAxis,i=t.yAxis,o=oq({x:r.scale,y:i.scale}),s=o.apply({x:e,y:n},{bandAware:!0});return _H(t,"discard")&&!o.isInRange(s)?null:s}(t);if(!c)return null;var u=c.x,h=c.y,f=t.shape,d=t.className,p=uq(uq({clipPath:_H(t,"hidden")?"url(#".concat(s,")"):void 0},$B(t,!0)),{},{cx:u,cy:h});return r.createElement(SN,{className:rB("recharts-reference-dot",d)},fq.renderDot(f,p),vH.renderCallByParent(t,{x:u-i,y:h-i,width:2*i,height:2*i}))}fq.displayName="ReferenceDot",fq.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},fq.renderDot=function(t,e){return r.isValidElement(t)?r.cloneElement(t,e):TB()(t)?t(e):r.createElement(qF,lq({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"}))};var dq=n(24597),pq=n.n(dq),Aq=n(98990),gq=n.n(Aq),yq=n(15797),mq=n.n(yq)()((function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}}),(function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}));var vq=(0,r.createContext)(void 0),bq=(0,r.createContext)(void 0),_q=(0,r.createContext)(void 0),wq=(0,r.createContext)({}),xq=(0,r.createContext)(void 0),Eq=(0,r.createContext)(0),Sq=(0,r.createContext)(0),Cq=function(t){var e=t.state,n=e.xAxisMap,i=e.yAxisMap,o=e.offset,s=t.clipPathId,a=t.children,l=t.width,c=t.height,u=mq(o);return r.createElement(vq.Provider,{value:n},r.createElement(bq.Provider,{value:i},r.createElement(wq.Provider,{value:o},r.createElement(_q.Provider,{value:u},r.createElement(xq.Provider,{value:s},r.createElement(Eq.Provider,{value:c},r.createElement(Sq.Provider,{value:l},a)))))))};var Pq=function(t){var e=(0,r.useContext)(vq);null==e&&yN(!1);var n=e[t];return null==n&&yN(!1),n},Mq=function(t){var e=(0,r.useContext)(bq);null==e&&yN(!1);var n=e[t];return null==n&&yN(!1),n},Tq=function(){return(0,r.useContext)(Sq)},Oq=function(){return(0,r.useContext)(Eq)};function Iq(t){return Iq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iq(t)}function Rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rq(Object(n),!0).forEach((function(e){kq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kq(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Iq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Iq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Iq(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bq(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Nq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nq(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dq(){return Dq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dq.apply(this,arguments)}function Fq(t){var e=t.x,n=t.y,i=t.segment,o=t.xAxisId,s=t.yAxisId,a=t.shape,l=t.className,c=t.alwaysShow,u=(0,r.useContext)(xq),h=Pq(o),f=Mq(s),d=(0,r.useContext)(_q);if(!u||!d)return null;SB(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(t,e,n,r,i,o,s,a,l){var c=i.x,u=i.y,h=i.width,f=i.height;if(n){var d=l.y,p=t.y.apply(d,{position:o});if(_H(l,"discard")&&!t.y.isInRange(p))return null;var A=[{x:c+h,y:p},{x:c,y:p}];return"left"===a?A.reverse():A}if(e){var g=l.x,y=t.x.apply(g,{position:o});if(_H(l,"discard")&&!t.x.isInRange(y))return null;var m=[{x:y,y:u+f},{x:y,y:u}];return"top"===s?m.reverse():m}if(r){var v=l.segment.map((function(e){return t.apply(e,{position:o})}));return _H(l,"discard")&&pq()(v,(function(e){return!t.isInRange(e)}))?null:v}return null}(oq({x:h.scale,y:f.scale}),mB(e),mB(n),i&&2===i.length,d,t.position,h.orientation,f.orientation,t);if(!p)return null;var A=Bq(p,2),g=A[0],y=g.x,m=g.y,v=A[1],b=v.x,_=v.y,w=Lq(Lq({clipPath:_H(t,"hidden")?"url(#".concat(u,")"):void 0},$B(t,!0)),{},{x1:y,y1:m,x2:b,y2:_});return r.createElement(SN,{className:rB("recharts-reference-line",l)},function(t,e){return r.isValidElement(t)?r.cloneElement(t,e):TB()(t)?t(e):r.createElement("line",Dq({},e,{className:"recharts-reference-line-line"}))}(a,w),vH.renderCallByParent(t,function(t){var e=t.x1,n=t.y1,r=t.x2,i=t.y2;return rq({x:e,y:n},{x:r,y:i})}({x1:y,y1:m,x2:b,y2:_})))}function jq(t){return jq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jq(t)}function Uq(){return Uq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uq.apply(this,arguments)}function zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zq(Object(n),!0).forEach((function(e){Vq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vq(t,e,n){return e=function(t){var e=function(t,e){if("object"!=jq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jq(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Fq.displayName="ReferenceLine",Fq.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Hq(t){var e=t.x1,n=t.x2,i=t.y1,o=t.y2,s=t.className,a=t.alwaysShow,l=t.clipPathId;SB(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=mB(e),u=mB(n),h=mB(i),f=mB(o),d=t.shape;if(!c&&!u&&!h&&!f&&!d)return null;var p=function(t,e,n,r,i){var o=i.x1,s=i.x2,a=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var h=oq({x:c.scale,y:u.scale}),f={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(a,{position:"start"}):h.y.rangeMin},d={x:e?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(l,{position:"end"}):h.y.rangeMax};return!_H(i,"discard")||h.isInRange(f)&&h.isInRange(d)?rq(f,d):null}(c,u,h,f,t);if(!p&&!d)return null;var A=_H(t,"hidden")?"url(#".concat(l,")"):void 0;return r.createElement(SN,{className:rB("recharts-reference-area",s)},Hq.renderRect(d,Gq(Gq({clipPath:A},$B(t,!0)),p)),vH.renderCallByParent(t,p))}function Wq(t){return function(t){if(Array.isArray(t))return qq(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return qq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qq(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Hq.displayName="ReferenceArea",Hq.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},Hq.renderRect=function(t,e){return r.isValidElement(t)?r.cloneElement(t,e):TB()(t)?t(e):r.createElement(bz,Uq({},e,{className:"recharts-reference-area-rect"}))};var Xq=function(t,e,n,r,i){var o=YB(t,Fq),s=YB(t,fq),a=[].concat(Wq(o),Wq(s)),l=YB(t,Hq),c="".concat(r,"Id"),u=r[0],h=e;if(a.length&&(h=a.reduce((function(t,e){if(e.props[c]===n&&_H(e.props,"extendDomain")&&yB(e.props[u])){var r=e.props[u];return[Math.min(t[0],r),Math.max(t[1],r)]}return t}),h)),l.length){var f="".concat(u,"1"),d="".concat(u,"2");h=l.reduce((function(t,e){if(e.props[c]===n&&_H(e.props,"extendDomain")&&yB(e.props[f])&&yB(e.props[d])){var r=e.props[f],i=e.props[d];return[Math.min(t[0],r,i),Math.max(t[1],r,i)]}return t}),h)}return i&&i.length&&(h=i.reduce((function(t,e){return yB(e)?[Math.min(t[0],e),Math.max(t[1],e)]:t}),h)),h},Yq=n(17283),Qq=new(n.n(Yq)()),Kq="recharts.syncMouseEvents";function Jq(t){return Jq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jq(t)}function Zq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tX(r.key),r)}}function $q(t,e,n){return(e=tX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tX(t){var e=function(t,e){if("object"!=Jq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jq(e)?e:String(e)}var eX=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$q(this,"activeIndex",0),$q(this,"coordinateList",[]),$q(this,"layout","horizontal")}var e,n,r;return e=t,n=[{key:"setDetails",value:function(t){var e,n=t.coordinateList,r=void 0===n?null:n,i=t.container,o=void 0===i?null:i,s=t.layout,a=void 0===s?null:s,l=t.offset,c=void 0===l?null:l,u=t.mouseHandlerCallback,h=void 0===u?null:u;this.coordinateList=null!==(e=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==e?e:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==a&&void 0!==a?a:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==h&&void 0!==h?h:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(0!==this.coordinateList.length)switch(t.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,e;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,s=this.coordinateList[this.activeIndex].coordinate,a=(null===(t=window)||void 0===t?void 0:t.scrollX)||0,l=(null===(e=window)||void 0===e?void 0:e.scrollY)||0,c=r+s+a,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],n&&Zq(e.prototype,n),r&&Zq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function nX(){}function rX(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function iX(t){this._context=t}function oX(t){this._context=t}function sX(t){this._context=t}iX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rX(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rX(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},oX.prototype={areaStart:nX,areaEnd:nX,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rX(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},sX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rX(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};class aX{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function lX(t){this._context=t}function cX(t){this._context=t}function uX(t){return new cX(t)}function hX(t){return t<0?-1:1}function fX(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(hX(o)+hX(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function dX(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pX(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function AX(t){this._context=t}function gX(t){this._context=new yX(t)}function yX(t){this._context=t}function mX(t){this._context=t}function vX(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function bX(t,e){this._context=t,this._t=e}function _X(t){return t[0]}function wX(t){return t[1]}function xX(t,e){var n=jD(!0),r=null,i=uX,o=null,s=aF(a);function a(a){var l,c,u,h=(a=oG(a)).length,f=!1;for(null==r&&(o=i(u=s())),l=0;l<=h;++l)!(l<h&&n(c=a[l],l,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,l,a),+e(c,l,a));if(u)return o=null,u+""||null}return t="function"===typeof t?t:void 0===t?_X:jD(t),e="function"===typeof e?e:void 0===e?wX:jD(e),a.x=function(e){return arguments.length?(t="function"===typeof e?e:jD(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:jD(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:jD(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function EX(t,e,n){var r=null,i=jD(!0),o=null,s=uX,a=null,l=aF(c);function c(c){var u,h,f,d,p,A=(c=oG(c)).length,g=!1,y=new Array(A),m=new Array(A);for(null==o&&(a=s(p=l())),u=0;u<=A;++u){if(!(u<A&&i(d=c[u],u,c))===g)if(g=!g)h=u,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),f=u-1;f>=h;--f)a.point(y[f],m[f]);a.lineEnd(),a.areaEnd()}g&&(y[u]=+t(d,u,c),m[u]=+e(d,u,c),a.point(r?+r(d,u,c):y[u],n?+n(d,u,c):m[u]))}if(p)return a=null,p+""||null}function u(){return xX().defined(i).curve(s).context(o)}return t="function"===typeof t?t:void 0===t?_X:jD(+t),e="function"===typeof e?e:jD(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?wX:jD(+n),c.x=function(e){return arguments.length?(t="function"===typeof e?e:jD(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"===typeof e?e:jD(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:jD(+t),c):r},c.y=function(t){return arguments.length?(e="function"===typeof t?t:jD(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"===typeof t?t:jD(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:jD(+t),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"===typeof t?t:jD(!!t),c):i},c.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),c):s},c.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),c):o},c}function SX(t){return SX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SX(t)}function CX(){return CX=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CX.apply(this,arguments)}function PX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function MX(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PX(Object(n),!0).forEach((function(e){TX(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PX(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function TX(t,e,n){return e=function(t){var e=function(t,e){if("object"!=SX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=SX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==SX(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}lX.prototype={areaStart:nX,areaEnd:nX,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},cX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},AX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pX(this,this._t0,dX(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pX(this,dX(this,n=fX(this,t,e)),n);break;default:pX(this,this._t0,n=fX(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(gX.prototype=Object.create(AX.prototype)).point=function(t,e){AX.prototype.point.call(this,e,t)},yX.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},mX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=vX(t),i=vX(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},bX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var OX={curveBasisClosed:function(t){return new oX(t)},curveBasisOpen:function(t){return new sX(t)},curveBasis:function(t){return new iX(t)},curveBumpX:function(t){return new aX(t,!0)},curveBumpY:function(t){return new aX(t,!1)},curveLinearClosed:function(t){return new lX(t)},curveLinear:uX,curveMonotoneX:function(t){return new AX(t)},curveMonotoneY:function(t){return new gX(t)},curveNatural:function(t){return new mX(t)},curveStep:function(t){return new bX(t,.5)},curveStepAfter:function(t){return new bX(t,1)},curveStepBefore:function(t){return new bX(t,0)}},IX=function(t){return t.x===+t.x&&t.y===+t.y},RX=function(t){return t.x},LX=function(t){return t.y},kX=function(t){var e,n=t.type,r=void 0===n?"linear":n,i=t.points,o=void 0===i?[]:i,s=t.baseLine,a=t.layout,l=t.connectNulls,c=void 0!==l&&l,u=function(t,e){if(TB()(t))return t;var n="curve".concat(gD()(t));return"curveMonotone"!==n&&"curveBump"!==n||!e?OX[n]||uX:OX["".concat(n).concat("vertical"===e?"Y":"X")]}(r,a),h=c?o.filter((function(t){return IX(t)})):o;if(Array.isArray(s)){var f=c?s.filter((function(t){return IX(t)})):s,d=h.map((function(t,e){return MX(MX({},t),{},{base:f[e]})}));return(e="vertical"===a?EX().y(LX).x1(RX).x0((function(t){return t.base.x})):EX().x(RX).y1(LX).y0((function(t){return t.base.y}))).defined(IX).curve(u),e(d)}return(e="vertical"===a&&yB(s)?EX().y(LX).x1(RX).x0(s):yB(s)?EX().x(RX).y1(LX).y0(s):xX().x(RX).y(LX)).defined(IX).curve(u),e(h)},BX=function(t){var e=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?kX(t):i;return r.createElement("path",CX({},$B(t,!1),FB(t),{className:rB("recharts-curve",e),d:s,ref:o}))};function NX(t){return NX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NX(t)}var DX=["x","y","top","left","width","height","className"];function FX(){return FX=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FX.apply(this,arguments)}function jX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function UX(t,e,n){return e=function(t){var e=function(t,e){if("object"!=NX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=NX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==NX(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zX(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var GX=function(t,e,n,r,i,o){return"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n)},VX=function(t){var e=t.x,n=void 0===e?0:e,i=t.y,o=void 0===i?0:i,s=t.top,a=void 0===s?0:s,l=t.left,c=void 0===l?0:l,u=t.width,h=void 0===u?0:u,f=t.height,d=void 0===f?0:f,p=t.className,A=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jX(Object(n),!0).forEach((function(e){UX(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({x:n,y:o,top:a,left:c,width:h,height:d},zX(t,DX));return yB(n)&&yB(o)&&yB(h)&&yB(d)&&yB(a)&&yB(c)?r.createElement("path",FX({},$B(A,!0),{className:rB("recharts-cross",p),d:GX(n,o,h,d,a,c)})):null};function HX(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle;return{points:[eH(e,n,r,i),eH(e,n,r,o)],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function WX(t,e,n){var r,i,o,s;if("horizontal"===t)o=r=e.x,i=n.top,s=n.top+n.height;else if("vertical"===t)s=i=e.y,r=n.left,o=n.left+n.width;else if(null!=e.cx&&null!=e.cy){if("centric"!==t)return HX(e);var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,h=e.angle,f=eH(a,l,c,h),d=eH(a,l,u,h);r=f.x,i=f.y,o=d.x,s=d.y}return[{x:r,y:i},{x:o,y:s}]}function qX(t){return qX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qX(t)}function XX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function YX(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?XX(Object(n),!0).forEach((function(e){QX(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XX(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function QX(t,e,n){return e=function(t){var e=function(t,e){if("object"!=qX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qX(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e,n=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,f=t.chartName;if(!n||!n.props.cursor||!o||!s||"ScatterChart"!==f&&"axis"!==i)return null;var d=BX;if("ScatterChart"===f)e=s,d=VX;else if("BarChart"===f)e=function(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===t?e.x-i:n.left+.5,y:"horizontal"===t?n.top+.5:e.y-i,width:"horizontal"===t?r:n.width-1,height:"horizontal"===t?n.height-1:r}}(h,s,l,u),d=bz;else if("radial"===h){var p=HX(s),A=p.cx,g=p.cy,y=p.radius;e={cx:A,cy:g,startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:y,outerRadius:y},d=cW}else e={points:WX(h,s,l)},d=BX;var m=YX(YX(YX(YX({stroke:"#ccc",pointerEvents:"none"},l),e),$B(n.props.cursor,!1)),{},{payload:a,payloadIndex:c,className:rB("recharts-tooltip-cursor",n.props.cursor.className)});return(0,r.isValidElement)(n.props.cursor)?(0,r.cloneElement)(n.props.cursor,m):(0,r.createElement)(d,m)}var JX=["item"],ZX=["children","className","width","height","style","compact","title","desc"];function $X(t){return $X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$X(t)}function tY(){return tY=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tY.apply(this,arguments)}function eY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||uY(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nY(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AY(r.key),r)}}function iY(t,e,n){return e=sY(e),function(t,e){if(e&&("object"===$X(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return aY(t)}(t,oY()?Reflect.construct(e,n||[],sY(t).constructor):e.apply(t,n))}function oY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oY=function(){return!!t})()}function sY(t){return sY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sY(t)}function aY(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lY(t,e){return lY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lY(t,e)}function cY(t){return function(t){if(Array.isArray(t))return hY(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||uY(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uY(t,e){if(t){if("string"===typeof t)return hY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hY(t,e):void 0}}function hY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dY(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fY(Object(n),!0).forEach((function(e){pY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pY(t,e,n){return(e=AY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AY(t){var e=function(t,e){if("object"!=$X(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$X(e)?e:String(e)}var gY={xAxis:["bottom","top"],yAxis:["left","right"]},yY={width:"100%",height:"100%"},mY={x:0,y:0};function vY(t){return t}var bY=function(t,e){var n=e.graphicalItems,r=e.dataStartIndex,i=e.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(t,e){var n=e.props.data;return n&&n.length?[].concat(cY(t),cY(n)):t}),[]);return o.length>0?o:t&&t.length&&yB(r)&&yB(i)?t.slice(r,i+1):[]};function _Y(t){return"number"===t?[0,"auto"]:void 0}var wY=function(t,e,n,r){var i=t.graphicalItems,o=t.tooltipAxis,s=bY(e,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce((function(i,a){var l,c,u=null!==(l=a.props.data)&&void 0!==l?l:e;(u&&t.dataStartIndex+t.dataEndIndex!==0&&(u=u.slice(t.dataStartIndex,t.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=EB(void 0===u?s:u,o.dataKey,r):c=u&&u[n]||s[n];return c?[].concat(cY(i),[TV(a,c)]):i}),[])},xY=function(t,e,n,r){var i=r||{x:t.chartX,y:t.chartY},o=function(t,e){return"horizontal"===e?t.x:"vertical"===e?t.y:"centric"===e?t.angle:t.radius}(i,n),s=t.orderedTooltipTicks,a=t.tooltipAxis,l=t.tooltipTicks,c=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=null!==(e=null===n||void 0===n?void 0:n.length)&&void 0!==e?e:0;if(s<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var a=i.range,l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,h=l>=s-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(AB(u-c)!==AB(h-u)){var d=[];if(AB(h-u)===AB(a[1]-a[0])){f=h;var p=u+a[1]-a[0];d[0]=Math.min(p,(p+c)/2),d[1]=Math.max(p,(p+c)/2)}else{f=c;var A=h+a[1]-a[0];d[0]=Math.min(u,(A+u)/2),d[1]=Math.max(u,(A+u)/2)}var g=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>g[0]&&t<=g[1]||t>=d[0]&&t<=d[1]){o=r[l].index;break}}else{var y=Math.min(c,h),m=Math.max(c,h);if(t>(y+u)/2&&t<=(m+u)/2){o=r[l].index;break}}}else for(var v=0;v<s;v++)if(0===v&&t<=(n[v].coordinate+n[v+1].coordinate)/2||v>0&&v<s-1&&t>(n[v].coordinate+n[v-1].coordinate)/2&&t<=(n[v].coordinate+n[v+1].coordinate)/2||v===s-1&&t>(n[v].coordinate+n[v-1].coordinate)/2){o=n[v].index;break}return o}(o,s,l,a);if(c>=0&&l){var u=l[c]&&l[c].value,h=wY(t,e,c,u),f=function(t,e,n,r){var i=e.find((function(t){return t&&t.index===n}));if(i){if("horizontal"===t)return{x:i.coordinate,y:r.y};if("vertical"===t)return{x:r.x,y:i.coordinate};if("centric"===t){var o=i.coordinate,s=r.radius;return dY(dY(dY({},r),eH(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,l=r.angle;return dY(dY(dY({},r),eH(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return mY}(n,s,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:h,activeCoordinate:f}}return null},EY=function(t,e){var n=e.axes,r=e.graphicalItems,i=e.axisType,o=e.axisIdKey,s=e.stackGroups,a=e.dataStartIndex,l=e.dataEndIndex,c=t.layout,u=t.children,h=t.stackOffset,f=pV(c,i);return n.reduce((function(e,n){var d,p=n.props,A=p.type,g=p.dataKey,y=p.allowDataOverflow,m=p.allowDuplicatedCategory,v=p.scale,b=p.ticks,_=p.includeHidden,w=n.props[o];if(e[w])return e;var x,E,S,C=bY(t.data,{graphicalItems:r.filter((function(t){return t.props[o]===w})),dataStartIndex:a,dataEndIndex:l}),P=C.length;(function(t,e,n){if("number"===n&&!0===e&&Array.isArray(t)){var r=null===t||void 0===t?void 0:t[0],i=null===t||void 0===t?void 0:t[1];if(r&&i&&yB(r)&&yB(i))return!0}return!1})(n.props.domain,y,A)&&(x=CV(n.props.domain,null,y),!f||"number"!==A&&"auto"===v||(S=uV(C,g,"category")));var M=_Y(A);if(!x||0===x.length){var T,O=null!==(T=n.props.domain)&&void 0!==T?T:M;if(g){if(x=uV(C,g,A),"category"===A&&f){var I=function(t){if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++){if(n[t[r]])return!0;n[t[r]]=!0}return!1}(x);m&&I?(E=x,x=fN()(0,P)):m||(x=MV(O,x,n).reduce((function(t,e){return t.indexOf(e)>=0?t:[].concat(cY(t),[e])}),[]))}else if("category"===A)x=m?x.filter((function(t){return""!==t&&!PB()(t)})):MV(O,x,n).reduce((function(t,e){return t.indexOf(e)>=0||""===e||PB()(e)?t:[].concat(cY(t),[e])}),[]);else if("number"===A){var R=function(t,e,n,r,i){var o=e.map((function(e){return fV(t,e,n,i,r)})).filter((function(t){return!PB()(t)}));return o&&o.length?o.reduce((function(t,e){return[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}),[1/0,-1/0]):null}(C,r.filter((function(t){return t.props[o]===w&&(_||!t.props.hide)})),g,i,c);R&&(x=R)}!f||"number"!==A&&"auto"===v||(S=uV(C,g,"category"))}else x=f?fN()(0,P):s&&s[w]&&s[w].hasStack&&"number"===A?"expand"===h?[0,1]:xV(s[w].stackGroups,a,l):dV(C,r.filter((function(t){return t.props[o]===w&&(_||!t.props.hide)})),A,c,!0);if("number"===A)x=Xq(u,x,w,i,b),O&&(x=CV(O,x,y));else if("category"===A&&O){var L=O;x.every((function(t){return L.indexOf(t)>=0}))&&(x=L)}}return dY(dY({},e),{},pY({},w,dY(dY({},n.props),{},{axisType:i,domain:x,categoricalDomain:S,duplicateDomain:E,originalDomain:null!==(d=n.props.domain)&&void 0!==d?d:M,isCategorical:f,layout:c})))}),{})},SY=function(t,e){var n=e.axisType,r=void 0===n?"xAxis":n,i=e.AxisComp,o=e.graphicalItems,s=e.stackGroups,a=e.dataStartIndex,l=e.dataEndIndex,c=t.children,u="".concat(r,"Id"),h=YB(c,i),f={};return h&&h.length?f=EY(t,{axes:h,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:s,dataStartIndex:a,dataEndIndex:l}):o&&o.length&&(f=function(t,e){var n=e.graphicalItems,r=e.Axis,i=e.axisType,o=e.axisIdKey,s=e.stackGroups,a=e.dataStartIndex,l=e.dataEndIndex,c=t.layout,u=t.children,h=bY(t.data,{graphicalItems:n,dataStartIndex:a,dataEndIndex:l}),f=h.length,d=pV(c,i),p=-1;return n.reduce((function(t,e){var A,g=e.props[o],y=_Y("number");return t[g]?t:(p++,d?A=fN()(0,f):s&&s[g]&&s[g].hasStack?(A=xV(s[g].stackGroups,a,l),A=Xq(u,A,g,i)):(A=CV(y,dV(h,n.filter((function(t){return t.props[o]===g&&!t.props.hide})),"number",c),r.defaultProps.allowDataOverflow),A=Xq(u,A,g,i)),dY(dY({},t),{},pY({},g,dY(dY({axisType:i},r.defaultProps),{},{hide:!0,orientation:fB()(gY,"".concat(i,".").concat(p%2),null),domain:A,originalDomain:y,isCategorical:d,layout:c}))))}),{})}(t,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:s,dataStartIndex:a,dataEndIndex:l})),f},CY=function(t){var e=t.children,n=t.defaultShowTooltip,r=QB(e,YV),i=0,o=0;return t.data&&0!==t.data.length&&(o=t.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},PY=function(t){return"horizontal"===t?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===t?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===t?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},MY=function(t,e){var n=t.props,r=(t.graphicalItems,t.xAxisMap),i=void 0===r?{}:r,o=t.yAxisMap,s=void 0===o?{}:o,a=n.width,l=n.height,c=n.children,u=n.margin||{},h=QB(c,YV),f=QB(c,HF),d=Object.keys(s).reduce((function(t,e){var n=s[e],r=n.orientation;return n.mirror||n.hide?t:dY(dY({},t),{},pY({},r,t[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(t,e){var n=i[e],r=n.orientation;return n.mirror||n.hide?t:dY(dY({},t),{},pY({},r,fB()(t,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),A=dY(dY({},p),d),g=A.bottom;h&&(A.bottom+=h.props.height||YV.defaultProps.height),f&&e&&(A=function(t,e,n,r){var i=n.children,o=n.width,s=n.margin,a=o-(s.left||0)-(s.right||0),l=nV({children:i,legendWidth:a});if(l){var c=r||{},u=c.width,h=c.height,f=l.align,d=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===d)&&"center"!==f&&yB(t[f]))return oV(oV({},t),{},sV({},f,t[f]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===f)&&"middle"!==d&&yB(t[d]))return oV(oV({},t),{},sV({},d,t[d]+(h||0)))}return t}(A,0,n,e));var y=a-A.left-A.right,m=l-A.top-A.bottom;return dY(dY({brushBottom:g},A),{},{width:Math.max(y,0),height:Math.max(m,0)})},TY=function(t,e){return"xAxis"===e?t[e].width:"yAxis"===e?t[e].height:void 0};function OY(t,e,n){if(e<1)return[];if(1===e&&void 0===n)return t;for(var r=[],i=0;i<t.length;i+=e){if(void 0!==n&&!0!==n(t[i]))return;r.push(t[i])}return r}function IY(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function RY(t){return RY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RY(t)}function LY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kY(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LY(Object(n),!0).forEach((function(e){BY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function BY(t,e,n){return e=function(t){var e=function(t,e){if("object"!=RY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=RY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==RY(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NY(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(yB(l)||$N.isSsr)return function(t,e){return OY(t,e+1)}(i,"number"===typeof l&&yB(l)?l:0);var f=[],d="top"===a||"bottom"===a?"width":"height",p=u&&"width"===d?Mz(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(t,r){var i=TB()(c)?c(t.value,r):t.value;return"width"===d?function(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return sq(r,n)}(Mz(i,{fontSize:e,letterSpacing:n}),p,h):Mz(i,{fontSize:e,letterSpacing:n})[d]},g=i.length>=2?AB(i[1].coordinate-i[0].coordinate):1,y=function(t,e,n){var r="width"===n,i=t.x,o=t.y,s=t.width,a=t.height;return 1===e?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}(o,g,d);return"equidistantPreserveStart"===l?function(t,e,n,r,i){for(var o,s=(r||[]).slice(),a=e.start,l=e.end,c=0,u=1,h=a,f=function(){var e=null===r||void 0===r?void 0:r[c];if(void 0===e)return{v:OY(r,u)};var o,s=c,f=function(){return void 0===o&&(o=n(e,s)),o},d=e.coordinate,p=0===c||IY(t,d,f,h,l);p||(c=0,h=a,u+=1),p&&(h=d+t*(f()/2+i),c+=u)};u<=s.length;)if(o=f())return o.v;return[]}(g,y,A,i,s):(f="preserveStart"===l||"preserveStartEnd"===l?function(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var u=r[a-1],h=n(u,a-1),f=t*(u.coordinate+t*h/2-c);s[a-1]=u=kY(kY({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate}),IY(t,u.tickCoord,(function(){return h}),l,c)&&(c=u.tickCoord-t*(h/2+i),s[a-1]=kY(kY({},u),{},{isShow:!0}))}for(var d=o?a-1:a,p=function(e){var r,o=s[e],a=function(){return void 0===r&&(r=n(o,e)),r};if(0===e){var u=t*(o.coordinate-t*a()/2-l);s[e]=o=kY(kY({},o),{},{tickCoord:u<0?o.coordinate-u*t:o.coordinate})}else s[e]=o=kY(kY({},o),{},{tickCoord:o.coordinate});IY(t,o.tickCoord,a,l,c)&&(l=o.tickCoord+t*(a()/2+i),s[e]=kY(kY({},o),{},{isShow:!0}))},A=0;A<d;A++)p(A);return s}(g,y,A,i,s,"preserveStartEnd"===l):function(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(e){var r,c=o[e],u=function(){return void 0===r&&(r=n(c,e)),r};if(e===s-1){var h=t*(c.coordinate+t*u()/2-l);o[e]=c=kY(kY({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate})}else o[e]=c=kY(kY({},c),{},{tickCoord:c.coordinate});IY(t,c.tickCoord,u,a,l)&&(l=c.tickCoord-t*(u()/2+i),o[e]=kY(kY({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return o}(g,y,A,i,s),f.filter((function(t){return t.isShow})))}var DY=["viewBox"],FY=["viewBox"],jY=["ticks"];function UY(t){return UY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UY(t)}function zY(){return zY=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zY.apply(this,arguments)}function GY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function VY(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GY(Object(n),!0).forEach((function(e){KY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function HY(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JY(r.key),r)}}function qY(t,e,n){return e=YY(e),function(t,e){if(e&&("object"===UY(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,XY()?Reflect.construct(e,n||[],YY(t).constructor):e.apply(t,n))}function XY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(XY=function(){return!!t})()}function YY(t){return YY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},YY(t)}function QY(t,e){return QY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},QY(t,e)}function KY(t,e,n){return(e=JY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JY(t){var e=function(t,e){if("object"!=UY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=UY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==UY(e)?e:String(e)}var ZY=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=qY(this,e,[t])).state={fontSize:"",letterSpacing:""},n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QY(t,e)}(e,t),n=e,i=[{key:"shouldComponentUpdate",value:function(t,e){var n=t.viewBox,r=HY(t,DY),i=this.props,o=i.viewBox,s=HY(i,FY);return!RB(n,o)||!RB(r,s)||!RB(e,this.state)}},{key:"componentDidMount",value:function(){var t=this.layerReference;if(t){var e=t.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];e&&this.setState({fontSize:window.getComputedStyle(e).fontSize,letterSpacing:window.getComputedStyle(e).letterSpacing})}}},{key:"getTickLineCoord",value:function(t){var e,n,r,i,o,s,a=this.props,l=a.x,c=a.y,u=a.width,h=a.height,f=a.orientation,d=a.tickSize,p=a.mirror,A=a.tickMargin,g=p?-1:1,y=t.tickSize||d,m=yB(t.tickCoord)?t.tickCoord:t.coordinate;switch(f){case"top":e=n=t.coordinate,s=(r=(i=c+ +!p*h)-g*y)-g*A,o=m;break;case"left":r=i=t.coordinate,o=(e=(n=l+ +!p*u)-g*y)-g*A,s=m;break;case"right":r=i=t.coordinate,o=(e=(n=l+ +p*u)+g*y)+g*A,s=m;break;default:e=n=t.coordinate,s=(r=(i=c+ +p*h)+g*y)+g*A,o=m}return{line:{x1:e,y1:r,x2:n,y2:i},tick:{x:o,y:s}}}},{key:"getTickTextAnchor",value:function(){var t,e=this.props,n=e.orientation,r=e.mirror;switch(n){case"left":t=r?"start":"end";break;case"right":t=r?"end":"start";break;default:t="middle"}return t}},{key:"getTickVerticalAnchor",value:function(){var t=this.props,e=t.orientation,n=t.mirror,r="end";switch(e){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var t=this.props,e=t.x,n=t.y,i=t.width,o=t.height,s=t.orientation,a=t.mirror,l=t.axisLine,c=VY(VY(VY({},$B(this.props,!1)),$B(l,!1)),{},{fill:"none"});if("top"===s||"bottom"===s){var u=+("top"===s&&!a||"bottom"===s&&a);c=VY(VY({},c),{},{x1:e,y1:n+u*o,x2:e+i,y2:n+u*o})}else{var h=+("left"===s&&!a||"right"===s&&a);c=VY(VY({},c),{},{x1:e+h*i,y1:n,x2:e+h*i,y2:n+o})}return r.createElement("line",zY({},c,{className:rB("recharts-cartesian-axis-line",fB()(l,"className"))}))}},{key:"renderTicks",value:function(t,n,i){var o=this,s=this.props,a=s.tickLine,l=s.stroke,c=s.tick,u=s.tickFormatter,h=s.unit,f=NY(VY(VY({},this.props),{},{ticks:t}),n,i),d=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),A=$B(this.props,!1),g=$B(c,!1),y=VY(VY({},A),{},{fill:"none"},$B(a,!1)),m=f.map((function(t,n){var i=o.getTickLineCoord(t),s=i.line,m=i.tick,v=VY(VY(VY(VY({textAnchor:d,verticalAnchor:p},A),{},{stroke:"none",fill:l},g),m),{},{index:n,payload:t,visibleTicksCount:f.length,tickFormatter:u});return r.createElement(SN,zY({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},jB(o.props,t,n)),a&&r.createElement("line",zY({},y,s,{className:rB("recharts-cartesian-axis-tick-line",fB()(a,"className"))})),c&&e.renderTickItem(c,v,"".concat(TB()(u)?u(t.value,n):t.value).concat(h||"")))}));return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},m)}},{key:"render",value:function(){var t=this,e=this.props,n=e.axisLine,i=e.width,o=e.height,s=e.ticksGenerator,a=e.className;if(e.hide)return null;var l=this.props,c=l.ticks,u=HY(l,jY),h=c;return TB()(s)&&(h=c&&c.length>0?s(this.props):s(u)),i<=0||o<=0||!h||!h.length?null:r.createElement(SN,{className:rB("recharts-cartesian-axis",a),ref:function(e){t.layerReference=e}},n&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),vH.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(t,e,n){return r.isValidElement(t)?r.cloneElement(t,e):TB()(t)?t(e):r.createElement(rG,zY({},e,{className:"recharts-cartesian-axis-tick-value"}),n)}}],i&&WY(n.prototype,i),o&&WY(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component);function $Y(){return $Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$Y.apply(this,arguments)}KY(ZY,"displayName","CartesianAxis"),KY(ZY,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tQ=function(t){var e=t.xAxisId,n=Tq(),i=Oq(),o=Pq(e);return null==o?null:r.createElement(ZY,$Y({},o,{className:rB("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(t){return gV(t,!0)}}))};function eQ(){return eQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eQ.apply(this,arguments)}tQ.displayName="XAxis",tQ.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var nQ=function(t){var e=t.yAxisId,n=Tq(),i=Oq(),o=Mq(e);return null==o?null:r.createElement(ZY,eQ({},o,{className:rB("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(t){return gV(t,!0)}}))};nQ.displayName="YAxis",nQ.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var rQ=function(t){var e,n=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,s=void 0===o?"axis":o,a=t.validateTooltipEventTypes,l=void 0===a?["axis"]:a,c=t.axisComponents,u=t.legendContent,h=t.formatAxisMap,f=t.defaultProps,d=function(t,e){var n=e.graphicalItems,r=e.stackGroups,i=e.offset,o=e.updateId,s=e.dataStartIndex,a=e.dataEndIndex,l=t.barSize,u=t.layout,h=t.barGap,f=t.barCategoryGap,d=t.maxBarSize,p=PY(u),A=p.numericAxisName,g=p.cateAxisName,y=function(t){return!(!t||!t.length)&&t.some((function(t){var e=HB(t&&t.type);return e&&e.indexOf("Bar")>=0}))}(n),m=[];return n.forEach((function(n,p){var v=bY(t.data,{graphicalItems:[n],dataStartIndex:s,dataEndIndex:a}),b=n.props,_=b.dataKey,w=b.maxBarSize,x=n.props["".concat(A,"Id")],E=n.props["".concat(g,"Id")],S=c.reduce((function(t,r){var i=e["".concat(r.axisType,"Map")],o=n.props["".concat(r.axisType,"Id")];i&&i[o]||"zAxis"===r.axisType||yN(!1);var s=i[o];return dY(dY({},t),{},pY(pY({},r.axisType,s),"".concat(r.axisType,"Ticks"),gV(s)))}),{}),C=S[g],P=S["".concat(g,"Ticks")],M=r&&r[x]&&r[x].hasStack&&function(t,e){var n=t.props.stackId;if(mB(n)){var r=e[n];if(r){var i=r.items.indexOf(t);return i>=0?r.stackedData[i]:null}}return null}(n,r[x].stackGroups),T=HB(n.type).indexOf("Bar")>=0,O=PV(C,P),I=[],R=y&&function(t){var e=t.barSize,n=t.totalSize,r=t.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),a=0,l=s.length;a<l;a++)for(var c=i[s[a]].stackGroups,u=Object.keys(c),h=0,f=u.length;h<f;h++){var d=c[u[h]],p=d.items,A=d.cateAxisId,g=p.filter((function(t){return HB(t.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].props.barSize,m=g[0].props[A];o[m]||(o[m]=[]);var v=PB()(y)?e:y;o[m].push({item:g[0],stackList:g.slice(1),barSize:PB()(v)?void 0:_B(v,n,0)})}}return o}({barSize:l,stackGroups:r,totalSize:TY(S,g)});if(T){var L,k,B=PB()(w)?d:w,N=null!==(L=null!==(k=PV(C,P,!0))&&void 0!==k?k:B)&&void 0!==L?L:0;I=function(t){var e=t.barGap,n=t.barCategoryGap,r=t.bandSize,i=t.sizeList,o=void 0===i?[]:i,s=t.maxBarSize,a=o.length;if(a<1)return null;var l,c=_B(e,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=r/a,d=o.reduce((function(t,e){return t+e.barSize||0}),0);(d+=(a-1)*c)>=r&&(d-=(a-1)*c,c=0),d>=r&&f>0&&(h=!0,d=a*(f*=.9));var p={offset:((r-d)/2|0)-c,size:0};l=o.reduce((function(t,e){var n={item:e.item,position:{offset:p.offset+p.size+c,size:h?f:e.barSize}},r=[].concat(aV(t),[n]);return p=r[r.length-1].position,e.stackList&&e.stackList.length&&e.stackList.forEach((function(t){r.push({item:t,position:p})})),r}),u)}else{var A=_B(n,r,0,!0);r-2*A-(a-1)*c<=0&&(c=0);var g=(r-2*A-(a-1)*c)/a;g>1&&(g>>=0);var y=s===+s?Math.min(g,s):g;l=o.reduce((function(t,e,n){var r=[].concat(aV(t),[{item:e.item,position:{offset:A+(g+c)*n+(g-y)/2,size:y}}]);return e.stackList&&e.stackList.length&&e.stackList.forEach((function(t){r.push({item:t,position:r[r.length-1].position})})),r}),u)}return l}({barGap:h,barCategoryGap:f,bandSize:N!==O?N:O,sizeList:R[E],maxBarSize:B}),N!==O&&(I=I.map((function(t){return dY(dY({},t),{},{position:dY(dY({},t.position),{},{offset:t.position.offset-N/2})})})))}var D=n&&n.type&&n.type.getComposedData;D&&m.push({props:dY(dY({},D(dY(dY({},S),{},{displayedData:v,props:t,dataKey:_,item:n,bandSize:O,barPosition:I,offset:i,stackedData:M,layout:u,dataStartIndex:s,dataEndIndex:a}))),{},pY(pY(pY({key:n.key||"item-".concat(p)},A,S[A]),g,S[g]),"animationId",o)),childIndex:rN(n,t.children),item:n})})),m},p=function(t,e){var r=t.props,o=t.dataStartIndex,s=t.dataEndIndex,a=t.updateId;if(!KB({props:r}))return null;var l=r.children,u=r.layout,f=r.stackOffset,p=r.data,A=r.reverseStackOrder,g=PY(u),y=g.numericAxisName,m=g.cateAxisName,v=YB(l,i),b=function(t,e,n,r,i,o){if(!t)return null;var s=(o?e.reverse():e).reduce((function(t,e){var i=e.props,o=i.stackId;if(i.hide)return t;var s=e.props[n],a=t[s]||{hasStack:!1,stackGroups:{}};if(mB(o)){var l=a.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};l.items.push(e),a.hasStack=!0,a.stackGroups[o]=l}else a.stackGroups[bB("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[e]};return oV(oV({},t),{},sV({},s,a))}),{});return Object.keys(s).reduce((function(e,o){var a=s[o];return a.hasStack&&(a.stackGroups=Object.keys(a.stackGroups).reduce((function(e,o){var s=a.stackGroups[o];return oV(oV({},e),{},sV({},o,{numericAxisId:n,cateAxisId:r,items:s.items,stackedData:_V(t,s.items,i)}))}),{})),oV(oV({},e),{},sV({},o,a))}),{})}(p,v,"".concat(y,"Id"),"".concat(m,"Id"),f,A),_=c.reduce((function(t,e){var n="".concat(e.axisType,"Map");return dY(dY({},t),{},pY({},n,SY(r,dY(dY({},e),{},{graphicalItems:v,stackGroups:e.axisType===y&&b,dataStartIndex:o,dataEndIndex:s}))))}),{}),w=MY(dY(dY({},_),{},{props:r,graphicalItems:v}),null===e||void 0===e?void 0:e.legendBBox);Object.keys(_).forEach((function(t){_[t]=h(r,_[t],w,t.replace("Map",""),n)}));var x=function(t){var e=wB(t),n=gV(e,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:pN()(n,(function(t){return t.coordinate})),tooltipAxis:e,tooltipAxisBandSize:PV(e,n)}}(_["".concat(m,"Map")]),E=d(r,dY(dY({},_),{},{dataStartIndex:o,dataEndIndex:s,updateId:a,graphicalItems:v,stackGroups:b,offset:w}));return dY(dY({formattedGraphicalItems:E,graphicalItems:v,offset:w,stackGroups:b},x),_)};return e=function(t){function e(t){var i,o,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),pY(aY(s=iY(this,e,[t])),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pY(aY(s),"accessibilityManager",new eX),pY(aY(s),"handleLegendBBoxUpdate",(function(t){if(t){var e=s.state,n=e.dataStartIndex,r=e.dataEndIndex,i=e.updateId;s.setState(dY({legendBBox:t},p({props:s.props,dataStartIndex:n,dataEndIndex:r,updateId:i},dY(dY({},s.state),{},{legendBBox:t}))))}})),pY(aY(s),"handleReceiveSyncEvent",(function(t,e,n){if(s.props.syncId===t){if(n===s.eventEmitterSymbol&&"function"!==typeof s.props.syncMethod)return;s.applySyncEvent(e)}})),pY(aY(s),"handleBrushChange",(function(t){var e=t.startIndex,n=t.endIndex;if(e!==s.state.dataStartIndex||n!==s.state.dataEndIndex){var r=s.state.updateId;s.setState((function(){return dY({dataStartIndex:e,dataEndIndex:n},p({props:s.props,dataStartIndex:e,dataEndIndex:n,updateId:r},s.state))})),s.triggerSyncEvent({dataStartIndex:e,dataEndIndex:n})}})),pY(aY(s),"handleMouseEnter",(function(t){var e=s.getMouseInfo(t);if(e){var n=dY(dY({},e),{},{isTooltipActive:!0});s.setState(n),s.triggerSyncEvent(n);var r=s.props.onMouseEnter;TB()(r)&&r(n,t)}})),pY(aY(s),"triggeredAfterMouseMove",(function(t){var e=s.getMouseInfo(t),n=e?dY(dY({},e),{},{isTooltipActive:!0}):{isTooltipActive:!1};s.setState(n),s.triggerSyncEvent(n);var r=s.props.onMouseMove;TB()(r)&&r(n,t)})),pY(aY(s),"handleItemMouseEnter",(function(t){s.setState((function(){return{isTooltipActive:!0,activeItem:t,activePayload:t.tooltipPayload,activeCoordinate:t.tooltipPosition||{x:t.cx,y:t.cy}}}))})),pY(aY(s),"handleItemMouseLeave",(function(){s.setState((function(){return{isTooltipActive:!1}}))})),pY(aY(s),"handleMouseMove",(function(t){t.persist(),s.throttleTriggeredAfterMouseMove(t)})),pY(aY(s),"handleMouseLeave",(function(t){s.throttleTriggeredAfterMouseMove.cancel();var e={isTooltipActive:!1};s.setState(e),s.triggerSyncEvent(e);var n=s.props.onMouseLeave;TB()(n)&&n(e,t)})),pY(aY(s),"handleOuterEvent",(function(t){var e,n=function(t){var e=t&&t.type;return e&&VB[e]?VB[e]:null}(t),r=fB()(s.props,"".concat(n));n&&TB()(r)&&r(null!==(e=/.*touch.*/i.test(n)?s.getMouseInfo(t.changedTouches[0]):s.getMouseInfo(t))&&void 0!==e?e:{},t)})),pY(aY(s),"handleClick",(function(t){var e=s.getMouseInfo(t);if(e){var n=dY(dY({},e),{},{isTooltipActive:!0});s.setState(n),s.triggerSyncEvent(n);var r=s.props.onClick;TB()(r)&&r(n,t)}})),pY(aY(s),"handleMouseDown",(function(t){var e=s.props.onMouseDown;TB()(e)&&e(s.getMouseInfo(t),t)})),pY(aY(s),"handleMouseUp",(function(t){var e=s.props.onMouseUp;TB()(e)&&e(s.getMouseInfo(t),t)})),pY(aY(s),"handleTouchMove",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&s.throttleTriggeredAfterMouseMove(t.changedTouches[0])})),pY(aY(s),"handleTouchStart",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&s.handleMouseDown(t.changedTouches[0])})),pY(aY(s),"handleTouchEnd",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&s.handleMouseUp(t.changedTouches[0])})),pY(aY(s),"triggerSyncEvent",(function(t){void 0!==s.props.syncId&&Qq.emit(Kq,s.props.syncId,t,s.eventEmitterSymbol)})),pY(aY(s),"applySyncEvent",(function(t){var e=s.props,n=e.layout,r=e.syncMethod,i=s.state.updateId,o=t.dataStartIndex,a=t.dataEndIndex;if(void 0!==t.dataStartIndex||void 0!==t.dataEndIndex)s.setState(dY({dataStartIndex:o,dataEndIndex:a},p({props:s.props,dataStartIndex:o,dataEndIndex:a,updateId:i},s.state)));else if(void 0!==t.activeTooltipIndex){var l=t.chartX,c=t.chartY,u=t.activeTooltipIndex,h=s.state,f=h.offset,d=h.tooltipTicks;if(!f)return;if("function"===typeof r)u=r(d,t);else if("value"===r){u=-1;for(var A=0;A<d.length;A++)if(d[A].value===t.activeLabel){u=A;break}}var g=dY(dY({},f),{},{x:f.left,y:f.top}),y=Math.min(l,g.x+g.width),m=Math.min(c,g.y+g.height),v=d[u]&&d[u].value,b=wY(s.state,s.props.data,u),_=d[u]?{x:"horizontal"===n?d[u].coordinate:y,y:"horizontal"===n?m:d[u].coordinate}:mY;s.setState(dY(dY({},t),{},{activeLabel:v,activeCoordinate:_,activePayload:b,activeTooltipIndex:u}))}else s.setState(t)})),pY(aY(s),"renderCursor",(function(t){var e,i=s.state,o=i.isTooltipActive,a=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,h=i.tooltipAxisBandSize,f=s.getTooltipEventType(),d=null!==(e=t.props.active)&&void 0!==e?e:o,p=s.props.layout,A=t.key||"_recharts-cursor";return r.createElement(KX,{key:A,activeCoordinate:a,activePayload:l,activeTooltipIndex:u,chartName:n,element:t,isActive:d,layout:p,offset:c,tooltipAxisBandSize:h,tooltipEventType:f})})),pY(aY(s),"renderPolarAxis",(function(t,e,n){var i=fB()(t,"type.axisType"),o=fB()(s.state,"".concat(i,"Map")),a=o&&o[t.props["".concat(i,"Id")]];return(0,r.cloneElement)(t,dY(dY({},a),{},{className:rB(i,a.className),key:t.key||"".concat(e,"-").concat(n),ticks:gV(a,!0)}))})),pY(aY(s),"renderPolarGrid",(function(t){var e=t.props,n=e.radialLines,i=e.polarAngles,o=e.polarRadius,a=s.state,l=a.radiusAxisMap,c=a.angleAxisMap,u=wB(l),h=wB(c),f=h.cx,d=h.cy,p=h.innerRadius,A=h.outerRadius;return(0,r.cloneElement)(t,{polarAngles:Array.isArray(i)?i:gV(h,!0).map((function(t){return t.coordinate})),polarRadius:Array.isArray(o)?o:gV(u,!0).map((function(t){return t.coordinate})),cx:f,cy:d,innerRadius:p,outerRadius:A,key:t.key||"polar-grid",radialLines:n})})),pY(aY(s),"renderLegend",(function(){var t=s.state.formattedGraphicalItems,e=s.props,n=e.children,i=e.width,o=e.height,a=s.props.margin||{},l=i-(a.left||0)-(a.right||0),c=nV({children:n,formattedGraphicalItems:t,legendWidth:l,legendContent:u});if(!c)return null;var h=c.item,f=nY(c,JX);return(0,r.cloneElement)(h,dY(dY({},f),{},{chartWidth:i,chartHeight:o,margin:a,onBBoxUpdate:s.handleLegendBBoxUpdate}))})),pY(aY(s),"renderTooltip",(function(){var t,e=s.props,n=e.children,i=e.accessibilityLayer,o=QB(n,pD);if(!o)return null;var a=s.state,l=a.isTooltipActive,c=a.activeCoordinate,u=a.activePayload,h=a.activeLabel,f=a.offset,d=null!==(t=o.props.active)&&void 0!==t?t:l;return(0,r.cloneElement)(o,{viewBox:dY(dY({},f),{},{x:f.left,y:f.top}),active:d,label:h,payload:d?u:[],coordinate:c,accessibilityLayer:i})})),pY(aY(s),"renderBrush",(function(t){var e=s.props,n=e.margin,i=e.data,o=s.state,a=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,r.cloneElement)(t,{key:t.key||"_recharts-brush",onChange:mV(s.handleBrushChange,t.props.onChange),data:i,x:yB(t.props.x)?t.props.x:a.left,y:yB(t.props.y)?t.props.y:a.top+a.height+a.brushBottom-(n.bottom||0),width:yB(t.props.width)?t.props.width:a.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),pY(aY(s),"renderReferenceElement",(function(t,e,n){if(!t)return null;var i=aY(s).clipPathId,o=s.state,a=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=t.props,h=u.xAxisId,f=u.yAxisId;return(0,r.cloneElement)(t,{key:t.key||"".concat(e,"-").concat(n),xAxis:a[h],yAxis:l[f],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})})),pY(aY(s),"renderActivePoints",(function(t){var n=t.item,r=t.activePoint,i=t.basePoint,o=t.childIndex,s=t.isRange,a=[],l=n.props.key,c=n.item.props,u=c.activeDot,h=dY(dY({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:hV(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value,key:"".concat(l,"-activePoint-").concat(o)},$B(u,!1)),FB(u));return a.push(e.renderActiveDot(u,h)),i?a.push(e.renderActiveDot(u,dY(dY({},h),{},{cx:i.x,cy:i.y,key:"".concat(l,"-basePoint-").concat(o)}))):s&&a.push(null),a})),pY(aY(s),"renderGraphicChild",(function(t,e,n){var i=s.filterFormatItem(t,e,n);if(!i)return null;var o=s.getTooltipEventType(),a=s.state,l=a.isTooltipActive,c=a.tooltipAxis,u=a.activeTooltipIndex,h=a.activeLabel,f=QB(s.props.children,pD),d=i.props,p=d.points,A=d.isRange,g=d.baseLine,y=i.item.props,m=y.activeDot,v=y.hide,b=y.activeBar,_=y.activeShape,w=Boolean(!v&&l&&f&&(m||b||_)),x={};"axis"!==o&&f&&"click"===f.props.trigger?x={onClick:mV(s.handleItemMouseEnter,t.props.onClick)}:"axis"!==o&&(x={onMouseLeave:mV(s.handleItemMouseLeave,t.props.onMouseLeave),onMouseEnter:mV(s.handleItemMouseEnter,t.props.onMouseEnter)});var E=(0,r.cloneElement)(t,dY(dY({},i.props),x));if(w){if(!(u>=0)){var S,C=(null!==(S=s.getItemByXY(s.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:E}).graphicalItem,P=C.item,M=void 0===P?t:P,T=C.childIndex,O=dY(dY(dY({},i.props),x),{},{activeIndex:T});return[(0,r.cloneElement)(M,O),null,null]}var I,R;if(c.dataKey&&!c.allowDuplicatedCategory){var L="function"===typeof c.dataKey?function(t){return"function"===typeof c.dataKey?c.dataKey(t.payload):null}:"payload.".concat(c.dataKey.toString());I=EB(p,L,h),R=A&&g&&EB(g,L,h)}else I=null===p||void 0===p?void 0:p[u],R=A&&g&&g[u];if(_||b){var k=void 0!==t.props.activeIndex?t.props.activeIndex:u;return[(0,r.cloneElement)(t,dY(dY(dY({},i.props),x),{},{activeIndex:k})),null,null]}if(!PB()(I))return[E].concat(cY(s.renderActivePoints({item:i,activePoint:I,basePoint:R,childIndex:u,isRange:A})))}return A?[E,null,null]:[E,null]})),pY(aY(s),"renderCustomized",(function(t,e,n){return(0,r.cloneElement)(t,dY(dY({key:"recharts-customized-".concat(n)},s.props),s.state))})),pY(aY(s),"renderMap",{CartesianGrid:{handler:vY,once:!0},ReferenceArea:{handler:s.renderReferenceElement},ReferenceLine:{handler:vY},ReferenceDot:{handler:s.renderReferenceElement},XAxis:{handler:vY},YAxis:{handler:vY},Brush:{handler:s.renderBrush,once:!0},Bar:{handler:s.renderGraphicChild},Line:{handler:s.renderGraphicChild},Area:{handler:s.renderGraphicChild},Radar:{handler:s.renderGraphicChild},RadialBar:{handler:s.renderGraphicChild},Scatter:{handler:s.renderGraphicChild},Pie:{handler:s.renderGraphicChild},Funnel:{handler:s.renderGraphicChild},Tooltip:{handler:s.renderCursor,once:!0},PolarGrid:{handler:s.renderPolarGrid,once:!0},PolarAngleAxis:{handler:s.renderPolarAxis},PolarRadiusAxis:{handler:s.renderPolarAxis},Customized:{handler:s.renderCustomized}}),s.clipPathId="".concat(null!==(i=t.id)&&void 0!==i?i:bB("recharts"),"-clip"),s.throttleTriggeredAfterMouseMove=oB()(s.triggeredAfterMouseMove,null!==(o=t.throttleDelay)&&void 0!==o?o:1e3/60),s.state={},s}var i,o,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lY(t,e)}(e,t),i=e,o=[{key:"componentDidMount",value:function(){var t,e;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(t=this.props.margin.left)&&void 0!==t?t:0,top:null!==(e=this.props.margin.top)&&void 0!==e?e:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var t=this.props,e=t.children,n=t.data,r=t.height,i=t.layout,o=QB(e,pD);if(o){var s=o.props.defaultIndex;if(!("number"!==typeof s||s<0||s>this.state.tooltipTicks.length)){var a=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=wY(this.state,n,s,a),c=this.state.tooltipTicks[s].coordinate,u=(this.state.offset.top+r)/2,h="horizontal"===i?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find((function(t){return"Scatter"===t.item.type.name}));f&&(h=dY(dY({},h),f.props.points[s].tooltipPosition),l=f.props.points[s].tooltipPayload);var d={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:a,activePayload:l,activeCoordinate:h};this.setState(d),this.renderCursor(o),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(t,e){return this.props.accessibilityLayer?(this.state.tooltipTicks!==e.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==t.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==t.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(t){tN([QB(t.children,pD)],[QB(this.props.children,pD)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var t=QB(this.props.children,pD);if(t&&"boolean"===typeof t.props.shared){var e=t.props.shared?"axis":"item";return l.indexOf(e)>=0?e:s}return s}},{key:"getMouseInfo",value:function(t){if(!this.container)return null;var e,n=this.container,r=n.getBoundingClientRect(),i={top:(e=r).top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(t.pageX-i.left),chartY:Math.round(t.pageY-i.top)},s=r.width/n.offsetWidth||1,a=this.inRange(o.chartX,o.chartY,s);if(!a)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var h=wB(c).scale,f=wB(u).scale,d=h&&h.invert?h.invert(o.chartX):null,p=f&&f.invert?f.invert(o.chartY):null;return dY(dY({},o),{},{xValue:d,yValue:p})}var A=xY(this.state,this.props.data,this.props.layout,a);return A?dY(dY({},o),A):null}},{key:"inRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=t/n,o=e/n;if("horizontal"===r||"vertical"===r){var s=this.state.offset;return i>=s.left&&i<=s.left+s.width&&o>=s.top&&o<=s.top+s.height?{x:i,y:o}:null}var a=this.state,l=a.angleAxisMap,c=a.radiusAxisMap;if(l&&c){var u=wB(l);return iH({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var t=this.props.children,e=this.getTooltipEventType(),n=QB(t,pD),r={};return n&&"axis"===e&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),dY(dY({},FB(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Qq.on(Kq,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qq.removeListener(Kq,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(t,e,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var s=r[i];if(s.item===t||s.props.key===t.key||e===HB(s.item.type)&&n===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var t=this.clipPathId,e=this.state.offset,n=e.left,i=e.top,o=e.height,s=e.width;return r.createElement("defs",null,r.createElement("clipPath",{id:t},r.createElement("rect",{x:n,y:i,height:o,width:s})))}},{key:"getXScales",value:function(){var t=this.state.xAxisMap;return t?Object.entries(t).reduce((function(t,e){var n=eY(e,2),r=n[0],i=n[1];return dY(dY({},t),{},pY({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var t=this.state.yAxisMap;return t?Object.entries(t).reduce((function(t,e){var n=eY(e,2),r=n[0],i=n[1];return dY(dY({},t),{},pY({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(t){var e;return null===(e=this.state.xAxisMap)||void 0===e||null===(e=e[t])||void 0===e?void 0:e.scale}},{key:"getYScaleByAxisId",value:function(t){var e;return null===(e=this.state.yAxisMap)||void 0===e||null===(e=e[t])||void 0===e?void 0:e.scale}},{key:"getItemByXY",value:function(t){var e=this.state,n=e.formattedGraphicalItems,r=e.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var s=n[i],a=s.props,l=s.item,c=HB(l.type);if("Bar"===c){var u=(a.data||[]).find((function(e){return mz(t,e)}));if(u)return{graphicalItem:s,payload:u}}else if("RadialBar"===c){var h=(a.data||[]).find((function(e){return iH(t,e)}));if(h)return{graphicalItem:s,payload:h}}else if(vW(s,r)||bW(s,r)||_W(s,r)){var f=SW({graphicalItem:s,activeTooltipItem:r,itemData:l.props.data}),d=void 0===l.props.activeIndex?f:l.props.activeIndex;return{graphicalItem:dY(dY({},s),{},{childIndex:d}),payload:_W(s,r)?l.props.data[f]:s.props.data[f]}}}return null}},{key:"render",value:function(){var t=this;if(!KB(this))return null;var e,n,i=this.props,o=i.children,s=i.className,a=i.width,l=i.height,c=i.style,u=i.compact,h=i.title,f=i.desc,d=nY(i,ZX),p=$B(d,!1);if(u)return r.createElement(Cq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(_N,tY({},p,{width:a,height:l,title:h,desc:f}),this.renderClipPath(),nN(o,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(e=this.props.tabIndex)&&void 0!==e?e:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(e){t.accessibilityManager.keyboardEvent(e)},p.onFocus=function(){t.accessibilityManager.focus()});var A=this.parseEventsOfWrapper();return r.createElement(Cq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",tY({className:rB("recharts-wrapper",s),style:dY({position:"relative",cursor:"default",width:a,height:l},c)},A,{ref:function(e){t.container=e}}),r.createElement(_N,tY({},p,{width:a,height:l,title:h,desc:f,style:yY}),this.renderClipPath(),nN(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&rY(i.prototype,o),a&&rY(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}(r.Component),pY(e,"displayName",n),pY(e,"defaultProps",dY({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),pY(e,"getDerivedStateFromProps",(function(t,e){var n=t.dataKey,r=t.data,i=t.children,o=t.width,s=t.height,a=t.layout,l=t.stackOffset,c=t.margin,u=e.dataStartIndex,h=e.dataEndIndex;if(void 0===e.updateId){var f=CY(t);return dY(dY(dY({},f),{},{updateId:0},p(dY(dY({props:t},f),{},{updateId:0}),e)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:s,prevLayout:a,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==e.prevDataKey||r!==e.prevData||o!==e.prevWidth||s!==e.prevHeight||a!==e.prevLayout||l!==e.prevStackOffset||!RB(c,e.prevMargin)){var d=CY(t),A={chartX:e.chartX,chartY:e.chartY,isTooltipActive:e.isTooltipActive},g=dY(dY({},xY(e,r,a)),{},{updateId:e.updateId+1}),y=dY(dY(dY({},d),A),g);return dY(dY(dY({},y),p(dY({props:t},y),e)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:s,prevLayout:a,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!tN(i,e.prevChildren)){var m,v,b,_,w=QB(i,YV),x=w&&null!==(m=null===(v=w.props)||void 0===v?void 0:v.startIndex)&&void 0!==m?m:u,E=w&&null!==(b=null===(_=w.props)||void 0===_?void 0:_.endIndex)&&void 0!==b?b:h,S=x!==u||E!==h,C=!PB()(r)&&!S?e.updateId:e.updateId+1;return dY(dY({updateId:C},p(dY(dY({props:t},e),{},{updateId:C,dataStartIndex:x,dataEndIndex:E}),e)),{},{prevChildren:i,dataStartIndex:x,dataEndIndex:E})}return null})),pY(e,"renderActiveDot",(function(t,e){var n;return n=(0,r.isValidElement)(t)?(0,r.cloneElement)(t,e):TB()(t)?t(e):r.createElement(qF,e),r.createElement(SN,{className:"recharts-active-dot",key:e.key},n)})),e}({chartName:"BarChart",GraphicalChild:KW,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tQ},{axisType:"yAxis",AxisComp:nQ}],formatAxisMap:function(t,n,r,i,o){var s=t.width,a=t.height,l=t.layout,c=t.children,u=Object.keys(n),h={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!QB(c,KW);return u.reduce((function(s,a){var c,u,d,p,A,g=n[a],y=g.orientation,m=g.domain,v=g.padding,b=void 0===v?{}:v,_=g.mirror,w=g.reversed,x="".concat(y).concat(_?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var E=m[1]-m[0],S=1/0,C=g.categoricalDomain.sort();if(C.forEach((function(t,e){e>0&&(S=Math.min((t||0)-(C[e-1]||0),S))})),Number.isFinite(S)){var P=S/E,M="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=P*M/2),"no-gap"===g.padding){var T=_B(t.barCategoryGap,P*M),O=P*M/2;c=O-T-(O-T)/M*T}}}u="xAxis"===i?[r.left+(b.left||0)+(c||0),r.left+r.width-(b.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(c||0),r.top+r.height-(b.bottom||0)-(c||0)]:g.range,w&&(u=[u[1],u[0]]);var I=function(t,n,r){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if("auto"===i)return"radial"===s&&"radiusAxis"===a?{scale:Tr(),realScaleType:"band"}:"radial"===s&&"angleAxis"===a?{scale:Si(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ir(),realScaleType:"point"}:"category"===o?{scale:Tr(),realScaleType:"band"}:{scale:Si(),realScaleType:"linear"};if(lB()(i)){var l="scale".concat(gD()(i));return{scale:(e[l]||Ir)(),realScaleType:e[l]?l:"point"}}return TB()(i)?{scale:i}:{scale:Ir(),realScaleType:"point"}}(g,o,f),R=I.scale,L=I.realScaleType;R.domain(m).range(u),function(t){var e=t.domain();if(e&&!(e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-vV,o=Math.max(r[0],r[1])+vV,s=t(e[0]),a=t(e[n-1]);(s<i||s>o||a<i||a>o)&&t.domain([e[0],e[n-1]])}}(R);var k=function(t,e){var n=e.realScaleType,r=e.type,i=e.tickCount,o=e.originalDomain,s=e.allowDecimals,a=n||e.scale;if("auto"!==a&&"linear"!==a)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=t.domain();if(!l.length)return null;var c=HG(l,i,s);return t.domain([fG()(c),uG()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=t.domain();return{niceTicks:WG(u,i,s)}}return null}(R,tq(tq({},g),{},{realScaleType:L}));"xAxis"===i?(A="top"===y&&!_||"bottom"===y&&_,d=r.left,p=h[x]-A*g.height):"yAxis"===i&&(A="left"===y&&!_||"right"===y&&_,d=h[x]-A*g.width,p=r.top);var B=tq(tq(tq({},g),k),{},{realScaleType:L,x:d,y:p,scale:R,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return B.bandSize=PV(B,k),g.hide||"xAxis"!==i?g.hide||(h[x]+=(A?-1:1)*B.width):h[x]+=(A?-1:1)*B.height,tq(tq({},s),{},eq({},a,B))}),{})}}),iQ=["x1","y1","x2","y2","key"],oQ=["offset"];function sQ(t){return sQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sQ(t)}function aQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lQ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?aQ(Object(n),!0).forEach((function(e){cQ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aQ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cQ(t,e,n){return e=function(t){var e=function(t,e){if("object"!=sQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sQ(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uQ(){return uQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uQ.apply(this,arguments)}function hQ(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var fQ=function(t){var e=t.fill;if(!e||"none"===e)return null;var n=t.fillOpacity,i=t.x,o=t.y,s=t.width,a=t.height;return r.createElement("rect",{x:i,y:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dQ(t,e){var n;if(r.isValidElement(t))n=r.cloneElement(t,e);else if(TB()(t))n=t(e);else{var i=e.x1,o=e.y1,s=e.x2,a=e.y2,l=e.key,c=hQ(e,iQ),u=$B(c,!1),h=(u.offset,hQ(u,oQ));n=r.createElement("line",uQ({},h,{x1:i,y1:o,x2:s,y2:a,fill:"none",key:l}))}return n}function pQ(t){var e=t.x,n=t.width,i=t.horizontal,o=void 0===i||i,s=t.horizontalPoints;if(!o||!s||!s.length)return null;var a=s.map((function(r,i){var s=lQ(lQ({},t),{},{x1:e,y1:r,x2:e+n,y2:r,key:"line-".concat(i),index:i});return dQ(o,s)}));return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function AQ(t){var e=t.y,n=t.height,i=t.vertical,o=void 0===i||i,s=t.verticalPoints;if(!o||!s||!s.length)return null;var a=s.map((function(r,i){var s=lQ(lQ({},t),{},{x1:r,y1:e,x2:r,y2:e+n,key:"line-".concat(i),index:i});return dQ(o,s)}));return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function gQ(t){var e=t.horizontalFill,n=t.fillOpacity,i=t.x,o=t.y,s=t.width,a=t.height,l=t.horizontalPoints,c=t.horizontal;if(!(void 0===c||c)||!e||!e.length)return null;var u=l.map((function(t){return Math.round(t+o-o)})).sort((function(t,e){return t-e}));o!==u[0]&&u.unshift(0);var h=u.map((function(t,l){var c=!u[l+1]?o+a-t:u[l+1]-t;if(c<=0)return null;var h=l%e.length;return r.createElement("rect",{key:"react-".concat(l),y:t,x:i,height:c,width:s,stroke:"none",fill:e[h],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function yQ(t){var e=t.vertical,n=void 0===e||e,i=t.verticalFill,o=t.fillOpacity,s=t.x,a=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!i||!i.length)return null;var h=u.map((function(t){return Math.round(t+s-s)})).sort((function(t,e){return t-e}));s!==h[0]&&h.unshift(0);var f=h.map((function(t,e){var n=!h[e+1]?s+l-t:h[e+1]-t;if(n<=0)return null;var u=e%i.length;return r.createElement("rect",{key:"react-".concat(e),x:t,y:a,width:n,height:c,stroke:"none",fill:i[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var mQ=function(t,e){var n=t.xAxis,r=t.width,i=t.height,o=t.offset;return AV(NY(lQ(lQ(lQ({},ZY.defaultProps),n),{},{ticks:gV(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},vQ=function(t,e){var n=t.yAxis,r=t.width,i=t.height,o=t.offset;return AV(NY(lQ(lQ(lQ({},ZY.defaultProps),n),{},{ticks:gV(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},bQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _Q(t){var e,n,i,o,s,a,l=Tq(),c=Oq(),u=(0,r.useContext)(wq),h=lQ(lQ({},t),{},{stroke:null!==(e=t.stroke)&&void 0!==e?e:bQ.stroke,fill:null!==(n=t.fill)&&void 0!==n?n:bQ.fill,horizontal:null!==(i=t.horizontal)&&void 0!==i?i:bQ.horizontal,horizontalFill:null!==(o=t.horizontalFill)&&void 0!==o?o:bQ.horizontalFill,vertical:null!==(s=t.vertical)&&void 0!==s?s:bQ.vertical,verticalFill:null!==(a=t.verticalFill)&&void 0!==a?a:bQ.verticalFill,x:yB(t.x)?t.x:u.left,y:yB(t.y)?t.y:u.top,width:yB(t.width)?t.width:u.width,height:yB(t.height)?t.height:u.height}),f=h.x,d=h.y,p=h.width,A=h.height,g=h.syncWithTicks,y=h.horizontalValues,m=h.verticalValues,v=function(){var t=(0,r.useContext)(vq);return wB(t)}(),b=function(){var t=(0,r.useContext)(bq);return gq()(t,(function(t){return SH()(t.domain,Number.isFinite)}))||wB(t)}();if(!yB(p)||p<=0||!yB(A)||A<=0||!yB(f)||f!==+f||!yB(d)||d!==+d)return null;var _=h.verticalCoordinatesGenerator||mQ,w=h.horizontalCoordinatesGenerator||vQ,x=h.horizontalPoints,E=h.verticalPoints;if((!x||!x.length)&&TB()(w)){var S=y&&y.length,C=w({yAxis:b?lQ(lQ({},b),{},{ticks:S?y:b.ticks}):void 0,width:l,height:c,offset:u},!!S||g);SB(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sQ(C),"]")),Array.isArray(C)&&(x=C)}if((!E||!E.length)&&TB()(_)){var P=m&&m.length,M=_({xAxis:v?lQ(lQ({},v),{},{ticks:P?m:v.ticks}):void 0,width:l,height:c,offset:u},!!P||g);SB(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sQ(M),"]")),Array.isArray(M)&&(E=M)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(fQ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height}),r.createElement(pQ,uQ({},h,{offset:u,horizontalPoints:x,xAxis:v,yAxis:b})),r.createElement(AQ,uQ({},h,{offset:u,verticalPoints:E,xAxis:v,yAxis:b})),r.createElement(gQ,uQ({},h,{horizontalPoints:x})),r.createElement(yQ,uQ({},h,{verticalPoints:E})))}_Q.displayName="CartesianGrid";const wQ=t=>{let{data:e}=t;return e?(0,nA.jsx)(uN,{className:"pyramidContainer",width:"100%",height:400,children:(0,nA.jsxs)(rQ,{layout:"vertical",data:e,margin:{top:20,right:30,left:20,bottom:5},children:[(0,nA.jsx)(_Q,{strokeDasharray:"3 3"}),(0,nA.jsx)(tQ,{dataKey:"male",type:"number"}),(0,nA.jsx)(nQ,{type:"category",dataKey:"age"}),(0,nA.jsx)(pD,{content:t=>{if(t.payload&&t.payload.length){const{payload:n}=t.payload[0],r=n.total,i=(r/e.reduce(((t,e)=>t+e.total),0)*100).toFixed(2);return(0,nA.jsxs)("div",{className:"custom-tooltip",children:[(0,nA.jsx)("p",{children:"Edad: ".concat(n.age)}),(0,nA.jsx)("p",{style:{color:"#8884d8"},children:"Hombres: ".concat(Math.abs(n.male))}),(0,nA.jsx)("p",{style:{color:"#ff7f7f"},children:"Mujeres: ".concat(Math.abs(n.female))}),(0,nA.jsx)("p",{children:"Total: ".concat(r," (").concat(i,"%)")})]})}return null}}),(0,nA.jsx)(HF,{}),(0,nA.jsx)(KW,{dataKey:"male",fill:"#8884d8",name:"Hombres"}),(0,nA.jsx)(KW,{dataKey:"female",fill:"#ff7f7f",name:"Mujeres"})]})}):(0,nA.jsx)(nA.Fragment,{})};var xQ={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},EQ=r.createContext&&r.createContext(xQ),SQ=["attr","size","title"];function CQ(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PQ(){return PQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PQ.apply(this,arguments)}function MQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function TQ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?MQ(Object(n),!0).forEach((function(e){OQ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MQ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function OQ(t,e,n){return e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){return t&&t.map(((t,e)=>r.createElement(t.tag,TQ({key:e},t.attr),IQ(t.child))))}function RQ(t){return e=>r.createElement(LQ,PQ({attr:TQ({},t.attr)},e),IQ(t.child))}function LQ(t){var e=e=>{var n,{attr:i,size:o,title:s}=t,a=CQ(t,SQ),l=o||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),r.createElement("svg",PQ({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,a,{className:n,style:TQ(TQ({color:t.color||e.color},e.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),t.children)};return void 0!==EQ?r.createElement(EQ.Consumer,null,(t=>e(t))):e(xQ)}function kQ(t){return RQ({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m98 190.06 139.78 163.12a24 24 0 0 0 36.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"},child:[]}]})(t)}function BQ(t){return RQ({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M414 321.94 274.22 158.82a24 24 0 0 0-36.44 0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5 0 31.56-24.05 18.18-39.62z"},child:[]}]})(t)}const NQ=t=>{var e;let{name:n,metric:r,children:i}=t;const o=BA(),s=xA((t=>t.queryMetric.queryMetric)),a=s===r,l=r?n||(null===(e=od[r])||void 0===e?void 0:e.title)||r:n||"";return(0,nA.jsxs)(yC,{className:"stat-row",style:{cursor:r?"pointer":"default"},onClick:()=>{r&&o(tB(r))},children:[(0,nA.jsx)(yC,{className:"stat-title-box",style:{backgroundColor:a?"#a2a888":"transparent"},children:(0,nA.jsx)(bC,{className:"stat-title",style:{backgroundColor:a?"#a2a888":"transparent"},children:l})}),(0,nA.jsxs)(yC,{className:"stat-value",style:{backgroundColor:a?"#e2e6d1":"transparent"},children:[(0,nA.jsx)(yC,{children:i[0]}),i.length>1&&(0,nA.jsx)(yC,{className:"dark",children:i[1]})]})]})},DQ=t=>t?[{age:"0-2",male:t.p_0a2_m,female:t.p_0a2_f,total:t.p_0a2_m+t.p_0a2_f},{age:"3-5",male:t.p_3a5_m,female:t.p_3a5_f,total:t.p_3a5_m+t.p_3a5_f},{age:"6-11",male:t.p_6a11_m,female:t.p_6a11_f,total:t.p_6a11_m+t.p_6a11_f},{age:"12-14",male:t.p_12a14_m,female:t.p_12a14_f,total:t.p_12a14_m+t.p_12a14_f},{age:"15-17",male:t.p_15a17_m,female:t.p_15a17_f,total:t.p_15a17_m+t.p_15a17_f},{age:"18-24",male:t.p_18a24_m,female:t.p_18a24_f,total:t.p_18a24_m+t.p_18a24_f},{age:"25-59",male:t.p_25a59_m,female:t.p_25a59_f,total:t.p_25a59_M+t.p_25a59_f},{age:"60+",male:t.p_60ymas_m,female:t.p_60ymas_f,total:t.p_60ymas_m+t.p_60ymas_f}]:[],FQ=t=>{let{value:e,base:n}=t,r=e/n*100;return(0,nA.jsx)(MC,{size:"100px",value:r,color:hd.VISOR.primary,children:(0,nA.jsxs)(TC,{fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:[r.toFixed(0),"%"]})})},jQ=t=>{let{value:e,base:n,compareWith:r}=t;const i=e/n*100,o=i>r,s=o?BQ:kQ,a=o?"green":"red";return(0,nA.jsx)(MC,{size:"100px",value:i,color:hd.VISOR.primary,children:(0,nA.jsxs)(TC,{fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:[i.toFixed(0),"% ",void 0!==r&&(0,nA.jsx)(s,{style:{marginLeft:"4px",color:a}})]})})},UQ=t=>{var e,n,i,o,s,a,l,c;let{metrics:u}=t;const h=BA(),f={pobtot:1003530,graproes:11.06,vivpar_hab:270235,vivpar_des:46489,p_0a2_f:22745,p_0a2_m:23760,p_3a5_f:24415,p_3a5_m:25097,p_6a11_f:49274,p_6a11_m:51630,p_12a14_f:25139,p_12a14_m:25983,p_15a17_f:25163,p_15a17_m:25683,p_18a24_f:62928,p_18a24_m:61763,p_25a59_f:327737,p_25a59_m:314356,p_60ymas_f:60860,p_60ymas_m:50853,vph_tinaco:128589,vph_pc:131189,vph_autom:166497},[d,p]=(0,r.useState)([]);return(0,r.useEffect)((()=>{p(DQ(u))}),[u]),(0,nA.jsx)("div",{className:"visor tab__main",children:(0,nA.jsxs)(GC,{allowToggle:!0,defaultIndex:[0],onChange:t=>{h(tB(0===t?"poblacion":"indice_bienestar"))},children:[(0,nA.jsxs)(VC,{style:{borderWidth:"0px"},children:[(0,nA.jsxs)(HC,{className:"accordion-header",children:[(0,nA.jsx)(yC,{flex:"1",textAlign:"left",children:"Perfil sociodemogr\xe1fico"}),(0,nA.jsx)(XC,{})]}),(0,nA.jsx)(Qk,{p:0,children:(0,nA.jsxs)(Zk,{spacing:0,className:"accordion-body",children:[(0,nA.jsx)(yC,{className:"stat-row header",style:{margin:0},children:(0,nA.jsxs)(yC,{className:"stat-title-box",style:{margin:0},children:[(0,nA.jsx)(bC,{className:"stat-title",width:"50%",children:"Zona Sur"}),(0,nA.jsx)(bC,{className:"stat-title dark",width:"50%",children:"Culiac\xe1n"})]})}),(0,nA.jsxs)(NQ,{metric:"poblacion",children:[(0,nA.jsxs)(bC,{children:[(null===u||void 0===u||null===(e=u.pobtot)||void 0===e?void 0:e.toLocaleString("es-MX",{maximumFractionDigits:0}))||"","hab"]}),(0,nA.jsxs)(bC,{children:[null===f||void 0===f||null===(n=f.pobtot)||void 0===n?void 0:n.toLocaleString("es-MX",{maximumFractionDigits:0}),"hab"]})]}),(0,nA.jsxs)(NQ,{name:"Pir\xe1mide poblacional",children:[(0,nA.jsx)(wQ,{data:d}),(0,nA.jsx)(wQ,{data:DQ(f)})]}),(0,nA.jsxs)(NQ,{metric:"grado_escuela",children:[(0,nA.jsxs)(yC,{display:"flex",alignItems:"center",children:[(0,nA.jsxs)(bC,{fontSize:"sm",children:[ad[null===u||void 0===u||null===(i=u.graproes)||void 0===i?void 0:i.toFixed(0)]||"","(",null===u||void 0===u||null===(o=u.graproes)||void 0===o?void 0:o.toFixed(0),")"]}),void 0!==(null===u||void 0===u?void 0:u.graproes)&&void 0!==(null===f||void 0===f?void 0:f.graproes)&&(0,nA.jsx)(nA.Fragment,{children:(null===u||void 0===u?void 0:u.graproes)>(null===f||void 0===f?void 0:f.graproes)?(0,nA.jsx)(BQ,{style:{marginLeft:"4px",color:"green"}}):(null===u||void 0===u?void 0:u.graproes)<(null===f||void 0===f?void 0:f.graproes)?(0,nA.jsx)(kQ,{style:{marginLeft:"4px",color:"red"}}):null})]}),(0,nA.jsxs)(bC,{fontSize:"sm",children:[ad[null===f||void 0===f||null===(s=f.graproes)||void 0===s?void 0:s.toFixed(0)]||""," (",null===f||void 0===f||null===(a=f.graproes)||void 0===a?void 0:a.toFixed(0),")"]})]}),(0,nA.jsxs)(NQ,{metric:"viviendas_habitadas",children:[(0,nA.jsx)(bC,{children:(null===u||void 0===u||null===(l=u.vivpar_hab)||void 0===l?void 0:l.toLocaleString("es-MX",{maximumFractionDigits:0}))||""}),(0,nA.jsx)(bC,{children:(null===f||void 0===f||null===(c=f.vivpar_hab)||void 0===c?void 0:c.toLocaleString("es-MX",{maximumFractionDigits:0}))||""})]}),(0,nA.jsxs)(NQ,{metric:"viviendas_deshabitadas",children:[(0,nA.jsx)(jQ,{value:(null===u||void 0===u?void 0:u.vivpar_des)||0,base:(null===u||void 0===u?void 0:u.vivpar_hab)||0,compareWith:(null===f||void 0===f?void 0:f.vivpar_des)/(null===f||void 0===f?void 0:f.vivpar_hab)*100||0}),(0,nA.jsx)(FQ,{value:(null===f||void 0===f?void 0:f.vivpar_des)||0,base:(null===f||void 0===f?void 0:f.vivpar_hab)||0})]})]})})]}),(0,nA.jsxs)(VC,{style:{borderWidth:"0px"},children:[(0,nA.jsxs)(HC,{className:"accordion-header",children:[(0,nA.jsx)(yC,{flex:"1",textAlign:"left",children:"Perfil socioecon\xf3mico"}),(0,nA.jsx)(XC,{})]}),(0,nA.jsx)(Qk,{p:0,children:(0,nA.jsxs)(Zk,{spacing:0,className:"accordion-body",p:0,children:[(0,nA.jsx)(yC,{className:"stat-row header",style:{margin:0},children:(0,nA.jsxs)(yC,{className:"stat-title-box",style:{margin:0},children:[(0,nA.jsx)(bC,{className:"stat-title",width:"50%",children:"Zona Sur"}),(0,nA.jsx)(bC,{className:"stat-title dark",width:"50%",children:"Culiac\xe1n"})]})}),(0,nA.jsxs)(NQ,{metric:"indice_bienestar",children:[(0,nA.jsx)(jQ,{value:(null===u||void 0===u?void 0:u.puntuaje_hogar_digno)||0,base:100,compareWith:(null===f||void 0===f?void 0:f.puntuaje_hogar_digno)||0}),(0,nA.jsx)(FQ,{value:(null===f||void 0===f?void 0:f.puntuaje_hogar_digno)||0,base:100})]}),(0,nA.jsxs)(NQ,{metric:"viviendas_auto",children:[(0,nA.jsx)(jQ,{value:(null===u||void 0===u?void 0:u.vph_autom)||0,base:(null===u||void 0===u?void 0:u.vivpar_hab)||0,compareWith:(null===f||void 0===f?void 0:f.vph_autom)/(null===f||void 0===f?void 0:f.vivpar_hab)*100||0}),(0,nA.jsx)(FQ,{value:(null===f||void 0===f?void 0:f.vph_autom)||0,base:(null===f||void 0===f?void 0:f.vivpar_hab)||0})]}),(0,nA.jsxs)(NQ,{metric:"viviendas_pc",children:[(0,nA.jsx)(jQ,{value:(null===u||void 0===u?void 0:u.vph_pc)||0,base:(null===u||void 0===u?void 0:u.vivpar_hab)||0,compareWith:(null===f||void 0===f?void 0:f.vph_pc)/(null===f||void 0===f?void 0:f.vivpar_hab)*100||0}),(0,nA.jsx)(FQ,{value:(null===f||void 0===f?void 0:f.vph_pc)||0,base:(null===f||void 0===f?void 0:f.vivpar_hab)||0})]}),(0,nA.jsxs)(NQ,{metric:"viviendas_tinaco",children:[(0,nA.jsx)(jQ,{value:(null===u||void 0===u?void 0:u.vph_tinaco)||0,base:(null===u||void 0===u?void 0:u.vivpar_hab)||0,compareWith:(null===f||void 0===f?void 0:f.vph_tinaco)/(null===f||void 0===f?void 0:f.vivpar_hab)*100||0}),(0,nA.jsx)(FQ,{value:(null===f||void 0===f?void 0:f.vph_tinaco)||0,base:(null===f||void 0===f?void 0:f.vivpar_hab)||0})]})]})})]})]})})},zQ=()=>{const t=BA(),e=xA((t=>t.viewMode.viewMode)),n=xA((t=>t.viewState));return(0,nA.jsxs)("div",{className:"toolbar",children:[(0,nA.jsxs)("div",{children:[(0,nA.jsx)("div",{className:"toolbar__title",children:"TOOLBAR"}),(0,nA.jsxs)("div",{style:{display:"flex",border:"1px solid lightgrey"},children:[(0,nA.jsxs)("div",{className:"toolbar__section",children:["VISTA",(0,nA.jsxs)("div",{className:"toolbar__vista",children:[(0,nA.jsx)("img",{className:e==ld.FULL?"toolbar__tools--active":"",onClick:()=>t(L_(ld.FULL)),src:"https://sinaloa.travel/images/destinos/culiacan/Culiacan-map.png"}),(0,nA.jsx)("img",{className:e==ld.POLIGON?"toolbar__tools--active":"",onClick:()=>t(L_(ld.POLIGON)),src:"https://cdn-icons-png.flaticon.com/512/7168/7168063.png"}),(0,nA.jsx)("img",{className:e==ld.LENS?"toolbar__tools--active":"",onClick:()=>t(L_(ld.LENS)),src:"https://icones.pro/wp-content/uploads/2021/06/icone-loupe-noir.png"})]})]}),(0,nA.jsxs)("div",{className:"toolbar__section",children:["DIM",(0,nA.jsxs)("div",{className:"toolbar__dim",children:[(0,nA.jsx)("span",{children:"2D"}),(0,nA.jsx)("span",{children:"3D"})]})]}),(0,nA.jsxs)("div",{className:"toolbar__section",children:["ZOOM",(0,nA.jsxs)("div",{className:"toolbar__zoom",children:[(0,nA.jsxs)("div",{className:"toolbar__zoomitems",children:[(0,nA.jsx)("span",{onClick:()=>{t(FA({zoom:n.zoom+1}))},children:" + "}),(0,nA.jsx)("span",{onClick:()=>{t(FA({zoom:n.zoom-1}))},children:" - "})]}),(0,nA.jsx)("div",{className:"toolbar__zoomitems",children:(0,nA.jsxs)("span",{children:[" ",n.zoom.toFixed(1)," "]})})]})]}),(0,nA.jsxs)("div",{className:"toolbar__section",children:["ESCALA",(0,nA.jsx)("div",{className:"toolbar__vista",children:(0,nA.jsx)("img",{src:"https://sinaloa.travel/images/destinos/culiacan/Culiacan-map.png",style:{minWidth:"48px",maxWidth:"48px",border:"1px solid lightgrey"}})})]})]})]}),e==ld.POLIGON&&(0,nA.jsxs)("div",{children:[(0,nA.jsxs)("div",{className:"toolbar__title",children:["ACCIONES: ",ld[e]," "]}),e==ld.POLIGON&&(0,nA.jsx)("div",{className:"toolbar__section",children:(0,nA.jsxs)("div",{className:"toolbar__vista",children:[(0,nA.jsxs)("div",{onClick:()=>{},children:["Editar",(0,nA.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1159/1159633.png"})]}),(0,nA.jsxs)("div",{onClick:()=>{t(k_(cd.DELETE))},children:["Borrar",(0,nA.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1214/1214428.png "})]})]})})]})]})};function GQ(t){return RQ({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 19h-18l9 -15"},child:[]},{tag:"path",attr:{d:"M20.615 15.171h.015"},child:[]},{tag:"path",attr:{d:"M19.515 11.771h.015"},child:[]},{tag:"path",attr:{d:"M17.715 8.671h.015"},child:[]},{tag:"path",attr:{d:"M15.415 5.971h.015"},child:[]}]})(t)}function VQ(t){return RQ({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M208 96c26.5 0 48-21.5 48-48S234.5 0 208 0s-48 21.5-48 48 21.5 48 48 48zm94.5 149.1l-23.3-11.8-9.7-29.4c-14.7-44.6-55.7-75.8-102.2-75.9-36-.1-55.9 10.1-93.3 25.2-21.6 8.7-39.3 25.2-49.7 46.2L17.6 213c-7.8 15.8-1.5 35 14.2 42.9 15.6 7.9 34.6 1.5 42.5-14.3L81 228c3.5-7 9.3-12.5 16.5-15.4l26.8-10.8-15.2 60.7c-5.2 20.8.4 42.9 14.9 58.8l59.9 65.4c7.2 7.9 12.3 17.4 14.9 27.7l18.3 73.3c4.3 17.1 21.7 27.6 38.8 23.3 17.1-4.3 27.6-21.7 23.3-38.8l-22.2-89c-2.6-10.3-7.7-19.9-14.9-27.7l-45.5-49.7 17.2-68.7 5.5 16.5c5.3 16.1 16.7 29.4 31.7 37l23.3 11.8c15.6 7.9 34.6 1.5 42.5-14.3 7.7-15.7 1.4-35.1-14.3-43zM73.6 385.8c-3.2 8.1-8 15.4-14.2 21.5l-50 50.1c-12.5 12.5-12.5 32.8 0 45.3s32.7 12.5 45.2 0l59.4-59.4c6.1-6.1 10.9-13.4 14.2-21.5l13.5-33.8c-55.3-60.3-38.7-41.8-47.4-53.7l-20.7 51.5z"},child:[]}]})(t)}var HQ=n(1488),WQ=n.n(HQ),qQ=["points","className","baseLinePoints","connectNulls"];function XQ(){return XQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XQ.apply(this,arguments)}function YQ(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QQ(t){return function(t){if(Array.isArray(t))return KQ(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return KQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KQ(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KQ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var JQ=function(t){return t&&t.x===+t.x&&t.y===+t.y},ZQ=function(t,e){var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[[]];return t.forEach((function(t){JQ(t)?e[e.length-1].push(t):e[e.length-1].length>0&&e.push([])})),JQ(t[0])&&e[e.length-1].push(t[0]),e[e.length-1].length<=0&&(e=e.slice(0,-1)),e}(t);e&&(n=[n.reduce((function(t,e){return[].concat(QQ(t),QQ(e))}),[])]);var r=n.map((function(t){return t.reduce((function(t,e,n){return"".concat(t).concat(0===n?"M":"L").concat(e.x,",").concat(e.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},$Q=function(t){var e=t.points,n=t.className,i=t.baseLinePoints,o=t.connectNulls,s=YQ(t,qQ);if(!e||!e.length)return null;var a=rB("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&"none"!==s.stroke,c=function(t,e,n){var r=ZQ(t,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(ZQ(e.reverse(),n).slice(1))}(e,i,o);return r.createElement("g",{className:a},r.createElement("path",XQ({},$B(s,!0),{fill:"Z"===c.slice(-1)?s.fill:"none",stroke:"none",d:c})),l?r.createElement("path",XQ({},$B(s,!0),{fill:"none",d:ZQ(e,o)})):null,l?r.createElement("path",XQ({},$B(s,!0),{fill:"none",d:ZQ(i,o)})):null)}var u=ZQ(e,o);return r.createElement("path",XQ({},$B(s,!0),{fill:"Z"===u.slice(-1)?s.fill:"none",className:a,d:u}))},tK=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],eK=["width","height","className","style","children","type"];function nK(t){return nK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nK(t)}function rK(){return rK=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rK.apply(this,arguments)}function iK(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pK(r.key),r)}}function sK(t,e,n){return e=lK(e),function(t,e){if(e&&("object"===nK(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cK(t)}(t,aK()?Reflect.construct(e,n||[],lK(t).constructor):e.apply(t,n))}function aK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(aK=function(){return!!t})()}function lK(t){return lK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lK(t)}function cK(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uK(t,e){return uK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uK(t,e)}function hK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fK(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hK(Object(n),!0).forEach((function(e){dK(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hK(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dK(t,e,n){return(e=pK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pK(t){var e=function(t,e){if("object"!=nK(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nK(e)?e:String(e)}var AK="value",gK=function t(e){var n,r=e.depth,i=e.node,o=e.index,s=e.valueKey,a=i.children,l=r+1,c=a&&a.length?a.map((function(e,n){return t({depth:l,node:e,index:n,valueKey:s})})):null;return n=a&&a.length?c.reduce((function(t,e){return t+e[AK]}),0):uB()(i[s])||i[s]<=0?0:i[s],fK(fK({},i),{},dK(dK(dK({children:c},AK,n),"depth",r),"index",o))},yK=function(t,e,n){var r=e*e,i=t.area*t.area,o=t.reduce((function(t,e){return{min:Math.min(t.min,e.area),max:Math.max(t.max,e.area)}}),{min:1/0,max:0}),s=o.min,a=o.max;return i?Math.max(r*a*n/i,i/(r*s*n)):1/0},mK=function(t,e,n,r){return e===n.width?function(t,e,n,r){var i=e?Math.round(t.area/e):0;(r||i>n.height)&&(i=n.height);for(var o,s=n.x,a=0,l=t.length;a<l;a++)(o=t[a]).x=s,o.y=n.y,o.height=i,o.width=Math.min(i?Math.round(o.area/i):0,n.x+n.width-s),s+=o.width;return o.width+=n.x+n.width-s,fK(fK({},n),{},{y:n.y+i,height:n.height-i})}(t,e,n,r):function(t,e,n,r){var i=e?Math.round(t.area/e):0;(r||i>n.width)&&(i=n.width);for(var o,s=n.y,a=0,l=t.length;a<l;a++)(o=t[a]).x=n.x,o.y=s,o.width=i,o.height=Math.min(i?Math.round(o.area/i):0,n.y+n.height-s),s+=o.height;return o&&(o.height+=n.y+n.height-s),fK(fK({},n),{},{x:n.x+i,width:n.width-i})}(t,e,n,r)},vK=function t(e,n){var r=e.children;if(r&&r.length){var i,o,s=function(t){return{x:t.x,y:t.y,width:t.width,height:t.height}}(e),a=[],l=1/0,c=Math.min(s.width,s.height),u=function(t,e){var n=e<0?0:e;return t.map((function(t){var e=t[AK]*n;return fK(fK({},t),{},{area:uB()(e)||e<=0?0:e})}))}(r,s.width*s.height/e[AK]),h=u.slice();for(a.area=0;h.length>0;)a.push(i=h[0]),a.area+=i.area,(o=yK(a,c,n))<=l?(h.shift(),l=o):(a.area-=a.pop().area,s=mK(a,c,s,!1),c=Math.min(s.width,s.height),a.length=a.area=0,l=1/0);return a.length&&(s=mK(a,c,s,!0),a.length=a.area=0),fK(fK({},e),{},{children:u.map((function(e){return t(e,n)}))})}return e},bK={isTooltipActive:!1,isAnimationFinished:!1,activeNode:null,formatRoot:null,currentRoot:null,nestIndex:[]},_K=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return dK(cK(t=sK(this,e,[].concat(r))),"state",fK({},bK)),dK(cK(t),"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),TB()(e)&&e()})),dK(cK(t),"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),TB()(e)&&e()})),t}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uK(t,e)}(e,t),n=e,i=[{key:"handleMouseEnter",value:function(t,e){e.persist();var n=this.props,r=n.onMouseEnter;QB(n.children,pD)?this.setState({isTooltipActive:!0,activeNode:t},(function(){r&&r(t,e)})):r&&r(t,e)}},{key:"handleMouseLeave",value:function(t,e){e.persist();var n=this.props,r=n.onMouseLeave;QB(n.children,pD)?this.setState({isTooltipActive:!1,activeNode:null},(function(){r&&r(t,e)})):r&&r(t,e)}},{key:"handleClick",value:function(t){var e=this.props,n=e.onClick;if("nest"===e.type&&t.children){var r=this.props,i=r.width,o=r.height,s=r.dataKey,a=r.aspectRatio,l=gK({depth:0,node:fK(fK({},t),{},{x:0,y:0,width:i,height:o}),index:0,valueKey:s}),c=vK(l,a),u=this.state.nestIndex;u.push(t),this.setState({formatRoot:c,currentRoot:l,nestIndex:u})}n&&n(t)}},{key:"handleNestIndex",value:function(t,e){var n=this.state.nestIndex,r=this.props,i=r.width,o=r.height,s=r.dataKey,a=r.aspectRatio,l=gK({depth:0,node:fK(fK({},t),{},{x:0,y:0,width:i,height:o}),index:0,valueKey:s}),c=vK(l,a);n=n.slice(0,e+1),this.setState({formatRoot:c,currentRoot:t,nestIndex:n})}},{key:"renderItem",value:function(t,e,n){var i=this,o=this.props,s=o.isAnimationActive,a=o.animationBegin,l=o.animationDuration,c=o.animationEasing,u=o.isUpdateAnimationActive,h=o.type,f=o.animationId,d=o.colorPanel,p=this.state.isAnimationFinished,A=e.width,g=e.height,y=e.x,m=e.y,v=e.depth,b=parseInt("".concat((2*Math.random()-1)*A),10),_={};return(n||"nest"===h)&&(_={onMouseEnter:this.handleMouseEnter.bind(this,e),onMouseLeave:this.handleMouseLeave.bind(this,e),onClick:this.handleClick.bind(this,e)}),s?r.createElement(cz,{begin:a,duration:l,isActive:s,easing:c,key:"treemap-".concat(f),from:{x:y,y:m,width:A,height:g},to:{x:y,y:m,width:A,height:g},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(n){var o=n.x,f=n.y,A=n.width,g=n.height;return r.createElement(cz,{from:"translate(".concat(b,"px, ").concat(b,"px)"),to:"translate(0, 0)",attributeName:"transform",begin:a,easing:c,isActive:s,duration:l},r.createElement(SN,_,v>2&&!p?null:i.constructor.renderContentItem(t,fK(fK({},e),{},{isAnimationActive:s,isUpdateAnimationActive:!u,width:A,height:g,x:o,y:f}),h,d)))})):r.createElement(SN,_,this.constructor.renderContentItem(t,fK(fK({},e),{},{isAnimationActive:!1,isUpdateAnimationActive:!1,width:A,height:g,x:y,y:m}),h,d))}},{key:"renderNode",value:function(t,e){var n=this,i=this.props,o=i.content,s=i.type,a=fK(fK(fK({},$B(this.props,!1)),e),{},{root:t}),l=!e.children||!e.children.length;return!(this.state.currentRoot.children||[]).filter((function(t){return t.depth===e.depth&&t.name===e.name})).length&&t.depth&&"nest"===s?null:r.createElement(SN,{key:"recharts-treemap-node-".concat(a.x,"-").concat(a.y,"-").concat(a.name),className:"recharts-treemap-depth-".concat(e.depth)},this.renderItem(o,a,l),e.children&&e.children.length?e.children.map((function(t){return n.renderNode(e,t)})):null)}},{key:"renderAllNodes",value:function(){var t=this.state.formatRoot;return t?this.renderNode(t,t):null}},{key:"renderTooltip",value:function(){var t=this.props,e=t.children,n=t.nameKey,i=QB(e,pD);if(!i)return null;var o=this.props,s=o.width,a=o.height,l=this.state,c=l.isTooltipActive,u=l.activeNode,h={x:0,y:0,width:s,height:a},f=u?{x:u.x+u.width/2,y:u.y+u.height/2}:null,d=c&&u?[{payload:u,name:cV(u,n,""),value:cV(u,AK)}]:[];return r.cloneElement(i,{viewBox:h,active:c,coordinate:f,label:"",payload:d})}},{key:"renderNestIndex",value:function(){var t=this,e=this.props,n=e.nameKey,i=e.nestIndexContent,o=this.state.nestIndex;return r.createElement("div",{className:"recharts-treemap-nest-index-wrapper",style:{marginTop:"8px",textAlign:"center"}},o.map((function(e,o){var s=fB()(e,n,"root"),a=null;return r.isValidElement(i)&&(a=r.cloneElement(i,e,o)),a=TB()(i)?i(e,o):s,r.createElement("div",{onClick:t.handleNestIndex.bind(t,e,o),key:"nest-index-".concat(bB()),className:"recharts-treemap-nest-index-box",style:{cursor:"pointer",display:"inline-block",padding:"0 7px",background:"#000",color:"#fff",marginRight:"3px"}},a)})))}},{key:"render",value:function(){if(!KB(this))return null;var t=this.props,e=t.width,n=t.height,i=t.className,o=t.style,s=t.children,a=t.type,l=iK(t,eK),c=$B(l,!1);return r.createElement("div",{className:rB("recharts-wrapper",i),style:fK(fK({},o),{},{position:"relative",cursor:"default",width:e,height:n}),role:"region"},r.createElement(_N,rK({},c,{width:e,height:"nest"===a?n-30:n}),this.renderAllNodes(),function(t){var e=[];return XB(t).forEach((function(t){ZB(t)&&e.push(t)})),e}(s)),this.renderTooltip(),"nest"===a&&this.renderNestIndex())}}],o=[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.prevData||t.type!==e.prevType||t.width!==e.prevWidth||t.height!==e.prevHeight||t.dataKey!==e.prevDataKey||t.aspectRatio!==e.prevAspectRatio){var n=gK({depth:0,node:{children:t.data,x:0,y:0,width:t.width,height:t.height},index:0,valueKey:t.dataKey}),r=vK(n,t.aspectRatio);return fK(fK({},e),{},{formatRoot:r,currentRoot:n,nestIndex:[n],prevAspectRatio:t.aspectRatio,prevData:t.data,prevWidth:t.width,prevHeight:t.height,prevDataKey:t.dataKey,prevType:t.type})}return null}},{key:"renderContentItem",value:function(t,e,n,i){if(r.isValidElement(t))return r.cloneElement(t,e);if(TB()(t))return t(e);var o=e.x,s=e.y,a=e.width,l=e.height,c=e.index,u=null;a>10&&l>10&&e.children&&"nest"===n&&(u=r.createElement($Q,{points:[{x:o+2,y:s+l/2},{x:o+6,y:s+l/2+3},{x:o+2,y:s+l/2+6}]}));var h=null,f=Mz(e.name);a>20&&l>20&&f.width<a&&f.height<l&&(h=r.createElement("text",{x:o+8,y:s+l/2+7,fontSize:14},e.name));var d=i||tK;return r.createElement("g",null,r.createElement(bz,rK({fill:e.depth<2?d[c%d.length]:"rgba(255,255,255,0)",stroke:"#fff"},WQ()(e,"children"),{role:"img"})),u,h)}}],i&&oK(n.prototype,i),o&&oK(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent);dK(_K,"displayName","Treemap"),dK(_K,"defaultProps",{aspectRatio:.5*(1+Math.sqrt(5)),dataKey:"value",type:"flat",isAnimationActive:!$N.isSsr,isUpdateAnimationActive:!$N.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"linear"});var[wK,xK]=sw({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[EK,SK]=sw({strict:!1,name:"FormControlContext"});var CK=xw((function(t,e){const n=WS("Form",t),i=FS(t),{getRootProps:o,htmlProps:s,...a}=function(t){const{id:e,isRequired:n,isInvalid:i,isDisabled:o,isReadOnly:s,...a}=t,l=(0,r.useId)(),c=e||"field-".concat(l),u="".concat(c,"-label"),h="".concat(c,"-feedback"),f="".concat(c,"-helptext"),[d,p]=(0,r.useState)(!1),[A,g]=(0,r.useState)(!1),[y,m]=(0,r.useState)(!1),v=(0,r.useCallback)((function(){return{id:f,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:Q_(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(t=>{t&&g(!0)}))}}),[f]),b=(0,r.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,"data-focus":q_(y),"data-disabled":q_(o),"data-invalid":q_(i),"data-readonly":q_(s),id:void 0!==t.id?t.id:u,htmlFor:void 0!==t.htmlFor?t.htmlFor:c}}),[c,o,y,i,s,u]),_=(0,r.useCallback)((function(){return{id:h,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:Q_(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(t=>{t&&p(!0)})),"aria-live":"polite"}}),[h]),w=(0,r.useCallback)((function(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},...a,ref:t,role:"group","data-focus":q_(y),"data-disabled":q_(o),"data-invalid":q_(i),"data-readonly":q_(s)}}),[a,o,y,i,s]),x=(0,r.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,role:"presentation","aria-hidden":!0,children:t.children||"*"}}),[]);return{isRequired:!!n,isInvalid:!!i,isReadOnly:!!s,isDisabled:!!o,isFocused:!!y,onFocus:()=>m(!0),onBlur:()=>m(!1),hasFeedbackText:d,setHasFeedbackText:p,hasHelpText:A,setHasHelpText:g,id:c,labelId:u,feedbackId:h,helpTextId:f,htmlProps:a,getHelpTextProps:v,getErrorMessageProps:_,getRootProps:w,getLabelProps:b,getRequiredIndicatorProps:x}}(i),l=z_("chakra-form-control",t.className);return(0,nA.jsx)(EK,{value:a,children:(0,nA.jsx)(wK,{value:n,children:(0,nA.jsx)(cC.div,{...o({},e),className:l,__css:n.container})})})}));CK.displayName="FormControl";var PK=xw((function(t,e){const n=SK(),r=xK(),i=z_("chakra-form__helper-text",t.className);return(0,nA.jsx)(cC.div,{...null==n?void 0:n.getHelpTextProps(t,e),__css:r.helperText,className:i})}));function MK(t){var e,n,r;const i=SK(),{id:o,disabled:s,readOnly:a,required:l,isRequired:c,isInvalid:u,isReadOnly:h,isDisabled:f,onFocus:d,onBlur:p,...A}=t,g=t["aria-describedby"]?[t["aria-describedby"]]:[];return(null==i?void 0:i.hasFeedbackText)&&(null==i?void 0:i.isInvalid)&&g.push(i.feedbackId),(null==i?void 0:i.hasHelpText)&&g.push(i.helpTextId),{...A,"aria-describedby":g.join(" ")||void 0,id:null!=o?o:null==i?void 0:i.id,isDisabled:null!=(e=null!=s?s:f)?e:null==i?void 0:i.isDisabled,isReadOnly:null!=(n=null!=a?a:h)?n:null==i?void 0:i.isReadOnly,isRequired:null!=(r=null!=l?l:c)?r:null==i?void 0:i.isRequired,isInvalid:null!=u?u:null==i?void 0:i.isInvalid,onFocus:Y_(null==i?void 0:i.onFocus,d),onBlur:Y_(null==i?void 0:i.onBlur,p)}}PK.displayName="FormHelperText";var TK=xw((function(t,e){const{htmlSize:n,...r}=t,i=WS("Input",r),o=function(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:i,...o}=MK(t);return{...o,disabled:e,readOnly:r,required:i,"aria-invalid":X_(n),"aria-required":X_(i),"aria-readonly":X_(r)}}(FS(r)),s=z_("chakra-input",t.className);return(0,nA.jsx)(cC.input,{size:n,...o,__css:i.field,ref:e,className:s})}));TK.displayName="Input",TK.id="Input";var[OK,IK]=sw({name:"ListStylesContext",errorMessage:"useListStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<List />\" "}),RK=xw((function(t,e){const n=WS("List",t),{children:r,styleType:i="none",stylePosition:o,spacing:s,...a}=FS(t),l=fw(r),c="& > *:not(style) ~ *:not(style)",u=s?{[c]:{mt:s}}:{};return(0,nA.jsx)(OK,{value:n,children:(0,nA.jsx)(cC.ul,{ref:e,listStyleType:i,listStylePosition:o,role:"list",__css:{...n.container,...u},...a,children:l})})}));RK.displayName="List",xw(((t,e)=>{const{as:n,...r}=t;return(0,nA.jsx)(RK,{ref:e,as:"ol",styleType:"decimal",marginStart:"1em",...r})})).displayName="OrderedList",xw((function(t,e){const{as:n,...r}=t;return(0,nA.jsx)(RK,{ref:e,as:"ul",styleType:"initial",marginStart:"1em",...r})})).displayName="UnorderedList";var LK=xw((function(t,e){const n=IK();return(0,nA.jsx)(cC.li,{ref:e,...t,__css:n.item})}));LK.displayName="ListItem";var kK=xw((function(t,e){const n=IK();return(0,nA.jsx)(qC,{ref:e,role:"presentation",...t,__css:n.icon})}));kK.displayName="ListIcon";var[BK,NK]=sw({name:"CheckboxGroupContext",strict:!1});function DK(t){return(0,nA.jsx)(cC.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:(0,nA.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function FK(t){return(0,nA.jsx)(cC.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:(0,nA.jsx)("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function jK(t){const{isIndeterminate:e,isChecked:n,...r}=t,i=e?FK:DK;return n||e?(0,nA.jsx)(cC.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,nA.jsx)(i,{...r})}):null}var UK=Boolean(null==globalThis?void 0:globalThis.document)?r.useLayoutEffect:r.useEffect;function zK(t,e){const n=(0,r.useRef)(!1),i=(0,r.useRef)(!1);(0,r.useEffect)((()=>{if(n.current&&i.current)return t();i.current=!0}),e),(0,r.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[])}var GK={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};var VK=()=>"undefined"!==typeof document;var HK=!1,WK=null,qK=!1,XK=!1,YK=new Set;function QK(t,e){YK.forEach((n=>n(t,e)))}var KK="undefined"!==typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function JK(t){var e;qK=!0,(e=t).metaKey||!KK&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(WK="keyboard",QK("keyboard",t))}function ZK(t){if(WK="pointer","mousedown"===t.type||"pointerdown"===t.type){qK=!0;const e=t.composedPath?t.composedPath()[0]:t.target;let n=!1;try{n=e.matches(":focus-visible")}catch{}if(n)return;QK("pointer",t)}}function $K(t){var e;(0===(e=t).mozInputSource&&e.isTrusted||0===e.detail&&!e.pointerType)&&(qK=!0,WK="virtual")}function tJ(t){t.target!==window&&t.target!==document&&(qK||XK||(WK="virtual",QK("virtual",t)),qK=!1,XK=!1)}function eJ(){qK=!1,XK=!0}function nJ(){return"pointer"!==WK}function rJ(){if(!VK()||HK)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(){qK=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(this,n)},document.addEventListener("keydown",JK,!0),document.addEventListener("keyup",JK,!0),document.addEventListener("click",$K,!0),window.addEventListener("focus",tJ,!0),window.addEventListener("blur",eJ,!1),"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",ZK,!0),document.addEventListener("pointermove",ZK,!0),document.addEventListener("pointerup",ZK,!0)):(document.addEventListener("mousedown",ZK,!0),document.addEventListener("mousemove",ZK,!0),document.addEventListener("mouseup",ZK,!0)),HK=!0}function iJ(t){rJ(),t(nJ());const e=()=>t(nJ());return YK.add(e),()=>{YK.delete(e)}}function oJ(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=MK(t),{isDisabled:n,isReadOnly:i,isRequired:o,isInvalid:s,id:a,onBlur:l,onFocus:c,"aria-describedby":u}=e,{defaultChecked:h,isChecked:f,isFocusable:d,onChange:p,isIndeterminate:A,name:g,value:y,tabIndex:m,"aria-label":v,"aria-labelledby":b,"aria-invalid":_,...w}=t,x=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}(w,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),E=uw(p),S=uw(l),C=uw(c),[P,M]=(0,r.useState)(!1),[T,O]=(0,r.useState)(!1),[I,R]=(0,r.useState)(!1),[L,k]=(0,r.useState)(!1);(0,r.useEffect)((()=>iJ(M)),[]);const B=(0,r.useRef)(null),[N,D]=(0,r.useState)(!0),[F,j]=(0,r.useState)(!!h),U=void 0!==f,z=U?f:F,G=(0,r.useCallback)((t=>{i||n?t.preventDefault():(U||j(z?t.target.checked:!!A||t.target.checked),null==E||E(t))}),[i,n,z,U,A,E]);UK((()=>{B.current&&(B.current.indeterminate=Boolean(A))}),[A]),zK((()=>{n&&O(!1)}),[n,O]),UK((()=>{const t=B.current;if(!(null==t?void 0:t.form))return;const e=()=>{j(!!h)};return t.form.addEventListener("reset",e),()=>{var n;return null==(n=t.form)?void 0:n.removeEventListener("reset",e)}}),[]);const V=n&&!d,H=(0,r.useCallback)((t=>{" "===t.key&&k(!0)}),[k]),W=(0,r.useCallback)((t=>{" "===t.key&&k(!1)}),[k]);UK((()=>{if(!B.current)return;B.current.checked!==z&&j(B.current.checked)}),[B.current]);const q=(0,r.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,"data-active":q_(L),"data-hover":q_(I),"data-checked":q_(z),"data-focus":q_(T),"data-focus-visible":q_(T&&P),"data-indeterminate":q_(A),"data-disabled":q_(n),"data-invalid":q_(s),"data-readonly":q_(i),"aria-hidden":!0,onMouseDown:Y_(t.onMouseDown,(t=>{T&&t.preventDefault(),k(!0)})),onMouseUp:Y_(t.onMouseUp,(()=>k(!1))),onMouseEnter:Y_(t.onMouseEnter,(()=>R(!0))),onMouseLeave:Y_(t.onMouseLeave,(()=>R(!1)))}}),[L,z,n,T,P,I,A,s,i]),X=(0,r.useCallback)((function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,"data-active":q_(L),"data-hover":q_(I),"data-checked":q_(z),"data-focus":q_(T),"data-focus-visible":q_(T&&P),"data-indeterminate":q_(A),"data-disabled":q_(n),"data-invalid":q_(s),"data-readonly":q_(i)}}),[L,z,n,T,P,I,A,s,i]),Y=(0,r.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...x,...t,ref:Q_(e,(t=>{t&&D("LABEL"===t.tagName)})),onClick:Y_(t.onClick,(()=>{var t;N||(null==(t=B.current)||t.click(),requestAnimationFrame((()=>{var t;null==(t=B.current)||t.focus({preventScroll:!0})})))})),"data-disabled":q_(n),"data-checked":q_(z),"data-invalid":q_(s)}}),[x,n,z,s,N]),Q=(0,r.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:Q_(B,e),type:"checkbox",name:g,value:y,id:a,tabIndex:m,onChange:Y_(t.onChange,G),onBlur:Y_(t.onBlur,S,(()=>O(!1))),onFocus:Y_(t.onFocus,C,(()=>O(!0))),onKeyDown:Y_(t.onKeyDown,H),onKeyUp:Y_(t.onKeyUp,W),required:o,checked:z,disabled:V,readOnly:i,"aria-label":v,"aria-labelledby":b,"aria-invalid":_?Boolean(_):s,"aria-describedby":u,"aria-disabled":n,style:GK}}),[g,y,a,G,S,C,H,W,o,z,V,i,v,b,_,s,u,n,m]),K=(0,r.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,onMouseDown:Y_(t.onMouseDown,sJ),"data-disabled":q_(n),"data-checked":q_(z),"data-invalid":q_(s)}}),[z,n,s]);return{state:{isInvalid:s,isFocused:T,isChecked:z,isActive:L,isHovered:I,isIndeterminate:A,isDisabled:n,isReadOnly:i,isRequired:o},getRootProps:Y,getCheckboxProps:q,getIndicatorProps:X,getInputProps:Q,getLabelProps:K,htmlProps:x}}function sJ(t){t.preventDefault(),t.stopPropagation()}var aJ={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},lJ={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},cJ=EC({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),uJ=EC({from:{opacity:0},to:{opacity:1}}),hJ=EC({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),fJ=xw((function(t,e){const n=NK(),i=WS("Checkbox",{...n,...t}),o=FS(t),{spacing:s="0.5rem",className:a,children:l,iconColor:c,iconSize:u,icon:h=(0,nA.jsx)(jK,{}),isChecked:f,isDisabled:d=(null==n?void 0:n.isDisabled),onChange:p,inputProps:A,...g}=o;let y=f;(null==n?void 0:n.value)&&o.value&&(y=n.value.includes(o.value));let m=p;(null==n?void 0:n.onChange)&&o.value&&(m=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.forEach((e=>{null==e||e(t)}))}}(n.onChange,p));const{state:v,getInputProps:b,getCheckboxProps:_,getLabelProps:w,getRootProps:x}=oJ({...g,isDisabled:d,isChecked:y,onChange:m}),E=function(t){const[e,n]=(0,r.useState)(t),[i,o]=(0,r.useState)(!1);return t!==e&&(o(!0),n(t)),i}(v.isChecked),S=(0,r.useMemo)((()=>({animation:E?v.isIndeterminate?"".concat(uJ," 20ms linear, ").concat(hJ," 200ms linear"):"".concat(cJ," 200ms linear"):void 0,fontSize:u,color:c,...i.icon})),[c,u,E,v.isIndeterminate,i.icon]),C=(0,r.cloneElement)(h,{__css:S,isIndeterminate:v.isIndeterminate,isChecked:v.isChecked});return(0,nA.jsxs)(cC.label,{__css:{...lJ,...i.container},className:z_("chakra-checkbox",a),...x(),children:[(0,nA.jsx)("input",{className:"chakra-checkbox__input",...b(A,e)}),(0,nA.jsx)(cC.span,{__css:{...aJ,...i.control},className:"chakra-checkbox__control",..._(),children:C}),l&&(0,nA.jsx)(cC.span,{className:"chakra-checkbox__label",...w(),__css:{marginStart:s,...i.label},children:l})]})}));fJ.displayName="Checkbox";const dJ={health:"Salud",recreation:"Recreaci\xf3n",education:"Educaci\xf3n"},pJ=()=>{const[t,e]=(0,r.useState)(""),[n,i]=(0,r.useState)(!1),o=xA((t=>t.accessibilityList.accessibilityList)),s=BA(),a=sd.reduce(((t,e)=>(t[e.type]=t[e.type]||[],t[e.type].push(e),t)),{}),[l,c]=(0,r.useState)({});(0,r.useEffect)((()=>{const t=o.reduce(((t,e)=>(t[e.value]=!0,t)),{});c(t)}),[o]);return(0,nA.jsxs)(yC,{className:"selectAutoComplete",position:"relative",children:[(0,nA.jsx)(TK,{variant:"filled",placeholder:"Selecciona un equipamiento de inter\xe9s",value:t,onChange:t=>e(t.target.value),onFocus:()=>i(!0),onBlur:()=>setTimeout((()=>i(!1)),100),size:"sm",mt:"2"}),n&&(0,nA.jsx)(yC,{position:"absolute",top:"3rem",left:"0",right:"0",borderWidth:"1px",borderRadius:"md",maxH:"200px",overflowY:"auto",bg:"white",zIndex:"1",children:(0,nA.jsx)(RK,{size:"sm",spacing:1,children:Object.entries(a).map((t=>{let[e,n]=t;const i=n.every((t=>l[t.value])),u=n.some((t=>l[t.value]))&&!i;return(0,nA.jsxs)(r.Fragment,{children:[(0,nA.jsx)(LK,{px:"2",py:"2",fontWeight:"bold",bg:"gray.100",borderBottom:"1px solid",borderColor:"gray.200",children:(0,nA.jsx)(fJ,{isChecked:i,isIndeterminate:u,colorScheme:"purple",onChange:t=>((t,e)=>{console.log(t);const n={...l};if(a[t].forEach((t=>{n[t.value]=e})),c(n),e){const e=a[t].filter((t=>!o.some((e=>e.value===t.value))));s(M_([...o,...e]))}else{const e=o.filter((e=>!a[t].some((t=>t.value===e.value))));s(M_(e))}})(e,t.target.checked),children:dJ[e]})}),n.map((t=>(0,nA.jsx)(yC,{children:(0,nA.jsx)(fJ,{px:"4",size:"sm",colorScheme:"purple",isChecked:l[t.value]||!1,onChange:e=>{((t,e)=>{const n={...l,[t.value]:e};if(c(n),e)s(M_([...o,t]));else{const e=o.filter((e=>e.value!==t.value));s(M_(e))}})(t,e.target.checked),e.stopPropagation(),e.preventDefault()},children:t.label})})))]},e)}))})}),(0,nA.jsx)(yC,{mt:2,width:"100%",children:(0,nA.jsxs)(bC,{fontSize:"sm",fontWeight:"400",children:[(0,nA.jsx)("b",{children:"Seleccionados: "}),(()=>{const t=[];return Object.entries(a).forEach((e=>{let[n,r]=e;const i=r.every((t=>l[t.value])),o=r.some((t=>l[t.value]));i?t.push(n.charAt(0).toUpperCase()+n.slice(1)):o&&r.forEach((e=>{l[e.value]&&t.push(e.label)}))})),t.join(", ")})()||"Todos"]})})]})};class AJ extends r.PureComponent{render(){const{root:t,depth:e,x:n,y:r,width:i,height:o,index:s,payload:a,colors:l,rank:c,name:u,size:h}=this.props;let f=fd[u];return(0,nA.jsxs)("g",{children:[(0,nA.jsx)("rect",{x:n,y:r,width:i,height:o,style:{fill:e<2?f:"#ffffff00",stroke:"#fff",strokeWidth:2/(e+1e-10),strokeOpacity:1/(e+1e-10)}}),1===e?(0,nA.jsx)("text",{x:n+i/2,y:r+o/2+7,textAnchor:"middle",fill:"#fff",fontSize:14,children:dJ[u]}):null,2===e?(0,nA.jsx)("text",{x:n+4,y:r+18,fill:"#fff",fontSize:16,fillOpacity:.9,children:h}):null]})}}const gJ=t=>{let{metrics:e}=t;const n=xA((t=>t.accessibilityList.accessibilityPoints));let r=[],i={name:""},o={},s=[],a=0;n.forEach((t=>{let e="";if(sd.forEach((n=>{t.amenity==n.label&&(e=n.type)})),o[e]||(o[e]={}),o[e][t.amenity]||(o[e][t.amenity]=0),o[e][t.amenity]+=1,!i[e]){i[e]=0;let t=fd[e];r.push((0,nA.jsx)(KW,{dataKey:e,name:dJ[e],fill:t||"gray"}))}i[e]++,a++}));for(const[l,c]of Object.entries(o)){const t=[];for(const[e,n]of Object.entries(c))t.push({name:e,size:n});s.push({name:l,children:t})}return(0,nA.jsx)("div",{className:"accesibilidad tab__main",children:(0,nA.jsxs)(GC,{defaultIndex:[0],allowToggle:!0,children:[(0,nA.jsxs)(VC,{style:{borderWidth:"0px"},children:[(0,nA.jsxs)(HC,{className:"accordion-header",children:[(0,nA.jsx)(yC,{flex:"1",textAlign:"left",children:"Servicios de proximidad"}),(0,nA.jsx)(XC,{})]}),(0,nA.jsx)(Qk,{p:0,children:(0,nA.jsxs)(Zk,{spacing:"0",className:"accordion-body",children:[(0,nA.jsxs)(yC,{className:"stat-row",children:[(0,nA.jsx)(yC,{className:"stat-title-box",children:(0,nA.jsx)(bC,{className:"stat-title",children:"Puntuaje de Accesibilidad (0 a 100)"})}),(0,nA.jsx)(yC,{className:"stat-value full",children:(0,nA.jsx)(yC,{children:(0,nA.jsxs)(bC,{children:[" ",(0,nA.jsx)(qC,{as:VQ})," ",Math.trunc(100*e.accessibility_score)]})})})]}),(0,nA.jsxs)(yC,{className:"stat-row",children:[(0,nA.jsx)(yC,{className:"stat-title-box",children:(0,nA.jsx)(bC,{className:"stat-title",children:"Servicios y equipamientos"})}),(0,nA.jsx)(yC,{className:"stat-value full",style:{width:"100%",padding:"0 1rem"},children:(0,nA.jsx)(pJ,{})})]}),(0,nA.jsxs)(yC,{className:"stat-row",children:[(0,nA.jsx)(yC,{className:"stat-title-box",children:(0,nA.jsx)(bC,{className:"stat-title",children:"Total de equipamientos dentro del \xe1rea"})}),(0,nA.jsx)(yC,{className:"stat-value full",children:(0,nA.jsx)(yC,{children:(0,nA.jsxs)(bC,{children:[" ",a," "]})})})]}),(0,nA.jsxs)(yC,{className:"stat-row",children:[(0,nA.jsx)(yC,{className:"stat-title-box",children:(0,nA.jsx)(bC,{className:"stat-title",children:"Tipos de equipamientos"})}),(0,nA.jsx)(yC,{className:"stat-value full",children:(0,nA.jsx)(uN,{width:"100%",height:200,style:{margin:"1rem"},children:s.length?(0,nA.jsx)(_K,{data:s,dataKey:"size",animationDuration:100,content:(0,nA.jsx)(AJ,{}),children:(0,nA.jsx)(HF,{})}):(0,nA.jsx)("div",{children:"No hay datos en el \xe1rea"})})})]})]})})]}),(0,nA.jsxs)(VC,{style:{borderWidth:"0px"},children:[(0,nA.jsxs)(HC,{className:"accordion-header",children:[(0,nA.jsx)(yC,{flex:"1",textAlign:"left",children:"Radio de cobertura"}),(0,nA.jsx)(XC,{})]}),(0,nA.jsx)(Qk,{p:0,children:(0,nA.jsxs)(Zk,{spacing:"0",className:"accordion-body",children:[(0,nA.jsxs)(yC,{className:"stat-row",children:[(0,nA.jsx)(yC,{className:"stat-title-box",children:(0,nA.jsx)(bC,{className:"stat-title",children:"Radio de cobertura"})}),(0,nA.jsx)(yC,{className:"stat-value full",children:(0,nA.jsx)(yC,{children:(0,nA.jsx)(bC,{children:" 0.4 KM"})})})]}),(0,nA.jsxs)(yC,{className:"stat-row",children:[(0,nA.jsx)(yC,{className:"stat-title-box",children:(0,nA.jsx)(bC,{className:"stat-title",children:"Pendiente"})}),(0,nA.jsx)(yC,{className:"stat-value full",children:(0,nA.jsx)(yC,{children:(0,nA.jsxs)(bC,{children:[" ",(0,nA.jsx)(qC,{as:GQ})," ",Math.trunc(e.mean_slope),"\xb0"]})})})]})]})})]})]})})},yJ=()=>{const[t,e]=(0,r.useState)({}),n=xA((t=>t.selectedLots.selectedLots)),i=xA((t=>t.viewMode.viewMode)),o=BA();return(0,r.useEffect)((()=>{(async()=>{if(0===n.length)return;const t=n&&n.length&&i!==ld.FULL?n.filter((t=>void 0!==t)):void 0;console.log("--PREDIOS--");const r=await im.post("".concat("http://reimagina-urbano-api.eastus.cloudapp.azure.com:8000","/predios"),{lots:t});r&&r.data&&(console.log(r.data),e(r.data))})()}),[n]),(0,nA.jsxs)(fC,{className:"mainSidebar",variant:"soft-rounded",colorScheme:"green",children:[(0,nA.jsxs)(dC,{children:[(0,nA.jsx)(pC,{className:"tab-visor",_selected:{bg:"var(--visor-primary-opacity)",color:"white"},onClick:()=>{o(B_(ud.VISOR)),o(tB("poblacion"))},children:"Visor"}),(0,nA.jsx)(pC,{className:"tab-accesibilidad",_selected:{bg:"var(--accesibilidad-primary-opacity)",color:"white"},onClick:()=>{o(B_(ud.ACCESIBILIDAD)),o(tB("minutes"))},children:"Accesibilidad"}),(0,nA.jsx)(pC,{className:"tab-potencial",_selected:{bg:"rgba(206, 173, 102, 0.8)",color:"white"},onClick:()=>{o(B_(ud.POTENCIAL))},children:"Potencial"})]}),(0,nA.jsxs)(AC,{children:[(0,nA.jsx)(gC,{children:(0,nA.jsx)(UQ,{metrics:t})}),(0,nA.jsx)(gC,{children:(0,nA.jsx)(gJ,{metrics:t})}),(0,nA.jsx)(gC,{children:(0,nA.jsx)("p",{children:"Contenido de Potencial"})})]}),(0,nA.jsx)(zQ,{})]})};const mJ=function(){return""===window.location.pathname.split("/")[1]&&(window.location.href="/primavera"),(0,nA.jsxs)("div",{style:{width:"100dvw",height:"100dvh"},children:[(0,nA.jsx)(yJ,{}),(0,nA.jsx)(UA,{})]})},vJ=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,46453)).then((e=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=e;n(t),r(t),i(t),o(t),s(t)}))};var bJ,_J,wJ=String.raw,xJ=wJ(bJ||(bJ=UD(["\n  :root,\n  :host {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root,\n    :host {\n      --chakra-vh: 100dvh;\n    }\n  }\n"]))),EJ=()=>(0,nA.jsx)(wC,{styles:xJ}),SJ=t=>{let{scope:e=""}=t;return(0,nA.jsx)(wC,{styles:wJ(_J||(_J=UD(['\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        margin: 0;\n        font-feature-settings: "kern";\n      }\n\n      '," :where(*, *::before, *::after) {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n        word-wrap: break-word;\n      }\n\n      main {\n        display: block;\n      }\n\n      "," hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      "," :where(pre, code, kbd,samp) {\n        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      "," a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      "," abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      "," :where(b, strong) {\n        font-weight: bold;\n      }\n\n      "," small {\n        font-size: 80%;\n      }\n\n      "," :where(sub,sup) {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      "," sub {\n        bottom: -0.25em;\n      }\n\n      "," sup {\n        top: -0.5em;\n      }\n\n      "," img {\n        border-style: none;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      "," :where(button, input) {\n        overflow: visible;\n      }\n\n      "," :where(button, select) {\n        text-transform: none;\n      }\n\n      ",' :where(\n          button::-moz-focus-inner,\n          [type="button"]::-moz-focus-inner,\n          [type="reset"]::-moz-focus-inner,\n          [type="submit"]::-moz-focus-inner\n        ) {\n        border-style: none;\n        padding: 0;\n      }\n\n      '," fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      "," legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      "," progress {\n        vertical-align: baseline;\n      }\n\n      "," textarea {\n        overflow: auto;\n      }\n\n      ",' :where([type="checkbox"], [type="radio"]) {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      ',' input[type="number"]::-webkit-inner-spin-button,\n      ',' input[type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      ',' input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      ',' input[type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      ',' input[type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      '," ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      "," details {\n        display: block;\n      }\n\n      "," summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      "," :where(\n          blockquote,\n          dl,\n          dd,\n          h1,\n          h2,\n          h3,\n          h4,\n          h5,\n          h6,\n          hr,\n          figure,\n          p,\n          pre\n        ) {\n        margin: 0;\n      }\n\n      "," button {\n        background: transparent;\n        padding: 0;\n      }\n\n      "," fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," :where(ol, ul) {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," textarea {\n        resize: vertical;\n      }\n\n      ",' :where(button, [role="button"]) {\n        cursor: pointer;\n      }\n\n      '," button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      "," table {\n        border-collapse: collapse;\n      }\n\n      "," :where(h1, h2, h3, h4, h5, h6) {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      "," :where(img, svg, video, canvas, audio, iframe, embed, object) {\n        display: block;\n      }\n\n      "," :where(img, video) {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible]\n        :focus:not([data-focus-visible-added]):not(\n          [data-focus-visible-disabled]\n        ) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      "," select::-ms-expand {\n        display: none;\n      }\n\n      ","\n    "])),e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,xJ)})},[CJ,PJ]=sw({strict:!1,name:"PortalManagerContext"});function MJ(t){const{children:e,zIndex:n}=t;return(0,nA.jsx)(CJ,{value:{zIndex:n},children:e})}function TJ(t){const{cssVarsRoot:e,theme:n,children:i}=t,o=(0,r.useMemo)((()=>SS(n)),[n]);return(0,nA.jsxs)(Qx,{theme:o,children:[(0,nA.jsx)(OJ,{root:e}),i]})}function OJ(t){let{root:e=":host, :root"}=t;const n=[e,"[data-theme]"].join(",");return(0,nA.jsx)(wC,{styles:t=>({[n]:t.__cssVars})})}MJ.displayName="PortalManager";var[IJ,RJ]=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:i}=t,o=(0,r.createContext)(void 0);return o.displayName=i,[o.Provider,function t(){var i;const s=(0,r.useContext)(o);if(!s&&e){const e=new Error(n);throw e.name="ContextError",null==(i=Error.captureStackTrace)||i.call(Error,e,t),e}return s},o]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function LJ(){const{colorMode:t}=Jx();return(0,nA.jsx)(wC,{styles:e=>{const n=QS(jS(e,"styles.global"),{theme:e,colorMode:t});if(!n)return;return kS(n)(e)}})}var kJ={light:"chakra-ui-light",dark:"chakra-ui-dark"};var BJ="chakra-ui-color-mode";var NJ,DJ=(NJ=BJ,{ssr:!1,type:"localStorage",get(t){if(!(null==globalThis?void 0:globalThis.document))return t;let e;try{e=localStorage.getItem(NJ)||t}catch(n){}return e||t},set(t){try{localStorage.setItem(NJ,t)}catch(e){}}});function FJ(t,e){const n=t.match(new RegExp("(^| )".concat(e,"=([^;]+)")));return null==n?void 0:n[2]}function jJ(t,e){return{ssr:!!e,type:"cookie",get:n=>e?FJ(e,t):(null==globalThis?void 0:globalThis.document)&&FJ(document.cookie,t)||n,set(e){document.cookie="".concat(t,"=").concat(e,"; max-age=31536000; path=/")}}}jJ(BJ);var UJ=()=>{};function zJ(t,e){return"cookie"===t.type&&t.ssr?t.get(e):e}function GJ(t){const{value:e,children:n,options:{useSystemColorMode:i,initialColorMode:o,disableTransitionOnChange:s}={},colorModeManager:a=DJ}=t,l="dark"===o?"dark":"light",[c,u]=(0,r.useState)((()=>zJ(a,l))),[h,f]=(0,r.useState)((()=>zJ(a))),{getSystemTheme:d,setClassName:p,setDataset:A,addListener:g}=(0,r.useMemo)((()=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{preventTransition:e=!0}=t,n={setDataset:t=>{const r=e?n.preventTransition():void 0;document.documentElement.dataset.theme=t,document.documentElement.style.colorScheme=t,null==r||r()},setClassName(t){document.body.classList.add(t?kJ.dark:kJ.light),document.body.classList.remove(t?kJ.light:kJ.dark)},query:()=>window.matchMedia("(prefers-color-scheme: dark)"),getSystemTheme(t){var e;return(null!=(e=n.query().matches)?e:"dark"===t)?"dark":"light"},addListener(t){const e=n.query(),r=e=>{t(e.matches?"dark":"light")};return"function"===typeof e.addListener?e.addListener(r):e.addEventListener("change",r),()=>{"function"===typeof e.removeListener?e.removeListener(r):e.removeEventListener("change",r)}},preventTransition(){const t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),requestAnimationFrame((()=>{requestAnimationFrame((()=>{document.head.removeChild(t)}))}))}}};return n}({preventTransition:s})),[s]),y="system"!==o||c?c:h,m=(0,r.useCallback)((t=>{const e="system"===t?d():t;u(e),p("dark"===e),A(e),a.set(e)}),[a,d,p,A]);UK((()=>{"system"===o&&f(d())}),[]),(0,r.useEffect)((()=>{const t=a.get();m(t||("system"!==o?l:"system"))}),[a,l,o,m]);const v=(0,r.useCallback)((()=>{m("dark"===y?"light":"dark")}),[y,m]);(0,r.useEffect)((()=>{if(i)return g(m)}),[i,g,m]);const b=(0,r.useMemo)((()=>({colorMode:null!=e?e:y,toggleColorMode:e?UJ:v,setColorMode:e?UJ:m,forced:void 0!==e})),[y,v,m,e]);return(0,nA.jsx)(Kx.Provider,{value:b,children:n})}GJ.displayName="ColorModeProvider";var VJ=(0,r.createContext)({getDocument:()=>document,getWindow:()=>window});function HJ(t){const{children:e,environment:n,disabled:i}=t,o=(0,r.useRef)(null),s=(0,r.useMemo)((()=>n||{getDocument:()=>{var t,e;return null!=(e=null==(t=o.current)?void 0:t.ownerDocument)?e:document},getWindow:()=>{var t,e;return null!=(e=null==(t=o.current)?void 0:t.ownerDocument.defaultView)?e:window}}),[n]),a=!i||!n;return(0,nA.jsxs)(VJ.Provider,{value:s,children:[e,a&&(0,nA.jsx)("span",{id:"__chakra_env",hidden:!0,ref:o})]})}VJ.displayName="EnvironmentContext",HJ.displayName="EnvironmentProvider";var WJ=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:s={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=t,h=(0,nA.jsx)(HJ,{environment:a,disabled:c,children:e});return(0,nA.jsx)(TJ,{theme:s,cssVarsRoot:l,children:(0,nA.jsxs)(GJ,{colorModeManager:n,options:s.config,children:[o?(0,nA.jsx)(SJ,{scope:i}):(0,nA.jsx)(EJ,{}),!u&&(0,nA.jsx)(LJ,{}),r?(0,nA.jsx)(MJ,{zIndex:r,children:h}):h]})})},qJ={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},XJ={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},YJ={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},QJ={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},KJ={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},JJ={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},ZJ={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},$J={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},tZ={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},eZ={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},nZ={...eZ,max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch",container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}},rZ={breakpoints:QJ,zIndices:XJ,radii:JJ,blur:$J,colors:KJ,...tZ,sizes:nZ,shadows:ZJ,space:eZ,borders:YJ,transition:qJ},{defineMultiStyleConfig:iZ,definePartsStyle:oZ}=BS(["stepper","step","title","description","indicator","separator","icon","number"]),sZ=ZE("stepper-indicator-size"),aZ=ZE("stepper-icon-size"),lZ=ZE("stepper-title-font-size"),cZ=ZE("stepper-description-font-size"),uZ=ZE("stepper-accent-color"),hZ=oZ((t=>{let{colorScheme:e}=t;return{stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[uZ.variable]:"colors.".concat(e,".500"),_dark:{[uZ.variable]:"colors.".concat(e,".200")}},title:{fontSize:lZ.reference,fontWeight:"medium"},description:{fontSize:cZ.reference,color:"chakra-subtle-text"},number:{fontSize:lZ.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:aZ.reference,height:aZ.reference},indicator:{flexShrink:0,borderRadius:"full",width:sZ.reference,height:sZ.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:uZ.reference},"&[data-status=complete]":{bg:uZ.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:uZ.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:"calc(100% - ".concat(sZ.reference," - 8px)"),top:"calc(".concat(sZ.reference," + 4px)"),insetStart:"calc(".concat(sZ.reference," / 2 - 1px)")}}}})),fZ=iZ({baseStyle:hZ,sizes:{xs:oZ({stepper:{[sZ.variable]:"sizes.4",[aZ.variable]:"sizes.3",[lZ.variable]:"fontSizes.xs",[cZ.variable]:"fontSizes.xs"}}),sm:oZ({stepper:{[sZ.variable]:"sizes.6",[aZ.variable]:"sizes.4",[lZ.variable]:"fontSizes.sm",[cZ.variable]:"fontSizes.xs"}}),md:oZ({stepper:{[sZ.variable]:"sizes.8",[aZ.variable]:"sizes.5",[lZ.variable]:"fontSizes.md",[cZ.variable]:"fontSizes.sm"}}),lg:oZ({stepper:{[sZ.variable]:"sizes.10",[aZ.variable]:"sizes.6",[lZ.variable]:"fontSizes.lg",[cZ.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function dZ(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;function r(e){const n=(["container","root"].includes(null!=e?e:"")?[t]:[t,e]).filter(Boolean).join("__"),r="chakra-".concat(n);return{className:r,selector:".".concat(r),toString:()=>e}}return{parts:function(){!function(){if(n)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");n=!0}();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(const t of o)e[t]=r(t);return dZ(t,e)},toPart:r,extend:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(const t of i)t in e||(e[t]=r(t));return dZ(t,e)},selectors:function(){const t=Object.fromEntries(Object.entries(e).map((t=>{let[e,n]=t;return[e,n.selector]})));return t},classnames:function(){const t=Object.fromEntries(Object.entries(e).map((t=>{let[e,n]=t;return[e,n.className]})));return t},get keys(){return Object.keys(e)},__type:{}}}var pZ=dZ("accordion").parts("root","container","button","panel").extend("icon"),AZ=dZ("alert").parts("title","description","container").extend("icon","spinner"),gZ=dZ("avatar").parts("label","badge","container").extend("excessLabel","group"),yZ=dZ("breadcrumb").parts("link","item","container").extend("separator"),mZ=(dZ("button").parts(),dZ("checkbox").parts("control","icon","container").extend("label")),vZ=(dZ("progress").parts("track","filledTrack").extend("label"),dZ("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),bZ=dZ("editable").parts("preview","input","textarea"),_Z=dZ("form").parts("container","requiredIndicator","helperText"),wZ=dZ("formError").parts("text","icon"),xZ=dZ("input").parts("addon","field","element","group"),EZ=dZ("list").parts("container","item","icon"),SZ=dZ("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),CZ=dZ("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),PZ=dZ("numberinput").parts("root","field","stepperGroup","stepper"),MZ=(dZ("pininput").parts("field"),dZ("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),TZ=dZ("progress").parts("label","filledTrack","track"),OZ=dZ("radio").parts("container","control","label"),IZ=dZ("select").parts("field","icon"),RZ=dZ("slider").parts("container","track","thumb","filledTrack","mark"),LZ=dZ("stat").parts("container","label","helpText","number","icon"),kZ=dZ("switch").parts("container","track","thumb","label"),BZ=dZ("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),NZ=dZ("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),DZ=dZ("tag").parts("container","label","closeButton"),FZ=dZ("card").parts("container","header","body","footer");dZ("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function jZ(t){const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(/\s+/g,e)}(t.toString());return e.includes("\\.")?t:function(t){return!Number.isInteger(parseFloat(t.toString()))}(t)?e.replace(".","\\."):t}function UZ(t,e){return"var(".concat(jZ(t)).concat(e?", ".concat(e):"",")")}function zZ(t){return"--".concat(function(t){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",jZ(t)].filter(Boolean).join("-")}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))}function GZ(t,e){const n=zZ(t,null==e?void 0:e.prefix);return{variable:n,reference:UZ(n,VZ(null==e?void 0:e.fallback))}}function VZ(t){return"string"===typeof t?t:null==t?void 0:t.reference}function HZ(t){return G_(t)&&t.reference?t.reference:String(t)}var WZ=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(HZ).join(" ".concat(t," ")).replace(/calc/g,"")},qZ=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(WZ("+",...e),")")},XZ=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(WZ("-",...e),")")},YZ=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(WZ("*",...e),")")},QZ=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(WZ("/",...e),")")},KZ=t=>{const e=HZ(t);return null==e||Number.isNaN(parseFloat(e))?YZ(e,-1):String(e).startsWith("-")?String(e).slice(1):"-".concat(e)},JZ=Object.assign((t=>({add:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return JZ(qZ(t,...n))},subtract:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return JZ(XZ(t,...n))},multiply:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return JZ(YZ(t,...n))},divide:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return JZ(QZ(t,...n))},negate:()=>JZ(KZ(t)),toString:()=>t.toString()})),{add:qZ,subtract:XZ,multiply:YZ,divide:QZ,negate:KZ}),{defineMultiStyleConfig:ZZ,definePartsStyle:$Z}=BS(kZ.keys),t$=GZ("switch-track-width"),e$=GZ("switch-track-height"),n$=GZ("switch-track-diff"),r$=JZ.subtract(t$,e$),i$=GZ("switch-thumb-x"),o$=GZ("switch-bg"),s$=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[t$.reference],height:[e$.reference],transitionProperty:"common",transitionDuration:"fast",[o$.variable]:"colors.gray.300",_dark:{[o$.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[o$.variable]:"colors.".concat(e,".500"),_dark:{[o$.variable]:"colors.".concat(e,".200")}},bg:o$.reference}},a$={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[e$.reference],height:[e$.reference],_checked:{transform:"translateX(".concat(i$.reference,")")}},l$=ZZ({baseStyle:$Z((t=>({container:{[n$.variable]:r$,[i$.variable]:n$.reference,_rtl:{[i$.variable]:JZ(n$).negate().toString()}},track:s$(t),thumb:a$}))),sizes:{sm:$Z({container:{[t$.variable]:"1.375rem",[e$.variable]:"sizes.3"}}),md:$Z({container:{[t$.variable]:"1.875rem",[e$.variable]:"sizes.4"}}),lg:$Z({container:{[t$.variable]:"2.875rem",[e$.variable]:"sizes.6"}})},defaultProps:{size:"md",colorScheme:"blue"}});function c$(t,e){return n=>"dark"===n.colorMode?e:t}function u$(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?"vertical"===e?n:r:{}}var{defineMultiStyleConfig:h$,definePartsStyle:f$}=BS(BZ.keys),d$=f$({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),p$={"&[data-is-numeric=true]":{textAlign:"end"}},A$=f$((t=>{const{colorScheme:e}=t;return{th:{color:c$("gray.600","gray.400")(t),borderBottom:"1px",borderColor:c$("".concat(e,".100"),"".concat(e,".700"))(t),...p$},td:{borderBottom:"1px",borderColor:c$("".concat(e,".100"),"".concat(e,".700"))(t),...p$},caption:{color:c$("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),g$=f$((t=>{const{colorScheme:e}=t;return{th:{color:c$("gray.600","gray.400")(t),borderBottom:"1px",borderColor:c$("".concat(e,".100"),"".concat(e,".700"))(t),...p$},td:{borderBottom:"1px",borderColor:c$("".concat(e,".100"),"".concat(e,".700"))(t),...p$},caption:{color:c$("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:c$("".concat(e,".100"),"".concat(e,".700"))(t)},td:{background:c$("".concat(e,".100"),"".concat(e,".700"))(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),y$=h$({baseStyle:d$,variants:{simple:A$,striped:g$,unstyled:{}},sizes:{sm:f$({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:f$({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:f$({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}});function m$(t,e,n){return Math.min(Math.max(t,n),e)}class v$ extends Error{constructor(t){super('Failed to parse color: "'.concat(t,'"'))}}var b$=v$;function _$(t){if("string"!==typeof t)throw new b$(t);if("transparent"===t.trim().toLowerCase())return[0,0,0,0];let e=t.trim();e=T$.test(t)?function(t){const e=t.toLowerCase().trim(),n=x$[function(t){let e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return(e>>>0)%2341}(e)];if(!n)throw new b$(t);return"#".concat(n)}(t):t;const n=S$.exec(e);if(n){const t=Array.from(n).slice(1);return[...t.slice(0,3).map((t=>parseInt(E$(t,2),16))),parseInt(E$(t[3]||"f",2),16)/255]}const r=C$.exec(e);if(r){const t=Array.from(r).slice(1);return[...t.slice(0,3).map((t=>parseInt(t,16))),parseInt(t[3]||"ff",16)/255]}const i=P$.exec(e);if(i){const t=Array.from(i).slice(1);return[...t.slice(0,3).map((t=>parseInt(t,10))),parseFloat(t[3]||"1")]}const o=M$.exec(e);if(o){const[e,n,r,i]=Array.from(o).slice(1).map(parseFloat);if(m$(0,100,n)!==n)throw new b$(t);if(m$(0,100,r)!==r)throw new b$(t);return[...I$(e,n,r),Number.isNaN(i)?1:i]}throw new b$(t)}const w$=t=>parseInt(t.replace(/_/g,""),36),x$="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((t,e)=>{const n=w$(e.substring(0,3)),r=w$(e.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return t[n]="".concat(i).concat(r),t}),{});const E$=(t,e)=>Array.from(Array(e)).map((()=>t)).join(""),S$=new RegExp("^#".concat(E$("([a-f0-9])",3),"([a-f0-9])?$"),"i"),C$=new RegExp("^#".concat(E$("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),P$=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(E$(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),M$=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,T$=/^[a-z]+$/i,O$=t=>Math.round(255*t),I$=(t,e,n)=>{let r=n/100;if(0===e)return[r,r,r].map(O$);const i=(t%360+360)%360/60,o=(1-Math.abs(2*r-1))*(e/100),s=o*(1-Math.abs(i%2-1));let a=0,l=0,c=0;i>=0&&i<1?(a=o,l=s):i>=1&&i<2?(a=s,l=o):i>=2&&i<3?(l=o,c=s):i>=3&&i<4?(l=s,c=o):i>=4&&i<5?(a=s,c=o):i>=5&&i<6&&(a=o,c=s);const u=r-o/2;return[a+u,l+u,c+u].map(O$)};function R$(t,e,n,r){return"rgba(".concat(m$(0,255,t).toFixed(),", ").concat(m$(0,255,e).toFixed(),", ").concat(m$(0,255,n).toFixed(),", ").concat(parseFloat(m$(0,1,r).toFixed(3)),")")}function L$(t,e){const[n,r,i,o]=_$(t);return R$(n,r,i,o-e)}var k$=(t,e,n)=>{const r=function(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}(t,"colors.".concat(e),e);try{return function(t){const[e,n,r,i]=_$(t);let o=t=>{const e=m$(0,255,t).toString(16);return 1===e.length?"0".concat(e):e};"#".concat(o(e)).concat(o(n)).concat(o(r)).concat(i<1?o(Math.round(255*i)):"")}(r),r}catch{return null!=n?n:"#000000"}},B$=t=>e=>{const n=(t=>{const[e,n,r]=_$(t);return(299*e+587*n+114*r)/1e3})(k$(e,t));return n<128?"dark":"light"},N$=(t,e)=>n=>L$(k$(n,t),1-e);function D$(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:"linear-gradient(\n    45deg,\n    ".concat(e," 25%,\n    transparent 25%,\n    transparent 50%,\n    ").concat(e," 50%,\n    ").concat(e," 75%,\n    transparent 75%,\n    transparent\n  )"),backgroundSize:"".concat(t," ").concat(t)}}function F$(t){const e="#".concat(Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"));return t&&(n=t,0!==Object.keys(n).length)?t.string&&t.colors?function(t,e){let n=0;if(0===t.length)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n|=0;return n=(n%e.length+e.length)%e.length,e[n]}(t.string,t.colors):t.string&&!t.colors?function(t){let e=0;if(0===t.length)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e|=0;let n="#";for(let r=0;r<3;r+=1){n+="00".concat((e>>8*r&255).toString(16)).substr(-2)}return n}(t.string):t.colors&&!t.string?function(t){return t[Math.floor(Math.random()*t.length)]}(t.colors):e:e;var n}var j$=ZE("tabs-color"),U$=ZE("tabs-bg"),z$=ZE("tabs-border-color"),{defineMultiStyleConfig:G$,definePartsStyle:V$}=BS(NZ.keys),H$=t=>{const{orientation:e}=t;return{display:"vertical"===e?"flex":"block"}},W$=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},q$=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:"vertical"===n?"column":"row"}},X$={p:4},Y$=V$((t=>({root:H$(t),tab:W$(t),tablist:q$(t),tabpanel:X$}))),Q$={sm:V$({tab:{py:1,px:4,fontSize:"sm"}}),md:V$({tab:{fontSize:"md",py:2,px:4}}),lg:V$({tab:{fontSize:"lg",py:3,px:4}})},K$=V$((t=>{const{colorScheme:e,orientation:n}=t,r="vertical"===n,i=r?"borderStart":"borderBottom",o=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[o]:"-2px",_selected:{[j$.variable]:"colors.".concat(e,".600"),_dark:{[j$.variable]:"colors.".concat(e,".300")},borderColor:"currentColor"},_active:{[U$.variable]:"colors.gray.200",_dark:{[U$.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:j$.reference,bg:U$.reference}}})),J$=V$((t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[z$.variable]:"transparent",_selected:{[j$.variable]:"colors.".concat(e,".600"),[z$.variable]:"colors.white",_dark:{[j$.variable]:"colors.".concat(e,".300"),[z$.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:z$.reference},color:j$.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),Z$=V$((t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[U$.variable]:"colors.gray.50",_dark:{[U$.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[U$.variable]:"colors.white",[j$.variable]:"colors.".concat(e,".600"),_dark:{[U$.variable]:"colors.gray.800",[j$.variable]:"colors.".concat(e,".300")},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:j$.reference,bg:U$.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),$$=V$((t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:k$(n,"".concat(e,".700")),bg:k$(n,"".concat(e,".100"))}}}})),t0=V$((t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[j$.variable]:"colors.gray.600",_dark:{[j$.variable]:"inherit"},_selected:{[j$.variable]:"colors.white",[U$.variable]:"colors.".concat(e,".600"),_dark:{[j$.variable]:"colors.gray.800",[U$.variable]:"colors.".concat(e,".300")}},color:j$.reference,bg:U$.reference}}})),e0=G$({baseStyle:Y$,sizes:Q$,variants:{line:K$,enclosed:J$,"enclosed-colored":Z$,"soft-rounded":$$,"solid-rounded":t0,unstyled:V$({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),n0=function(t,e){const n={};for(const r of e)if(Array.isArray(r)){const[e,i]=r;n[e]=ZE("".concat(t,"-").concat(e),i)}else n[r]=ZE("".concat(t,"-").concat(r));return n}("badge",["bg","color","shadow"]),r0=t=>{const{colorScheme:e,theme:n}=t,r=N$("".concat(e,".500"),.6)(n);return{[n0.bg.variable]:"colors.".concat(e,".500"),[n0.color.variable]:"colors.white",_dark:{[n0.bg.variable]:r,[n0.color.variable]:"colors.whiteAlpha.800"}}},i0=t=>{const{colorScheme:e,theme:n}=t,r=N$("".concat(e,".200"),.16)(n);return{[n0.bg.variable]:"colors.".concat(e,".100"),[n0.color.variable]:"colors.".concat(e,".800"),_dark:{[n0.bg.variable]:r,[n0.color.variable]:"colors.".concat(e,".200")}}},o0=t=>{const{colorScheme:e,theme:n}=t,r=N$("".concat(e,".200"),.8)(n);return{[n0.color.variable]:"colors.".concat(e,".500"),_dark:{[n0.color.variable]:r},[n0.shadow.variable]:"inset 0 0 0px 1px ".concat(n0.color.reference)}},s0={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:n0.bg.reference,color:n0.color.reference,boxShadow:n0.shadow.reference},variants:{solid:r0,subtle:i0,outline:o0},defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:a0,definePartsStyle:l0}=BS(DZ.keys),c0=ZE("tag-bg"),u0=ZE("tag-color"),h0=ZE("tag-shadow"),f0=ZE("tag-min-height"),d0=ZE("tag-min-width"),p0=ZE("tag-font-size"),A0=ZE("tag-padding-inline"),g0=l0({container:{fontWeight:"medium",lineHeight:1.2,outline:0,[u0.variable]:n0.color.reference,[c0.variable]:n0.bg.reference,[h0.variable]:n0.shadow.reference,color:u0.reference,bg:c0.reference,boxShadow:h0.reference,borderRadius:"md",minH:f0.reference,minW:d0.reference,fontSize:p0.reference,px:A0.reference,_focusVisible:{[h0.variable]:"shadows.outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),y0={sm:l0({container:{[f0.variable]:"sizes.5",[d0.variable]:"sizes.5",[p0.variable]:"fontSizes.xs",[A0.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:l0({container:{[f0.variable]:"sizes.6",[d0.variable]:"sizes.6",[p0.variable]:"fontSizes.sm",[A0.variable]:"space.2"}}),lg:l0({container:{[f0.variable]:"sizes.8",[d0.variable]:"sizes.8",[p0.variable]:"fontSizes.md",[A0.variable]:"space.3"}})},m0={subtle:l0((t=>{var e;return{container:null==(e=s0.variants)?void 0:e.subtle(t)}})),solid:l0((t=>{var e;return{container:null==(e=s0.variants)?void 0:e.solid(t)}})),outline:l0((t=>{var e;return{container:null==(e=s0.variants)?void 0:e.outline(t)}}))},v0=a0({variants:m0,baseStyle:g0,sizes:y0,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:b0,defineMultiStyleConfig:_0}=BS(xZ.keys),w0=ZE("input-height"),x0=ZE("input-font-size"),E0=ZE("input-padding"),S0=ZE("input-border-radius"),C0=b0({addon:{height:w0.reference,fontSize:x0.reference,px:E0.reference,borderRadius:S0.reference},field:{width:"100%",height:w0.reference,fontSize:x0.reference,px:E0.reference,borderRadius:S0.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),P0={lg:{[x0.variable]:"fontSizes.lg",[E0.variable]:"space.4",[S0.variable]:"radii.md",[w0.variable]:"sizes.12"},md:{[x0.variable]:"fontSizes.md",[E0.variable]:"space.4",[S0.variable]:"radii.md",[w0.variable]:"sizes.10"},sm:{[x0.variable]:"fontSizes.sm",[E0.variable]:"space.3",[S0.variable]:"radii.sm",[w0.variable]:"sizes.8"},xs:{[x0.variable]:"fontSizes.xs",[E0.variable]:"space.2",[S0.variable]:"radii.sm",[w0.variable]:"sizes.6"}},M0={lg:b0({field:P0.lg,group:P0.lg}),md:b0({field:P0.md,group:P0.md}),sm:b0({field:P0.sm,group:P0.sm}),xs:b0({field:P0.xs,group:P0.xs})};function T0(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||c$("blue.500","blue.300")(t),errorBorderColor:n||c$("red.500","red.300")(t)}}var O0,I0,R0,L0,k0,B0,N0,D0,F0,j0,U0,z0=b0((t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=T0(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:c$("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:k$(e,r),boxShadow:"0 0 0 1px ".concat(k$(e,r))},_focusVisible:{zIndex:1,borderColor:k$(e,n),boxShadow:"0 0 0 1px ".concat(k$(e,n))}},addon:{border:"1px solid",borderColor:c$("inherit","whiteAlpha.50")(t),bg:c$("gray.100","whiteAlpha.300")(t)}}})),G0=b0((t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=T0(t);return{field:{border:"2px solid",borderColor:"transparent",bg:c$("gray.100","whiteAlpha.50")(t),_hover:{bg:c$("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:k$(e,r)},_focusVisible:{bg:"transparent",borderColor:k$(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:c$("gray.100","whiteAlpha.50")(t)}}})),V0=b0((t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=T0(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:k$(e,r),boxShadow:"0px 1px 0px 0px ".concat(k$(e,r))},_focusVisible:{borderColor:k$(e,n),boxShadow:"0px 1px 0px 0px ".concat(k$(e,n))}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),H0=_0({baseStyle:C0,sizes:M0,variants:{outline:z0,filled:G0,flushed:V0,unstyled:b0({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),W0={...null==(O0=H0.baseStyle)?void 0:O0.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},q0={outline:t=>{var e,n;return null!=(n=null==(e=H0.variants)?void 0:e.outline(t).field)?n:{}},flushed:t=>{var e,n;return null!=(n=null==(e=H0.variants)?void 0:e.flushed(t).field)?n:{}},filled:t=>{var e,n;return null!=(n=null==(e=H0.variants)?void 0:e.filled(t).field)?n:{}},unstyled:null!=(R0=null==(I0=H0.variants)?void 0:I0.unstyled.field)?R0:{}},X0={baseStyle:W0,sizes:{xs:null!=(k0=null==(L0=H0.sizes)?void 0:L0.xs.field)?k0:{},sm:null!=(N0=null==(B0=H0.sizes)?void 0:B0.sm.field)?N0:{},md:null!=(F0=null==(D0=H0.sizes)?void 0:D0.md.field)?F0:{},lg:null!=(U0=null==(j0=H0.sizes)?void 0:j0.lg.field)?U0:{}},variants:q0,defaultProps:{size:"md",variant:"outline"}},Y0=GZ("tooltip-bg"),Q0=GZ("tooltip-fg"),K0=GZ("popper-arrow-bg"),J0={baseStyle:{bg:Y0.reference,color:Q0.reference,[Y0.variable]:"colors.gray.700",[Q0.variable]:"colors.whiteAlpha.900",_dark:{[Y0.variable]:"colors.gray.300",[Q0.variable]:"colors.gray.900"},[K0.variable]:Y0.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"}},{defineMultiStyleConfig:Z0,definePartsStyle:$0}=BS(TZ.keys),t1=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,o=c$(D$(),D$("1rem","rgba(0,0,0,0.1)"))(t),s=c$("".concat(e,".500"),"".concat(e,".200"))(t),a="linear-gradient(\n    to right,\n    transparent 0%,\n    ".concat(k$(n,s)," 50%,\n    transparent 100%\n  )");return{...!r&&i&&o,...r?{bgImage:a}:{bgColor:s}}},e1={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},n1=t=>({bg:c$("gray.100","whiteAlpha.300")(t)}),r1=t=>({transitionProperty:"common",transitionDuration:"slow",...t1(t)}),i1=$0((t=>({label:e1,filledTrack:r1(t),track:n1(t)}))),o1=Z0({sizes:{xs:$0({track:{h:"1"}}),sm:$0({track:{h:"2"}}),md:$0({track:{h:"3"}}),lg:$0({track:{h:"4"}})},baseStyle:i1,defaultProps:{size:"md",colorScheme:"blue"}});function s1(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(t=>"function"===typeof t)(t)?t(...n):t}var a1,l1,c1,u1,h1,f1,d1,p1,A1,{definePartsStyle:g1,defineMultiStyleConfig:y1}=BS(mZ.keys),m1=ZE("checkbox-size"),v1=t=>{const{colorScheme:e}=t;return{w:m1.reference,h:m1.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:c$("".concat(e,".500"),"".concat(e,".200"))(t),borderColor:c$("".concat(e,".500"),"".concat(e,".200"))(t),color:c$("white","gray.900")(t),_hover:{bg:c$("".concat(e,".600"),"".concat(e,".300"))(t),borderColor:c$("".concat(e,".600"),"".concat(e,".300"))(t)},_disabled:{borderColor:c$("gray.200","transparent")(t),bg:c$("gray.200","whiteAlpha.300")(t),color:c$("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:c$("".concat(e,".500"),"".concat(e,".200"))(t),borderColor:c$("".concat(e,".500"),"".concat(e,".200"))(t),color:c$("white","gray.900")(t)},_disabled:{bg:c$("gray.100","whiteAlpha.100")(t),borderColor:c$("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:c$("red.500","red.300")(t)}}},b1={_disabled:{cursor:"not-allowed"}},_1={userSelect:"none",_disabled:{opacity:.4}},w1={transitionProperty:"transform",transitionDuration:"normal"},x1=y1({baseStyle:g1((t=>({icon:w1,container:b1,control:s1(v1,t),label:_1}))),sizes:{sm:g1({control:{[m1.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:g1({control:{[m1.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:g1({control:{[m1.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:E1,definePartsStyle:S1}=BS(OZ.keys),C1=t=>{var e;const n=null==(e=s1(x1.baseStyle,t))?void 0:e.control;return{...n,borderRadius:"full",_checked:{...null==n?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},P1=S1((t=>{var e,n,r,i;return{label:null==(n=(e=x1).baseStyle)?void 0:n.call(e,t).label,container:null==(i=(r=x1).baseStyle)?void 0:i.call(r,t).container,control:C1(t)}})),M1=E1({baseStyle:P1,sizes:{md:S1({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:S1({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:S1({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:T1,definePartsStyle:O1}=BS(IZ.keys),I1=ZE("select-bg"),R1={paddingInlineEnd:"8"},L1=T1({baseStyle:O1({field:{...null==(a1=H0.baseStyle)?void 0:a1.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:I1.reference,[I1.variable]:"colors.white",_dark:{[I1.variable]:"colors.gray.700"},"> option, > optgroup":{bg:I1.reference}},icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:{...null==(l1=H0.sizes)?void 0:l1.lg,field:{...null==(c1=H0.sizes)?void 0:c1.lg.field,...R1}},md:{...null==(u1=H0.sizes)?void 0:u1.md,field:{...null==(h1=H0.sizes)?void 0:h1.md.field,...R1}},sm:{...null==(f1=H0.sizes)?void 0:f1.sm,field:{...null==(d1=H0.sizes)?void 0:d1.sm.field,...R1}},xs:{...null==(p1=H0.sizes)?void 0:p1.xs,field:{...null==(A1=H0.sizes)?void 0:A1.xs.field,...R1},icon:{insetEnd:"1"}}},variants:H0.variants,defaultProps:H0.defaultProps}),k1=ZE("skeleton-start-color"),B1=ZE("skeleton-end-color"),N1={baseStyle:{[k1.variable]:"colors.gray.100",[B1.variable]:"colors.gray.400",_dark:{[k1.variable]:"colors.gray.800",[B1.variable]:"colors.gray.600"},background:k1.reference,borderColor:B1.reference,opacity:.7,borderRadius:"sm"}},D1=ZE("skip-link-bg"),F1={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[D1.variable]:"colors.white",_dark:{[D1.variable]:"colors.gray.700"},bg:D1.reference}}},{defineMultiStyleConfig:j1,definePartsStyle:U1}=BS(RZ.keys),z1=ZE("slider-thumb-size"),G1=ZE("slider-track-size"),V1=ZE("slider-bg"),H1=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...u$({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},W1=t=>({...u$({orientation:t.orientation,horizontal:{h:G1.reference},vertical:{w:G1.reference}}),overflow:"hidden",borderRadius:"sm",[V1.variable]:"colors.gray.200",_dark:{[V1.variable]:"colors.whiteAlpha.200"},_disabled:{[V1.variable]:"colors.gray.300",_dark:{[V1.variable]:"colors.whiteAlpha.300"}},bg:V1.reference}),q1=t=>{const{orientation:e}=t;return{...u$({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:z1.reference,h:z1.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},X1=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[V1.variable]:"colors.".concat(e,".500"),_dark:{[V1.variable]:"colors.".concat(e,".200")},bg:V1.reference}},Y1=j1({baseStyle:U1((t=>({container:H1(t),track:W1(t),thumb:q1(t),filledTrack:X1(t)}))),sizes:{lg:U1({container:{[z1.variable]:"sizes.4",[G1.variable]:"sizes.1"}}),md:U1({container:{[z1.variable]:"sizes.3.5",[G1.variable]:"sizes.1"}}),sm:U1({container:{[z1.variable]:"sizes.2.5",[G1.variable]:"sizes.0.5"}})},defaultProps:{size:"md",colorScheme:"blue"}}),Q1=GZ("spinner-size"),K1={baseStyle:{width:[Q1.reference],height:[Q1.reference]},sizes:{xs:{[Q1.variable]:"sizes.3"},sm:{[Q1.variable]:"sizes.4"},md:{[Q1.variable]:"sizes.6"},lg:{[Q1.variable]:"sizes.8"},xl:{[Q1.variable]:"sizes.12"}},defaultProps:{size:"md"}},{defineMultiStyleConfig:J1,definePartsStyle:Z1}=BS(LZ.keys),$1=J1({baseStyle:Z1({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:Z1({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),t2=ZE("kbd-bg"),e2={baseStyle:{[t2.variable]:"colors.gray.100",_dark:{[t2.variable]:"colors.whiteAlpha.100"},bg:t2.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}},n2={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},{defineMultiStyleConfig:r2,definePartsStyle:i2}=BS(EZ.keys),o2=r2({baseStyle:i2({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),{defineMultiStyleConfig:s2,definePartsStyle:a2}=BS(SZ.keys),l2=ZE("menu-bg"),c2=ZE("menu-shadow"),u2=s2({baseStyle:a2({button:{transitionProperty:"common",transitionDuration:"normal"},list:{[l2.variable]:"#fff",[c2.variable]:"shadows.sm",_dark:{[l2.variable]:"colors.gray.700",[c2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:l2.reference,boxShadow:c2.reference},item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[l2.variable]:"colors.gray.100",_dark:{[l2.variable]:"colors.whiteAlpha.100"}},_active:{[l2.variable]:"colors.gray.200",_dark:{[l2.variable]:"colors.whiteAlpha.200"}},_expanded:{[l2.variable]:"colors.gray.100",_dark:{[l2.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:l2.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),{defineMultiStyleConfig:h2,definePartsStyle:f2}=BS(CZ.keys),d2=ZE("modal-bg"),p2=ZE("modal-shadow"),A2={bg:"blackAlpha.600",zIndex:"modal"},g2=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:"inside"===n?"hidden":"auto",overscrollBehaviorY:"none"}},y2=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:"inside"===n?"calc(100% - 7.5rem)":void 0,[d2.variable]:"colors.white",[p2.variable]:"shadows.lg",_dark:{[d2.variable]:"colors.gray.700",[p2.variable]:"shadows.dark-lg"},bg:d2.reference,boxShadow:p2.reference}},m2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},v2={position:"absolute",top:"2",insetEnd:"3"},b2=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:"inside"===e?"auto":void 0}},_2={px:"6",py:"4"};function w2(t){return f2("full"===t?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var x2=h2({baseStyle:f2((t=>({overlay:A2,dialogContainer:s1(g2,t),dialog:s1(y2,t),header:m2,closeButton:v2,body:s1(b2,t),footer:_2}))),sizes:{xs:w2("xs"),sm:w2("sm"),md:w2("md"),lg:w2("lg"),xl:w2("xl"),"2xl":w2("2xl"),"3xl":w2("3xl"),"4xl":w2("4xl"),"5xl":w2("5xl"),"6xl":w2("6xl"),full:w2("full")},defaultProps:{size:"md"}}),{defineMultiStyleConfig:E2,definePartsStyle:S2}=BS(PZ.keys),C2=GZ("number-input-stepper-width"),P2=GZ("number-input-input-padding"),M2=JZ(C2).add("0.5rem").toString(),T2=GZ("number-input-bg"),O2=GZ("number-input-color"),I2=GZ("number-input-border-color"),R2={[C2.variable]:"sizes.6",[P2.variable]:M2},L2=t=>{var e,n;return null!=(n=null==(e=s1(H0.baseStyle,t))?void 0:e.field)?n:{}},k2={width:C2.reference},B2={borderStart:"1px solid",borderStartColor:I2.reference,color:O2.reference,bg:T2.reference,[O2.variable]:"colors.chakra-body-text",[I2.variable]:"colors.chakra-border-color",_dark:{[O2.variable]:"colors.whiteAlpha.800",[I2.variable]:"colors.whiteAlpha.300"},_active:{[T2.variable]:"colors.gray.200",_dark:{[T2.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},N2=S2((t=>{var e;return{root:R2,field:null!=(e=s1(L2,t))?e:{},stepperGroup:k2,stepper:B2}}));function D2(t){var e,n,r;const i=null==(e=H0.sizes)?void 0:e[t],o={lg:"md",md:"md",sm:"sm",xs:"sm"},s=null!=(r=null==(n=i.field)?void 0:n.fontSize)?r:"md",a=tZ.fontSizes[s];return S2({field:{...i.field,paddingInlineEnd:P2.reference,verticalAlign:"top"},stepper:{fontSize:JZ(a).multiply(.75).toString(),_first:{borderTopEndRadius:o[t]},_last:{borderBottomEndRadius:o[t],mt:"-1px",borderTopWidth:1}}})}var F2,j2,U2,z2=E2({baseStyle:N2,sizes:{xs:D2("xs"),sm:D2("sm"),md:D2("md"),lg:D2("lg")},variants:H0.variants,defaultProps:H0.defaultProps}),G2={...null==(F2=H0.baseStyle)?void 0:F2.field,textAlign:"center"},V2={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},H2={outline:t=>{var e,n,r;return null!=(r=null==(n=s1(null==(e=H0.variants)?void 0:e.outline,t))?void 0:n.field)?r:{}},flushed:t=>{var e,n,r;return null!=(r=null==(n=s1(null==(e=H0.variants)?void 0:e.flushed,t))?void 0:n.field)?r:{}},filled:t=>{var e,n,r;return null!=(r=null==(n=s1(null==(e=H0.variants)?void 0:e.filled,t))?void 0:n.field)?r:{}},unstyled:null!=(U2=null==(j2=H0.variants)?void 0:j2.unstyled.field)?U2:{}},W2={baseStyle:G2,sizes:V2,variants:H2,defaultProps:H0.defaultProps},{defineMultiStyleConfig:q2,definePartsStyle:X2}=BS(MZ.keys),Y2=GZ("popper-bg"),Q2=GZ("popper-arrow-bg"),K2=GZ("popper-arrow-shadow-color"),J2=q2({baseStyle:X2({popper:{zIndex:10},content:{[Y2.variable]:"colors.white",bg:Y2.reference,[Q2.variable]:Y2.reference,[K2.variable]:"colors.gray.200",_dark:{[Y2.variable]:"colors.gray.700",[K2.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),{definePartsStyle:Z2,defineMultiStyleConfig:$2}=BS(vZ.keys),t3=ZE("drawer-bg"),e3=ZE("drawer-box-shadow");function n3(t){return Z2("full"===t?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var r3={bg:"blackAlpha.600",zIndex:"modal"},i3={display:"flex",zIndex:"modal",justifyContent:"center"},o3=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[t3.variable]:"colors.white",[e3.variable]:"shadows.lg",_dark:{[t3.variable]:"colors.gray.700",[e3.variable]:"shadows.dark-lg"},bg:t3.reference,boxShadow:e3.reference}},s3={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},a3={position:"absolute",top:"2",insetEnd:"3"},l3={px:"6",py:"2",flex:"1",overflow:"auto"},c3={px:"6",py:"4"},u3=$2({baseStyle:Z2((t=>({overlay:r3,dialogContainer:i3,dialog:s1(o3,t),header:s3,closeButton:a3,body:l3,footer:c3}))),sizes:{xs:n3("xs"),sm:n3("md"),md:n3("lg"),lg:n3("2xl"),xl:n3("4xl"),full:n3("full")},defaultProps:{size:"xs"}}),{definePartsStyle:h3,defineMultiStyleConfig:f3}=BS(bZ.keys),d3=f3({baseStyle:h3({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),{definePartsStyle:p3,defineMultiStyleConfig:A3}=BS(_Z.keys),g3=ZE("form-control-color"),y3=A3({baseStyle:p3({container:{width:"100%",position:"relative"},requiredIndicator:{marginStart:"1",[g3.variable]:"colors.red.500",_dark:{[g3.variable]:"colors.red.300"},color:g3.reference},helperText:{mt:"2",[g3.variable]:"colors.gray.600",_dark:{[g3.variable]:"colors.whiteAlpha.600"},color:g3.reference,lineHeight:"normal",fontSize:"sm"}})}),{definePartsStyle:m3,defineMultiStyleConfig:v3}=BS(wZ.keys),b3=ZE("form-error-color"),_3=v3({baseStyle:m3({text:{[b3.variable]:"colors.red.500",_dark:{[b3.variable]:"colors.red.300"},color:b3.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},icon:{marginEnd:"0.5em",[b3.variable]:"colors.red.500",_dark:{[b3.variable]:"colors.red.300"},color:b3.reference}})}),w3={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},x3={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},{defineMultiStyleConfig:E3,definePartsStyle:S3}=BS(yZ.keys),C3=ZE("breadcrumb-link-decor"),P3=E3({baseStyle:S3({link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:C3.reference,[C3.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[C3.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}}})}),M3=t=>{const{colorScheme:e,theme:n}=t;if("gray"===e)return{color:c$("gray.800","whiteAlpha.900")(t),_hover:{bg:c$("gray.100","whiteAlpha.200")(t)},_active:{bg:c$("gray.200","whiteAlpha.300")(t)}};const r=N$("".concat(e,".200"),.12)(n),i=N$("".concat(e,".200"),.24)(n);return{color:c$("".concat(e,".600"),"".concat(e,".200"))(t),bg:"transparent",_hover:{bg:c$("".concat(e,".50"),r)(t)},_active:{bg:c$("".concat(e,".100"),i)(t)}}},T3=t=>{const{colorScheme:e}=t,n=c$("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:"gray"===e?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...s1(M3,t)}},O3={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},I3=t=>{var e;const{colorScheme:n}=t;if("gray"===n){const e=c$("gray.100","whiteAlpha.200")(t);return{bg:e,color:c$("gray.800","whiteAlpha.900")(t),_hover:{bg:c$("gray.200","whiteAlpha.300")(t),_disabled:{bg:e}},_active:{bg:c$("gray.300","whiteAlpha.400")(t)}}}const{bg:r="".concat(n,".500"),color:i="white",hoverBg:o="".concat(n,".600"),activeBg:s="".concat(n,".700")}=null!=(e=O3[n])?e:{},a=c$(r,"".concat(n,".200"))(t);return{bg:a,color:c$(i,"gray.800")(t),_hover:{bg:c$(o,"".concat(n,".300"))(t),_disabled:{bg:a}},_active:{bg:c$(s,"".concat(n,".400"))(t)}}},R3=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:c$("".concat(e,".500"),"".concat(e,".200"))(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:c$("".concat(e,".700"),"".concat(e,".500"))(t)}}},L3={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:M3,outline:T3,solid:I3,link:R3,unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:k3,defineMultiStyleConfig:B3}=BS(FZ.keys),N3=ZE("card-bg"),D3=ZE("card-padding"),F3=ZE("card-shadow"),j3=ZE("card-radius"),U3=ZE("card-border-width","0"),z3=ZE("card-border-color"),G3=k3({container:{[N3.variable]:"colors.chakra-body-bg",backgroundColor:N3.reference,boxShadow:F3.reference,borderRadius:j3.reference,color:"chakra-body-text",borderWidth:U3.reference,borderColor:z3.reference},body:{padding:D3.reference,flex:"1 1 0%"},header:{padding:D3.reference},footer:{padding:D3.reference}}),V3={sm:k3({container:{[j3.variable]:"radii.base",[D3.variable]:"space.3"}}),md:k3({container:{[j3.variable]:"radii.md",[D3.variable]:"space.5"}}),lg:k3({container:{[j3.variable]:"radii.xl",[D3.variable]:"space.7"}})},H3=B3({baseStyle:G3,variants:{elevated:k3({container:{[F3.variable]:"shadows.base",_dark:{[N3.variable]:"colors.gray.700"}}}),outline:k3({container:{[U3.variable]:"1px",[z3.variable]:"colors.chakra-border-color"}}),filled:k3({container:{[N3.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[D3.variable]:0},header:{[D3.variable]:0},footer:{[D3.variable]:0}}},sizes:V3,defaultProps:{variant:"elevated",size:"md"}}),W3=GZ("close-button-size"),q3=GZ("close-button-bg"),X3={baseStyle:{w:[W3.reference],h:[W3.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[q3.variable]:"colors.blackAlpha.100",_dark:{[q3.variable]:"colors.whiteAlpha.100"}},_active:{[q3.variable]:"colors.blackAlpha.200",_dark:{[q3.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:q3.reference},sizes:{lg:{[W3.variable]:"sizes.10",fontSize:"md"},md:{[W3.variable]:"sizes.8",fontSize:"xs"},sm:{[W3.variable]:"sizes.6",fontSize:"2xs"}},defaultProps:{size:"md"}},{variants:Y3,defaultProps:Q3}=s0,K3={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:n0.bg.reference,color:n0.color.reference,boxShadow:n0.shadow.reference},variants:Y3,defaultProps:Q3},J3={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},Z3={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},{definePartsStyle:$3,defineMultiStyleConfig:t4}=BS(pZ.keys),e4=t4({baseStyle:$3({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})}),{definePartsStyle:n4,defineMultiStyleConfig:r4}=BS(AZ.keys),i4=ZE("alert-fg"),o4=ZE("alert-bg"),s4=n4({container:{bg:o4.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:i4.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:i4.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function a4(t){const{theme:e,colorScheme:n}=t,r=N$("".concat(n,".200"),.16)(e);return{light:"colors.".concat(n,".100"),dark:r}}var l4=n4((t=>{const{colorScheme:e}=t,n=a4(t);return{container:{[i4.variable]:"colors.".concat(e,".600"),[o4.variable]:n.light,_dark:{[i4.variable]:"colors.".concat(e,".200"),[o4.variable]:n.dark}}}})),c4=n4((t=>{const{colorScheme:e}=t,n=a4(t);return{container:{[i4.variable]:"colors.".concat(e,".600"),[o4.variable]:n.light,_dark:{[i4.variable]:"colors.".concat(e,".200"),[o4.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:i4.reference}}})),u4=n4((t=>{const{colorScheme:e}=t,n=a4(t);return{container:{[i4.variable]:"colors.".concat(e,".600"),[o4.variable]:n.light,_dark:{[i4.variable]:"colors.".concat(e,".200"),[o4.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:i4.reference}}})),h4=n4((t=>{const{colorScheme:e}=t;return{container:{[i4.variable]:"colors.white",[o4.variable]:"colors.".concat(e,".600"),_dark:{[i4.variable]:"colors.gray.900",[o4.variable]:"colors.".concat(e,".200")},color:i4.reference}}})),f4=r4({baseStyle:s4,variants:{subtle:l4,"left-accent":c4,"top-accent":u4,solid:h4},defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:d4,defineMultiStyleConfig:p4}=BS(gZ.keys),A4=ZE("avatar-border-color"),g4=ZE("avatar-bg"),y4=ZE("avatar-font-size"),m4=ZE("avatar-size"),v4={borderRadius:"full",border:"0.2em solid",borderColor:A4.reference,[A4.variable]:"white",_dark:{[A4.variable]:"colors.gray.800"}},b4={bg:g4.reference,fontSize:y4.reference,width:m4.reference,height:m4.reference,lineHeight:"1",[g4.variable]:"colors.gray.200",_dark:{[g4.variable]:"colors.whiteAlpha.400"}},_4=t=>{const{name:e,theme:n}=t,r=e?F$({string:e}):"colors.gray.400",i=(t=>e=>"dark"===B$(t)(e))(r)(n);let o="white";return i||(o="gray.800"),{bg:g4.reference,fontSize:y4.reference,color:o,borderColor:A4.reference,verticalAlign:"top",width:m4.reference,height:m4.reference,"&:not([data-loaded])":{[g4.variable]:r},[A4.variable]:"colors.white",_dark:{[A4.variable]:"colors.gray.800"}}},w4={fontSize:y4.reference,lineHeight:"1"};function x4(t){const e="100%"!==t?nZ[t]:void 0;return d4({container:{[m4.variable]:null!=e?e:t,[y4.variable]:"calc(".concat(null!=e?e:t," / 2.5)")},excessLabel:{[m4.variable]:null!=e?e:t,[y4.variable]:"calc(".concat(null!=e?e:t," / 2.5)")}})}var E4={Accordion:e4,Alert:f4,Avatar:p4({baseStyle:d4((t=>({badge:s1(v4,t),excessLabel:s1(b4,t),container:s1(_4,t),label:w4}))),sizes:{"2xs":x4(4),xs:x4(6),sm:x4(8),md:x4(12),lg:x4(16),xl:x4(24),"2xl":x4(32),full:x4("100%")},defaultProps:{size:"md"}}),Badge:s0,Breadcrumb:P3,Button:L3,Checkbox:x1,CloseButton:X3,Code:K3,Container:J3,Divider:Z3,Drawer:u3,Editable:d3,Form:y3,FormError:_3,FormLabel:w3,Heading:x3,Input:H0,Kbd:e2,Link:n2,List:o2,Menu:u2,Modal:x2,NumberInput:z2,PinInput:W2,Popover:J2,Progress:o1,Radio:M1,Select:L1,Skeleton:N1,SkipLink:F1,Slider:Y1,Spinner:K1,Stat:$1,Switch:l$,Table:y$,Tabs:e0,Tag:v0,Textarea:X0,Tooltip:J0,Card:H3,Stepper:fZ},S4={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},C4={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},P4={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},M4={semanticTokens:S4,direction:"ltr",...rZ,components:E4,styles:C4,config:P4},T4={semanticTokens:S4,direction:"ltr",components:{},...rZ,styles:C4,config:P4},O4=(t,e)=>t.find((t=>t.id===e));function I4(t,e){const n=R4(t,e);return{position:n,index:n?t[n].findIndex((t=>t.id===e)):-1}}function R4(t,e){for(const[n,r]of Object.entries(t))if(O4(r,e))return n}function L4(t){return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===t||"bottom"===t?"0 auto":void 0,top:t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:t.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}var k4={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return"bottom"===e&&(r=1),{opacity:0,[n]:24*r}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},B4=(0,r.memo)((t=>{const{id:e,message:n,onCloseComplete:i,onRequestRemove:o,requestClose:s=!1,position:a="bottom",duration:l=5e3,containerStyle:c,motionVariants:u=k4,toastSpacing:h="0.5rem"}=t,[f,d]=(0,r.useState)(l),p=mL();zK((()=>{p||null==i||i()}),[p]),zK((()=>{d(l)}),[l]);const A=()=>{p&&o()};(0,r.useEffect)((()=>{p&&s&&o()}),[p,s,o]),function(t,e){const n=uw(t);(0,r.useEffect)((()=>{if(null==e)return;let t=null;return t=window.setTimeout((()=>{n()}),e),()=>{t&&window.clearTimeout(t)}}),[e,n])}(A,f);const g=(0,r.useMemo)((()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:h,...c})),[c,h]),y=(0,r.useMemo)((()=>function(t){let e="center";return t.includes("right")&&(e="flex-end"),t.includes("left")&&(e="flex-start"),{display:"flex",flexDirection:"column",alignItems:e}}(a)),[a]);return(0,nA.jsx)(Hk.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:()=>d(null),onHoverEnd:()=>d(l),custom:{position:a},style:y,children:(0,nA.jsx)(cC.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:g,children:H_(n,{id:e,onClose:A})})})}));function N4(t){return(0,nA.jsx)(qC,{viewBox:"0 0 24 24",...t,children:(0,nA.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}B4.displayName="ToastComponent";var D4=EC({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),F4=xw(((t,e)=>{const n=HS("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:o="0.45s",emptyColor:s="transparent",className:a,...l}=FS(t),c=z_("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:s,borderLeftColor:s,animation:"".concat(D4," ").concat(o," linear infinite"),...n};return(0,nA.jsx)(cC.div,{ref:e,__css:u,className:c,...l,children:r&&(0,nA.jsx)(cC.span,{srOnly:!0,children:r})})}));F4.displayName="Spinner";var[j4,U4]=sw({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[z4,G4]=sw({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),V4={info:{icon:function(t){return(0,nA.jsx)(qC,{viewBox:"0 0 24 24",...t,children:(0,nA.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})},colorScheme:"blue"},warning:{icon:N4,colorScheme:"orange"},success:{icon:function(t){return(0,nA.jsx)(qC,{viewBox:"0 0 24 24",...t,children:(0,nA.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})},colorScheme:"green"},error:{icon:N4,colorScheme:"red"},loading:{icon:F4,colorScheme:"blue"}};var H4=xw((function(t,e){var n;const{status:r="info",addRole:i=!0,...o}=FS(t),s=null!=(n=t.colorScheme)?n:function(t){return V4[t].colorScheme}(r),a=WS("Alert",{...t,colorScheme:s}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...a.container};return(0,nA.jsx)(j4,{value:{status:r},children:(0,nA.jsx)(z4,{value:a,children:(0,nA.jsx)(cC.div,{"data-status":r,role:i?"alert":void 0,ref:e,...o,className:z_("chakra-alert",t.className),__css:l})})})}));function W4(t){const{status:e}=U4(),n=function(t){return V4[t].icon}(e),r=G4(),i="loading"===e?r.spinner:r.icon;return(0,nA.jsx)(cC.span,{display:"inherit","data-status":e,...t,className:z_("chakra-alert__icon",t.className),__css:i,children:t.children||(0,nA.jsx)(n,{h:"100%",w:"100%"})})}H4.displayName="Alert",W4.displayName="AlertIcon";var q4=xw((function(t,e){const n=G4(),{status:r}=U4();return(0,nA.jsx)(cC.div,{ref:e,"data-status":r,...t,className:z_("chakra-alert__title",t.className),__css:n.title})}));q4.displayName="AlertTitle";var X4=xw((function(t,e){const n=G4(),{status:r}=U4(),i={display:"inline",...n.description};return(0,nA.jsx)(cC.div,{ref:e,"data-status":r,...t,className:z_("chakra-alert__desc",t.className),__css:i})}));function Y4(t){return(0,nA.jsx)(qC,{focusable:"false","aria-hidden":!0,...t,children:(0,nA.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}X4.displayName="AlertDescription";var Q4=xw((function(t,e){const n=HS("CloseButton",t),{children:r,isDisabled:i,__css:o,...s}=FS(t);return(0,nA.jsx)(cC.button,{type:"button","aria-label":"Close",ref:e,disabled:i,__css:{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,...n,...o},...s,children:r||(0,nA.jsx)(Y4,{width:"1em",height:"1em"})})}));Q4.displayName="CloseButton";var K4=function(t){let e=t;const n=new Set,r=t=>{e=t(e),n.forEach((t=>t()))};return{getState:()=>e,subscribe:e=>(n.add(e),()=>{r((()=>t)),n.delete(e)}),removeToast:(t,e)=>{r((n=>({...n,[e]:n[e].filter((e=>e.id!=t))})))},notify:(t,e)=>{const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;J4+=1;const i=null!=(n=e.id)?n:J4,o=null!=(r=e.position)?r:"bottom";return{id:i,message:t,position:o,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>K4.removeToast(String(i),o),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}(t,e),{position:i,id:o}=n;return r((t=>{var e,r;const o=i.includes("top")?[n,...null!=(e=t[i])?e:[]]:[...null!=(r=t[i])?r:[],n];return{...t,[i]:o}})),o},update:(t,e)=>{t&&r((n=>{const r={...n},{position:i,index:o}=I4(r,t);return i&&-1!==o&&(r[i][o]={...r[i][o],...e,message:$4(e)}),r}))},closeAll:function(){let{positions:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r((e=>(null!=t?t:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce(((t,n)=>(t[n]=e[n].map((t=>({...t,requestClose:!0}))),t)),{...e})))},close:t=>{r((e=>{const n=R4(e,t);return n?{...e,[n]:e[n].map((e=>e.id==t?{...e,requestClose:!0}:e))}:e}))},isActive:t=>Boolean(I4(K4.getState(),t).position)}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});var J4=0;var Z4=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:o,onClose:s,description:a,colorScheme:l,icon:c}=t,u=r?{root:"toast-".concat(r),title:"toast-".concat(r,"-title"),description:"toast-".concat(r,"-description")}:void 0;return(0,nA.jsxs)(H4,{addRole:!1,status:e,variant:n,id:null==u?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[(0,nA.jsx)(W4,{children:c}),(0,nA.jsxs)(cC.div,{flex:"1",maxWidth:"100%",children:[i&&(0,nA.jsx)(q4,{id:null==u?void 0:u.title,children:i}),a&&(0,nA.jsx)(X4,{id:null==u?void 0:u.description,display:"block",children:a})]}),o&&(0,nA.jsx)(Q4,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function $4(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{render:e,toastComponent:n=Z4}=t;return r=>"function"===typeof e?e({...r,...t}):(0,nA.jsx)(n,{...r,...t})}var[t6,e6]=sw({strict:!1,name:"PortalContext"}),n6="chakra-portal",r6=t=>(0,nA.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),i6=t=>{const{appendToParentPortal:e,children:n}=t,[i,o]=(0,r.useState)(null),s=(0,r.useRef)(null),[,a]=(0,r.useState)({});(0,r.useEffect)((()=>a({})),[]);const l=e6(),c=PJ();UK((()=>{if(!i)return;const t=i.ownerDocument,n=e&&null!=l?l:t.body;if(!n)return;s.current=t.createElement("div"),s.current.className=n6,n.appendChild(s.current),a({});const r=s.current;return()=>{n.contains(r)&&n.removeChild(r)}}),[i]);const u=(null==c?void 0:c.zIndex)?(0,nA.jsx)(r6,{zIndex:null==c?void 0:c.zIndex,children:n}):n;return s.current?(0,z.createPortal)((0,nA.jsx)(t6,{value:s.current,children:u}),s.current):(0,nA.jsx)("span",{ref:t=>{t&&o(t)}})},o6=t=>{const{children:e,containerRef:n,appendToParentPortal:i}=t,o=n.current,s=null!=o?o:"undefined"!==typeof window?document.body:void 0,a=(0,r.useMemo)((()=>{const t=null==o?void 0:o.ownerDocument.createElement("div");return t&&(t.className=n6),t}),[o]),[,l]=(0,r.useState)({});return UK((()=>l({})),[]),UK((()=>{if(a&&s)return s.appendChild(a),()=>{s.removeChild(a)}}),[a,s]),s&&a?(0,z.createPortal)((0,nA.jsx)(t6,{value:i?a:null,children:e}),a):null};function s6(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?(0,nA.jsx)(o6,{containerRef:n,...r}):(0,nA.jsx)(i6,{...r})}s6.className=n6,s6.selector=".chakra-portal",s6.displayName="Portal";var[a6,l6]=sw({name:"ToastOptionsContext",strict:!1}),c6=t=>{const e=(0,r.useSyncExternalStore)(K4.subscribe,K4.getState,K4.getState),{motionVariants:n,component:i=B4,portalProps:o}=t,s=Object.keys(e).map((t=>{const r=e[t];return(0,nA.jsx)("div",{role:"region","aria-live":"polite","aria-label":"Notifications-".concat(t),id:"chakra-toast-manager-".concat(t),style:L4(t),children:(0,nA.jsx)(bP,{initial:!1,children:r.map((t=>(0,nA.jsx)(i,{motionVariants:n,...t},t.id)))})},t)}));return(0,nA.jsx)(s6,{...o,children:s})},u6=t=>function(e){let{children:n,theme:r=t,toastOptions:i,...o}=e;return(0,nA.jsxs)(WJ,{theme:r,...o,children:[(0,nA.jsx)(a6,{value:null==i?void 0:i.defaultOptions,children:n}),(0,nA.jsx)(c6,{...i})]})},h6=u6(M4);u6(T4);const f6=function(t){const e=function(t){const{thunk:e=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==t&&void 0!==t?t:{};let o=new Pp;return e&&("boolean"===typeof e?o.push(xp):o.push(Ep(e.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,preloadedState:o,enhancers:s}=t||{};let a,l;if("function"===typeof n)a=n;else{if(!mp(n))throw new Error(Zp(1));a=bp(n)}l="function"===typeof r?r(e):e();let c=_p;i&&(c=Sp({trace:!1,..."object"===typeof i&&i}));const u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(pp(15))};const s={getState:i.getState,dispatch:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return o(t,...n)}},a=e.map((t=>t(s)));return o=_p(...a)(i.dispatch),{...i,dispatch:o}}}(...l),h=Lp(u);let f="function"===typeof s?s(h):h();return vp(a,o,c(...f))}({reducer:{queryMetric:eB,viewMode:F_,accessibilityList:O_,selectedLots:HA,lensSettings:__,queryData:eA,viewState:jA}}),d6=f6;o.createRoot(document.getElementById("root")).render((0,nA.jsx)(OA,{store:d6,children:(0,nA.jsx)(h6,{children:(0,nA.jsx)(mJ,{})})})),vJ()})()})();
//# sourceMappingURL=main.5f9c97fc.js.map